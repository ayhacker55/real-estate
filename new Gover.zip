/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={86:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(9950),o=n(81134);function i(){var e=(0,r.useContext)(o.M).engine;return 2===(null===e||void 0===e?void 0:e.webGLVersion)}},394:(e,t,n)=>{"use strict";n.d(t,{r:()=>u});var r=n(37827),o=n(9950),i=n(48842),a=n(45890),s=n(70945),l=n(32780),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.C6)(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.theme;return o.createElement(i.S,(0,r.Cl)({},this.props,{variantClassName:"ms-Button--action ms-Button--command",styles:(0,l.$)(n,t),onRenderDescription:a.K}))},t=(0,r.Cg)([(0,s.T)("ActionButton",["theme","styles"],!0)],t)}(o.Component)},610:(e,t,n)=>{"use strict";n.d(t,{I:()=>m});var r,o=n(69187),i=n(37827),a=n(9950);!function(e){e[e.default=0]="default",e[e.image=1]="image",e[e.Default=1e5]="Default",e[e.Image=100001]="Image"}(r||(r={}));var s=n(43475),l=n(1754),u=n(56624),c=n(28225),d=n(38452),p=(0,u.Z)({cacheSize:100}),f=function(e){function t(t){var n=e.call(this,t)||this;return n._onImageLoadingStateChange=function(e){n.props.imageProps&&n.props.imageProps.onLoadingStateChange&&n.props.imageProps.onLoadingStateChange(e),e===l.P6.error&&n.setState({imageLoadError:!0})},n.state={imageLoadError:!1},n}return(0,i.C6)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=e.styles,l=e.iconName,u=e.imageErrorAs,f=e.theme,h="string"===typeof l&&0===l.length,m=!!this.props.imageProps||this.props.iconType===r.image||this.props.iconType===r.Image,g=(0,d.ne)(l)||{},v=g.iconClassName,y=g.children,b=g.mergeImageProps,x=p(o,{theme:f,className:n,iconClassName:v,isImage:m,isPlaceholder:h}),_=m?"span":"i",C=(0,c.G1)(this.props,c.vt,["aria-label"]),w=this.state.imageLoadError,S=(0,i.Cl)((0,i.Cl)({},this.props.imageProps),{onLoadingStateChange:this._onImageLoadingStateChange}),k=w&&u||s._,T=this.props["aria-label"]||this.props.ariaLabel,E=S.alt||T||this.props.title,P=!!(E||this.props["aria-labelledby"]||S["aria-label"]||S["aria-labelledby"])?{role:m||b?void 0:"img","aria-label":m||b?void 0:E}:{"aria-hidden":!0},I=y;return b&&y&&"object"===typeof y&&E&&(I=a.cloneElement(y,{alt:E})),a.createElement(_,(0,i.Cl)({"data-icon-name":l},P,C,b?{title:void 0,"aria-label":void 0}:{},{className:x.root}),m?a.createElement(k,(0,i.Cl)({},S)):t||I)},t}(a.Component),h=n(60721),m=(0,o.I)(f,h.$f,void 0,{scope:"Icon"},!0);m.displayName="Icon"},630:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var r=93},890:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(9950);function o(e,t,n){(0,r.useEffect)((function(){var r=n||window.ResizeObserver;if(r&&e){var o=new r(t);return o.observe(e),function(){o.disconnect()}}}),[n,e,t])}},1401:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var r=n(99103);function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var o=[],i=0,a=t;i<a.length;i++){var s=a[i];s&&o.push("function"===typeof s?s(e):s)}return 1===o.length?o[0]:o.length?r.T.apply(void 0,o):{}}},1754:(e,t,n)=>{"use strict";var r,o,i;n.d(t,{Aw:()=>o,N_:()=>r,P6:()=>i}),function(e){e[e.center=0]="center",e[e.contain=1]="contain",e[e.cover=2]="cover",e[e.none=3]="none",e[e.centerCover=4]="centerCover",e[e.centerContain=5]="centerContain"}(r||(r={})),function(e){e[e.landscape=0]="landscape",e[e.portrait=1]="portrait"}(o||(o={})),function(e){e[e.notLoaded=0]="notLoaded",e[e.loaded=1]="loaded",e[e.error=2]="error",e[e.errorLoaded=3]="errorLoaded"}(i||(i={}))},1837:(e,t,n)=>{"use strict";function r(e,t){return t}n.d(t,{g:()=>r})},1880:(e,t,n)=>{"use strict";n.d(t,{J:()=>r,T:()=>o});var r=Object.freeze({width:0,height:0}),o={ariaAnnouncementMessage:void 0,ariaAnnouncementScenario:void 0}},2169:(e,t,n)=>{"use strict";function r(e){i!==e&&(i=e)}function o(){return void 0===i&&(i="undefined"!==typeof document&&!!document.documentElement&&"rtl"===document.documentElement.getAttribute("dir")),i}var i;function a(){return{rtl:o()}}n.d(t,{DU:()=>r,Iy:()=>a}),i=o()},2171:(e,t,n)=>{"use strict";n.d(t,{KX:()=>u,j6:()=>d,n:()=>s,nM:()=>a,nz:()=>i,yU:()=>l,zq:()=>c});var r=n(26397);function o(e,t,n,r){for(var o=r/2,i=[t-o,t+o,t+n-o,t+n+o],a=0;a<3;a++)if(e>=i[a]&&e<=i[a+1])return a;return-1}function i(e){return e%3-1}function a(e){return Math.floor(e/3)-1}function s(e,t,n){var r=t.left,i=t.width,a=t.top,s=t.height,l=o(e.x,r,i,n);if(-1===l)return-1;var u=o(e.y,a,s,n);return-1===u?-1:3*u+l}function l(e){return{x:(i(e)+1)/2,y:(a(e)+1)/2}}function u(e,t,n){var o=function(e,t){var n=t.left,r=t.width,o=t.top,s=t.height,l=a(e);return{x:n+(i(e)+1)*(r/2),y:o+(l+1)*(s/2)}}(e,t);return(0,r.Bp)(n,o)}function c(e,t){return Math.floor(e*t)}function d(e,t){return e*t}},2339:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=Date.now(),o=r;function i(){var e=r+window.performance.now();return e<=o&&(e=o+1),o=e,e}},2989:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var r={spotFix:"spotFixUndoRedoPayloadId",blur:"blurUndoRedoPayloadId",maskBrush:"maskBrushUndoRedoPayloadId"}},3041:(e,t,n)=>{"use strict";n.d(t,{U1:()=>P,VP:()=>I,Z0:()=>R});var r=n(26759),o=n(86033);function i(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"===typeof o?o(n,r,e):t(o)}}}}var a=i();a.withExtraArgument=i;const s=a;var l=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},d=Object.defineProperty,p=Object.defineProperties,f=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=function(e,t,n){return t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},y=function(e,t){for(var n in t||(t={}))m.call(t,n)&&v(e,n,t[n]);if(h)for(var r=0,o=h(t);r<o.length;r++){n=o[r];g.call(t,n)&&v(e,n,t[n])}return e},b=function(e,t){return p(e,f(t))},x=function(e,t,n){return new Promise((function(r,o){var i=function(e){try{s(n.next(e))}catch(t){o(t)}},a=function(e){try{s(n.throw(e))}catch(t){o(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,a)};s((n=n.apply(e,t)).next())}))},_="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?o.Zz:o.Zz.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function C(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var w=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return l(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,c([void 0],e[0].concat(this)))):new(t.bind.apply(t,c([void 0],e.concat(this))))},t}(Array),S=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return l(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,c([void 0],e[0].concat(this)))):new(t.bind.apply(t,c([void 0],e.concat(this))))},t}(Array);function k(e){return(0,r.a6)(e)?(0,r.Ay)(e,(function(){})):e}function T(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new w);n&&("boolean"===typeof n?r.push(s):r.push(s.withExtraArgument(n.extraArgument)));0;return r}(e)}}var E=!0;function P(e){var t,n=T(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,s=r.middleware,l=void 0===s?n():s,u=r.devTools,d=void 0===u||u,p=r.preloadedState,f=void 0===p?void 0:p,h=r.enhancers,m=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!C(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=(0,o.HY)(a)}var g=l;if("function"===typeof g&&(g=g(n),!E&&!Array.isArray(g)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!E&&g.some((function(e){return"function"!==typeof e})))throw new Error("each middleware provided to configureStore must be a function");var v=o.Tw.apply(void 0,g),b=o.Zz;d&&(b=_(y({trace:!E},"object"===typeof d&&d)));var x=new S(v),w=x;Array.isArray(m)?w=c([v],m):"function"===typeof m&&(w=m(x));var k=b.apply(void 0,w);return(0,o.y$)(t,f,k)}function I(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return y(y({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function A(e){var t,n={},r=[],o={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,o},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),o},addDefaultCase:function(e){return t=e,o}};return e(o),[n,r,t]}function R(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,o="function"==typeof e.initialState?e.initialState:k(e.initialState),i=e.reducers||{},a=Object.keys(i),s={},l={},u={};function d(){var t="function"===typeof e.extraReducers?A(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],s=void 0===a?[]:a,u=t[2],d=void 0===u?void 0:u,p=y(y({},i),l);return function(e,t,n,o){void 0===n&&(n=[]);var i,a="function"===typeof t?A(t):[t,n,o],s=a[0],l=a[1],u=a[2];if("function"===typeof e)i=function(){return k(e())};else{var d=k(e);i=function(){return d}}function p(e,t){void 0===e&&(e=i());var n=c([s[t.type]],l.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var o;if((0,r.Qx)(e))return void 0===(o=n(e,t))?e:o;if((0,r.a6)(e))return(0,r.Ay)(e,(function(e){return n(e,t)}));if(void 0===(o=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return o}return e}),e)}return p.getInitialState=i,p}(o,(function(e){for(var t in p)e.addCase(t,p[t]);for(var n=0,r=s;n<r.length;n++){var o=r[n];e.addMatcher(o.matcher,o.reducer)}d&&e.addDefaultCase(d)}))}return a.forEach((function(e){var n,r,o=i[e],a=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,s[e]=n,l[a]=n,u[e]=r?I(a,r):I(a)})),{name:t,reducer:function(e,t){return n||(n=d()),n(e,t)},actions:u,caseReducers:s,getInitialState:function(){return n||(n=d()),n.getInitialState()}}}var L=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},M=["name","message","stack","code"],B=function(e,t){this.payload=e,this.meta=t},O=function(e,t){this.payload=e,this.meta=t},F=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=M;n<r.length;n++){var o=r[n];"string"===typeof e[o]&&(t[o]=e[o])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=I(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:b(y({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),o=I(e+"/pending",(function(e,t,n){return{payload:void 0,meta:b(y({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),i=I(e+"/rejected",(function(e,t,r,o,i){return{payload:o,error:(n&&n.serializeError||F)(e||"Rejected"),meta:b(y({},i||{}),{arg:r,requestId:t,rejectedWithValue:!!o,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,l,c){var d,p=(null==n?void 0:n.idGenerator)?n.idGenerator(e):L(),f=new a;function h(e){d=e,f.abort()}var m=function(){return x(this,null,(function(){var a,m,g,v,y,b;return u(this,(function(u){switch(u.label){case 0:return u.trys.push([0,4,,5]),v=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,e,{getState:l,extra:c}),null===(x=v)||"object"!==typeof x||"function"!==typeof x.then?[3,2]:[4,v];case 1:v=u.sent(),u.label=2;case 2:if(!1===v||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return y=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:d||"Aborted"})}))})),s(o(p,e,null==(m=null==n?void 0:n.getPendingMeta)?void 0:m.call(n,{requestId:p,arg:e},{getState:l,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:s,getState:l,extra:c,requestId:p,signal:f.signal,abort:h,rejectWithValue:function(e,t){return new B(e,t)},fulfillWithValue:function(e,t){return new O(e,t)}})).then((function(t){if(t instanceof B)throw t;return t instanceof O?r(t.payload,p,e,t.meta):r(t,p,e)}))])];case 3:return g=u.sent(),[3,5];case 4:return b=u.sent(),g=b instanceof B?i(null,p,e,b.payload,b.meta):i(b,p,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&i.match(g)&&g.meta.condition||s(g),[2,g]}var x}))}))}();return Object.assign(m,{abort:h,requestId:p,arg:e,unwrap:function(){return m.then(D)}})}}),{pending:o,rejected:i,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function D(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var N="listenerMiddleware";I(N+"/add"),I(N+"/removeAll"),I(N+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var U,z=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:z(10);(0,r.rF)()},3300:(e,t,n)=>{"use strict";function r(e){return JSON.stringify(e)}n.d(t,{b:()=>r})},3493:(e,t,n)=>{"use strict";var r;n.d(t,{Q:()=>r}),function(e){e[e.None=-1]="None",e[e.TopLeft=0]="TopLeft",e[e.TopCenter=1]="TopCenter",e[e.TopRight=2]="TopRight",e[e.SideLeft=3]="SideLeft",e[e.Center=4]="Center",e[e.SideRight=5]="SideRight",e[e.BottomLeft=6]="BottomLeft",e[e.BottomCenter=7]="BottomCenter",e[e.BottomRight=8]="BottomRight"}(r||(r={}))},3576:(e,t,n)=>{"use strict";var r;n.d(t,{H:()=>r}),function(e){e[e.info=0]="info",e[e.error=1]="error",e[e.blocked=2]="blocked",e[e.severeWarning=3]="severeWarning",e[e.success=4]="success",e[e.warning=5]="warning"}(r||(r={}))},3691:(e,t,n)=>{"use strict";function r(e,t){if(!e||!t)return!e&&!t;for(var n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(var n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return i.apply(this,[null,e].concat(t))}function i(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t=t||{};for(var o=0,i=n;o<i.length;o++){var a=i[o];if(a)for(var s in a)!a.hasOwnProperty(s)||e&&!e(s)||(t[s]=a[s])}return t}function a(e,t){var n={};for(var r in e)-1===t.indexOf(r)&&e.hasOwnProperty(r)&&(n[r]=e[r]);return n}n.d(t,{ab:()=>r,cJ:()=>a,kp:()=>o})},3753:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var r=n(37827),o=n(9950);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.useCallback((function(t){n.current=t;for(var r=0,o=e;r<o.length;r++){var i=o[r];"function"===typeof i?i(t):i&&(i.current=t)}}),(0,r.fX)([],e,!0));return n}},3936:(e,t,n)=>{"use strict";n.d(t,{Cf:()=>d,Gj:()=>m,Gk:()=>r,Iw:()=>a,J8:()=>i,Jy:()=>h,KY:()=>o,Nf:()=>p,QD:()=>f,Rs:()=>g,Y$:()=>b,YA:()=>u,a9:()=>y,aJ:()=>s,dO:()=>l,hl:()=>c,uM:()=>v});var r="#fed430",o="#fbae17",i="#f36323",a="#e3182d",s="#5b318d",l="#914bb8",u="#cf1278",c="#c10051",d="#3eccfd",p="#0078d7",f="#0051ba",h="#7ec400",m="#00b44b",g="#ebebeb",v="#b6b6b6",y="#1f1f1f",b=1.3},4203:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var r="blankGroupUndoRedoPayloadId"},4341:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});var r=n(9950),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i={onConfirmInDialog:function(){},onCancelInDialog:function(){},isHavanaConfirmDialogVisible:!1},a=function(e){var t=(0,r.useState)(i),n=t[0],a=t[1],s=function(){a(i)},l=(0,r.useCallback)((function(){return e?e():new Promise((function(e,t){a({onConfirmInDialog:function(){e("confirmed"),s()},onCancelInDialog:function(){e("canceled"),s()},isHavanaConfirmDialogVisible:!0})}))}),[e]);return o(o({},n),{showConfirmationDialog:l})}},4351:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(95143);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[],o=[],i=r.n.getInstance();return function e(t){for(var r=0,a=t;r<a.length;r++){var s=a[r];if(s)if("string"===typeof s)if(s.indexOf(" ")>=0)e(s.split(" "));else{var l=i.argsFromClassName(s);l?e(l):-1===n.indexOf(s)&&n.push(s)}else Array.isArray(s)?e(s):"object"===typeof s&&o.push(s)}}(e),{classes:n,objects:o}}},4526:(e,t,n)=>{"use strict";var r,o;n.d(t,{A:()=>o,w:()=>r}),function(e){e[e.line=1]="line",e[e.circle=2]="circle",e[e.gap=3]="gap"}(r||(r={})),function(e){e[e.line=16]="line",e[e.gap=16]="gap",e[e.circle=24]="circle"}(o||(o={}))},4749:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});var r={zoomToCrop:"zoomToCrop",mirrorImageX:"mirrorImageX",mirrorImageY:"mirrorImageY",pinchToCrop:"pinchToCrop",rotateCropBy90:"rotateCropBy90",rotateWithRotationBar:"rotateWithRotationBar",setAspectRatio:"setAspectRatio",cropWithCropHandles:"cropWithCropHandles"}},4845:(e,t,n)=>{"use strict";n.d(t,{CP:()=>l,k7:()=>d,VJ:()=>u,KY:()=>c});var r,o=n(3041),i={selectedLayerId:void 0,layers:[]},a=n(31985),s=(0,o.Z0)({name:"dynamicLayers",initialState:i,reducers:{addDynamicLayer:function(e,t){e.layers.push(t.payload)},removeDynamicLayer:function(e,t){var n=e.layers.findIndex((function(e){return e.layerId===t.payload}));if(!(n>=0))throw new Error("Dynamic layer the be removed was not found");e.layers.splice(n)},setSelectedDynamicLayer:function(e,t){e.selectedLayerId=t.payload}},extraReducers:function(e){e.addCase(a.zj,(function(e,t){return i}))}}),l=(r=s.actions).addDynamicLayer,u=r.removeDynamicLayer,c=r.setSelectedDynamicLayer,d=s.reducer},5643:(e,t,n)=>{"use strict";n.d(t,{L:()=>l,l:()=>s});var r=n(99103),o=n(4351),i=n(2169),a=n(23359);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return l(e,(0,i.Iy)())}function l(e,t){var n={subComponentStyles:{}};if(!e[0]&&e.length<=1)return{subComponentStyles:{}};var i=r.T.apply(void 0,e),s=[];for(var l in i)if(i.hasOwnProperty(l)){if("subComponentStyles"===l){n.subComponentStyles=i.subComponentStyles||{};continue}var u=i[l],c=(0,o.h)(u),d=c.classes,p=c.objects;if(null===p||void 0===p?void 0:p.length)(m=(0,a.GJ)(t||{},{displayName:l},p))&&(s.push(m),n[l]=d.concat([m.className]).join(" "));else n[l]=d.join(" ")}for(var f=0,h=s;f<h.length;f++){var m;(m=h[f])&&(0,a.Ae)(m,null===t||void 0===t?void 0:t.specificityMultiplier)}return n}},6246:(e,t,n)=>{"use strict";n.d(t,{$o:()=>x,G3:()=>l,K8:()=>d,OK:()=>p,XG:()=>y,XT:()=>g,bt:()=>u,c7:()=>_,cy:()=>c,f9:()=>m,k_:()=>f,oR:()=>b,pk:()=>h,qc:()=>v});var r=n(30979),o=n(48872),i=n(54986),a=n(80163),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};function l(e){return e.sourceImageKind}function u(e,t,n,o,s){if(void 0===n&&(n=i.A.RGBA),void 0===s&&(s=""),!(0,r.F)(e)||!(0,r.F)(t))throw new Error("Dimensions of ("+e+","+t+") are not integers. ImageBytes cannot be created.");if(e<1||t<1)throw new RangeError("Dimensions of ("+e+","+t+") must be non-negative. ImageBytes cannot be created.");if(o&&!b(e,t,n,o))throw new Error("Given byte array length is invalid. ImageBytes cannot be created.");var l;try{l=null!==o&&void 0!==o?o:new Uint8ClampedArray(e*t*(0,a.x)(n))}catch(u){if(u instanceof RangeError)throw new RangeError("Byte array length for ".concat(e," x ").concat(t," image is too big. ImageBytes cannot be created. ").concat(u.message));throw u}return{bytes:l,width:e,height:t,format:n,id:s}}function c(e){return!!e.bytes}function d(e){return!!e.texture}function p(e){return!!e.canvasMethods}function f(e){return null!==e&&void 0!==e.main}function h(e){return s(s({},e),{overlay:null})}function m(e){return c(e)?"".concat(e.id):e instanceof HTMLImageElement?"".concat(e.id||e.src):"".concat(e.id)}function g(e){return e?m(e):null}function v(e){return e?m(e):""}function y(e){return e?e.main:null}function b(e,t,n,o){return!(!(0,r.F)(e)||!(0,r.F)(t))&&o.byteLength===e*t*(0,a.x)(n)}function x(){return s(s({},(0,o.W)()),{sourceImageKind:"NoImage"})}function _(e,t){return s(s({},(0,o.W)()),{main:e,sourceImageKind:t})}},6411:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t){return r(r({},e),{left:e.left-t.left,top:e.top-t.top})}},6461:(e,t,n)=>{"use strict";n.d(t,{SE:()=>S,lo:()=>E,vO:()=>g,Ep:()=>I,j5:()=>p,oR:()=>h,nA:()=>P,dm:()=>f,Cm:()=>m,eX:()=>y,yv:()=>v,Z5:()=>w,HC:()=>C,S0:()=>_,F2:()=>x,_l:()=>k});var r=n(10032);var o=n(25262),i=n(17559),a=n(95673),s=n(72684),l="data-is-focusable",u="data-is-visible",c="data-focuszone-id",d="data-is-sub-focuszone";function p(e,t,n){return y(e,t,!0,!1,!1,n)}function f(e,t,n){return v(e,t,!0,!1,!0,n)}function h(e,t,n,r){return void 0===r&&(r=!0),y(e,t,r,!1,!1,n,!1,!0)}function m(e,t,n,r){return void 0===r&&(r=!0),v(e,t,r,!1,!0,n,!1,!0)}function g(e,t){var n=y(e,e,!0,!1,!1,!0,void 0,void 0,t);return!!n&&(E(n),!0)}function v(e,t,n,r,o,i,a,s){if(!t||!a&&t===e)return null;var l=b(t);if(o&&l&&(i||!C(t)&&!w(t))){var u=v(e,t.lastElementChild,!0,!0,!0,i,a,s);if(u){if(s&&_(u,!0)||!s)return u;var c=v(e,u.previousElementSibling,!0,!0,!0,i,a,s);if(c)return c;for(var d=u.parentElement;d&&d!==t;){var p=v(e,d.previousElementSibling,!0,!0,!0,i,a,s);if(p)return p;d=d.parentElement}}}if(n&&l&&_(t,s))return t;var f=v(e,t.previousElementSibling,!0,!0,!0,i,a,s);return f||(r?null:v(e,t.parentElement,!0,!1,!1,i,a,s))}function y(e,t,n,r,o,i,a,s,l){if(!t||t===e&&o&&!a)return null;var u=(l?x:b)(t);if(n&&u&&_(t,s))return t;if(!o&&u&&(i||!C(t)&&!w(t))){var c=y(e,t.firstElementChild,!0,!0,!1,i,a,s,l);if(c)return c}if(t===e)return null;var d=y(e,t.nextElementSibling,!0,!0,!1,i,a,s,l);return d||(r?null:y(e,t.parentElement,!1,!1,!0,i,a,s,l))}function b(e){if(!e||!e.getAttribute)return!1;var t=e.getAttribute(u);return null!==t&&void 0!==t?"true"===t:0!==e.offsetHeight||null!==e.offsetParent||!0===e.isVisible}function x(e){return!!e&&b(e)&&!e.hidden&&"hidden"!==window.getComputedStyle(e).visibility}function _(e,t){if(!e||e.disabled)return!1;var n=0,r=null;e&&e.getAttribute&&(r=e.getAttribute("tabIndex"))&&(n=parseInt(r,10));var o=e.getAttribute?e.getAttribute(l):null,i=null!==r&&n>=0,a=!!e&&"false"!==o&&("A"===e.tagName||"BUTTON"===e.tagName||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||"true"===o||i);return t?-1!==n&&a:a}function C(e){return!!(e&&e.getAttribute&&e.getAttribute(c))}function w(e){return!(!e||!e.getAttribute||"true"!==e.getAttribute(d))}function S(e){var t=(0,s.Y)(e),n=t&&t.activeElement;return!(!n||!(0,o.s)(e,n))}function k(e,t){return"true"!==function(e,t){var n=(0,r.w)(e,(function(e){return e.hasAttribute(t)}));return n&&n.getAttribute(t)}(e,t)}var T=void 0;function E(e){if(e){if(T)return void(T=e);T=e;var t=(0,a.z)(e);t&&t.requestAnimationFrame((function(){T&&T.focus(),T=void 0}))}}function P(e,t){for(var n=e,r=0,o=t;r<o.length;r++){var i=o[r],a=n.children[Math.min(i,n.children.length-1)];if(!a)break;n=a}return n=_(n)&&b(n)?n:y(e,n,!0)||v(e,n)}function I(e,t){for(var n=[];t&&e&&t!==e;){var r=(0,i.P)(t,!0);if(null===r)return[];n.unshift(Array.prototype.indexOf.call(r.children,t)),t=r}return n}},6494:(e,t,n)=>{"use strict";n.d(t,{as:()=>o,rN:()=>i,wM:()=>a});var r=n(26672);function o(e){return"None"===e.name&&e.iconName===r.K_&&void 0===e.ratio}function i(e){return"Original"===e.name&&e.iconName===r.Z2&&void 0===e.ratio}function a(e){return void 0!==e.ratio&&void 0!==e.ratio}},6572:(e,t,n)=>{"use strict";n.d(t,{G:()=>L});var r=n(69187),o=n(37827),i=n(9950),a=n(56624),s=n(21191),l=n(28225),u=n(70859),c=n(71734),d=n(88114),p=(0,a.Z)(),f=i.forwardRef((function(e,t){var n=(0,d.B)(void 0,e.id),r=e.items,a=e.columnCount,s=e.onRenderItem,f=e.isSemanticRadio,h=e.ariaPosInSet,m=void 0===h?e.positionInSet:h,g=e.ariaSetSize,v=void 0===g?e.setSize:g,y=e.styles,b=e.doNotContainWithinFocusZone,x=(0,l.G1)(e,l.vt,b?[]:["onBlur"]),_=p(y,{theme:e.theme}),C=(0,u.D3)(r,a),w=i.createElement("table",(0,o.Cl)({"aria-posinset":m,"aria-setsize":v,id:n,role:f?"radiogroup":"grid"},x,{className:_.root}),i.createElement("tbody",{role:f?"presentation":"rowgroup"},C.map((function(e,t){return i.createElement("tr",{role:f?"presentation":"row",key:t},e.map((function(e,t){return i.createElement("td",{role:"presentation",key:t+"-cell",className:_.tableCell},s(e,t))})))}))));return b?w:i.createElement(c.R,{elementRef:t,isCircularNavigation:e.shouldFocusCircularNavigate,className:_.focusedContainer,onBlur:e.onBlur},w)})),h=(0,r.I)(f,(function(e){return{root:{padding:2,outline:"none"},tableCell:{padding:0}}}));h.displayName="ButtonGrid";var m=n(32e3),g=n(96042),v=n(15057),y=n(78499),b=n(32780),x=(0,a.Z)(),_=function(e){var t=(0,v.n)(e);return"ffffff"===(null===t||void 0===t?void 0:t.hex)},C=(0,g.J9)((function(e,t,n,r,o,i,a,s,l){var u=(0,b.$)(e);return(0,m.l8)({root:["ms-Button",u.root,n,t,a&&["is-checked",u.rootChecked],i&&["is-disabled",u.rootDisabled],!i&&!a&&{selectors:{":hover":u.rootHovered,":focus":u.rootFocused,":active":u.rootPressed}},i&&a&&[u.rootCheckedDisabled],!i&&a&&{selectors:{":hover":u.rootCheckedHovered,":active":u.rootCheckedPressed}}],flexContainer:["ms-Button-flexContainer",u.flexContainer]})})),w=n(25380),S={left:-2,top:-2,bottom:-2,right:-2,border:"none",outlineColor:"ButtonText"},k=(0,r.I)((function(e){var t=e.item,n=e.idPrefix,r=void 0===n?e.id:n,a=e.isRadio,s=e.selected,l=void 0!==s&&s,u=e.disabled,c=void 0!==u&&u,d=e.styles,p=e.circle,f=void 0===p||p,h=e.color,m=e.onClick,g=e.onHover,b=e.onFocus,w=e.onMouseEnter,S=e.onMouseMove,k=e.onMouseLeave,T=e.onWheel,E=e.onKeyDown,P=e.height,I=e.width,A=e.borderWidth,R=x(d,{theme:e.theme,disabled:c,selected:l,circle:f,isWhite:_(h),height:P,width:I,borderWidth:A}),L=a?{role:"radio","aria-checked":l,selected:void 0}:{role:"gridcell",selected:l};return i.createElement(y.D,(0,o.Cl)({item:t,id:r+"-"+t.id+"-"+t.index,key:t.id,disabled:c},L,{onRenderItem:function(e){var t,n=R.svg;return i.createElement("svg",{className:n,role:"img","aria-label":e.label,viewBox:"0 0 20 20",fill:null===(t=(0,v.n)(e.color))||void 0===t?void 0:t.str},f?i.createElement("circle",{cx:"50%",cy:"50%",r:"50%"}):i.createElement("rect",{width:"100%",height:"100%"}))},onClick:m,onHover:g,onFocus:b,label:t.label,className:R.colorCell,getClassNames:C,index:t.index,onMouseEnter:w,onMouseMove:S,onMouseLeave:k,onWheel:T,onKeyDown:E}))}),(function(e){var t,n,r,o,i,a=e.theme,s=e.disabled,l=e.selected,u=e.circle,c=e.isWhite,d=e.height,p=void 0===d?20:d,f=e.width,h=void 0===f?20:f,g=e.borderWidth,v=a.semanticColors,y=a.palette,b=y.neutralLighter,x=y.neutralLight,_=y.neutralSecondary,C=y.neutralTertiary,k=g||(h<24?2:4);return{colorCell:[(0,m.gm)(a,{inset:-1,position:"relative",highContrastStyle:S}),{backgroundColor:v.bodyBackground,padding:0,position:"relative",boxSizing:"border-box",display:"inline-block",cursor:"pointer",userSelect:"none",borderRadius:0,border:"none",height:p,width:h,verticalAlign:"top"},!u&&{selectors:(t={},t["."+w.Y2+" &:focus::after"]={outlineOffset:k-1+"px"},t)},u&&{borderRadius:"50%",selectors:(n={},n["."+w.Y2+" &:focus::after"]={outline:"none",borderColor:v.focusBorder,borderRadius:"50%",left:-k,right:-k,top:-k,bottom:-k,selectors:(r={},r[m.up]={outline:"1px solid ButtonText"},r)},n)},l&&{padding:2,border:k+"px solid "+x,selectors:(o={},o["&:hover::before"]={content:'""',height:p,width:h,position:"absolute",top:-k,left:-k,borderRadius:u?"50%":"default",boxShadow:"inset 0 0 0 1px "+_},o)},!l&&{selectors:(i={},i["&:hover, &:active, &:focus"]={backgroundColor:v.bodyBackground,padding:2,border:k+"px solid "+b},i["&:focus"]={borderColor:v.bodyBackground,padding:0,selectors:{":hover":{borderColor:a.palette.neutralLight,padding:2}}},i)},s&&{color:v.disabledBodyText,pointerEvents:"none",opacity:.3},c&&!l&&{backgroundColor:C,padding:1}],svg:[{width:"100%",height:"100%"},u&&{borderRadius:"50%"}]}}),void 0,{scope:"ColorPickerGridCell"},!0),T=n(95004),E=n(34060),P=n(69175),I=(0,a.Z)();var A=i.forwardRef((function(e,t){var n=(0,d.B)("swatchColorPicker"),r=e.id||n,a=(0,T.d)({isNavigationIdle:!0,cellFocused:!1,navigationIdleTimeoutId:void 0,navigationIdleDelay:250}),l=(0,E.j)(),u=l.setTimeout,c=l.clearTimeout,p=e.colorCells,f=e.cellShape,m=void 0===f?"circle":f,g=e.columnCount,v=e.shouldFocusCircularNavigate,y=void 0===v||v,b=e.className,x=e.disabled,_=void 0!==x&&x,C=e.doNotContainWithinFocusZone,w=e.styles,S=e.cellMargin,A=void 0===S?10:S,R=e.defaultSelectedId,L=e.focusOnHover,M=e.mouseLeaveParentSelector,B=e.onChange,O=e.onColorChanged,F=e.onCellHovered,D=e.onCellFocused,N=e.getColorGridCellStyles,U=e.cellHeight,z=e.cellWidth,j=e.cellBorderWidth,V=i.useMemo((function(){return p.map((function(e,t){return(0,o.Cl)((0,o.Cl)({},e),{index:t})}))}),[p]),W=i.useCallback((function(e,t){var n,r=null===(n=p.filter((function(e){return e.id===t}))[0])||void 0===n?void 0:n.color;null===B||void 0===B||B(e,t,r),null===O||void 0===O||O(t,r)}),[B,O,p]),H=(0,P.k)(e.selectedId,R,W),q=H[0],K=H[1],G=I(w,{theme:e.theme,className:b,cellMargin:A}),Z={root:G.root,tableCell:G.tableCell,focusedContainer:G.focusedContainer},X=p.length<=g,Y=i.useCallback((function(e){D&&(a.cellFocused=!1,D(void 0,void 0,e))}),[a,D]),Q=i.useCallback((function(e){return L?(a.isNavigationIdle&&!_&&e.currentTarget.focus(),!0):!a.isNavigationIdle||!!_}),[L,a,_]),J=i.useCallback((function(e){if(!L)return!a.isNavigationIdle||!!_;var t=e.currentTarget;return!a.isNavigationIdle||document&&t===document.activeElement||t.focus(),!0}),[L,a,_]),$=i.useCallback((function(e){var t=M;if(L&&t&&a.isNavigationIdle&&!_)for(var n=document.querySelectorAll(t),r=0;r<n.length;r+=1)if(n[r].contains(e.currentTarget)){if(n[r].setActive)try{n[r].setActive()}catch(o){}else n[r].focus();break}}),[_,L,a,M]),ee=i.useCallback((function(e,t){F&&(e?F(e.id,e.color,t):F(void 0,void 0,t))}),[F]),te=i.useCallback((function(e,t){if(D)return e?(a.cellFocused=!0,D(e.id,e.color,t)):(a.cellFocused=!1,D(void 0,void 0,t))}),[a,D]),ne=i.useCallback((function(e,t){_||e.id!==q&&(D&&a.cellFocused&&(a.cellFocused=!1,D(void 0,void 0,t)),K(e.id,t))}),[_,a,D,q,K]),re=i.useCallback((function(){a.isNavigationIdle||void 0===a.navigationIdleTimeoutId?a.isNavigationIdle=!1:(c(a.navigationIdleTimeoutId),a.navigationIdleTimeoutId=void 0),a.navigationIdleTimeoutId=u((function(){a.isNavigationIdle=!0}),a.navigationIdleDelay)}),[c,a,u]),oe=i.useCallback((function(e){e.which!==s.c.up&&e.which!==s.c.down&&e.which!==s.c.left&&e.which!==s.c.right||re()}),[re]),ie=function(e){return i.createElement(k,{item:e,idPrefix:r,color:e.color,styles:N,disabled:_,onClick:ne,onHover:ee,onFocus:te,selected:q===e.id,circle:"circle"===m,label:e.label,onMouseEnter:Q,onMouseMove:J,onMouseLeave:$,onWheel:re,onKeyDown:oe,height:U,width:z,borderWidth:j,isRadio:X})};if(p.length<1||g<1)return null;return i.createElement(h,(0,o.Cl)({},e,{ref:t,id:r,items:V,columnCount:g,isSemanticRadio:X,onRenderItem:function(t,n){var r=e.onRenderColorCell;return(void 0===r?ie:r)(t,ie)},shouldFocusCircularNavigate:y,doNotContainWithinFocusZone:C,onBlur:Y,theme:e.theme,styles:Z}))}));A.displayName="SwatchColorPicker";var R={focusedContainer:"ms-swatchColorPickerBodyContainer"},L=(0,r.I)(A,(function(e){var t=e.className,n=e.theme;return{root:{margin:"8px 0",borderCollapse:"collapse"},tableCell:{padding:e.cellMargin/2},focusedContainer:[(0,m.Km)(R,n).focusedContainer,{clear:"both",display:"block",minWidth:"180px"},t]}}),void 0,{scope:"SwatchColorPicker"})},6618:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var r=n(95673),o="__globalSettings__",i="__callbacks__",a=0,s=function(){function e(){}return e.getValue=function(e,t){var n=l();return void 0===n[e]&&(n[e]="function"===typeof t?t():t),n[e]},e.setValue=function(e,t){var n=l(),r=n[i],o=n[e];if(t!==o){n[e]=t;var a={oldValue:o,value:t,key:e};for(var s in r)r.hasOwnProperty(s)&&r[s](a)}return t},e.addChangeListener=function(e){var t=e.__id__,n=u();t||(t=e.__id__=String(a++)),n[t]=e},e.removeChangeListener=function(e){delete u()[e.__id__]},e}();function l(){var e,t=(0,r.z)()||{};return t[o]||(t[o]=((e={})[i]={},e)),t[o]}function u(){return l()[i]}},7058:(e,t,n)=>{"use strict";n.d(t,{B3:()=>p,oL:()=>d,sB:()=>f});var r,o=n(3041),i=n(31985),a=n(80559),s=n(15361),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)},u={activeAlgorithmUiComponentName:void 0,activeAlgorithmUiMode:s.V.Uninitialized},c=(0,o.Z0)({name:"inPaintingUi",initialState:u,reducers:{setActiveAlgorithmUi:function(e,t){e.activeAlgorithmUiComponentName=t.payload},setActiveAlgorithmUiMode:function(e,t){e.activeAlgorithmUiMode=t.payload}},extraReducers:function(e){e.addCase(i.zj,(function(e,t){return l({},u)})).addCase(a.Dx,(function(e,t){e.activeAlgorithmUiMode=s.V.Uninitialized}))}}),d=(r=c.actions).setActiveAlgorithmUi,p=r.setActiveAlgorithmUiMode,f=c.reducer},7622:(e,t,n)=>{"use strict";function r(e,t,n){var r=n?t[n]:e;if(!r)throw new Error("Adjustments for dynamicLayer do not exist: ".concat(n));return r}n.d(t,{I:()=>r})},7668:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(72538);function o(e){return"\n#ifndef ".concat((0,r.T)(e),"\n  #define ").concat((0,r.T)(e),"\n#endif\n")}},7761:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(9950);function o(e){var t=(0,r.useRef)(e);t.current=e,(0,r.useEffect)((function(){return function(){return t.current()}}),[])}},8090:(e,t,n)=>{"use strict";function r(e){return e+"TextureColor"}n.d(t,{B:()=>r})},8472:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=n(56381),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function i(e,t){return function(n,i){var a=o({},i),s=Math.max(i.width,i.height),l=t?s:i.width,u=t?s:i.height;return a=(0,r.Y)(a,n,Math.round(e*l),Math.round(e*u))}}},8694:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(9950),o=n(74029);function i(){return(0,r.useContext)(o.F).getTexturePatchAlgorithmRegistry()}},9213:(e,t,n)=>{"use strict";n.d(t,{T:()=>o,p:()=>r});var r=function(e){return e},o=function(e){return.5+.5*Math.sin(-Math.PI/2+e*Math.PI)}},9439:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r="colorBlur"},9456:(e,t,n)=>{"use strict";n.d(t,{fb:()=>c,f9:()=>l,Dc:()=>u});var r,o=n(3041),i=n(1880);function a(e,t){e.ariaAnnouncementMessage=function(e,t){if(e===t)return t+"\u200b";return t}(e.ariaAnnouncementMessage,t)}var s=(0,o.Z0)({name:"AriaAnnouncementState",initialState:i.T,reducers:{setAriaAnnouncement:function(e,t){a(e,t.payload)},setAriaAnnouncementScenario:function(e,t){!function(e,t){e.ariaAnnouncementScenario=t}(e,t.payload)}}}),l=(r=s.actions).setAriaAnnouncement,u=r.setAriaAnnouncementScenario,c=s.reducer},9729:(e,t,n)=>{"use strict";n.d(t,{Iq:()=>h,Qq:()=>v,js:()=>g,kb:()=>f,lW:()=>m});var r=n(37267),o=n(99145),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},s={lightColor:[1,1,1,1],lightIntensity:1,directionalLightAngleAround:0,directionalLightAngleInto:1,surfaceRoughness:0,lightSoftness:.5,isOn:!0},l=i(i({lightType:"directional"},s),{isOn:!1}),u=i(i({lightType:"ambient",label:"Ambient"},s),{isOn:!1}),c=i({lightType:"directional"},s);function d(e,t){return a(a([],function(e){var t=[];if(e.length!==o.Y)throw new Error("Light sources array length (".concat(e.length,") is not equal to expected light count (").concat(o.Y,")"));if(!e.every((function(e){return"directional"===e.lightType})))throw new Error("All light sources must be directional as the light names are only for directional lights");return t.push(i(i({},e[0]),{label:"1"})),t.push(i(i({},e[1]),{label:"2"})),t.push(i(i({},e[2]),{label:"3"})),t}(function(e){for(;e.length<o.Y;)e.push(i({},l));return e}(t)),!0),[e],!1)}function p(e,t,n){return[e/255,t/255,n/255,1]}var f={key:"normalMap",nameForTelemetry:"Debug: Normal Map",nameLocalized:"Debug: Normal Map",lightSources:d(i(i({},u),{isOn:!1}),[]),showNormalMap:!0},h=0,m={key:"Original",nameForTelemetry:"Original",nameLocStringKey:"relight_original",lightSources:d(i(i({},u),{lightColor:[1,1,1,1],isOn:!0}),[])},g=1,v=[m,{key:"Softbox",nameForTelemetry:"Softbox",nameLocStringKey:"relight_softbox",lightSources:d(u,[i(i({},c),{lightColor:p(255,248,240),lightIntensity:.5,directionalLightAngleAround:.6285,directionalLightAngleInto:.6726}),i(i({},c),{lightColor:p(250,240,230),lightIntensity:1,directionalLightAngleAround:.7477,directionalLightAngleInto:.5826}),i(i({},c),{lightColor:p(240,230,220),lightIntensity:2,directionalLightAngleAround:.1319,directionalLightAngleInto:.7313})])},{key:"ClassicPortrait",nameForTelemetry:"Classic Portrait",nameLocStringKey:"relight_classicPortrait",lightSources:d(u,[i(i({},c),{lightColor:p(255,214,170),lightIntensity:.3,lightSoftness:0,directionalLightAngleAround:.6305,directionalLightAngleInto:.7186}),i(i({},c),{lightColor:p(245,227,208),lightIntensity:2,lightSoftness:.5,directionalLightAngleAround:2e-4,directionalLightAngleInto:.7566}),i(i({},c),{lightColor:p(255,244,230),lightIntensity:.2,lightSoftness:0,directionalLightAngleAround:.3487,directionalLightAngleInto:.6915})])},{key:"Dramatic",nameForTelemetry:"Dramatic",nameLocStringKey:"relight_dramatic",lightSources:d(u,[i(i({},c),{lightColor:p(217,230,255),lightIntensity:3,lightSoftness:0,directionalLightAngleAround:.4956,directionalLightAngleInto:.887}),i(i({},c),{lightColor:p(214,222,255),lightIntensity:1,lightSoftness:.38,directionalLightAngleAround:.2237,directionalLightAngleInto:.5574}),i(i({},c),{lightColor:p(227,237,255),lightIntensity:1.2,lightSoftness:.27,directionalLightAngleAround:.7755,directionalLightAngleInto:.55})])},{key:"GoldenHour",nameForTelemetry:"Golden Hour",nameLocStringKey:"relight_goldenHour",lightSources:d(u,[i(i({},c),{lightColor:p(255,230,230),lightIntensity:.6,directionalLightAngleAround:.7426,directionalLightAngleInto:.6776,lightSoftness:.2}),i(i({},c),{lightColor:p(247,177,124),lightIntensity:2,directionalLightAngleAround:.5017,directionalLightAngleInto:.6344}),i(i({},c),{lightColor:p(255,244,230),lightIntensity:1,directionalLightAngleAround:3e-4,directionalLightAngleInto:.5915})])},{key:"Cyberpunk",nameForTelemetry:"Cyberpunk",nameLocStringKey:"relight_cyberpunk",lightSources:d(u,[i(i({},c),{lightColor:p(255,255,250),lightIntensity:1.2,directionalLightAngleAround:0,directionalLightAngleInto:.9}),i(i({},c),{lightColor:p(0,51,255),lightIntensity:3,directionalLightAngleAround:.25,directionalLightAngleInto:r.a}),i(i({},c),{lightColor:p(255,26,26),lightIntensity:1.8,directionalLightAngleAround:.75,directionalLightAngleInto:r.a})])}]},9950:(e,t,n)=>{"use strict";e.exports=n(32049)},10032:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(17559);function o(e,t){return e&&e!==document.body?t(e)?e:o((0,r.P)(e),t):null}},10499:(e,t,n)=>{"use strict";n.d(t,{Ie:()=>b,JV:()=>c,Jm:()=>x,O$:()=>u,_R:()=>y,zy:()=>v});var r=n(44121),o=n(75347),i=n(21925),a=n(34745),s=n(52569),l=n(16423),u=100,c=400,d=0,p=.75,f=8,h=3,m=50,g=80,v=2,y=8;function b(e,t){if(e)return e;switch(t){case r.I.keyboardRotating:case r.I.rotating:return y;case r.I.usingNineSliceCropHandles:case r.I.selectingSecondCorner:case r.I.draggingImage:case r.I.keyboardCropping:case r.I.zoomToCrop:return v;default:return 0}}function x(e,t,n,r,u,c){return function(e,t,n){var r=e||(0,l.m)(n),o=r?d:p,i=r?p:d;return(0,a.Cc)(o,i,t)}(e,r,c)*function(e,t){if((0,l.m)(t))return(0,s.a)([1,1,1,1,0],e);return 1}(u,c)*function(e){var t=(0,o.YD)(e);return(0,a.U4)(f,h,t)}(t)*function(e,t){var n=(0,i.SM)((0,o.ZG)(e,t)),r=Math.min(n.height,n.width);return(0,a.U4)(m,g,r)}(t,n)}},10678:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(99261);function o(e){var t=(0,r.y)(e);if(!t)throw new Error("unOrientedSize not defined");return{top:0,left:0,width:t.x,height:t.y}}},11446:(e,t,n)=>{"use strict";n.d(t,{OU:()=>s,O_:()=>l});var r=n(9950),o=n(18047),i=n(88307),a=function(){throw new Error("Error: Components must be wrapped in a MarkupProvider")},s={};var l=(0,r.createContext)({enableMarkup:!1,Canvas:a,canvasMethods:s,setCanvasMethods:function(){},InkCanvasInteraction:a,inkConfigurations:{Pen:{cssThicknesses:[1,2,3,4,5,6],minSliderValue:1},Highlighter:{cssThicknesses:[1,2,3,4,5,6],minSliderValue:1}},localizationStrings:o.b,scriptsToLoadJSBundles:[],markupToolsConfigurations:i.s,getMarkupToolbarPosition:function(){return"Bottom"},markupToolbarStyles:void 0,enableStraightLineMarkup:!1,enableArrowhead:!1,showWetCanvas:!1,setShowWetCanvas:function(){},wetCanvasIsReady:!1,setWetCanvasIsReady:function(){},onClearAllMarkupConfirmationDialog:void 0,isStrokeShapeCalloutEnabled:!1,enableMarkupKeyboarding:!1})},11491:(e,t,n)=>{"use strict";n.d(t,{fo:()=>V,r5:()=>N,iC:()=>z,rx:()=>D,Oc:()=>U,DK:()=>O,e8:()=>B,MI:()=>L,nk:()=>M,Un:()=>j,EG:()=>F});var r=n(3041),o=n(14231),i=n(36386),a=n(31985);var s=n(38275),l="relight",u=n(73050),c=n(9729),d=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function p(e){return{globalIntensity:e.globalIntensity,lightSources:d([],e.lightSources,!0),activeLightSourceIndex:e.activeLightSourceIndex,normalizedLightTarget:e.normalizedLightTarget,presetIndex:null===e.presetIndex?c.Iq:e.presetIndex}}var f=n(96992);function h(e,t){return(0,f.v)(e,t,5)}var m=n(99145),g=function(){return g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},g.apply(this,arguments)},v=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function y(e,t){if(void 0!==t.globalIntensity&&(e.globalIntensity=t.globalIntensity),void 0!==t.activeLightSourceIndex&&(e.activeLightSourceIndex=t.activeLightSourceIndex),void 0!==t.isLightOn){var n=t.isLightOn,r=n.isOn,o=n.lightSourceIndex;e.lightSources[o].isOn=r}var i;if(void 0!==t.presetIndex&&(e.presetIndex=t.presetIndex),void 0!==t.lightSources){i=new Array(m.b);for(var a=0;a<e.lightSources.length;++a)i[a]=g(g({},e.lightSources[a]),t.lightSources[a])}void 0!==t.activeLightSource&&null!==e.activeLightSourceIndex&&(i||(i=v([],e.lightSources,!0)),i[e.activeLightSourceIndex]=g(g({},e.lightSources[e.activeLightSourceIndex]),t.activeLightSource)),void 0!==t.normalizedLightTarget&&(e.normalizedLightTarget=t.normalizedLightTarget),i&&(e.lightSources=i)}function b(e,t){var n=function(e){var t;return null===(t=(0,s.HV)(e.undoRedoStack.undoStack))||void 0===t?void 0:t.redoPayload}(e)||p(e);y(e,t);var r=p(e);if(!h(n,r)&&t.isUndoRedoable){var o=(0,i.Cy)(l,n,r,u.Z.KeepAll);e.undoRedoStack.undoStack.push(o)}}var x={undoReducer:function(e,t){e.undoRedoStack.redoStack.push(t),"undoPayloadFromPointerMovementStart"in t.undoPayload?Object.assign(e,t.undoPayload):y(e,t.undoPayload)},redoReducer:function(e,t){e.undoRedoStack.undoStack.push(t),y(e,t.redoPayload)},removeItemsReducer:function(e,t){e.undoRedoStack.undoStack=t},collapseItemsReducer:function(e,t,n){e.undoRedoStack.undoStack=e.undoRedoStack.undoStack.filter((function(e){return e.sequence!==t.payload.start&&e.sequence!==t.payload.end})),e.undoRedoStack.undoStack.push(n)}},_=n(15361),C=n(73553),w=n(64665);function S(e,t,n,r){var o=(0,C.q)(n.x,r.left,r.left+r.width),i=(0,C.q)(n.y,r.top,r.top+r.height),a=(0,w.h)(o-r.left,i-r.top,r.width,r.height,e.normalizedLightTarget);e.lightSources[t].directionalLightAngleAround=a.directionalLightAngleAround,e.lightSources[t].directionalLightAngleInto=a.directionalLightAngleInto}function k(e,t,n){var r=e.normalizedLightTarget;e.normalizedLightTarget={x:(0,C.q)((t.x-n.left)/n.width,0,1),y:(0,C.q)((t.y-n.top)/n.height,0,1)},e.lightSources.forEach((function(t,o){if("directional"===t.lightType){var i=e.lightSources[o],a=(0,w.V)(i.directionalLightAngleAround,i.directionalLightAngleInto,n.width,n.height,r);S(e,o,{x:n.left+a.x,y:n.top+a.y},n)}}))}var T=n(97351),E=n(22379);var P,I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},I.apply(this,arguments)},A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},R=(0,r.Z0)({name:"imageRelight",initialState:o.j,reducers:{setRelight:function(e,t){b(e,t.payload)},setRelightUiMode:function(e,t){e.relightUiMode=t.payload},setNormalMappingStatus:function(e,t){e.normalMappingStatus=t.payload},setShouldCreateNormalMapIfMissing:function(e,t){e.shouldCreateNormalMapIfMissing=t.payload},setMovementSource:function(e,t){!function(e,t){if(n=e.movementSource,r=t,n.source!==r.source||"light"===n.source&&"light"===r.source&&n.lightSourceIndex!==r.lightSourceIndex){var n,r;e.movementSource=t;var o=t.source;switch(o){case"none":if(e.undoPayloadFromMovementStart){var a=p(e);if(!h(e.undoPayloadFromMovementStart,a)){var s=(0,i.Cy)(l,e.undoPayloadFromMovementStart,a,u.Z.KeepAll);e.undoRedoStack.undoStack.push(s)}e.undoPayloadFromMovementStart=void 0}break;case"light":b(e,{activeLightSourceIndex:t.lightSourceIndex}),e.undoPayloadFromMovementStart=p(e);break;case"lightsTarget":e.undoPayloadFromMovementStart=p(e);break;default:throw new E.x(o)}}}(e,t.payload)},setShowLightsOnCanvas:function(e,t){e.showLightsOnCanvas=t.payload},onPointerMoveForLight:function(e,t){if("light"===e.movementSource.source){var n=t.payload,r=n.imagePhysicalPixelArea,o=n.pointerPhysicalPixelPos;S(e,e.movementSource.lightSourceIndex,o,r)}},onKeyboardMoveForLight:function(e,t){if("light"===e.movementSource.source){var n=t.payload,r=n.elementPhysicalPixelPos,o=n.imagePhysicalPixelArea;S(e,e.movementSource.lightSourceIndex,r,o)}},onPointerMoveForLightTarget:function(e,t){if("lightsTarget"===e.movementSource.source){var n=t.payload,r=n.imagePhysicalPixelArea;k(e,n.pointerPhysicalPixelPos,r)}},onKeyboardMoveForLightTarget:function(e,t){if("lightsTarget"===e.movementSource.source){var n=t.payload;k(e,n.elementPhysicalPixelPos,n.imagePhysicalPixelArea)}}},extraReducers:function(e){e.addCase(a.zj,(function(e,t){var n="Relight"===t.payload.editorActivity;return I(I({},o.j),{presetIndex:n?c.Iq:o.j.presetIndex,shouldCreateNormalMapIfMissing:n})})),e.addCase(a.y2,(function(e,t){return t.payload.relight})),e.addCase(a.sP,(function(e,t){null!==e.presetIndex&&(0,T.s)(e,t.payload,"replaceImageRelight",(function(e){o.j.undoRedoStack;var t=A(o.j,["undoRedoStack"]);Object.assign(e,I(I({},t),{showLightsOnCanvas:e.showLightsOnCanvas}))}))})),e.addCase(a.Hm,(function(e,t){"normalMap"===t.payload.layer&&(e.relightUiMode=_.V.Uninitialized,e.normalMappingStatus="removed",e.shouldCreateNormalMapIfMissing=!1)})),(0,i.q$)(e,x)}}),L=(P=R.actions).setRelight,M=P.setRelightUiMode,B=P.setNormalMappingStatus,O=P.setMovementSource,F=P.setShowLightsOnCanvas,D=P.onPointerMoveForLight,N=P.onKeyboardMoveForLight,U=P.onPointerMoveForLightTarget,z=P.onKeyboardMoveForLightTarget,j=P.setShouldCreateNormalMapIfMissing,V=R.reducer},11582:(e,t,n)=>{"use strict";function r(e){return{root:{fontSize:"14px",color:e.palette.themePrimary,"&:hover":{color:e.palette.themePrimary,textDecoration:"underline"},"&:active":{color:e.palette.themePrimary},"&:focus-visible":{outline:"auto"},userSelect:"none"}}}n.d(t,{l:()=>r})},11667:(e,t,n)=>{"use strict";function r(e,t){return"".concat(e,"-").concat(t)}n.d(t,{Y:()=>r})},11684:(e,t,n)=>{"use strict";n.d(t,{o:()=>l});var r=n(21925),o=n(38421),i=n(26262),a=n(18699),s=n(17755);function l(e,t){var n=(0,s.Je)(e.cropInteraction.uvToWorld,(0,r.Vq)((0,o.oR)(e.view.viewportPixelSize,e.device.pixelRatio,e.view.viewFitting.marginCssPixels))).scale,l=(0,a.i0)(t,n);return{zoomScaleToFitCroppedImageInView:n,zoomLevel:l,zoomIsMinimum:l<=n,zoomIsMaximum:l===i.jC}}},12617:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,_:()=>i});var r=n(34354),o=n(6246);function i(e){return a(e.main)}function a(e){return null==e?r.Lf:((0,o.cy)(e)||(0,o.OK)(e))&&e.orientation||r.Lf}},12856:(e,t,n)=>{"use strict";n.d(t,{hg:()=>o,ji:()=>a,po:()=>r,qI:()=>s,su:()=>l,vA:()=>i});var r=function(e){return e.uiState.activeEditorActivity},o=function(e){return e.uiState.isViewingOriginal},i=function(e){return e.uiState.markupUiState.activeMarkupToolType},a=function(e){return e.uiState.markupUiState.inkBrushes},s=function(e){return e.uiState.markupUiState.activeInkBrushId},l=function(e){return e.uiState.waitingForMarkupOverlayTexture}},13246:(e,t,n)=>{"use strict";n.d(t,{Gu:()=>r,Qm:()=>a,iw:()=>o,j9:()=>i});var r="Pen",o="Highlighter",i="Eraser",a="Text"},13272:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(26397),o=n(99261),i=n(62919);function a(e){var t=(0,o.y)(e);return t&&(0,i.u)(e)&&(t=(0,r.Z8)(t)),t}},13855:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var r=n(85913),o=n(75347),i=n(75656),a=n(40177),s=(0,r.Mz)([i.T,a.PO,a.qx,a.xI],(function(e,t,n,r){var i=n||t,a=r||e;return(0,o.ZG)(i,a)}))},13877:(e,t,n)=>{"use strict";function r(e){return"rgba(".concat(Math.round(255*e[0]),",").concat(Math.round(255*e[1]),",").concat(Math.round(255*e[2]),",").concat(e[3],")")}n.d(t,{N:()=>r})},13950:(e,t,n)=>{"use strict";n.d(t,{CS:()=>d,q0:()=>p,rB:()=>c,Ts:()=>u,xG:()=>f,ZG:()=>l,rC:()=>o});var r={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],65:["a","A"],66:["b","B"],67:["c","C"],68:["d","D"],69:["e","E"],70:["f","F"],71:["g","G"],72:["h","H"],73:["i","I"],74:["j","J"],75:["k","K"],76:["l","L"],77:["m","M"],78:["n","N"],79:["o","O"],80:["p","P"],81:["q","Q"],82:["r","R"],83:["s","S"],84:["t","T"],85:["u","U"],86:["v","V"],87:["w","W"],88:["x","X"],89:["y","Y"],90:["z","Z"],91:"OS",93:"ContextMenu",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"};var o={};for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];if("string"===typeof a)o[a]=Number(i);else for(var s=0;s<a.length;s++)o[a[s]]=Number(i)}var l=o[" "],u=(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o["~"],o["`"],o["!"],o["@"],o["#"],o["%"],o["^"],o["&"],o["+"]),c=o["-"],d=o["="],p=(o["/"],o["*"],o[","],o["."],o[":"],o[";"],o["|"],o["\\"],o["?"],o["'"],o['"'],o["{"],o["}"],o["("],o[")"],o["<"],o[">"],o["["]),f=o["]"];o.ArrowDown,o.ArrowLeft,o.ArrowRight,o.ArrowUp,o.End,o.Enter,o.Home,o.PageDown,o.PageUp,o.Tab},14030:(e,t,n)=>{"use strict";n.d(t,{_:()=>i,o:()=>a});var r=n(96042),o=n(32e3),i={msButton:"ms-Button",msButtonHasMenu:"ms-Button--hasMenu",msButtonIcon:"ms-Button-icon",msButtonMenuIcon:"ms-Button-menuIcon",msButtonLabel:"ms-Button-label",msButtonDescription:"ms-Button-description",msButtonScreenReaderText:"ms-Button-screenReaderText",msButtonFlexContainer:"ms-Button-flexContainer",msButtonTextContainer:"ms-Button-textContainer"},a=(0,r.J9)((function(e,t,n,r,a,s,l,u,c,d,p){var f,h,m=(0,o.Km)(i,e||{}),g=d&&!p;return(0,o.l8)({root:[m.msButton,t.root,r,c&&["is-checked",t.rootChecked],g&&["is-expanded",t.rootExpanded,{selectors:(f={},f[":hover ."+m.msButtonIcon]=t.iconExpandedHovered,f[":hover ."+m.msButtonMenuIcon]=t.menuIconExpandedHovered||t.rootExpandedHovered,f[":hover"]=t.rootExpandedHovered,f)}],u&&[i.msButtonHasMenu,t.rootHasMenu],l&&["is-disabled",t.rootDisabled],!l&&!g&&!c&&{selectors:(h={":hover":t.rootHovered},h[":hover ."+m.msButtonLabel]=t.labelHovered,h[":hover ."+m.msButtonIcon]=t.iconHovered,h[":hover ."+m.msButtonDescription]=t.descriptionHovered,h[":hover ."+m.msButtonMenuIcon]=t.menuIconHovered,h[":focus"]=t.rootFocused,h[":active"]=t.rootPressed,h[":active ."+m.msButtonIcon]=t.iconPressed,h[":active ."+m.msButtonDescription]=t.descriptionPressed,h[":active ."+m.msButtonMenuIcon]=t.menuIconPressed,h)},l&&c&&[t.rootCheckedDisabled],!l&&c&&{selectors:{":hover":t.rootCheckedHovered,":active":t.rootCheckedPressed}},n],flexContainer:[m.msButtonFlexContainer,t.flexContainer],textContainer:[m.msButtonTextContainer,t.textContainer],icon:[m.msButtonIcon,a,t.icon,g&&t.iconExpanded,c&&t.iconChecked,l&&t.iconDisabled],label:[m.msButtonLabel,t.label,c&&t.labelChecked,l&&t.labelDisabled],menuIcon:[m.msButtonMenuIcon,s,t.menuIcon,c&&t.menuIconChecked,l&&!p&&t.menuIconDisabled,!l&&!g&&!c&&{selectors:{":hover":t.menuIconHovered,":active":t.menuIconPressed}},g&&["is-expanded",t.menuIconExpanded]],description:[m.msButtonDescription,t.description,c&&t.descriptionChecked,l&&t.descriptionDisabled],screenReaderText:[m.msButtonScreenReaderText,t.screenReaderText]})}))},14231:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var r=n(15361),o={globalIntensity:.5,lightSources:n(9729).lW.lightSources,normalizedLightTarget:{x:.5,y:.5},presetIndex:null,activeLightSourceIndex:null,relightUiMode:r.V.Uninitialized,movementSource:{source:"none"},showLightsOnCanvas:!0,undoRedoStack:{undoStack:[],redoStack:[],id:"imageRelightUndoRedoStack"},undoPayloadFromMovementStart:void 0,normalMappingStatus:"notProcessedYet",shouldCreateNormalMapIfMissing:!1}},14285:(e,t,n)=>{"use strict";n.d(t,{Cy:()=>c,Fk:()=>d,fm:()=>f,qY:()=>p});var r,o=n(3041),i=n(88873),a=n(80559),s={algorithmParameters:void 0,applyOnPointerUp:!0},l={currentActivityKey:i.iF,texturePatchAlgorithmUIParametersByActivity:{Crop:s,Adjustment:s,Filter:s,Markup:s,Retouch:s,InPaint:s,Background:s,Relight:s,FocalPoint:s,Stylizer:s,SuperResolution:s}},u=(0,o.Z0)({name:"texturePatchAlgorithmUI",initialState:l,reducers:{setAlgorithmParameters:function(e,t){e.texturePatchAlgorithmUIParametersByActivity[e.currentActivityKey].algorithmParameters=t.payload},setLayerToPatch:function(e,t){var n=e.texturePatchAlgorithmUIParametersByActivity[e.currentActivityKey].algorithmParameters;n&&(n.layerToPatch=t.payload)},setApplyOnPointerUp:function(e,t){e.texturePatchAlgorithmUIParametersByActivity[e.currentActivityKey].applyOnPointerUp=t.payload}},extraReducers:function(e){e.addCase(a.Dx,(function(e,t){e.currentActivityKey=t.payload}))}}),c=(r=u.actions).setAlgorithmParameters,d=r.setLayerToPatch,p=r.setApplyOnPointerUp,f=u.reducer},14339:(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var r=n(70859),o=function(e){var t={refs:[]};return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.resolver&&(0,r.r1)(t.refs,e)||(t.resolver=function(e){return function(t){for(var n=0,r=e.refs;n<r.length;n++){var o=r[n];"function"===typeof o?o(t):o&&(o.current=t)}}}(t)),t.refs=e,t.resolver}}},14586:(e,t,n)=>{"use strict";function r(e){return 2===(null===e||void 0===e?void 0:e.webGLVersion)}n.d(t,{t:()=>r})},14717:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(21075);function o(e){if("object"!==typeof e||null==e)throw new Error("Error validating Stylizer algorithm parameters");if(!("prompt"in e)||"string"!==typeof e.prompt)throw new Error("prompt missing in Stylizer algorithm parameters");if(!("creativity"in e)||"number"!==typeof e.creativity)throw new Error("creativity missing in Stylizer algorithm parameters");if(!("segmentationScope"in e)||!Object.values(r.j).includes(e.segmentationScope))throw new Error("segmentationScope missing in Stylizer algorithm parameters");if(!("shouldSkipPromptModeration"in e)||"boolean"!==typeof e.shouldSkipPromptModeration)throw new Error("shouldSkipPromptModeration missing in Stylizer algorithm parameters");var t=4;"steps"in e&&"number"===typeof e.steps&&(t=e.steps);var n="";"hiddenPrompt"in e&&"string"===typeof e.hiddenPrompt&&(n=e.hiddenPrompt);var o=!1;return"enableHiddenPrompt"in e&&"boolean"===typeof e.enableHiddenPrompt&&(o=e.enableHiddenPrompt),{prompt:e.prompt,creativity:e.creativity,segmentationScope:e.segmentationScope,shouldSkipPromptModeration:e.shouldSkipPromptModeration,enableHiddenPrompt:o,steps:t,hiddenPrompt:n}}},14771:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var r=n(9950),o=n(95673),i=n(98140),a=n(37212),s=n(93781),l=function(e,t){var n=r.useState((0,a.YF)()),l=n[0],u=n[1],c=r.useCallback((function(){var t=(0,a.kA)((0,o.z)(e.current));l!==t&&u(t)}),[e,l]),d=(0,s.ox)();return(0,i.x)(d,"resize",c),r.useEffect((function(){void 0===t&&c()}),[t]),null!==t&&void 0!==t?t:l}},15022:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r=function(){return{marginTop:"0",padding:"0 0 4px 0"}}},15057:(e,t,n)=>{"use strict";n.d(t,{n:()=>u});var r=n(37827),o=n(48932);var i=n(48258);function a(e){if(e){var t=s(e)||function(e){if("#"===e[0]&&7===e.length&&/^#[\da-fA-F]{6}$/.test(e))return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:o.ef}}(e)||function(e){if("#"===e[0]&&4===e.length&&/^#[\da-fA-F]{3}$/.test(e))return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:o.ef}}(e)||function(e){var t=e.match(/^hsl(a?)\(([\d., ]+)\)$/);if(t){var n=!!t[1],r=n?4:3,a=t[2].split(/ *, */).map(Number);if(a.length===r){var s=function(e,t,n){var r=function(e,t,n){var r=n+(t*=(n<50?n:100-n)/100);return{h:e,s:0===r?0:2*t/r*100,v:r}}(e,t,n);return(0,i.h)(r.h,r.s,r.v)}(a[0],a[1],a[2]);return s.a=n?100*a[3]:o.ef,s}}}(e);return t||function(e){if("undefined"===typeof document)return;var t=document.createElement("div");t.style.backgroundColor=e,t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",t.style.height="1px",t.style.width="1px",document.body.appendChild(t);var n=getComputedStyle(t),r=n&&n.backgroundColor;if(document.body.removeChild(t),"rgba(0, 0, 0, 0)"===r||"transparent"===r){switch(e.trim()){case"transparent":case"#0000":case"#00000000":return{r:0,g:0,b:0,a:0}}return}return s(r)}(e)}}function s(e){if(e){var t=e.match(/^rgb(a?)\(([\d., ]+)\)$/);if(t){var n=!!t[1],r=n?4:3,i=t[2].split(/ *, */).map(Number);if(i.length===r)return{r:i[0],g:i[1],b:i[2],a:n?100*i[3]:o.ef}}}}var l=n(19323);function u(e){var t=a(e);if(t)return(0,r.Cl)((0,r.Cl)({},(0,l.g)(t)),{str:e})}},15361:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var r;n(22379);!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.InitializationStarted=1]="InitializationStarted",e[e.InitializationFinished=2]="InitializationFinished"}(r||(r={}))},15798:(e,t,n)=>{"use strict";n.d(t,{S:()=>k});var r=n(69187),o=n(37827),i=n(9950),a=n(32e3),s=n(56624),l=n(45867);var u,c=n(80762),d=n(21191),p=n(68246),f=n(18746),h=n(3691),m=n(28225);!function(e){e[e.Parent=0]="Parent",e[e.Self=1]="Self"}(u||(u={}));var g=n(88659),v=n(44358),y=(0,s.Z)(),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onRenderContent=function(e){return"string"===typeof e.content?i.createElement("p",{className:t._classNames.subText},e.content):i.createElement("div",{className:t._classNames.subText},e.content)},t}return(0,o.C6)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.calloutProps,r=e.directionalHint,a=e.directionalHintForRTL,s=e.styles,l=e.id,u=e.maxWidth,c=e.onRenderContent,d=void 0===c?this._onRenderContent:c,p=e.targetElement,f=e.theme;return this._classNames=y(s,{theme:f,className:t||n&&n.className,beakWidth:n&&n.beakWidth,gapSpace:n&&n.gapSpace,maxWidth:u}),i.createElement(g.P,(0,o.Cl)({target:p,directionalHint:r,directionalHintForRTL:a},n,(0,m.G1)(this.props,m.JM,["id"]),{className:this._classNames.root}),i.createElement("div",{className:this._classNames.content,id:l,onFocus:this.props.onFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},d(this.props,this._onRenderContent)))},t.defaultProps={directionalHint:v.A.topCenter,maxWidth:"364px",calloutProps:{isBeakVisible:!0,beakWidth:16,gapSpace:0,setInitialFocus:!0,doNotLayer:!1}},t}(i.Component),x=(0,r.I)(b,(function(e){var t=e.className,n=e.beakWidth,r=void 0===n?16:n,o=e.gapSpace,i=void 0===o?0:o,s=e.maxWidth,l=e.theme,u=l.semanticColors,c=l.fonts,d=l.effects,p=-(Math.sqrt(r*r/2)+i)+1/window.devicePixelRatio;return{root:["ms-Tooltip",l.fonts.medium,a.lw.fadeIn200,{background:u.menuBackground,boxShadow:d.elevation8,padding:"8px",maxWidth:s,selectors:{":after":{content:"''",position:"absolute",bottom:p,left:p,right:p,top:p,zIndex:0}}},t],content:["ms-Tooltip-content",c.small,{position:"relative",zIndex:1,color:u.menuItemText,wordWrap:"break-word",overflowWrap:"break-word",overflow:"hidden"}],subText:["ms-Tooltip-subtext",{fontSize:"inherit",fontWeight:"inherit",color:"inherit",margin:0}]}}),void 0,{scope:"Tooltip"}),_=n(29414),C=(0,s.Z)(),w=function(e){function t(n){var r=e.call(this,n)||this;return r._tooltipHost=i.createRef(),r._defaultTooltipId=(0,l.O)("tooltip"),r.show=function(){r._toggleTooltip(!0)},r.dismiss=function(){r._hideTooltip()},r._getTargetElement=function(){if(r._tooltipHost.current){var e=r.props.overflowMode;if(void 0!==e)switch(e){case u.Parent:return r._tooltipHost.current.parentElement;case u.Self:return r._tooltipHost.current}return r._tooltipHost.current}},r._onTooltipFocus=function(e){r._ignoreNextFocusEvent?r._ignoreNextFocusEvent=!1:r._onTooltipMouseEnter(e)},r._onTooltipContentFocus=function(e){t._currentVisibleTooltip&&t._currentVisibleTooltip!==r&&t._currentVisibleTooltip.dismiss(),t._currentVisibleTooltip=r,r._clearDismissTimer(),r._clearOpenTimer()},r._onTooltipBlur=function(e){r._ignoreNextFocusEvent=(null===document||void 0===document?void 0:document.activeElement)===e.target,r._dismissTimerId=r._async.setTimeout((function(){r._hideTooltip()}),0)},r._onTooltipMouseEnter=function(e){var n,o=r.props,i=o.overflowMode,a=o.delay;if(t._currentVisibleTooltip&&t._currentVisibleTooltip!==r&&t._currentVisibleTooltip.dismiss(),t._currentVisibleTooltip=r,void 0!==i){var s=r._getTargetElement();if(s&&(!function(e){return e.clientWidth<e.scrollWidth}(n=s)&&!function(e){return e.clientHeight<e.scrollHeight}(n)))return}if(!e.target||!(0,c.s)(e.target,r._getTargetElement()))if(r._clearDismissTimer(),r._clearOpenTimer(),a!==_.H.zero){var l=r._getDelayTime(a);r._openTimerId=r._async.setTimeout((function(){r._toggleTooltip(!0)}),l)}else r._toggleTooltip(!0)},r._onTooltipMouseLeave=function(e){var n=r.props.closeDelay;r._clearDismissTimer(),r._clearOpenTimer(),n?r._dismissTimerId=r._async.setTimeout((function(){r._toggleTooltip(!1)}),n):r._toggleTooltip(!1),t._currentVisibleTooltip===r&&(t._currentVisibleTooltip=void 0)},r._onTooltipKeyDown=function(e){(e.which===d.c.escape||e.ctrlKey)&&r.state.isTooltipVisible&&(r._hideTooltip(),e.stopPropagation())},r._clearDismissTimer=function(){r._async.clearTimeout(r._dismissTimerId)},r._clearOpenTimer=function(){r._async.clearTimeout(r._openTimerId)},r._hideTooltip=function(){r._clearOpenTimer(),r._clearDismissTimer(),r._toggleTooltip(!1)},r._toggleTooltip=function(e){r.state.isTooltipVisible!==e&&r.setState({isTooltipVisible:e},(function(){return r.props.onTooltipToggle&&r.props.onTooltipToggle(e)}))},r._getDelayTime=function(e){switch(e){case _.H.medium:return 300;case _.H.long:return 500;default:return 0}},(0,p.f)(r),r.state={isAriaPlaceholderRendered:!1,isTooltipVisible:!1},r._async=new f.j(r),r}return(0,o.C6)(t,e),t.prototype.render=function(){var e=this.props,t=e.calloutProps,n=e.children,r=e.content,s=e.directionalHint,l=e.directionalHintForRTL,u=e.hostClassName,c=e.id,d=e.setAriaDescribedBy,p=void 0===d||d,f=e.tooltipProps,g=e.styles,v=e.theme;this._classNames=C(g,{theme:v,className:u});var y=this.state.isTooltipVisible,b=c||this._defaultTooltipId,_=(0,o.Cl)((0,o.Cl)({id:b+"--tooltip",content:r,targetElement:this._getTargetElement(),directionalHint:s,directionalHintForRTL:l,calloutProps:(0,h.kp)({},t,{onDismiss:this._hideTooltip,onFocus:this._onTooltipContentFocus,onMouseEnter:this._onTooltipMouseEnter,onMouseLeave:this._onTooltipMouseLeave}),onMouseEnter:this._onTooltipMouseEnter,onMouseLeave:this._onTooltipMouseLeave},(0,m.G1)(this.props,m.JM,["id"])),f),w=(null===f||void 0===f?void 0:f.onRenderContent)?f.onRenderContent(_,(function(e){return(null===e||void 0===e?void 0:e.content)?i.createElement(i.Fragment,null,e.content):null})):r,S=y&&!!w,k=p&&y&&w?b:void 0;return i.createElement("div",(0,o.Cl)({className:this._classNames.root,ref:this._tooltipHost},{onFocusCapture:this._onTooltipFocus},{onBlurCapture:this._onTooltipBlur},{onMouseEnter:this._onTooltipMouseEnter,onMouseLeave:this._onTooltipMouseLeave,onKeyDown:this._onTooltipKeyDown,role:"none","aria-describedby":k}),n,S&&i.createElement(x,(0,o.Cl)({},_)),i.createElement("div",{hidden:!0,id:b,style:a.dX},w))},t.prototype.componentWillUnmount=function(){t._currentVisibleTooltip&&t._currentVisibleTooltip===this&&(t._currentVisibleTooltip=void 0),this._async.dispose()},t.defaultProps={delay:_.H.medium},t}(i.Component),S={root:"ms-TooltipHost",ariaPlaceholder:"ms-TooltipHost-aria-placeholder"},k=(0,r.I)(w,(function(e){var t=e.className,n=e.theme;return{root:[(0,a.Km)(S,n).root,{display:"inline"},t]}}),void 0,{scope:"TooltipHost"})},16097:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,XM:()=>o,uK:()=>i});var r=180/Math.PI;function o(e){return e>180?e-=360:e<=-180&&(e+=360),e}function i(e,t){var n=o(t)-o(e);return n>180?n-=360:n<-180&&(n+=360),n}},16344:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});var r=n(98689),o=n(9950),i=n(79847),a=function(e){var t=e.header,n=e.children,a=(0,r.D)(),s=o.useMemo((function(){return function(e){return{root:{display:"flex",flexDirection:"column",height:"100%"},header:{padding:"0 16px",backgroundColor:(0,i.g)(e)?"#363636":e.palette.neutralLight,height:"42px",display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between"}}}(a)}),[a]);return o.createElement("div",{style:s.root},o.createElement("div",{style:s.header},t),o.createElement(o.Fragment,null,n))}},16423:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var r=n(44121);function o(e){return e===r.I.zoomToCrop||e===r.I.keyboardCropping||e===r.I.keyboardRotating}},16820:(e,t,n)=>{"use strict";n.d(t,{n:()=>I});var r,o=n(69187),i=n(37827),a=n(9950),s=n(56624),l=n(28225),u=n(23501),c=n(19496),d=n(84495),p=n(610),f=n(3576),h=n(44535),m=n(88114),g=((r={})[f.H.info]="Info",r[f.H.warning]="Info",r[f.H.error]="ErrorBadge",r[f.H.blocked]="Blocked2",r[f.H.severeWarning]="Warning",r[f.H.success]="Completed",r),v=(0,s.Z)(),y=function(e){switch(e){case f.H.blocked:case f.H.error:case f.H.severeWarning:return"assertive"}return"polite"},b=function(e){switch(e){case f.H.blocked:case f.H.error:case f.H.severeWarning:return"alert"}return"status"},x=a.forwardRef((function(e,t){var n=(0,h.C)(!1),r=n[0],o=n[1].toggle,s=(0,m.B)("MessageBar"),x=e.actions,_=e.className,C=e.children,w=e.overflowButtonAriaLabel,S=e.dismissIconProps,k=e.styles,T=e.theme,E=e.messageBarType,P=void 0===E?f.H.info:E,I=e.onDismiss,A=void 0===I?void 0:I,R=e.isMultiline,L=void 0===R||R,M=e.truncated,B=e.dismissButtonAriaLabel,O=e.messageBarIconProps,F=e.role,D=e.delayedRender,N=void 0===D||D,U=e.expandButtonProps,z=(0,l.G1)(e,l.vt,["className","role"]),j=v(k,{theme:T,messageBarType:P||f.H.info,onDismiss:void 0!==A,actions:void 0!==x,truncated:M,isMultiline:L,expandSingleLine:r,className:_}),V={iconName:r?"DoubleChevronUp":"DoubleChevronDown"},W=x||A?{"aria-describedby":s,role:"region"}:{},H=x?a.createElement("div",{className:j.actions},x):null,q=A?a.createElement(d.K,{disabled:!1,className:j.dismissal,onClick:A,iconProps:S||{iconName:"Clear"},title:B,ariaLabel:B}):null;return a.createElement("div",(0,i.Cl)({ref:t,className:j.root},W),a.createElement("div",{className:j.content},a.createElement("div",{className:j.iconContainer,"aria-hidden":!0},O?a.createElement(p.I,(0,i.Cl)({},O,{className:(0,u.A)(j.icon,O.className)})):a.createElement(p.I,{iconName:g[P],className:j.icon})),a.createElement("div",{className:j.text,id:s,role:F||b(P),"aria-live":y(P)},a.createElement("span",(0,i.Cl)({className:j.innerText},z),N?a.createElement(c.P,null,a.createElement("span",null,C)):a.createElement("span",null,C))),!L&&!H&&M&&a.createElement("div",{className:j.expandSingleLine},a.createElement(d.K,(0,i.Cl)({disabled:!1,className:j.expand,onClick:o,iconProps:V,ariaLabel:w,"aria-expanded":r},U))),!L&&H,!L&&q&&a.createElement("div",{className:j.dismissSingleLine},q),L&&q),L&&H)}));x.displayName="MessageBar";var _,C,w,S=n(32e3),k={root:"ms-MessageBar",error:"ms-MessageBar--error",blocked:"ms-MessageBar--blocked",severeWarning:"ms-MessageBar--severeWarning",success:"ms-MessageBar--success",warning:"ms-MessageBar--warning",multiline:"ms-MessageBar-multiline",singleline:"ms-MessageBar-singleline",dismissalSingleLine:"ms-MessageBar-dismissalSingleLine",expandingSingleLine:"ms-MessageBar-expandingSingleLine",content:"ms-MessageBar-content",iconContainer:"ms-MessageBar-icon",text:"ms-MessageBar-text",innerText:"ms-MessageBar-innerText",dismissSingleLine:"ms-MessageBar-dismissSingleLine",expandSingleLine:"ms-MessageBar-expandSingleLine",dismissal:"ms-MessageBar-dismissal",expand:"ms-MessageBar-expand",actions:"ms-MessageBar-actions",actionsSingleline:"ms-MessageBar-actionsSingleLine"},T=((_={})[f.H.error]="errorBackground",_[f.H.blocked]="errorBackground",_[f.H.success]="successBackground",_[f.H.warning]="warningBackground",_[f.H.severeWarning]="severeWarningBackground",_[f.H.info]="infoBackground",_),E=((C={})[f.H.error]="rgba(255, 0, 0, 0.3)",C[f.H.blocked]="rgba(255, 0, 0, 0.3)",C[f.H.success]="rgba(48, 241, 73, 0.3)",C[f.H.warning]="rgba(255, 254, 57, 0.3)",C[f.H.severeWarning]="rgba(255, 0, 0, 0.3)",C[f.H.info]="Window",C),P=((w={})[f.H.error]="errorIcon",w[f.H.blocked]="errorIcon",w[f.H.success]="successIcon",w[f.H.warning]="warningIcon",w[f.H.severeWarning]="severeWarningIcon",w[f.H.info]="infoIcon",w),I=(0,o.I)(x,(function(e){var t,n,r,o,a,s=e.theme,l=e.className,u=e.onDismiss,c=e.truncated,d=e.isMultiline,p=e.expandSingleLine,h=e.messageBarType,m=void 0===h?f.H.info:h,g=s.semanticColors,v=s.fonts,y=(0,S.L6)(0,S.iD),b=(0,S.Km)(k,s),x={fontSize:S.fF.xSmall,height:10,lineHeight:"10px",color:g.messageText,selectors:(t={},t[S.up]=(0,i.Cl)((0,i.Cl)({},(0,S.Qg)()),{color:"WindowText"}),t)},_=[(0,S.gm)(s,{inset:1,highContrastStyle:{outlineOffset:"-6px",outline:"1px solid Highlight"},borderColor:"transparent"}),{flexShrink:0,width:32,height:32,padding:"8px 12px",selectors:{"& .ms-Button-icon":x,":hover":{backgroundColor:"transparent"},":active":{backgroundColor:"transparent"}}}];return{root:[b.root,v.medium,m===f.H.error&&b.error,m===f.H.blocked&&b.blocked,m===f.H.severeWarning&&b.severeWarning,m===f.H.success&&b.success,m===f.H.warning&&b.warning,d?b.multiline:b.singleline,!d&&u&&b.dismissalSingleLine,!d&&c&&b.expandingSingleLine,{background:g[T[m]],color:g.messageText,minHeight:32,width:"100%",display:"flex",wordBreak:"break-word",selectors:(n={".ms-Link":{color:g.messageLink,selectors:{":hover":{color:g.messageLinkHovered}}}},n[S.up]=(0,i.Cl)((0,i.Cl)({},(0,S.Qg)()),{background:E[m],border:"1px solid WindowText",color:"WindowText"}),n)},d&&{flexDirection:"column"},l],content:[b.content,{display:"flex",width:"100%",lineHeight:"normal"}],iconContainer:[b.iconContainer,{fontSize:S.fF.medium,minWidth:16,minHeight:16,display:"flex",flexShrink:0,margin:"8px 0 8px 12px"}],icon:{color:g[P[m]],selectors:(r={},r[S.up]=(0,i.Cl)((0,i.Cl)({},(0,S.Qg)()),{color:"WindowText"}),r)},text:[b.text,(0,i.Cl)((0,i.Cl)({minWidth:0,display:"flex",flexGrow:1,margin:8},v.small),{selectors:(o={},o[S.up]=(0,i.Cl)({},(0,S.Qg)()),o)}),!u&&{marginRight:12}],innerText:[b.innerText,{lineHeight:16,selectors:{"& span a:last-child":{paddingLeft:4}}},c&&{overflow:"visible",whiteSpace:"pre-wrap"},!d&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},!d&&!c&&{selectors:(a={},a[y]={overflow:"visible",whiteSpace:"pre-wrap"},a)},p&&{overflow:"visible",whiteSpace:"pre-wrap"}],dismissSingleLine:b.dismissSingleLine,expandSingleLine:b.expandSingleLine,dismissal:[b.dismissal,_],expand:[b.expand,_],actions:[d?b.actions:b.actionsSingleline,{display:"flex",flexGrow:0,flexShrink:0,flexBasis:"auto",flexDirection:"row-reverse",alignItems:"center",margin:"0 12px 0 8px",forcedColorAdjust:"auto",MsHighContrastAdjust:"auto",selectors:{"& button:nth-child(n+2)":{marginLeft:8}}},d&&{marginBottom:8},u&&!d&&{marginRight:0}]}}),void 0,{scope:"MessageBar"})},17119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(38345)},17514:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,N:()=>r});var r=["main","singleTileMain","singleTilePreSharpen","singleTileTemp","singleTileBackground","overlay","original","backgroundMask","eraseMask","normalMap","objectSegmentationPreview"],o=["main","singleTileBackground","overlay","backgroundMask","eraseMask","normalMap","objectSegmentationPreview"]},17523:(e,t,n)=>{"use strict";n.d(t,{$O:()=>c,DK:()=>a,GK:()=>s,Wj:()=>u});var r=n(64570),o=n(38664),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(){var e={};return(0,r.qV)().forEach((function(t){e[t]=r.nS})),e}function s(e){var t={};return Object.keys(e).forEach((function(e){t[e]=a()})),i(i({},l),{adjustmentsByDynamicLayer:t})}var l={version:o.A.Latest,maskLevel:0,baseAdjustments:a(),adjustmentsByDynamicLayer:{},selectedDynamicLayerId:void 0},u=i(i({},l),{disableUndoRedoOverride:void 0,undoPayload:void 0}),c=i(i({},u),{undoRedoStack:{undoStack:[],redoStack:[],id:"colorAdjustmentUndoRedoStack"}})},17559:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(90154);function o(e,t){return void 0===t&&(t=!0),e&&(t&&function(e){var t;return e&&(0,r.q)(e)&&(t=e._virtual.parent),t}(e)||e.parentNode&&e.parentNode)}},17724:(e,t,n)=>{"use strict";n.d(t,{DP:()=>x,SZ:()=>w,Yb:()=>_,s:()=>b});var r=n(75347),o=n(66788),i=n(45824),a=n(81902),s=n(38421),l=n(40685),u=n(3493),c=n(44121),d=n(69893),p=n(73034),f=n(72079),h=n(88873),m=n(61297),g=n(34354),v=n(21994),y=window.devicePixelRatio||1,b=c.I.none,x=d.m.fitCropRectInView,_=v.qO,C={mode:x,marginCssPixels:(0,s.aW)(0)},w={userDefinedDefaults:void 0,image:{originalPixelSize:{x:1,y:1},_preciseUvToWorld:(0,r.uz)(),loadedPixelSize:void 0,exifOrientation:g.Lf},view:{worldToView:(0,r.uz)(),viewFitting:C,viewportPixelSize:{x:1,y:1},allowDraggingView:!1,viewportCssSize:{width:"100%",height:"100%"},enableZoomToView:!1,animateViewWhenViewportIsResized:!1,canViewOriginal:!1},cropUiDisplay:{handleSizeCss:l.US,handleHitAreaSizeCss:l.Oc,areCropOverlaysVisible:!1},cropInteraction:{mode:b,activeHandleIndex:u.Q.None,focusedHandleIndex:u.Q.None,isKeyboardFocused:!1,rectAtStartOfResize:{top:0,left:0,width:0,height:0},uvToWorld:(0,r.uz)(),_uvToWorldBeforeRotate:(0,r.uz)(),_uvToWorldBeforeZoomToCrop:(0,r.uz)(),_lastUvToWorldNotSetByAspectRatioChange:(0,r.uz)(),aspectRatio:_,aspectRatiosList:v.gV,shouldInvertOriginalAspectRatio:!1,rectTopLeftInImageUv:{x:0,y:0},rectBottomRightInImageUv:{x:1,y:1},shouldConstrainInImage:!0,allowDraggingImageOutsideRect:!0,enableZoomToCrop:!0,enableLeftMouseDraggingView:!0},rotationUi:{isKeyboardFocused:!1,deadZoneCenterPos:0,rotationBarPointer:{movePos:{x:0,y:0},incrementingIdOfPointerThatIsDown:void 0}},device:{pixelRatio:y},pointer:{movePos:{x:0,y:0},pointerDowns:[],preventShift:!1,offset:{x:0,y:0},imageUvGrabPosition:{x:0,y:0},downPos:{x:0,y:0},maxDragDistance:0,downOffsetFromCropHandleCenter:{x:0,y:0}},animations:{needsFrameTick:!1,currentTime:0,outsideCropVisibility:(0,o.ci)(),gridLineVisibility:(0,a.jG)(),dismissGridLineVisibility:(0,o.ci)(),dismissOutsideCropVisibility:(0,o.ci)(),worldToView:(0,i.Vz)(),image:(0,i.Vz)(),crop:(0,i.Vz)(),transitionToViewingOriginal:(0,o.ci)(),dismissCropOverlays:(0,o.ci)()},touch:{scale:1,isDown:!1,downCenterPos:{x:0,y:0}},undoRedoStack:{undoStack:[],redoStack:[],id:"transformToolsUndoRedoStack"},savedStates:{},lastKeyboardShiftingMode:p.db,mouseWheelScrollCount:f.v};(0,m.v)(w,h.iF)},17755:(e,t,n)=>{"use strict";n.d(t,{IG:()=>b,Je:()=>f,OJ:()=>_,UW:()=>y,_U:()=>C,bI:()=>x,o8:()=>w});var r=n(56107),o=n(3493),i=n(75795),a=n(75347),s=n(26397),l=n(21925),u=n(72989),c=n(6494),d=n(2171),p=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function f(e,t){var n=(0,a.bi)(e),r=n[0],o=n[1],i=n[2],l=n[3],u=(0,a.bi)(t),c=u[0],d=u[1],p=u[2],f=u[3],h=(0,s.jR)((0,s.Bp)(d,c)),m=(0,s.jR)((0,s.Bp)(f,c));if(0===h||0===m){var g=(0,s.m1)((0,s.Bp)(p,c),.5),v=(0,s.m1)((0,s.Bp)(i,r),.5),y=(0,s.Bp)(g,v);return{tx:y.x,ty:y.y,scale:0}}var b=(0,s.hF)((0,s.Bp)(d,c)),x={x:-b.y,y:b.x},_={x:(0,s.cF)(r,b),y:(0,s.cF)(r,x)},C={x:(0,s.cF)(o,b),y:(0,s.cF)(o,x)},w={x:(0,s.cF)(i,b),y:(0,s.cF)(i,x)},S={x:(0,s.cF)(l,b),y:(0,s.cF)(l,x)},k=Math.min(_.x,C.x,w.x,S.x),T=Math.min(_.y,C.y,w.y,S.y),E=Math.max(_.x,C.x,w.x,S.x),P=Math.max(_.y,C.y,w.y,S.y)-T,I=E-k,A=(0,s.jR)((0,s.Bp)(d,c)),R=(0,s.jR)((0,s.Bp)(f,c)),L=Math.min(A/I,R/P),M=(0,a.ZG)((0,a.U3)(L,L),e),B=(0,a.vo)(M,{x:0,y:0}),O=(0,a.vo)(M,{x:1,y:1}),F=(0,s.Us)(O,B),D=(0,s.Us)(p,c),N=(0,s.Bp)(D,F);return{tx:N.x,ty:N.y,scale:L}}var h={horizontalTopLeftToRight:{fixedEnd:o.Q.TopLeft,freeEnd:o.Q.TopRight},horizontalTopRightToLeft:{fixedEnd:o.Q.TopRight,freeEnd:o.Q.TopLeft},horizontalBottomLeftToRight:{fixedEnd:o.Q.BottomLeft,freeEnd:o.Q.BottomRight},horizontalBottomRightToLeft:{fixedEnd:o.Q.BottomRight,freeEnd:o.Q.BottomLeft},verticalLeftTopToBottom:{fixedEnd:o.Q.TopLeft,freeEnd:o.Q.BottomLeft},verticalLeftBottomToTop:{fixedEnd:o.Q.BottomLeft,freeEnd:o.Q.TopLeft},verticalRightTopToBottom:{fixedEnd:o.Q.TopRight,freeEnd:o.Q.BottomRight},verticalRightBottomToTop:{fixedEnd:o.Q.BottomRight,freeEnd:o.Q.TopRight},diagonalTopLeftToBottomRight:{fixedEnd:o.Q.TopLeft,freeEnd:o.Q.BottomRight},diagonalBottomRightToTopLeft:{fixedEnd:o.Q.BottomRight,freeEnd:o.Q.TopLeft},diagonalTopRightToBottomLeft:{fixedEnd:o.Q.TopRight,freeEnd:o.Q.BottomLeft},diagonalBottomLeftToTopRight:{fixedEnd:o.Q.BottomLeft,freeEnd:o.Q.TopRight}},m={leftToRight:[h.horizontalTopLeftToRight,h.horizontalBottomLeftToRight],rightToLeft:[h.horizontalTopRightToLeft,h.horizontalBottomRightToLeft],topToBottom:[h.verticalLeftTopToBottom,h.verticalRightTopToBottom],bottomToTop:[h.verticalLeftBottomToTop,h.verticalRightBottomToTop],fromTopLeft:[h.horizontalTopLeftToRight,h.verticalLeftTopToBottom,h.diagonalTopLeftToBottomRight],fromTopRight:[h.horizontalTopRightToLeft,h.verticalRightTopToBottom,h.diagonalTopRightToBottomLeft],fromBottomLeft:[h.verticalLeftBottomToTop,h.horizontalBottomLeftToRight,h.diagonalBottomLeftToTopRight],fromBottomRight:[h.verticalRightBottomToTop,h.horizontalBottomRightToLeft,h.diagonalBottomRightToTopLeft]};function g(e,t,n,i,p,f,h){for(var m=(0,a.vo)(e,(0,d.yU)(i.fixedEnd)),g=(0,a.vo)(e,(0,d.yU)(i.freeEnd)),v=0,y=void 0,b=0;b<n.length;b++){var x=(0,u.A)(m,g,n[b],n[(b+1)%n.length]);if(void 0!==x){var _=(0,s.Bp)(g,m),C=(0,s.If)(m,(0,s.m1)(_,.5*x));(0,s.kn)((0,a.J)(t,C))&&(v=Math.max(v,x))}}return v<1&&v>0&&(y=function(e,t,n,i,s,u,d){var p=(0,c.as)(e),f=t.x===n.x,h=t.y===n.y,m=p&&f?1:u,g=p&&h?1:u,v=t.x,y=t.y,b=(0,l.SM)(i);return s===o.Q.TopCenter||s===o.Q.BottomCenter?p?m=1:(v=b.left+b.width/2,m-=1-u,g-=1-u):s!==o.Q.SideLeft&&s!==o.Q.SideRight||(p?g=1:(y=b.top+b.height/2,m-=1-u,g-=1-u)),d===r.y.Right||d===r.y.Left?g=1:d!==r.y.Up&&d!==r.y.Down||(m=1),(0,a.n1)(m,g,v,y)}(p,m,g,e,f,v,h)),y}function v(e,t,n,r,o,i){var s,l=(0,a.AW)(n),u=(0,a.bi)(l);return e.forEach((function(e){var n=null!==s&&void 0!==s?s:t,c=g(n,l,u,e,r,o,i);void 0!==c&&(s=(0,a.ZG)(c,n))})),s}function y(e,t){var n=(0,a.eE)(e),r=(0,a.bi)(t).map((function(e){return(0,a.vo)(n,e)})).reduce((function(e,t){var n=0;t.x<0?n=-t.x:t.x>1&&(n=1-t.x);var r=0;return t.y<0?r=-t.y:t.y>1&&(r=1-t.y),Math.abs(n)>Math.abs(e.x)&&(e.x=n),Math.abs(r)>Math.abs(e.y)&&(e.y=r),e}),{x:0,y:0}),o=(0,a.bM)(e);return(0,s.Bp)((0,a.vo)(e,r),o)}function b(e,t,n,r){var s=(0,a.vt)(e),u=(0,c.as)(n),d=null;switch(r){case o.Q.TopLeft:d=m.fromBottomRight;break;case o.Q.TopCenter:d=u?m.bottomToTop:p(p([],m.fromBottomRight,!0),m.fromBottomLeft,!0);break;case o.Q.TopRight:d=m.fromBottomLeft;break;case o.Q.SideLeft:d=u?m.rightToLeft:p(p([],m.fromBottomRight,!0),m.fromTopRight,!0);break;case o.Q.Center:var f=y(t,e);s=(0,a.ZG)((0,a.iQ)(f.x,f.y),e);break;case o.Q.SideRight:d=u?m.leftToRight:p(p([],m.fromBottomLeft,!0),m.fromTopLeft,!0);break;case o.Q.BottomLeft:d=m.fromTopRight;break;case o.Q.BottomCenter:d=u?m.topToBottom:p(p([],m.fromTopLeft,!0),m.fromTopRight,!0);break;case o.Q.BottomRight:d=m.fromTopLeft}if(d&&(s=v(d,e,t,n,r)),s){var h=(0,i.c4)((0,l.SM)(s));return(0,l.Vq)(h)}return e}function x(e,t,n,s,u){var c=(0,a.vt)(e);if(s===o.Q.Center){var d=y(t,e);return(0,a.ZG)((0,a.iQ)(d.x,d.y),e)}var p=function(e,t){switch(t){case r.y.Up:if([o.Q.TopLeft,o.Q.TopRight,o.Q.Center].includes(e))return m.bottomToTop;break;case r.y.Left:if([o.Q.TopLeft,o.Q.BottomLeft,o.Q.Center].includes(e))return m.rightToLeft;break;case r.y.Right:if([o.Q.TopRight,o.Q.BottomRight,o.Q.Center].includes(e))return m.leftToRight;break;case r.y.Down:if([o.Q.BottomLeft,o.Q.BottomRight,o.Q.Center].includes(e))return m.topToBottom}return[]}(s,u);p.length>0&&(c=v(p,e,t,n,s,u)||c);var f=(0,i.c4)((0,l.SM)(c));return(0,l.Vq)(f)}function _(e,t){var n=(0,a.bi)(e),r=(0,a.bi)(t),o=(0,s.Us)(n[2],n[0]);if((0,s.kn)((0,a.J)(t,o))){var i=Number.MAX_VALUE;return n.forEach((function(e){for(var t=0;t<r.length;t++){var n=(0,u.A)(o,e,r[t],r[(t+1)%r.length]);void 0!==n&&(i=Math.min(i,n))}})),i===Number.MAX_VALUE?void 0:i}}function C(e,t,n){var r=_(e,t);if(void 0!==r){if(r<1){var o=(0,l.KN)(e),s=o.x,u=o.y,c=(0,a.ZG)((0,a.n1)(r,r,s,u),e),d=(0,i.c4)((0,l.SM)(c));return(0,l.Vq)(d)}return e}var p=f(n,t),h=p.tx,m=p.ty,g=p.scale,v=n,y=(0,a.U3)(g),b=(0,a.iQ)(h,m);return(0,a.ZG)(b,y,v)}function w(e){return e!==o.Q.None&&e!==o.Q.Center}},18047:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var r={markup_markupToolbarPenTooltip:"Pen",markup_markupToolbarPenAriaLabel:"Pen",markup_markupToolbarPenAriaDescription:"Select and drag on image to add an ink stroke. Select this button again to change ink properties.",markup_markupToolbarEraserTooltip:"Remove markup",markup_markupToolbarEraserAriaLabel:"Remove markup",markup_markupToolbarEraserAriaDescription:"Select and drag over markup to remove it.",markup_markupToolbarHighlighterTooltip:"Highlighter",markup_markupToolbarHighlighterAriaLabel:"Highlighter",markup_markupToolbarHighlighterAriaDescription:"Select and drag on image to add an ink stroke. Select this button again to change ink properties.",markup_markupToolbarClearAllMarkupTooltip:"Clear all markup",markup_markupToolbarClearAllMarkupAriaLabel:"Clear all markup",markup_markupToolbarThickness:"Thickness",markup_clearAllMarkupDialogCloseButtonAriaLabel:"Close",markup_clearAllMarkupDialogTitle:"Clear all markup?",markup_clearAllMarkupDialogSubText:"All markup applied to the image will be permanently removed.",markup_clearAllMarkupDialogConfirmButtonText:"Confirm",markup_clearAllMarkupDialogConfirmButtonAriaLabel:"Confirm",markup_clearAllMarkupDialogCancelButtonText:"Cancel",markup_clearAllMarkupDialogCancelButtonAriaLabel:"Cancel",markup_markupToolbarBrushFormatString:"{0}: {1}, {2}: {3}, {4}",markup_markupToolbarBrushFormatWithArrowModeString:"{0}: {1}, {2}: {3}, {4} with {5}",markup_markupToolbarTooltipChangeInkProperties:"Select again to change ink properties.",markup_inkThicknessSliderHeaderLabel:"Stroke Thickness",markup_inkThicknessSliderAriaLabel:"Slider to pick the thickness of the selected brush.",markup_addedInkStrokeAriaLive:"Added an ink stroke to image, {0}, {1}, thickness {2}",markup_removedInkStrokesAriaLive:"Removed {0} out of {1} ink strokes",markup_clearedAllMarkupAriaLive:"Cleared all markup",markup_inkPenThicknessSliderAriaLabel:"Pen thickness.",markup_inkHighlighterThicknessSliderAriaLabel:"Highlighter thickness.",markup_inkThicknessSliderTitle:"Drag on slider or use arrow keys to change stroke thickness",markup_markupToolbarAriaLandmark:"Markup Toolbar",markup_colorDarkYellow:"Dark Yellow",markup_colorLightOrange:"Light Orange",markup_colorOrange:"Orange",markup_colorRed:"Red",markup_colorDarkPurple:"Dark Purple",markup_colorPurple:"Purple",markup_colorMagenta:"Magenta",markup_colorDarkRed:"Dark Red",markup_colorLightBlue:"Light Blue",markup_colorBlue:"Blue",markup_colorDarkBlue:"Dark Blue",markup_colorLightGreen:"Light Green",markup_colorGreen:"Green",markup_colorLightGray:"Light Gray",markup_colorGray:"Gray",markup_colorBlack:"Black",markup_colorTableAriaLabel:"Colors",markup_noArrowButtonText:"No Arrow",markup_straightNoArrowButtonTooltip:"Plain straight line",markup_straightNoArrowButtonAriaLabel:"Create a plain straight line",markup_singleArrowButtonText:"Single Arrow",markup_straightSingleArrowButtonTooltip:"Straight line with arrow",markup_straightSingleArrowButtonAriaLabel:"Create a straight line with an arrow at one end",markup_doubleArrowButtonText:"Double Arrow",markup_straightDoubleArrowButtonTooltip:"Straight Line with double arrows",markup_straightDoubleArrowButtonAriaLabel:"Create a straight line with arrows at both ends",markup_freehandNoArrowButtonTooltip:"Plain freehand line",markup_freehandNoArrowButtonAriaLabel:"Create a plain line by freehand",markup_freehandSingleArrowButtonTooltip:"Freehand line with arrow",markup_freehandSingleArrowButtonAriaLabel:"Create a freehand line with an arrow at one end",markup_freehandDoubleArrowButtonTooltip:"Freehand Line with double arrows",markup_freehandDoubleArrowButtonAriaLabel:"Create a freehand line with arrows at both ends",markup_markupToolbarNoArrowTip:"no arrow",markup_markupToolbarSingleArrowTip:"arrow end",markup_markupToolbarDoubleArrowTip:"double arrow ends",markup_strokeShapeCalloutHeaderText:"Straight line",markup_strokeShapeCalloutMainText:"Activate and draw straight-line fast by holding Shift while left mouse click and drag.",markup_strokeShapeToastText:"Hold at end of a stroke to convert into a straight line.",markup_freehandLine:"Freehand line",markup_straightLine:"Straight line",markup_textboxDefaultContent:"Type something",markup_textBoxInvalidInputTypeErrorMessage:"This is not a valid number.",markup_textBoxInvalidInputRangeErrorMessage:"The number must be between {0} and {1}.",markup_panelLabel:"Markup"}},18699:(e,t,n)=>{"use strict";n.d(t,{It:()=>c,RL:()=>s,YQ:()=>a,ZW:()=>l,i0:()=>u});var r=n(73553),o=n(75347),i=n(26262),a=.05,s=5/95;function l(e,t){return e*(1-t)}function u(e,t){return(0,r.q)(e,t,i.jC)}function c(e,t,n){var r=(0,o.oi)(e,t,1,1,n.x,n.y);return(0,o.ZG)(r,e)}},18746:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var r=n(95673),o=function(){function e(e,t){this._timeoutIds=null,this._immediateIds=null,this._intervalIds=null,this._animationFrameIds=null,this._isDisposed=!1,this._parent=e||null,this._onErrorHandler=t,this._noop=function(){}}return e.prototype.dispose=function(){var e;if(this._isDisposed=!0,this._parent=null,this._timeoutIds){for(e in this._timeoutIds)this._timeoutIds.hasOwnProperty(e)&&this.clearTimeout(parseInt(e,10));this._timeoutIds=null}if(this._immediateIds){for(e in this._immediateIds)this._immediateIds.hasOwnProperty(e)&&this.clearImmediate(parseInt(e,10));this._immediateIds=null}if(this._intervalIds){for(e in this._intervalIds)this._intervalIds.hasOwnProperty(e)&&this.clearInterval(parseInt(e,10));this._intervalIds=null}if(this._animationFrameIds){for(e in this._animationFrameIds)this._animationFrameIds.hasOwnProperty(e)&&this.cancelAnimationFrame(parseInt(e,10));this._animationFrameIds=null}},e.prototype.setTimeout=function(e,t){var n=this,r=0;return this._isDisposed||(this._timeoutIds||(this._timeoutIds={}),r=setTimeout((function(){try{n._timeoutIds&&delete n._timeoutIds[r],e.apply(n._parent)}catch(t){n._logError(t)}}),t),this._timeoutIds[r]=!0),r},e.prototype.clearTimeout=function(e){this._timeoutIds&&this._timeoutIds[e]&&(clearTimeout(e),delete this._timeoutIds[e])},e.prototype.setImmediate=function(e,t){var n=this,o=0,i=(0,r.z)(t);if(!this._isDisposed){this._immediateIds||(this._immediateIds={});o=i.setTimeout((function(){try{n._immediateIds&&delete n._immediateIds[o],e.apply(n._parent)}catch(t){n._logError(t)}}),0),this._immediateIds[o]=!0}return o},e.prototype.clearImmediate=function(e,t){var n=(0,r.z)(t);this._immediateIds&&this._immediateIds[e]&&(n.clearTimeout(e),delete this._immediateIds[e])},e.prototype.setInterval=function(e,t){var n=this,r=0;return this._isDisposed||(this._intervalIds||(this._intervalIds={}),r=setInterval((function(){try{e.apply(n._parent)}catch(t){n._logError(t)}}),t),this._intervalIds[r]=!0),r},e.prototype.clearInterval=function(e){this._intervalIds&&this._intervalIds[e]&&(clearInterval(e),delete this._intervalIds[e])},e.prototype.throttle=function(e,t,n){var r=this;if(this._isDisposed)return this._noop;var o,i,a=t||0,s=!0,l=!0,u=0,c=null;n&&"boolean"===typeof n.leading&&(s=n.leading),n&&"boolean"===typeof n.trailing&&(l=n.trailing);var d=function(t){var n=Date.now(),p=n-u,f=s?a-p:a;return p>=a&&(!t||s)?(u=n,c&&(r.clearTimeout(c),c=null),o=e.apply(r._parent,i)):null===c&&l&&(c=r.setTimeout(d,f)),o};return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i=e,d(!0)}},e.prototype.debounce=function(e,t,n){var r=this;if(this._isDisposed){var o=function(){};return o.cancel=function(){},o.flush=function(){return null},o.pending=function(){return!1},o}var i,a,s=t||0,l=!1,u=!0,c=null,d=0,p=Date.now(),f=null;n&&"boolean"===typeof n.leading&&(l=n.leading),n&&"boolean"===typeof n.trailing&&(u=n.trailing),n&&"number"===typeof n.maxWait&&!isNaN(n.maxWait)&&(c=n.maxWait);var h=function(e){f&&(r.clearTimeout(f),f=null),p=e},m=function(t){h(t),i=e.apply(r._parent,a)},g=function(e){var t=Date.now(),n=!1;e&&(l&&t-d>=s&&(n=!0),d=t);var o=t-d,a=s-o,h=t-p,v=!1;return null!==c&&(h>=c&&f?v=!0:a=Math.min(a,c-h)),o>=s||v||n?m(t):null!==f&&e||!u||(f=r.setTimeout(g,a)),i},v=function(){return!!f},y=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a=e,g(!0)};return y.cancel=function(){v()&&h(Date.now())},y.flush=function(){return v()&&m(Date.now()),i},y.pending=v,y},e.prototype.requestAnimationFrame=function(e,t){var n=this,o=0,i=(0,r.z)(t);if(!this._isDisposed){this._animationFrameIds||(this._animationFrameIds={});var a=function(){try{n._animationFrameIds&&delete n._animationFrameIds[o],e.apply(n._parent)}catch(t){n._logError(t)}};o=i.requestAnimationFrame?i.requestAnimationFrame(a):i.setTimeout(a,0),this._animationFrameIds[o]=!0}return o},e.prototype.cancelAnimationFrame=function(e,t){var n=(0,r.z)(t);this._animationFrameIds&&this._animationFrameIds[e]&&(n.cancelAnimationFrame?n.cancelAnimationFrame(e):n.clearTimeout(e),delete this._animationFrameIds[e])},e.prototype._logError=function(e){this._onErrorHandler&&this._onErrorHandler(e)},e}()},18923:(e,t,n)=>{"use strict";n.d(t,{d:()=>a});var r=n(85913),o=n(40177),i=(0,r.Mz)([o.An,o.bw],(function(e,t){return e?t:0})),a=(0,r.Mz)([i],(function(e){return e>10}))},19323:(e,t,n)=>{"use strict";n.d(t,{g:()=>a});var r=n(48932);var o=n(79734),i=n(95306);function a(e){var t=e.a,n=void 0===t?r.ef:t,a=e.b,s=e.g,l=e.r,u=function(e,t,n){var o=NaN,i=Math.max(e,t,n),a=i-Math.min(e,t,n);return 0===a?o=0:e===i?o=(t-n)/a%6:t===i?o=(n-e)/a+2:n===i&&(o=(e-t)/a+4),(o=Math.round(60*o))<0&&(o+=360),{h:o,s:Math.round(100*(0===i?0:a/i)),v:Math.round(i/r.rd*100)}}(l,s,a),c=u.h,d=u.s,p=u.v,f=(0,o.v)(l,s,a);return{a:n,b:a,g:s,h:c,hex:f,r:l,s:d,str:(0,i.F)(l,s,a,n,f),v:p,t:r.ef-n}}},19376:(e,t,n)=>{"use strict";n.d(t,{J:()=>o,Y:()=>i});var r=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.replace(/{(\d+)}/g,(function(n,r){if(void 0===t[r])throw new Error("Argument at index ".concat(r," is undefined. String is ").concat(e,". Max index provided was ").concat(t.length-1,"."));return t[r]}))}function i(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=n.map((function(e){return t(e)}));return o.apply(void 0,r([e],a,!1))}},19496:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(37827),o=n(9950),i=n(95673),a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isRendered:void 0===(0,i.z)()},n}return(0,r.C6)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.delay;this._timeoutId=window.setTimeout((function(){e.setState({isRendered:!0})}),t)},t.prototype.componentWillUnmount=function(){this._timeoutId&&clearTimeout(this._timeoutId)},t.prototype.render=function(){return this.state.isRendered?o.Children.only(this.props.children):null},t.defaultProps={delay:0},t}(o.Component)},19550:(e,t,n)=>{"use strict";n.d(t,{OA:()=>l,Oi:()=>i,PG:()=>a,pS:()=>u,pw:()=>s,ui:()=>o});var r=n(15361),o=function(e){return e.imageBackground.activeBackgroundUiMode===r.V.InitializationStarted};function i(e){return e.imageBackground}function a(e){return e.imageBackground.backgroundType}var s=function(e){var t=e.imageBackground.backgroundsByType.BlurredBackground;if("BlurredBackground"!==t.type)throw new Error("BlurredBackground in state is wrong type");return t},l=function(e){return e.imageBackground.backgroundsByType[e.imageBackground.backgroundType]},u=function(e){return e.imageBackground.backgroundsByType}},19867:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var r=n(3691),o=function(){function e(t){this._id=e._uniqueId++,this._parent=t,this._eventRecords=[]}return e.raise=function(t,n,o,i){var a;if(e._isElement(t)){if("undefined"!==typeof document&&document.createEvent){var s=document.createEvent("HTMLEvents");s.initEvent(n,i||!1,!0),(0,r.kp)(s,o),a=t.dispatchEvent(s)}else if("undefined"!==typeof document&&document.createEventObject){var l=document.createEventObject(o);t.fireEvent("on"+n,l)}}else for(;t&&!1!==a;){var u=t.__events__,c=u?u[n]:null;if(c)for(var d in c)if(c.hasOwnProperty(d))for(var p=c[d],f=0;!1!==a&&f<p.length;f++){var h=p[f];h.objectCallback&&(a=h.objectCallback.call(h.parent,o))}t=i?t.parent:null}return a},e.isObserved=function(e,t){var n=e&&e.__events__;return!!n&&!!n[t]},e.isDeclared=function(e,t){var n=e&&e.__declaredEvents;return!!n&&!!n[t]},e.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},e._isElement=function(e){return!!e&&(!!e.addEventListener||"undefined"!==typeof HTMLElement&&e instanceof HTMLElement)},e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.off(),this._parent=null)},e.prototype.onAll=function(e,t,n){for(var r in t)t.hasOwnProperty(r)&&this.on(e,r,t[r],n)},e.prototype.on=function(t,n,r,o){var i=this;if(n.indexOf(",")>-1)for(var a=n.split(/[ ,]+/),s=0;s<a.length;s++)this.on(t,a[s],r,o);else{var l=this._parent,u={target:t,eventName:n,parent:l,callback:r,options:o};if((a=t.__events__=t.__events__||{})[n]=a[n]||{count:0},a[n][this._id]=a[n][this._id]||[],a[n][this._id].push(u),a[n].count++,e._isElement(t)){var c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!i._isDisposed){var n;try{if(!1===(n=r.apply(l,e))&&e[0]){var o=e[0];o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation(),o.cancelBubble=!0}}catch(o){}return n}};u.elementCallback=c,t.addEventListener?t.addEventListener(n,c,o):t.attachEvent&&t.attachEvent("on"+n,c)}else{u.objectCallback=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!i._isDisposed)return r.apply(l,e)}}this._eventRecords.push(u)}},e.prototype.off=function(e,t,n,r){for(var o=0;o<this._eventRecords.length;o++){var i=this._eventRecords[o];if((!e||e===i.target)&&(!t||t===i.eventName)&&(!n||n===i.callback)&&("boolean"!==typeof r||r===i.options)){var a=i.target.__events__,s=a[i.eventName],l=s?s[this._id]:null;l&&(1!==l.length&&n?(s.count--,l.splice(l.indexOf(i),1)):(s.count-=l.length,delete a[i.eventName][this._id]),s.count||delete a[i.eventName]),i.elementCallback&&(i.target.removeEventListener?i.target.removeEventListener(i.eventName,i.elementCallback,i.options):i.target.detachEvent&&i.target.detachEvent("on"+i.eventName,i.elementCallback)),this._eventRecords.splice(o--,1)}}},e.prototype.raise=function(t,n,r){return e.raise(this._parent,t,n,r)},e.prototype.declare=function(e){var t=this._parent.__declaredEvents=this._parent.__declaredEvents||{};if("string"===typeof e)t[e]=!0;else for(var n=0;n<e.length;n++)t[e[n]]=!0},e._uniqueId=0,e}()},20369:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var r=n(9950);function o(){return(0,r.useReducer)((function(e){return e+1}),0)[1]}},20467:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});function r(e){console&&console.warn&&console.warn(e)}},20721:(e,t,n)=>{"use strict";n.d(t,{x:()=>g});var r,o=n(37827);!function(e){e.KEYTIP_ADDED="keytipAdded",e.KEYTIP_REMOVED="keytipRemoved",e.KEYTIP_UPDATED="keytipUpdated",e.PERSISTED_KEYTIP_ADDED="persistedKeytipAdded",e.PERSISTED_KEYTIP_REMOVED="persistedKeytipRemoved",e.PERSISTED_KEYTIP_EXECUTE="persistedKeytipExecute",e.ENTER_KEYTIP_MODE="enterKeytipMode",e.EXIT_KEYTIP_MODE="exitKeytipMode"}(r||(r={}));var i=n(9950),a=n(95004),s=n(52522),l=n(46707),u=n(23521),c=n(19867),d=n(45867),p=function(){function e(){this.keytips={},this.persistedKeytips={},this.sequenceMapping={},this.inKeytipMode=!1,this.shouldEnterKeytipMode=!0,this.delayUpdatingKeytipChange=!1}return e.getInstance=function(){return this._instance},e.prototype.init=function(e){this.delayUpdatingKeytipChange=e},e.prototype.register=function(e,t){void 0===t&&(t=!1);var n=e;t||(n=this.addParentOverflow(e),this.sequenceMapping[n.keySequences.toString()]=n);var o=this._getUniqueKtp(n);if(t?this.persistedKeytips[o.uniqueID]=o:this.keytips[o.uniqueID]=o,this.inKeytipMode||!this.delayUpdatingKeytipChange){var i=t?r.PERSISTED_KEYTIP_ADDED:r.KEYTIP_ADDED;c.g.raise(this,i,{keytip:n,uniqueID:o.uniqueID})}return o.uniqueID},e.prototype.update=function(e,t){var n=this.addParentOverflow(e),o=this._getUniqueKtp(n,t),i=this.keytips[t];i&&(o.keytip.visible=i.keytip.visible,this.keytips[t]=o,delete this.sequenceMapping[i.keytip.keySequences.toString()],this.sequenceMapping[o.keytip.keySequences.toString()]=o.keytip,!this.inKeytipMode&&this.delayUpdatingKeytipChange||c.g.raise(this,r.KEYTIP_UPDATED,{keytip:o.keytip,uniqueID:o.uniqueID}))},e.prototype.unregister=function(e,t,n){void 0===n&&(n=!1),n?delete this.persistedKeytips[t]:delete this.keytips[t],!n&&delete this.sequenceMapping[e.keySequences.toString()];var o=n?r.PERSISTED_KEYTIP_REMOVED:r.KEYTIP_REMOVED;!this.inKeytipMode&&this.delayUpdatingKeytipChange||c.g.raise(this,o,{keytip:e,uniqueID:t})},e.prototype.enterKeytipMode=function(){c.g.raise(this,r.ENTER_KEYTIP_MODE)},e.prototype.exitKeytipMode=function(){c.g.raise(this,r.EXIT_KEYTIP_MODE)},e.prototype.getKeytips=function(){var e=this;return Object.keys(this.keytips).map((function(t){return e.keytips[t].keytip}))},e.prototype.addParentOverflow=function(e){var t=(0,o.fX)([],e.keySequences);if(t.pop(),0!==t.length){var n=this.sequenceMapping[t.toString()];if(n&&n.overflowSetSequence)return(0,o.Cl)((0,o.Cl)({},e),{overflowSetSequence:n.overflowSetSequence})}return e},e.prototype.menuExecute=function(e,t){c.g.raise(this,r.PERSISTED_KEYTIP_EXECUTE,{overflowButtonSequences:e,keytipSequences:t})},e.prototype._getUniqueKtp=function(e,t){return void 0===t&&(t=(0,d.O)()),{keytip:(0,o.Cl)({},e),uniqueID:t}},e._instance=new e,e}(),f=n(70859);function h(e){return e.reduce((function(e,t){return e+"-"+t.split("").join("-")}),"ktp")}function m(e){var t=i.useRef(),n=e.keytipProps?(0,o.Cl)({disabled:e.disabled},e.keytipProps):void 0,r=(0,a.d)(p.getInstance()),c=(0,s.Z)(e);(0,l.E)((function(){t.current&&n&&((null===c||void 0===c?void 0:c.keytipProps)!==e.keytipProps||(null===c||void 0===c?void 0:c.disabled)!==e.disabled)&&r.update(n,t.current)})),(0,l.E)((function(){return n&&(t.current=r.register(n)),function(){n&&r.unregister(n,t.current)}}),[]);var d={ariaDescribedBy:void 0,keytipId:void 0};return n&&(d=function(e,t,n){var r=e.addParentOverflow(t),i=(0,u._)(n,function(e){var t=" ktp-layer-id";return e.length?t+" "+h(e):t}(r.keySequences)),a=(0,o.fX)([],r.keySequences);r.overflowSetSequence&&(a=function(e,t){var n=t.length,r=(0,o.fX)([],t).pop(),i=(0,o.fX)([],e);return(0,f.Ty)(i,n-1,r)}(a,r.overflowSetSequence));var s=h(a);return{ariaDescribedBy:i,keytipId:s}}(r,n,e.ariaDescribedBy)),d}var g=function(e){var t,n=e.children,r=m((0,o.Tt)(e,["children"])),i=r.keytipId,a=r.ariaDescribedBy;return n(((t={})["data-ktp-target"]=i,t["data-ktp-execute-target"]=i,t["aria-describedby"]=a,t))}},20791:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var r=1;function o(e,t){var n=2*e/t;return Math.max(r,Math.round(n))/2*t}},21075:(e,t,n)=>{"use strict";var r;n.d(t,{j:()=>r}),function(e){e.All="all",e.Foreground="foreground",e.Background="background"}(r||(r={}))},21191:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var r={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pauseBreak:19,capslock:20,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46,zero:48,one:49,two:50,three:51,four:52,five:53,six:54,seven:55,eight:56,nine:57,colon:58,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindow:91,rightWindow:92,select:93,zero_numpad:96,one_numpad:97,two_numpad:98,three_numpad:99,four_numpad:100,five_numpad:101,six_numpad:102,seven_numpad:103,eight_numpad:104,nine_numpad:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrollLock:145,semicolon:186,equalSign:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,openBracket:219,backSlash:220,closeBracket:221,singleQuote:222}},21340:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d});var r=n(9950),o=n(63010),i=n(22039),a=n(32695),s=n(3300),l=n(40218),u=n(22381);var c=n(15361);function d(e,t,n,d,p,f,h,m,g,v,y,b,x,_){var C=(0,o.V)(b).id,w=(0,r.useContext)(i.t).combinedUndoRedoCoordinator,S=(0,r.useRef)(void 0),k=(0,r.useRef)(void 0),T=(0,r.useRef)(g);T.current=g;var E=function(e,t,n,r){return(0,u.G)(e,n,[r])||t.some((function(e){return(0,l.n)(e.algorithmParameters.layerToPatch,n)&&e.algorithmParameters.algorithmId===r}))}(p,f,x,C);(0,r.useEffect)((function(){g===c.V.Uninitialized&&(E?(v(c.V.InitializationFinished),y("alreadyGenerated")):y("notProcessedYet"))}),[g,E,v,y]),(0,r.useEffect)((function(){if(g===c.V.Uninitialized&&!E&&n){var r={algorithmId:C,serializedParams:(0,s.b)(_),layerToPatch:x,sourceLayer:"main"};S.current=(0,a.u)(e,t,r,d,void 0,!1).idValue,v(c.V.InitializationStarted)}}),[C,t,d,v,g,E,x,_,e,n]),(0,r.useEffect)((function(){S.current&&T.current===c.V.InitializationStarted&&(m.find((function(e){return e.texturePatchRequestId===S.current&&e.isRemoveDueToError&&e.algorithmParameters.algorithmId===C}))&&(v(c.V.InitializationFinished),y("failed")))}),[C,m,v,y]),(0,r.useEffect)((function(){var e;S.current&&T.current===c.V.InitializationStarted&&(k.current=null===(e=p.find((function(e){return e.idValue===S.current})))||void 0===e?void 0:e.idValue,k.current&&w&&(v(c.V.InitializationFinished),y("processed")))}),[w,p,v,y]),(0,r.useEffect)((function(){return function(){!k.current&&S.current&&h({texturePatchRequestId:S.current,isRemoveDueToError:!1})}}),[h]),(0,r.useEffect)((function(){return function(){v(c.V.Uninitialized)}}),[v])}},21925:(e,t,n)=>{"use strict";n.d(t,{Gl:()=>c,KN:()=>l,NV:()=>a,SM:()=>i,Vq:()=>o,tX:()=>s,uq:()=>u});var r=n(75347);function o(e){var t=(0,r.U3)(e.width,e.height);return(0,r.ZG)((0,r.iQ)(e.left,e.top),t)}function i(e){var t=(0,r.bi)(e),n=Math.min.apply(Math,t.map((function(e){return e.x}))),o=Math.min.apply(Math,t.map((function(e){return e.y})));return{left:n,top:o,width:Math.max.apply(Math,t.map((function(e){return e.x})))-n,height:Math.max.apply(Math,t.map((function(e){return e.y})))-o}}function a(e){var t=i(e);return{x:t.width,y:t.height}}function s(e){var t=(0,r.ao)(e);return a((0,r.ZG)((0,r.uE)(-t),e))}function l(e){return(0,r.vo)(e,{x:.5,y:.5})}function u(e,t,n){var o=l(t);return(0,r.ZG)((0,r.r$)(e,o.x,o.y),n)}function c(e){return o(function(e){var t=l(e),n=i(e);return{top:t.y-n.width/2,left:t.x-n.height/2,width:n.height,height:n.width}}(e))}},21932:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(75347),o=n(21925);function i(e,t,n){var i=(0,o.SM)((0,r.ZG)(e,t)),a=i.left,s=i.top,l=i.width,u=i.height,c=n.x/2-a,d=n.y/2-s,p=c-l,f=d-u;return{x:c<0?c:p>0?p:0,y:d<0?d:f>0?f:0}}},21994:(e,t,n)=>{"use strict";n.d(t,{VL:()=>i,gV:()=>b,qO:()=>o,ry:()=>a});var r=n(26672),o={name:"None",ratio:void 0,iconName:r.K_},i={name:"Original",ratio:void 0,iconName:r.Z2},a={name:"Square",ratio:{x:1,y:1},iconName:r.tK},s={name:"NineBySixteen",ratio:{x:9,y:16},iconName:r.Te},l={name:"SixteenByNine",ratio:{x:16,y:9},iconName:r.Jc},u={name:"FourByFive",ratio:{x:4,y:5},iconName:r.fs},c={name:"FiveByFour",ratio:{x:5,y:4},iconName:r.bI},d={name:"ThreeByFour",ratio:{x:3,y:4},iconName:r.Pj},p={name:"FourByThree",ratio:{x:4,y:3},iconName:r.H0},f={name:"TwoByThree",ratio:{x:2,y:3},iconName:r.pf},h={name:"ThreeByTwo",ratio:{x:3,y:2},iconName:r.TU},m={name:"FiveBySeven",ratio:{x:5,y:7},iconName:r.Ip},g={name:"SevenByFive",ratio:{x:7,y:5},iconName:r.K$},v={name:"OneByTwo",ratio:{x:1,y:2},iconName:r.Hs},y={name:"TwoByOne",ratio:{x:2,y:1},iconName:r.hB},b=[o,i,a,s,l,u,c,d,p,f,h,m,g,v,y]},22039:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});var r=(0,n(9950).createContext)({combinedUndoRedoCoordinator:void 0})},22254:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var r=(0,n(9950).createContext)({isOnline:!1,msaStatus:"SignedOut",onMSALogin:function(){},onMSALogout:function(){},onMSABlocked:function(){},onMSABanned:function(){},onDismissHostError:function(){},hostError:void 0})},22379:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});var r=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(t){return e.call(this,"Unhandled value: ".concat(t))||this}return r(t,e),t}(Error)},22381:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var r=n(40218);function o(e,t,n){return e.some((function(e){return(0,r.n)(e.algorithmParameters.layerToPatch,t)&&(!n||-1!==n.indexOf(e.algorithmParameters.algorithmId))}))}},22421:(e,t,n)=>{"use strict";function r(e){var t="Mouse";return(null===e||void 0===e?void 0:e.nativeEvent)instanceof PointerEvent&&(t=o(e.nativeEvent)),t}function o(e){var t="";switch(e.pointerType){case"touch":t="Touch";break;case"pen":t="Pen";break;case"mouse":t="Mouse";break;default:0===e.screenX&&0===e.screenY&&(t="Keyboard")}return t}function i(e){var t="Keyboard";return e instanceof MouseEvent?t="Mouse":e.touches&&(t="Touch"),t}n.d(t,{G3:()=>o,JR:()=>r,xR:()=>i})},22654:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(9950),o=n(66056);function i(){var e=(0,r.useContext)(o.u).enabledRetouchModes;return 1===e.length&&"spotFix"===e[0]}},22744:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function i(e,t){var n=!1;return{promise:r(this,void 0,void 0,(function(){var r,i,a,s,l,u;return o(this,(function(o){switch(o.label){case 0:r=[],i=0,a=e,o.label=1;case 1:return i<a.length?(s=a[i],n?[3,3]:(u=(l=r).push,[4,t(s)])):[3,5];case 2:return u.apply(l,[o.sent()]),[3,4];case 3:return[3,5];case 4:return i++,[3,1];case 5:return[2,r]}}))})),cancel:function(){n=!0}}}},22926:(e,t,n)=>{"use strict";function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){o(e||{},i[r])}return e}function o(e,t,n){for(var r in void 0===n&&(n=[]),n.push(t),t)if(t.hasOwnProperty(r)&&"__proto__"!==r&&"constructor"!==r&&"prototype"!==r){var i=t[r];if("object"!==typeof i||null===i||Array.isArray(i))e[r]=i;else{var a=n.indexOf(i)>-1;e[r]=a?i:o(e[r]||{},i,n)}}return n.pop(),e}n.d(t,{h:()=>r})},22956:(e,t,n)=>{"use strict";n.d(t,{$4:()=>i,FI:()=>s,MC:()=>d,N7:()=>u,dt:()=>f,sv:()=>c});var r=n(36766),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function i(e,t,n){return function(e,t){var n=o(o({},t),{numberingSystem:"latn"});return new Intl.NumberFormat(e,n)}(t,n).format(e+0)}var a=1.1;function s(e){return i(a,e).substring(1,2)}function l(e){return"."===e}function u(e,t,n){var o=s(t),i=void 0===n?e.toString():(0,r.L)(e,n).toString();return l(o)?i:i.replace(".",o)}function c(e,t){var n=s(t);return l(n)?+e:+e.replace(n,".")}function d(e,t,n){return i(e,t,function(e){return{style:"percent",minimumFractionDigits:e,maximumFractionDigits:e}}(n))}var p=.1;function f(e){return null!==d(p,e,0).match(/\d$/)}},23359:(e,t,n)=>{"use strict";n.d(t,{Ae:()=>P,bz:()=>T,kG:()=>I,GJ:()=>E});var r,o=n(37827),i=n(95143),a={};function s(e,t){var n=e[t];"-"!==n.charAt(0)&&(e[t]=a[n]=a[n]||n.replace(/([A-Z])/g,"-$1").toLowerCase())}var l={"user-select":1};function u(e,t){var n=function(){var e;if(!r){var t="undefined"!==typeof document?document:void 0,n="undefined"!==typeof navigator?navigator:void 0,o=null===(e=null===n||void 0===n?void 0:n.userAgent)||void 0===e?void 0:e.toLowerCase();r=t?{isWebkit:!(!t||!("WebkitAppearance"in t.documentElement.style)),isMoz:!!(o&&o.indexOf("firefox")>-1),isOpera:!!(o&&o.indexOf("opera")>-1),isMs:!(!n||!/rv:11.0/i.test(n.userAgent)&&!/Edge\/\d./i.test(navigator.userAgent))}:{isWebkit:!0,isMoz:!0,isOpera:!0,isMs:!0}}return r}(),o=e[t];if(l[o]){var i=e[t+1];l[o]&&(n.isWebkit&&e.push("-webkit-"+o,i),n.isMoz&&e.push("-moz-"+o,i),n.isMs&&e.push("-ms-"+o,i),n.isOpera&&e.push("-o-"+o,i))}}var c,d=["column-count","font-weight","flex","flex-grow","flex-shrink","fill-opacity","opacity","order","z-index","zoom"];function p(e,t){var n=e[t],r=e[t+1];if("number"===typeof r){var o=d.indexOf(n)>-1,i=n.indexOf("--")>-1,a=o||i?"":"px";e[t+1]="".concat(r).concat(a)}}var f="left",h="right",m="@noflip",g=((c={})[f]=h,c[h]=f,c),v={"w-resize":"e-resize","sw-resize":"se-resize","nw-resize":"ne-resize"};function y(e,t,n){if(e.rtl){var r=t[n];if(!r)return;var o=t[n+1];if("string"===typeof o&&o.indexOf(m)>=0)t[n+1]=o.replace(/\s*(?:\/\*\s*)?\@noflip\b(?:\s*\*\/)?\s*?/g,"");else if(r.indexOf(f)>=0)t[n]=r.replace(f,h);else if(r.indexOf(h)>=0)t[n]=r.replace(h,f);else if(String(o).indexOf(f)>=0)t[n+1]=o.replace(f,h);else if(String(o).indexOf(h)>=0)t[n+1]=o.replace(h,f);else if(g[r])t[n]=g[r];else if(v[o])t[n+1]=v[o];else switch(r){case"margin":case"padding":t[n+1]=function(e){if("string"===typeof e){var t=e.split(" ");if(4===t.length)return"".concat(t[0]," ").concat(t[3]," ").concat(t[2]," ").concat(t[1])}return e}(o);break;case"box-shadow":t[n+1]=function(e,t){var n=e.split(" "),r=parseInt(n[t],10);return n[0]=n[0].replace(String(r),String(-1*r)),n.join(" ")}(o,0)}}}var b="displayName";var x=/\:global\((.+?)\)/g;function _(e,t){return e.indexOf(":global(")>=0?e.replace(x,"$1"):0===e.indexOf(":")?t+e:e.indexOf("&")<0?t+" "+e:e}function C(e,t,n,r){void 0===t&&(t={__order:[]}),0===n.indexOf("@")?w([r],t,n=n+"{"+e):n.indexOf(",")>-1?function(e){if(!x.test(e))return e;for(var t=[],n=/\:global\((.+?)\)/g,r=null;r=n.exec(e);)r[1].indexOf(",")>-1&&t.push([r.index,r.index+r[0].length,r[1].split(",").map((function(e){return":global(".concat(e.trim(),")")})).join(", ")]);return t.reverse().reduce((function(e,t){var n=t[0],r=t[1],o=t[2];return e.slice(0,n)+o+e.slice(r)}),e)}(n).split(",").map((function(e){return e.trim()})).forEach((function(n){return w([r],t,_(n,e))})):w([r],t,_(n,e))}function w(e,t,n){void 0===t&&(t={__order:[]}),void 0===n&&(n="&");var r=i.n.getInstance(),o=t[n];o||(o={},t[n]=o,t.__order.push(n));for(var a=0,s=e;a<s.length;a++){var l=s[a];if("string"===typeof l){var u=r.argsFromClassName(l);u&&w(u,t,n)}else if(Array.isArray(l))w(l,t,n);else for(var c in l)if(l.hasOwnProperty(c)){var d=l[c];if("selectors"===c){var p=l.selectors;for(var f in p)p.hasOwnProperty(f)&&C(n,t,f,p[f])}else"object"===typeof d?null!==d&&C(n,t,c,d):void 0!==d&&("margin"===c||"padding"===c?S(o,c,d):o[c]=d)}}return t}function S(e,t,n){var r="string"===typeof n?function(e){for(var t=[],n=0,r=0,o=0;o<e.length;o++)switch(e[o]){case"(":r++;break;case")":r&&r--;break;case"\t":case" ":r||(o>n&&t.push(e.substring(n,o)),n=o+1)}return n<e.length&&t.push(e.substring(n)),t}(n):[n];0===r.length&&r.push(n),"!important"===r[r.length-1]&&(r=r.slice(0,-1).map((function(e){return e+" !important"}))),e[t+"Top"]=r[0],e[t+"Right"]=r[1]||r[0],e[t+"Bottom"]=r[2]||r[0],e[t+"Left"]=r[3]||r[1]||r[0]}function k(e,t){return t<=0?"":1===t?e:e+k(e,t-1)}function T(e,t){if(!t)return"";var n=[];for(var r in t)t.hasOwnProperty(r)&&r!==b&&void 0!==t[r]&&n.push(r,t[r]);for(var o=0;o<n.length;o+=2)s(n,o),p(n,o),y(e,n,o),u(n,o);for(o=1;o<n.length;o+=4)n.splice(o,1,":",n[o],";");return n.join("")}function E(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=w(t),o=function(e,t){for(var n=[e.rtl?"rtl":"ltr"],r=!1,o=0,i=t.__order;o<i.length;o++){var a=i[o];n.push(a);var s=t[a];for(var l in s)s.hasOwnProperty(l)&&void 0!==s[l]&&(r=!0,n.push(l,s[l]))}return r?n.join(""):void 0}(e,r);if(o){var a=i.n.getInstance(),s={className:a.classNameFromKey(o),key:o,args:t};if(!s.className){s.className=a.getClassName(function(e){var t=e&&e["&"];return t?t.displayName:void 0}(r));for(var l=[],u=0,c=r.__order;u<c.length;u++){var d=c[u];l.push(d,T(e,r[d]))}s.rulesToInsert=l}return s}}function P(e,t){void 0===t&&(t=1);var n=i.n.getInstance(),r=e.className,o=e.key,a=e.args,s=e.rulesToInsert;if(s){for(var l=0;l<s.length;l+=2){var u=s[l+1];if(u){var c=s[l];c=c.replace(/&/g,k(".".concat(e.className),t));var d="".concat(c,"{").concat(u,"}").concat(0===c.indexOf("@")?"}":"");n.insertRule(d)}}n.cacheClassName(r,o,a,s)}}function I(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=E.apply(void 0,(0,o.fX)([e],t,!1));return r?(P(r,e.specificityMultiplier),r.className):""}},23501:(e,t,n)=>{"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];if(i)if("string"===typeof i)n.push(i);else if(i.hasOwnProperty("toString")&&"function"===typeof i.toString)n.push(i.toString());else for(var a in i)i[a]&&n.push(a)}return n.join(" ")}n.d(t,{A:()=>r})},23521:(e,t,n)=>{"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter((function(e){return e})).join(" ").trim();return""===n?void 0:n}n.d(t,{_:()=>r})},23598:(e,t,n)=>{"use strict";n.d(t,{E:()=>p});var r=n(69187),o=n(37827),i=n(9950),a=n(56624),s=n(68246),l=(0,a.Z)(),u=function(e){function t(t){var n=e.call(this,t)||this;return(0,s.f)(n),n}return(0,o.C6)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.styles,r=e.theme;return this._classNames=l(n,{theme:r,className:t}),i.createElement("div",{className:this._classNames.actions},i.createElement("div",{className:this._classNames.actionsRight},this._renderChildrenAsActions()))},t.prototype._renderChildrenAsActions=function(){var e=this;return i.Children.map(this.props.children,(function(t){return t?i.createElement("span",{className:e._classNames.action},t):null}))},t}(i.Component),c=n(32e3),d={actions:"ms-Dialog-actions",action:"ms-Dialog-action",actionsRight:"ms-Dialog-actionsRight"},p=(0,r.I)(u,(function(e){var t=e.className,n=e.theme,r=(0,c.Km)(d,n);return{actions:[r.actions,{position:"relative",width:"100%",minHeight:"24px",lineHeight:"24px",margin:"16px 0 0",fontSize:"0",selectors:{".ms-Button":{lineHeight:"normal"}}},t],action:[r.action,{margin:"0 4px"}],actionsRight:[r.actionsRight,{textAlign:"right",marginRight:"-4px",fontSize:"0"}]}}),void 0,{scope:"DialogFooter"})},23876:(e,t,n)=>{"use strict";var r=n(50630),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var o=f(n);o&&o!==h&&e(t,o,r)}var a=c(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!i[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=p(n,v);try{u(t,v,y)}catch(b){}}}}return t}},24090:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var r=n(9950),o=n(890);function i(e,t,n){var i=t||{width:0,height:0},a=(0,r.useState)(i),s=a[0],l=a[1],u=(0,r.useCallback)((function(e){var t=e[0].contentRect,n=t.width,r=t.height;l({width:n,height:r})}),[l]);return(0,r.useLayoutEffect)((function(){if(e){var t=e.offsetWidth,n=e.offsetHeight;l({width:t,height:n})}}),[e]),(0,o.w)(e,u,n),s}},24106:(e,t,n)=>{"use strict";n.d(t,{$:()=>k});var r=n(46081),o=n(75795),i=n(35572),a=n(10678);function s(e,t,n){var r=Math.min(Math.max((n-e)/(t-e),0),1);return r*r*(3-2*r)}var l=n(81552),u=n(36058),c=n(80163);function d(e,t,n,r,o){var i=function(e,t,n,r){var o=(0,c.x)(e.format),i=(0,u.O)(e.format),a=n.width/2,d=t.width,p=(1-r)*a,f=p*p,h=n.left-t.left+a-.5,m=n.top-t.top+a-.5,g=h-a,v=m-a,y=h+a,b=m+a,x=a*a,_=new Uint8ClampedArray(e.bytes.length);_.set(e.bytes);for(var C=e.bytes.length/o,w=i,S=0;S<C;S++,w+=o){_[w]=l.Bp;var k=S%d;if(!(k<g||k>y)){var T=Math.floor(S/d);if(!(T<v||T>b)){var E=k-h,P=T-m,I=E*E+P*P;if(I<x)if(I<f)_[w]=l.yt;else{var A=s(0,a-p,Math.sqrt(I)-p),R=l.yt-Math.round(l.yt*A);_[w]=R}}}}return{bytes:_,format:e.format}}(t.getTextureBytes(e,n),n,r,o);return i}var p=n(72369),f=n(63368);function h(e,t,n,s,l,u,c,h,m){if(s.maskType!==r.D.CircleMask)throw new Error("only circle masks are supported");if(!t)throw new Error("image not defined");var g=(0,a.b)(t),v=(0,i.K)(s.rectUvToImageUv,g),y=(0,o.FR)(v,g);if(!y||!(0,p.I)(y))throw new Error("No intersection rectangle. It is recommended to check this before creating a request.");var b=u(g,v);return{id:e,maskBoundsRectInImage:v,sampleRectInImage:b,maskPixelBytes:d((0,f.n)(l,t),n,b,v,s.softness),maskType:s.maskType,layerToPatch:l,sourceLayer:null!==h&&void 0!==h?h:l}}var m=n(54986);function g(e,t,n,o,i,s,u,d,p){var h=o.maskType;if(h!==r.D.FullImageMask)throw new Error("only full image masks are supported");if(!t)throw new Error("image not defined");var g=(0,a.b)(t),v=(0,f.n)(i,t),y=n.getTextureSize(v),b=m.A.RGBA,x=(0,c.x)(b);return{id:e,maskBoundsRectInImage:g,sampleRectInImage:g,maskPixelBytes:{bytes:new Uint8ClampedArray(y.x*y.y*x).fill(l.yt),format:b},maskType:h,layerToPatch:i,sourceLayer:null!==d&&void 0!==d?d:i}}var v=n(83285);function y(e,t,n,r){return function(e,t,n){for(var r=Number.MAX_VALUE,o=Number.MIN_VALUE,i=Number.MAX_VALUE,a=Number.MIN_VALUE,s=e.bytes,l=e.format,d=(0,c.x)(l),p=(0,u.O)(l),f=t*d,h=p;h<s.length;h+=d)if(s[h]!==n){var m=Math.floor(h/f),g=(h-p)/d%t;r=Math.min(r,g),o=Math.max(o,g),i=Math.min(i,m),a=Math.max(a,m)}if(r!==Number.MAX_VALUE)return{top:i,left:r,width:o-r+1,height:a-i+1}}(e.getTextureBytes(t,n),n.width,r?l.yt:l.Bp)}function b(e,t,n,o,i,s,l,d,p){if(o.maskType!==r.D.FromLayer)throw new Error("only MaskType.FromLayer is supported");if(!t)throw new Error("image not defined");var h,m=(0,a.b)(t),g=o.layerToUseAsMask,b=(0,f.n)(g,t);if(void 0===(h=p||("backgroundMask"!==g&&"eraseMask"!==g||o.shouldInvertMask?y(n,b,m,o.shouldInvertMask):(0,v.y)(l,g))))throw new Error("could not find mask layer bounds.");var x=s(m,h),_=n.getTextureBytes(b,x);return o.shouldInvertMask&&function(e){for(var t=(0,c.x)(e.format),n=(0,u.O)(e.format);n<e.bytes.length;n+=t)e.bytes[n]=255-e.bytes[n]}(_),{id:e,maskBoundsRectInImage:h,sampleRectInImage:x,maskPixelBytes:_,maskType:o.maskType,layerToPatch:i,sourceLayer:null!==d&&void 0!==d?d:i}}var x=n(98330);function _(e,t,n,s,u,c,d,h,m){if(s.maskType!==r.D.PillShapedMask)throw new Error("only circle masks are supported");if(!t)throw new Error("image not defined");var g=(0,a.b)(t),v=(0,i.K)(s.rectUvToImageUv,g),y=(0,o.FR)(v,g);if(!y||!(0,p.I)(y))throw new Error("No intersection rectangle. It is recommended to check this before creating a request.");var b=c(g,v),_=(0,f.n)(u,t),C=function(e,t,n,r,o){if(0!==l.Bp)throw new Error("MASKED_BYTE must be 0");var i={bytes:new Uint8ClampedArray(t.bytes.length),format:t.format};return(0,x.K)(e,i,n,r,o,l.yt),i}(g,n.getTextureBytes(_,b),b,s.rectUvToImageUv,s.softness);return{id:e,maskBoundsRectInImage:v,sampleRectInImage:b,maskPixelBytes:C,maskType:s.maskType,layerToPatch:u,sourceLayer:null!==h&&void 0!==h?h:u}}var C=n(75347),w=n(26397);function S(e,t,n,d,h,m,g,v,y){if(d.maskType!==r.D.RectangleMask)throw new Error("only rectangle masks are supported");if(!t)throw new Error("image not defined");var b=(0,a.b)(t),x=(0,i.K)(d.rectUvToImageUv,b),_=(0,o.FR)(x,b);if(!_||!(0,p.I)(_))throw new Error("No intersection rectangle. It is recommended to check this before creating a request.");var S=m(b,x),k=(0,f.n)(h,t),T=function(e,t,n,r,o){var i=(0,c.x)(t.format),a=(0,u.O)(t.format),d=n.width,p=new Uint8ClampedArray(t.bytes.length);p.set(t.bytes);for(var f=t.bytes.length/i,h=(0,C.eE)(r),m={x:e.width,y:e.height},g=(0,w.DI)(m,(0,C.vo)(r,{x:0,y:0})),v=(0,w.DI)(m,(0,C.vo)(r,{x:1,y:0})),y=(0,w.DI)(m,(0,C.vo)(r,{x:0,y:1})),b=(0,w.Sl)(g,v)/(0,w.Sl)(g,y),x=0;x<f;x++){var _=x%d+.5,S=Math.floor(x/d)+.5,k=(_+n.left)/e.width,T=(S+n.top)/e.height,E=(0,C.vo)(h,{x:k,y:T}),P=x*i+a;if(E.x>=0&&E.x<=1&&E.y>=0&&E.y<=1){if(p[P]=l.yt,o>0){var I=E,A={x:1,y:1/b},R=.5*Math.min(A.x,A.y)*o,L={x:I.x*A.x,y:I.y*A.y},M=0,B=R,O=R,F=A.y-R,D=A.x-R;if(L.x<O)if(L.y<B){var N={x:O,y:B};M=(0,w.Sl)(N,L)}else if(L.y>F){var U={x:O,y:F};M=(0,w.Sl)(U,L)}else M=O-L.x;else if(L.x>D)if(L.y<B){var z={x:D,y:B};M=(0,w.Sl)(z,L)}else if(L.y>F){var j={x:D,y:F};M=(0,w.Sl)(j,L)}else M=L.x-D;else L.y<B?M=B-L.y:L.y>F&&(M=L.y-F);var V=1-s(0,R,M);p[P]=Math.round(V*l.yt)}}else p[P]=l.Bp}return{bytes:p,format:t.format}}(b,n.getTextureBytes(k,S),S,d.rectUvToImageUv,d.softness);return{id:e,maskBoundsRectInImage:x,sampleRectInImage:S,maskType:d.maskType,layerToPatch:h,maskPixelBytes:T,sourceLayer:null!==v&&void 0!==v?v:h}}function k(e,t,n,o,i,a){var s=t.idValue,l=t.maskParameters;return function(e){var t;return((t={})[r.D.CircleMask]=h,t[r.D.RectangleMask]=S,t[r.D.FromLayer]=b,t[r.D.PillShapedMask]=_,t[r.D.FullImageMask]=g,t)[e]}(l.maskType)(s,n,o,l,t.algorithmParameters.layerToPatch,e,i,t.algorithmParameters.sourceLayer,a)}},24372:(e,t,n)=>{"use strict";n.d(t,{_H:()=>d,gE:()=>f,tQ:()=>h,wm:()=>p});var r,o=n(3041),i=n(88873),a=n(80559),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)},l={mode:"paint",opacity:1,softness:0},u={maskBrushOptionsByActivity:{Crop:l,Adjustment:l,Filter:l,Markup:l,Retouch:s(s({},l),{softness:.25}),InPaint:l,Background:l,Relight:l,FocalPoint:l,Stylizer:l,SuperResolution:l},currentActivityKey:i.iF},c=(0,o.Z0)({name:"MaskBrushOptions",initialState:u,reducers:{setBrushMode:function(e,t){e.maskBrushOptionsByActivity[e.currentActivityKey].mode=t.payload},setBrushOpacity:function(e,t){e.maskBrushOptionsByActivity[e.currentActivityKey].opacity=t.payload},setBrushSoftness:function(e,t){e.maskBrushOptionsByActivity[e.currentActivityKey].softness=t.payload}},extraReducers:function(e){e.addCase(a.Dx,(function(e,t){e.currentActivityKey=t.payload}))}}),d=(r=c.actions).setBrushMode,p=r.setBrushOpacity,f=r.setBrushSoftness,h=c.reducer},24510:(e,t,n)=>{"use strict";n.d(t,{t:()=>_});var r=n(47671);var o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},a=null;var s=n(81552),l=n(36058),u=n(80163),c=0,d=255;var p=n(96631),f=n(24106),h=n(8472),m=n(31425),g=n(29382),v=n(25317),y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},b=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},x=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function _(e,t,_,C,w,S,k){var T=this,E=(0,h.v)(3,!0),P=(0,f.$)(E,_,C,S,k),I=P.sourceLayer,A=P.maskPixelBytes,R=P.sampleRectInImage,L=P.layerToPatch;return new Promise((function(e,t){(function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){try{return null!==a?[2,a]:[2,a=new Promise((function(e,t){n.e(21).then(n.bind(n,46516)).then((function(n){var r=new(0,n.default);r.onmessage=function(n){n.data.wasmLoaded?e(r):t('unexpected message from worker. "wasmLoaded" was not present in the message.')},r.postMessage({initiateWasm:!0})})).catch(t)}))]}catch(t){throw new Error("Failed to load worker: ".concat(t))}return[2]}))}))})().then((function(n){if(n){var o=t,i=(0,g.D)(I,L,C,S.getTextureBytes,R),a=i.sourcePixelBytes,f=i.originalPixelBytes,h=function(e,t){if(!t)throw new Error("original bytes not set");var n=new Uint8ClampedArray(t.bytes.length);n.set(t.bytes);for(var r=(0,u.x)(e.format),o=(0,l.O)(e.format),i=(0,u.x)(t.format),a=(0,l.O)(t.format),p=0,f=o;f<n.length;f+=r){var h=e.bytes[f]!==s.Bp;n[p*i+a]=h?c:d,p++}return n}(A,a),w=y(y({},P),{bytesWithAlpha0inAreasToFix:h});n.onmessage=function(n){return b(T,void 0,void 0,(function(){var i,a,s,u,c,d,h,g;return x(this,(function(y){return!function(e){return"number"===typeof e.id&&void 0!==e.maskBoundsRectInImage&&void 0!==e.outputPixelBytes.bytes&&void 0!==e.outputPixelBytes.format}(i=n.data)?t("unhandled message from worker!"):(s=(a=i).outputPixelBytes,u=P.maskPixelBytes,c=(0,m.O)(s,f.format),d=(0,l.O)(c.format),h=function(e){c.bytes[e+d]=f.bytes[e+d]},(0,p.m)(c,f,u,"none",h),g=(0,r.l)(a,C,f,S,o),e((0,v.T)(g,_))),[2]}))}))},n.postMessage(w)}else t("could not obtain worker")})).catch(t)}))}},25166:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});var r=n(63368);function o(e,t,n,o){return n((0,r.n)(e,t),o)}},25262:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var r=n(17559);function o(e,t,n){void 0===n&&(n=!0);var o=!1;if(e&&t)if(n)if(e===t)o=!0;else for(o=!1;t;){var i=(0,r.P)(t);if(i===e){o=!0;break}t=i}else e.contains&&(o=e.contains(t));return o}},25317:(e,t,n)=>{"use strict";function r(e,t){return{texturePatches:[e],algorithmId:t.algorithmParameters.algorithmId}}function o(e,t){return{texturePatches:e,algorithmId:t.algorithmParameters.algorithmId}}n.d(t,{T:()=>r,Z:()=>o})},25361:(e,t,n)=>{"use strict";var r;n.d(t,{I:()=>r}),function(e){e.SpotFix="spotFix",e.MagicErase="magicErase"}(r||(r={}))},25380:(e,t,n)=>{"use strict";n.d(t,{Fy:()=>s,Y2:()=>o});var r=n(95673),o="ms-Fabric--isFocusVisible",i="ms-Fabric--isFocusHidden";function a(e,t){e&&(e.classList.add(t?o:i),e.classList.remove(t?i:o))}function s(e,t,n){var o;n?n.forEach((function(t){return a(t.current,e)})):a(null===(o=(0,r.z)(t))||void 0===o?void 0:o.document.body,e)}},25382:(e,t,n)=>{"use strict";n.d(t,{DQ:()=>p,Dh:()=>f,F5:()=>r,Ty:()=>d,YU:()=>h,pH:()=>c,vg:()=>u});var r,o=n(75347),i=n(26397),a=n(21925),s=n(72079),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)};function u(e,t){void 0===t&&(t=r.unspecified);var n=(0,o.vt)(e),i=l({uvToWorld:n},function(e,t){var n={};t!==r.userIsRotating&&(n._uvToWorldBeforeRotate=(0,o.vt)(e));t!==r.userIsZoomingToCrop&&(n._uvToWorldBeforeZoomToCrop=(0,o.vt)(e));t!==r.userIsChangingAspectRatio&&(n._lastUvToWorldNotSetByAspectRatioChange=(0,o.vt)(e));return n}(n,t));return i}function c(e,t,n){void 0===n&&(n=r.unspecified),e.cropInteraction=l(l({},e.cropInteraction),u(t,n))}function d(e,t){return void 0===t&&(t=r.unspecified),u((0,a.Vq)(e),t)}function p(e,t,n){void 0===n&&(n=r.unspecified),c(e,(0,a.Vq)(t),n)}function f(e,t){return!e||(0,i.kn)(t)}function h(e){e.mouseWheelScrollCount=s.v,e.savedStates.savedWhenMouseWheelCroppingStart=void 0}!function(e){e[e.userIsRotating=0]="userIsRotating",e[e.userIsZoomingToCrop=1]="userIsZoomingToCrop",e[e.userIsChangingAspectRatio=2]="userIsChangingAspectRatio",e[e.unspecified=3]="unspecified"}(r||(r={}))},25522:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,H:()=>i});var r=n(75347);function o(e){var t=e.width,n=e.height,o=e.x,i=e.y,a=e.rotation;return(0,r.ZG)((0,r.iQ)(o,i),(0,r.uE)(a),(0,r.U3)(t,n))}function i(e){var t=e[0]*e[4]-e[1]*e[3]<0?-1:1,n=(0,r.bM)(e),o=n.x,i=n.y;return{width:Math.hypot(e[0],e[3])*t,height:Math.hypot(e[1],e[4]),rotation:(0,r.ao)(e),x:o,y:i}}},25826:(e,t,n)=>{"use strict";n.d(t,{eM:()=>i});var r,o=n(48932);function i(e,t){function n(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}var r=.2126*n(e.r/o.rd)+.7152*n(e.g/o.rd)+.0722*n(e.b/o.rd);r+=.05;var i=.2126*n(t.r/o.rd)+.7152*n(t.g/o.rd)+.0722*n(t.b/o.rd);return r/(i+=.05)>1?r/i:i/r}!function(e){e[e.Unshaded=0]="Unshaded",e[e.Shade1=1]="Shade1",e[e.Shade2=2]="Shade2",e[e.Shade3=3]="Shade3",e[e.Shade4=4]="Shade4",e[e.Shade5=5]="Shade5",e[e.Shade6=6]="Shade6",e[e.Shade7=7]="Shade7",e[e.Shade8=8]="Shade8"}(r||(r={}))},26134:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var r=n(9950),o=n(35606),i=function(e){var t=e.providerRef,n=e.layerRoot,i=r.useState([])[0],a=r.useContext(o.dM),s=void 0!==a&&!n,l=r.useMemo((function(){return s?void 0:{providerRef:t,registeredProviders:i,registerProvider:function(e){i.push(e),null===a||void 0===a||a.registerProvider(e)},unregisterProvider:function(e){null===a||void 0===a||a.unregisterProvider(e);var t=i.indexOf(e);t>=0&&i.splice(t,1)}}}),[t,i,a,s]);return r.useEffect((function(){if(l)return l.registerProvider(l.providerRef),function(){return l.unregisterProvider(l.providerRef)}}),[l]),l?r.createElement(o.dM.Provider,{value:l},e.children):r.createElement(r.Fragment,null,e.children)}},26262:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>c,jC:()=>u,jM:()=>h,k8:()=>m});var r=n(69893),o=n(75347),i=n(21925),a=n(17755),s=n(75795),l=n(18699),u=50;function c(e,t,n,i,a){var s,l=((s={})[r.m.none]=d(a),s[r.m.fitCropRectInView]=p(t,n),s[r.m.fitImageInView]=p(t,i),s[r.m.actualSize]=f(t,a),s);return(0,o.fJ)(l[e]())}var d=function(e){return function(){return e}},p=function(e,t){return function(){var n=(0,a.Je)(t,(0,i.Vq)(e)),r=n.tx,l=n.ty,c=n.scale,d=(0,o.U3)(c),p=(0,o.iQ)(r,l),f=(0,o.ZG)(p,d);if(c>u){var h=u/c,m=(0,s.Qv)(e);return(0,o.ZG)((0,o.n1)(h,h,m.x,m.y),f)}return f}},f=function(e,t){return function(){var n=(0,s.Qv)(e);return(0,l.It)(t,1,n)}},h=function(e,t,n){if(e){var r=(0,i.SM)(t);return n.width<r.width&&n.height>r.height&&(r.top=n.top,r.height=n.height),n.height<r.height&&n.width>r.width&&(r.left=n.left,r.width=n.width),(0,i.Vq)(r)}return(0,o.vt)(t)};function m(e,t,n){var r=(0,o.YD)(e),i=(0,o.iQ)((n.x-t.x)/2/r,(n.y-t.y)/2/r);return(0,o.ZG)(e,i)}},26333:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(93286),o=n(13246),i=n(22379);function a(e){switch(e){case r.p.Highlighter:return o.iw;case r.p.Pen:return o.Gu;default:throw new i.x(e)}}},26397:(e,t,n)=>{"use strict";n.d(t,{Bp:()=>c,DI:()=>y,If:()=>l,Kw:()=>u,Md:()=>h,Nz:()=>w,Sl:()=>C,Us:()=>g,Z8:()=>_,cF:()=>a,hF:()=>d,hi:()=>m,jR:()=>s,kU:()=>S,kn:()=>x,m1:()=>p,oW:()=>f,rp:()=>k,u8:()=>v,xd:()=>i,zN:()=>b});var r=n(16097),o=n(36766),i={x:0,y:0};function a(e,t){return e.x*t.x+e.y*t.y}function s(e){return Math.hypot(e.x,e.y)}function l(e,t){return{x:e.x+t.x,y:e.y+t.y}}function u(e){return e.reduce((function(e,t){return l(e,t)}),i)}function c(e,t){return{x:e.x-t.x,y:e.y-t.y}}function d(e){var t=s(e);if(0===t)throw new RangeError("Invalid Vector: Vector length is 0");return{x:e.x/t,y:e.y/t}}function p(e,t){return{x:e.x*t,y:e.y*t}}function f(e){return{x:Math.floor(e.x),y:Math.floor(e.y)}}function h(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function m(e){return{x:(0,o.L)(e.x,0),y:(0,o.L)(e.y,0)}}function g(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function v(e,t){if(0===t.x||0===t.y)throw new RangeError("Invalid divisor vector.  Elements must be non-zero.");return{x:e.x/t.x,y:e.y/t.y}}function y(e,t){return{x:e.x*t.x,y:e.y*t.y}}function b(e,t){return e.x===t.x&&e.y===t.y}function x(e){return e.x>=0&&e.x<=1&&e.y>=0&&e.y<=1}function _(e){return{x:e.y,y:e.x}}function C(e,t){return s(c(e,t))}function w(e,t,n){return C(e,t)<=n}function S(e,t){var n=t/r.H,o=Math.cos(n),i=Math.sin(n),a=e.x,s=e.y;return{x:o*a-i*s,y:i*a+o*s}}function k(e,t){if(!b(e,t))return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI-90}},26429:(e,t,n)=>{"use strict";e.exports=n(68577)},26470:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(e,o){for(var i,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in i=Object(arguments[l]))n.call(i,u)&&(s[u]=i[u]);if(t){a=t(i);for(var c=0;c<a.length;c++)r.call(i,a[c])&&(s[a[c]]=i[a[c]])}}return s}},26672:(e,t,n)=>{"use strict";n.d(t,{H0:()=>f,Hs:()=>a,Ip:()=>l,Jc:()=>v,K$:()=>u,K_:()=>r,Pj:()=>p,TU:()=>d,Te:()=>g,Z2:()=>o,bI:()=>m,fs:()=>h,hB:()=>s,pf:()=>c,tK:()=>i});var r="FreeformAspect-Havana",o="OriginalAspect-Havana",i="SquareAspect-Havana",a="OneByTwoAspect-Havana",s="TwoByOneAspect-Havana",l="FiveBySevenAspect-Havana",u="SevenByFiveAspect-Havana",c="TwoByThreeAspect-Havana",d="ThreeByTwoAspect-Havana",p="ThreeByFourAspect-Havana",f="FourByThreeAspect-Havana",h="FourByFiveAspect-Havana",m="FiveByFourAspect-Havana",g="NineBySixteenAspect-Havana",v="SixteenByNineAspect-Havana"},26759:(e,t,n)=>{"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[G]}function i(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Z}(e)||Array.isArray(e)||!!e[K]||!!(null===(t=e.constructor)||void 0===t?void 0:t[K])||p(e)||f(e))}function a(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:X)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[G];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:p(e)?2:f(e)?3:0}function l(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){return 2===s(e)?e.get(t):e[t]}function c(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){return V&&e instanceof Map}function f(e){return W&&e instanceof Set}function h(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Y(e);delete t[G];for(var n=X(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),y(e)||o(e)||!i(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=v),Object.freeze(e),t&&a(e,(function(e,t){return g(t,!0)}),!0)),e}function v(){r(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=Q[e];return t||r(18,e),t}function x(e,t){Q[e]||(Q[e]=t)}function _(){return z}function C(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function w(e){S(e),e.p.forEach(T),e.p=null}function S(e){e===z&&(z=e.l)}function k(e){return z={p:[],l:z,h:e,m:!0,_:0}}function T(e){var t=e[G];0===t.i||1===t.i?t.j():t.g=!0}function E(e,t){t._=t.p.length;var n=t.p[0],o=void 0!==e&&e!==n;return t.h.O||b("ES5").S(t,e,o),o?(n[G].P&&(w(t),r(4)),i(e)&&(e=P(t,e),t.l||A(t,e)),t.u&&b("Patches").M(n[G].t,e,t.u,t.s)):e=P(t,n,[]),w(t),t.u&&t.v(t.u,t.s),e!==q?e:void 0}function P(e,t,n){if(y(t))return t;var r=t[G];if(!r)return a(t,(function(o,i){return I(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return A(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=m(r.k):r.o,i=o,s=!1;3===r.i&&(i=new Set(o),o.clear(),s=!0),a(i,(function(t,i){return I(e,r,o,t,i,n,s)})),A(e,o,!1),n&&e.u&&b("Patches").N(r,n,e.u,e.s)}return r.o}function I(e,t,n,r,a,s,u){if(o(a)){var d=P(e,a,s&&t&&3!==t.i&&!l(t.R,r)?s.concat(r):void 0);if(c(n,r,d),!o(d))return;e.m=!1}else u&&n.add(a);if(i(a)&&!y(a)){if(!e.h.D&&e._<1)return;P(e,a),t&&t.A.l||A(e,a)}}function A(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&g(t,n)}function R(e,t){var n=e[G];return(n?h(n):e)[t]}function L(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function M(e){e.P||(e.P=!0,e.l&&M(e.l))}function B(e){e.o||(e.o=m(e.t))}function O(e,t,n){var r=p(t)?b("MapSet").F(t,n):f(t)?b("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:_(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=J;n&&(o=[r],i=$);var a=Proxy.revocable(o,i),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(t,n):b("ES5").J(t,n);return(n?n.A:_()).p.push(r),r}function F(e){return o(e)||r(22,e),function e(t){if(!i(t))return t;var n,r=t[G],o=s(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=D(t,o),r.I=!1}else n=D(t,o);return a(n,(function(t,o){r&&u(r.t,t)===o||c(n,t,e(o))})),3===o?new Set(n):n}(e)}function D(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}function N(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[G];return J.get(t,e)},set:function(t){var n=this[G];J.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var o=e[t][G];if(!o.P)switch(o.i){case 5:r(o)&&M(o);break;case 4:n(o)&&M(o)}}}function n(e){for(var t=e.t,n=e.k,r=X(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==G){var a=t[i];if(void 0===a&&!l(t,i))return!0;var s=n[i],u=s&&s[G];if(u?u.t!==a:!d(s,a))return!0}}var c=!!t[G];return r.length!==X(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};x("ES5",{J:function(t,n){var r=Array.isArray(t),o=function(t,n){if(t){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,e(o,!0));return r}var i=Y(n);delete i[G];for(var a=X(i),s=0;s<a.length;s++){var l=a[s];i[l]=e(l,t||!!i[l].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,t),i={i:r?5:4,A:n?n.A:_(),P:!1,I:!1,R:{},l:n,t:t,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,G,{value:i,writable:!0}),o},S:function(e,n,i){i?o(n)&&n[G].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[G];if(n){var o=n.t,i=n.k,s=n.R,u=n.i;if(4===u)a(i,(function(t){t!==G&&(void 0!==o[t]||l(o,t)?s[t]||e(i[t]):(s[t]=!0,M(n)))})),a(o,(function(e){void 0!==i[e]||l(i,e)||(s[e]=!1,M(n))}));else if(5===u){if(r(n)&&(M(n),s.length=!0),i.length<o.length)for(var c=i.length;c<o.length;c++)s[c]=!1;else for(var d=o.length;d<i.length;d++)s[d]=!0;for(var p=Math.min(i.length,o.length),f=0;f<p;f++)i.hasOwnProperty(f)||(s[f]=!0),void 0===s[f]&&e(i[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}n.d(t,{Ay:()=>re,Qx:()=>o,a6:()=>i,rF:()=>N,ss:()=>F});var U,z,j="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),V="undefined"!=typeof Map,W="undefined"!=typeof Set,H="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,q=j?Symbol.for("immer-nothing"):((U={})["immer-nothing"]=!0,U),K=j?Symbol.for("immer-draftable"):"__$immer_draftable",G=j?Symbol.for("immer-state"):"__$immer_state",Z=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),X="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Y=Object.getOwnPropertyDescriptors||function(e){var t={};return X(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Q={},J={get:function(e,t){if(t===G)return e;var n=h(e);if(!l(n,t))return function(e,t,n){var r,o=L(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!i(r)?r:r===R(e.t,t)?(B(e),e.o[t]=O(e.A.h,r,e)):r},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,n){var r=L(h(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=R(h(e),t),i=null==o?void 0:o[G];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(d(n,o)&&(void 0!==n||l(e.t,t)))return!0;B(e),M(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==R(e.t,t)||t in e.t?(e.R[t]=!1,B(e),M(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=h(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},$={};a(J,(function(e,t){$[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),$.deleteProperty=function(e,t){return $.set.call(this,e,t,void 0)},$.set=function(e,t,n){return J.set.call(this,e[0],t,n,e[0])};var ee=function(){function e(e){var t=this;this.O=H,this.D=!0,this.produce=function(e,n,o){if("function"==typeof e&&"function"!=typeof n){var a=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=a);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var l;if("function"!=typeof n&&r(6),void 0!==o&&"function"!=typeof o&&r(7),i(e)){var u=k(t),c=O(t,e,void 0),d=!0;try{l=n(c),d=!1}finally{d?w(u):S(u)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return C(u,o),E(e,u)}),(function(e){throw w(u),e})):(C(u,o),E(l,u))}if(!e||"object"!=typeof e){if(void 0===(l=n(e))&&(l=e),l===q&&(l=void 0),t.D&&g(l,!0),o){var p=[],f=[];b("Patches").M(e,l,p,f),o(p,f)}return l}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,i=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){i(e)||r(8),o(e)&&(e=F(e));var t=k(this),n=O(this,e,void 0);return n[G].C=!0,S(t),n},t.finishDraft=function(e,t){var n=(e&&e[G]).A;return C(n,t),E(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!H&&r(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=b("Patches").$;return o(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),te=new ee,ne=te.produce;te.produceWithPatches.bind(te),te.setAutoFreeze.bind(te),te.setUseProxies.bind(te),te.applyPatches.bind(te),te.createDraft.bind(te),te.finishDraft.bind(te);const re=ne},27148:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var r,o=n(35891),i=((r={})[o.F.Brightness]="colorAdjustmentBrightness",r[o.F.Exposure]="colorAdjustmentExposure",r[o.F.Contrast]="colorAdjustmentContrast",r[o.F.Highlights]="colorAdjustmentHighlights",r[o.F.Shadows]="colorAdjustmentShadows",r[o.F.Saturation]="colorAdjustmentSaturation",r[o.F.Temperature]="colorAdjustmentTemperature",r[o.F.Tint]="colorAdjustmentTint",r[o.F.Vignette]="colorAdjustmentVignette",r[o.F.Sharpness]="colorAdjustmentSharpness",r)},27262:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(85913),o=n(32665),i=n(40177),a=n(13855),s=(0,r.Mz)([a.h,i.hM],(function(e,t){return(0,o.A)(t,e)}))},28001:(e,t,n)=>{"use strict";n.d(t,{W:()=>x});var r=n(69187),o=n(37827),i=n(32e3),a=n(96042),s=n(56340),l={root:"ms-Shimmer-container",shimmerWrapper:"ms-Shimmer-shimmerWrapper",shimmerGradient:"ms-Shimmer-shimmerGradient",dataWrapper:"ms-Shimmer-dataWrapper"},u=(0,a.J9)((function(){return(0,i.i7)({"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(100%)"}})})),c=(0,a.J9)((function(){return(0,i.i7)({"100%":{transform:"translateX(-100%)"},"0%":{transform:"translateX(100%)"}})}));var d=n(9950),p=n(56624),f=n(28225),h=n(19496),m=n(62832),g=n(95004),v=n(34060),y=(0,p.Z)(),b=d.forwardRef((function(e,t){var n=e.styles,r=e.shimmerElements,i=e.children,a=e.width,s=e.className,l=e.customElementsGroup,u=e.theme,c=e.ariaLabel,p=e.shimmerColors,b=e.isDataLoaded,x=void 0!==b&&b,_=e.improveCSSPerformance,C=(0,f.G1)(e,f.JM),w=y(n,{theme:u,isDataLoaded:x,className:s,transitionAnimationInterval:200,shimmerColor:p&&p.shimmer,shimmerWaveColor:p&&p.shimmerWave,improveCSSPerformance:_||!l}),S=(0,g.d)({lastTimeoutId:0}),k=(0,v.j)(),T=k.setTimeout,E=k.clearTimeout,P=d.useState(x),I=P[0],A=P[1],R={width:a||"100%"};return d.useEffect((function(){if(x!==I){if(x)return S.lastTimeoutId=T((function(){A(!0)}),200),function(){return E(S.lastTimeoutId)};A(!1)}}),[x]),d.createElement("div",(0,o.Cl)({},C,{className:w.root,ref:t}),!I&&d.createElement("div",{style:R,className:w.shimmerWrapper},d.createElement("div",{className:w.shimmerGradient}),l||d.createElement(m.k,{shimmerElements:r,backgroundColor:p&&p.background})),i&&d.createElement("div",{className:w.dataWrapper},i),c&&!x&&d.createElement("div",{role:"status","aria-live":"polite"},d.createElement(h.P,null,d.createElement("div",{className:w.screenReaderText},c))))}));b.displayName="Shimmer";var x=(0,r.I)(b,(function(e){var t,n=e.isDataLoaded,r=e.className,a=e.theme,d=e.transitionAnimationInterval,p=e.shimmerColor,f=e.shimmerWaveColor,h=e.improveCSSPerformance,m=a.semanticColors,g=(0,i.Km)(l,a),v=(0,s.jI)(a);return{root:[g.root,a.fonts.medium,{position:"relative",height:"auto"},r],shimmerWrapper:[g.shimmerWrapper,{position:"relative",overflow:"hidden",transform:"translateZ(0)",backgroundColor:p||m.disabledBackground,transition:"opacity "+d+"ms",selectors:(t={},t[i.up]=(0,o.Cl)({background:"WindowText\n                        linear-gradient(\n                          to right,\n                          transparent 0%,\n                          Window 50%,\n                          transparent 100%)\n                        0 0 / 90% 100%\n                        no-repeat"},(0,i.Qg)()),t)},n&&{opacity:"0",position:"absolute",top:"0",bottom:"0",left:"0",right:"0"},h?{selectors:{"> div:last-child":{transform:"translateZ(0)"}}}:{selectors:{"> *":{transform:"translateZ(0)"}}}],shimmerGradient:[g.shimmerGradient,{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:(p||m.disabledBackground)+"\n                      linear-gradient(\n                        to right,\n                        "+(p||m.disabledBackground)+" 0%,\n                        "+(f||m.bodyDivider)+" 50%,\n                        "+(p||m.disabledBackground)+" 100%)\n                      0 0 / 90% 100%\n                      no-repeat",transform:"translateX(-100%)",animationDuration:"2s",animationTimingFunction:"ease-in-out",animationDirection:"normal",animationIterationCount:"infinite",animationName:v?c():u()}],dataWrapper:[g.dataWrapper,{position:"absolute",top:"0",bottom:"0",left:"0",right:"0",opacity:"0",background:"none",backgroundColor:"transparent",border:"none",transition:"opacity "+d+"ms"},n&&{opacity:"1",position:"static"}],screenReaderText:i.dX}}),void 0,{scope:"Shimmer"})},28019:(e,t,n)=>{"use strict";n.d(t,{CD:()=>o,Mm:()=>i,ur:()=>a});var r=function(e){return e.maskBrushOptions.maskBrushOptionsByActivity[e.maskBrushOptions.currentActivityKey]},o=function(e){return r(e).mode},i=function(e){return r(e).opacity},a=function(e){return r(e).softness}},28225:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>g,Cs:()=>k,Fo:()=>u,G1:()=>P,Gp:()=>S,JM:()=>E,P4:()=>d,QQ:()=>h,Qf:()=>w,Sg:()=>l,Sh:()=>m,al:()=>y,cr:()=>x,g0:()=>b,k3:()=>_,lA:()=>C,p3:()=>c,q6:()=>s,t0:()=>p,tK:()=>v,uw:()=>f,vt:()=>a,xM:()=>T});var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r=0,o=e;r<o.length;r++)for(var i=o[r],a=0,s=Array.isArray(i)?i:Object.keys(i);a<s.length;a++){n[s[a]]=1}return n},o=r(["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),i=r(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),a=r(i,o),s=r(a,["form"]),l=r(a,["height","loop","muted","preload","src","width"]),u=r(l,["poster"]),c=r(a,["start"]),d=r(a,["value"]),p=r(a,["download","href","hrefLang","media","rel","target","type"]),f=r(a,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]),h=r(f,["accept","alt","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","minLength","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),m=r(f,["autoCapitalize","cols","dirname","form","maxLength","minLength","placeholder","readOnly","required","rows","wrap"]),g=r(f,["form","multiple","required"]),v=r(a,["selected","value"]),y=r(a,["cellPadding","cellSpacing"]),b=a,x=r(a,["rowSpan","scope"]),_=r(a,["colSpan","headers","rowSpan","scope"]),C=r(a,["span"]),w=r(a,["span"]),S=r(a,["acceptCharset","action","encType","encType","method","noValidate","target"]),k=r(a,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]),T=r(a,["alt","crossOrigin","height","src","srcSet","useMap","width"]),E=a;function P(e,t,n){for(var r=Array.isArray(t),o={},i=0,a=Object.keys(e);i<a.length;i++){var s=a[i];!(!r&&t[s]||r&&t.indexOf(s)>=0||0===s.indexOf("data-")||0===s.indexOf("aria-"))||n&&-1!==(null===n||void 0===n?void 0:n.indexOf(s))||(o[s]=e[s])}return o}},28416:(e,t,n)=>{"use strict";n.d(t,{A3:()=>s,Mg:()=>l,Mi:()=>d,dg:()=>i,fw:()=>u,sQ:()=>p,vh:()=>a,yt:()=>f});var r=n(75347),o=n(92541),i=function(e,t,n,r,o,i){var a=l(e,t,n,r);return p(a,o,i)},a=function(e,t,n,r,o,i){var a=d(e,o,i);return s(a,t,n,r)},s=function(e,t,n,o){var i=(0,r.eE)(t),a=u(e,o),s={x:a.x*n,y:a.y*n};return(0,r.vo)(i,s)},l=function(e,t,n,o){var i=(0,r.vo)(t,e),a={x:i.x/n,y:i.y/n};return c(a,o)},u=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},c=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},d=function(e,t,n){return{x:.01*e.x*t,y:.01*e.y*n}},p=function(e,t,n){return{x:e.x/t*100,y:e.y/n*100}},f=function(e,t,n){var i=(0,r.vo)(t,e),a=(0,r.vo)((0,r.eE)(n),i);return(0,o.P)(a.x,0,1)||(0,o.P)(a.y,0,1)?{x:.5,y:.5}:a}},28418:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r={focalPointUvPosition:void 0,initialFocalPointUvPosition:void 0,undoRedoStack:{undoStack:[],redoStack:[],id:"focalPointUndoRedoStack"},undoPayload:void 0}},28425:(e,t,n)=>{"use strict";n.d(t,{r:()=>h});var r=n(86752),o=n(9950),i=n(53011),a=n(71898),s=n(69290),l=n(77990),u=n(73034),c=n(83601);var d=n(98689),p=n(42935),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},h=(0,o.forwardRef)((function(e,t){var n=e.cursor,h=e.cssToPhysicalPixelRatio,m=e.onPointerDown,g=e.onPointerMove,v=e.onPointerUp,y=e.onPointerEnter,b=e.onPointerLeave,x=e.onClick,_=e.onWheel,C=e.onTouchDown,w=e.onTouchMove,S=e.onTouchUp,k=e.onDoubleTap,T=e.onUnmount,E=e.panView,P=e.panViewTopLeftCornerFromCropOrigin,I=e.setAriaAnnouncementScenario,A=e.isCanvasHidden,R=void 0!==A&&A,L=e.title,M=e.tabIndex,B=e.role,O=f(e,["cursor","cssToPhysicalPixelRatio","onPointerDown","onPointerMove","onPointerUp","onPointerEnter","onPointerLeave","onClick","onWheel","onTouchDown","onTouchMove","onTouchUp","onDoubleTap","onUnmount","panView","panViewTopLeftCornerFromCropOrigin","setAriaAnnouncementScenario","isCanvasHidden","title","tabIndex","role"]),F=(0,o.useState)(null),D=F[0],N=F[1],U=(0,d.D)();return(0,o.useEffect)((function(){(0,p.n)(t,D)}),[t,D]),(0,i.R)({htmlElement:D,cssToPhysicalPixelRatio:h,onPointerDown:m,onPointerMove:g,onPointerUp:v,onPointerEnter:y,onPointerLeave:b,onClick:x,onUnmount:T}),(0,s.y)(h,D,C,w,S,k),(0,a.O)(h,D,_),(0,l.s)(D),function(e,t,n,r){var i=(0,o.useCallback)((function(e,o){if(!e.ctrlKey&&(0,u.Fu)(e)){e.stopPropagation(),e.preventDefault();var i=(0,u.vG)(e.key);t({direction:i,adjustmentCanvasShiftingValue:(0,u.wC)(o)}),r({type:"PanView",panViewTopLeftCornerFromCropOrigin:n})}}),[t,r,n]);(0,c.V)({numRepeatsToSwitchToFast:u.WD,keyboardEventTarget:e,handleKeyboardDown:i,isFastDirectionKey:u.T8})}(D,E,P,I),o.createElement("div",{ref:N,className:r.A.nonCropUI,style:{cursor:n,outlineColor:U.palette.neutralDark},"data-is-focusable":!0,title:L,role:null!==B&&void 0!==B?B:"img",tabIndex:null!==M&&void 0!==M?M:0,"aria-label":O["aria-label"],"data-test-id":"nonCrop_canvas","aria-hidden":R})}));h.displayName="PanZoomCanvasUIInteraction"},28556:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(69148),o=n(75347),i=n(21925);function a(e,t){var n=(0,r.J)(e,t);if(n&&n.width>0&&n.height>0){var a=(0,i.Vq)(n);return(0,o.ZG)((0,o.eE)(t),a)}}},28607:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/eraserCursorFallback.dadc9876594b85a5ee3b.cur"},29074:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var r=(0,n(9950).createContext)({showLoadingSpinner:function(){}})},29382:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var r=n(25166);function o(e,t,n,o,i){var a=(0,r.f)(e,n,o,i);return e===t?{sourcePixelBytes:a,originalPixelBytes:a}:{sourcePixelBytes:a,originalPixelBytes:(0,r.f)(t,n,o,i)}}},29385:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(9950);function o(e,t,n){(0,r.useEffect)((function(){var r=function(r){(null===t||void 0===t?void 0:t.includes(r.target))||(null===n||void 0===n?void 0:n.some((function(e){return e.contains(r.target)})))||e()};return document.addEventListener("keydown",r),document.addEventListener("pointerdown",r),document.addEventListener("touchstart",r),function(){document.removeEventListener("keydown",r),document.removeEventListener("pointerdown",r),document.removeEventListener("touchstart",r)}}),[e,t,n])}},29399:(e,t,n)=>{"use strict";n.d(t,{Rs:()=>mt,yd:()=>vt,Fh:()=>yt,Wi:()=>bt,tS:()=>xt,P6:()=>rt,jh:()=>ot,nl:()=>Ke,Yw:()=>Ze,Gy:()=>Ye,t_:()=>Qe,tc:()=>Xe,nq:()=>ft,Yc:()=>pt,Ew:()=>dt,Em:()=>et,Vb:()=>tt,mz:()=>nt,w_:()=>$e,fh:()=>Ct,aY:()=>it,_F:()=>ct,md:()=>gt,Oc:()=>Ge,Vq:()=>at,xI:()=>st,pk:()=>Je,w9:()=>_t,Yt:()=>ht,Om:()=>wt,T_:()=>ut,SJ:()=>lt,I7:()=>St});var r=n(3041),o=n(17724),i=n(75347),a=n(75795),s=n(21925),l=n(26397),u=n(45824),c=n(81189);function d(e,t){e.image._preciseUvToWorld=function(e,t,n){var r=(0,s.tX)(e),o=(0,l.u8)(r,n),a=(0,l.u8)(t,o);return(0,i.Ph)(e,a)}(e.image._preciseUvToWorld,t,e.image.originalPixelSize),e.animations.image=(0,u.PX)(),e.animations.crop=(0,u.PX)(),e.cropInteraction.uvToWorld=function(e,t,n){var r=(0,i.vo)(e,t),o=(0,i.vo)(e,n);return(0,s.Vq)((0,a.c4)({left:Math.min(r.x,o.x),top:Math.min(r.y,o.y),width:Math.abs(o.x-r.x),height:Math.abs(o.y-r.y)}))}((0,i.fJ)(e.image._preciseUvToWorld),e.cropInteraction.rectTopLeftInImageUv,e.cropInteraction.rectBottomRightInImageUv),e.cropInteraction._uvToWorldBeforeRotate=(0,i.vt)(e.cropInteraction.uvToWorld),(0,c.T)(e)}var p=n(16423),f=n(39897);var h=n(26262),m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},m.apply(this,arguments)};function g(e){var t=(0,i.fJ)(e.image._preciseUvToWorld);e.cropInteraction.rectTopLeftInImageUv=(0,i.J)(t,(0,i.vo)(e.cropInteraction.uvToWorld,{x:0,y:0})),e.cropInteraction.rectBottomRightInImageUv=(0,i.J)(t,(0,i.vo)(e.cropInteraction.uvToWorld,{x:1,y:1}))}function v(e,t,n,r){void 0===r&&(r=!1),r?(e.needsFrameTick=!0,e.image=(0,u.pG)(e.image,t,n)):e.image=(0,u.PX)()}var y=n(62090),b=n(38526);function x(e){return e.animations.image.isActive}function _(e,t){var n=!x(e);v(e.animations,e.image._preciseUvToWorld,t,n),e.animations.crop=(0,u.PX)(),e.image._preciseUvToWorld=t,g(e),(0,b.M)(e)}var C=n(17755),w=n(25382);function S(e,t){e.image._preciseUvToWorld=(0,s.uq)(t,e.cropInteraction._uvToWorldBeforeRotate,e.image._preciseUvToWorld),e.animations.image=(0,u.PX)(),e.animations.crop=(0,u.PX)(),e.cropInteraction.shouldConstrainInImage&&(0,w.pH)(e,(0,C._U)(e.cropInteraction._uvToWorldBeforeRotate,e.image._preciseUvToWorld,e.cropInteraction.uvToWorld),w.F5.userIsRotating),g(e)}var k=n(48678),T=n(72392);function E(e,t){var n=!x(e),r=t===T.Y5.Clockwise?90:-90,o=(0,s.uq)(r,e.cropInteraction._uvToWorldBeforeRotate,e.image._preciseUvToWorld);n?(e.animations.needsFrameTick=!0,e.animations.image=(0,u.pG)(e.animations.image,e.image._preciseUvToWorld,o)):e.animations.image=(0,u.PX)(),e.image._preciseUvToWorld=o,e.cropInteraction.aspectRatio=(0,k.E5)(e.cropInteraction.aspectRatio,e.cropInteraction.aspectRatiosList);var i=(0,s.uq)(r,e.cropInteraction._uvToWorldBeforeRotate,e.cropInteraction.uvToWorld);e.animations.crop=n?(0,u.pG)(e.animations.crop,e.cropInteraction.uvToWorld,i):(0,u.PX)(),e.cropInteraction.shouldInvertOriginalAspectRatio=!e.cropInteraction.shouldInvertOriginalAspectRatio,function(e){e.cropInteraction.uvToWorld=(0,s.Gl)(e.cropInteraction.uvToWorld),e.cropInteraction._uvToWorldBeforeRotate=(0,s.Gl)(e.cropInteraction._uvToWorldBeforeRotate),e.cropInteraction._uvToWorldBeforeZoomToCrop=(0,s.Gl)(e.cropInteraction._uvToWorldBeforeZoomToCrop),e.cropInteraction._lastUvToWorldNotSetByAspectRatioChange=(0,s.Gl)(e.cropInteraction._lastUvToWorldNotSetByAspectRatioChange)}(e),g(e),(0,b.M)(e),(0,c.T)(e,n)}var P=n(73553);function I(e,t,n,r){return e.x+r/45*t+n*Math.sign(r)}function A(e,t){var n=function(e,t){return(t=(0,P.q)(t,z,U))-e}((0,T.UN)((0,i.ao)(e.image._preciseUvToWorld)),t);S(e,n),(0,b.M)(e)}var R=n(10499),L=n(81902),M=n(4749),B=n(73050);function O(e){var t=e.undoRedoStack.undoStack.pop();t&&(t.sequentialDuplicateAction===B.Z.KeepLast&&(t.sequentialDuplicateAction=B.Z.KeepAll),e.undoRedoStack.undoStack.push(t))}function F(e,t,n){var r;if(e.rotationUi.rotationBarPointer.incrementingIdOfPointerThatIsDown){if(n){var a=(0,i.ao)(e.image._preciseUvToWorld);n.logRotateEvent({angle:a,inputType:t})}e.rotationUi.rotationBarPointer.incrementingIdOfPointerThatIsDown=void 0,e.animations.needsFrameTick=!0,e.animations.gridLineVisibility=(0,L.Vr)(R._R),e.cropInteraction.mode=o.s,(null===(r=e.undoRedoStack.undoStack[e.undoRedoStack.undoStack.length-1])||void 0===r?void 0:r.id)===M.p.rotateWithRotationBar&&O(e)}}var D=function(){return D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},D.apply(this,arguments)};function N(e,t){if(e.rotationUi.rotationBarPointer.incrementingIdOfPointerThatIsDown&&!t.isPrimaryButtonDownOrTouchDown&&F(e,t.inputType),e.rotationUi.rotationBarPointer.incrementingIdOfPointerThatIsDown){var n=t.pointerPhysicalPixelPos,r=(0,T.UN)((0,i.ao)(e.image._preciseUvToWorld)),o=544*e.device.pixelRatio,a=function(e,t,n,r,o){var i=r-n.x;if(Math.abs(i)<28)return 0;var a=t.x-n.x,s=a/o,l=Math.min(Math.abs(s),1)*(s<0?z:U);return e+l}(r,e.rotationUi.rotationBarPointer.movePos,n,e.rotationUi.deadZoneCenterPos,o);e.rotationUi.deadZoneCenterPos=function(e,t,n,r,o){if(t>=U||t<=z)return I(n,o,28,e);return r}(r,a,n,e.rotationUi.deadZoneCenterPos,o),A(e,a),e.rotationUi.rotationBarPointer.movePos=D({},n),(0,c.T)(e)}}var U=45-1e-12,z=-U;var j=n(44121),V=n(2339),W=function(){return W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},W.apply(this,arguments)};function H(e,t,n){var r=(0,l.Bp)(e,t),o=(0,i.iQ)(r.x,r.y);return(0,i.fJ)((0,i.ZG)(o,n))}var q=n(2171),K=n(88741),G=n(69893),Z=n(3493),X=n(66788),Y=n(66066),Q=n(6494);function J(e,t){return t||!(0,Q.as)(e.cropInteraction.aspectRatio)?(0,k.Ub)(e.cropInteraction.aspectRatio,e.cropInteraction.uvToWorld,e.image.originalPixelSize,e.cropInteraction.shouldInvertOriginalAspectRatio):void 0}var $=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function ee(e,t){!function(e,t){var n=e.cropInteraction.uvToWorld;e.cropInteraction.uvToWorld=$([],n,!0),t(),(0,i.t7)(e.cropInteraction.uvToWorld,n)&&(e.cropInteraction.uvToWorld=n)}(e,(function(){if(!(e.pointer.pointerDowns.length>1)){if(1===e.pointer.pointerDowns.length)if(!(e.pointer.pointerDowns[0].pointerId===t.pointerId))return;var n=t.pointerPhysicalPixelPos;e.pointer.preventShift&&(e.cropInteraction.mode!==j.I.draggingView&&e.cropInteraction.mode!==j.I.draggingImage||(e.pointer.offset=(0,l.Bp)(e.pointer.movePos,n)),e.pointer.preventShift=!1);var r=(0,l.If)(n,e.pointer.offset);switch(e.cropInteraction.mode){case j.I.disabled:!function(e,t){e.pointer.pointerDowns.length>0&&e.animations.transitionToViewingOriginal.isActive&&e.view.viewFitting.mode!==G.m.fitCropRectInView&&(e.cropInteraction.mode=j.I.draggingView,e.animations.transitionToViewingOriginal=(0,X.GA)(),te(e,t))}(e,r);break;case j.I.draggingView:(t.isMiddleButtonDown||t.isRightButtonDown||t.isPrimaryButtonDownOrTouchDown&&e.cropInteraction.enableLeftMouseDraggingView)&&te(e,r);break;case j.I.zoomToCrop:case j.I.keyboardCropping:case j.I.keyboardRotating:case j.I.none:!function(e,t){var n=(0,q.j6)(e.cropUiDisplay.handleHitAreaSizeCss,e.device.pixelRatio);e.cropInteraction.activeHandleIndex=function(e,t,n,r){var o=(0,s.SM)((0,i.ZG)(e,t));return(0,q.n)(n,o,r)}(e.view.worldToView,e.cropInteraction.uvToWorld,t,n)}(e,r);break;case j.I.usingNineSliceCropHandles:!function(e,t,n){if(e.cropInteraction.activeHandleIndex!==Z.Q.Center){var r=(0,s.SM)(e.cropInteraction.uvToWorld),o=(0,l.Bp)(t,e.pointer.downOffsetFromCropHandleCenter),u=(0,i.J)(e.view.worldToView,o),d=function(e,t,n){var r=(0,s.SM)(e.cropInteraction.uvToWorld),o=(0,s.SM)(e.image._preciseUvToWorld),a=(0,q.zq)(e.cropUiDisplay.handleSizeCss,e.device.pixelRatio),l=(0,K.hJ)(a,e.view.worldToView);return(0,K._2)(r,o,e.cropInteraction.activeHandleIndex,t,1/(0,i.Z$)(e.view.worldToView,1,1),l,e.cropInteraction.aspectRatiosList,J(e,n))}(e,u,n);if(!(0,a.N8)(d,r)){if((0,w.DQ)(e,d),e.cropInteraction.shouldConstrainInImage){(0,w.pH)(e,(0,C.IG)(e.cropInteraction.uvToWorld,e.image._preciseUvToWorld,e.cropInteraction.aspectRatio,e.cropInteraction.activeHandleIndex));var p=(0,s.SM)(e.cropInteraction.uvToWorld);if((0,a.WX)(p,r))switch(e.cropInteraction.activeHandleIndex){case Z.Q.BottomCenter:u.y>r.top+r.height&&(0,w.DQ)(e,r);break;case Z.Q.TopCenter:u.y<r.top&&(0,w.DQ)(e,r);break;case Z.Q.SideLeft:u.x<r.left&&(0,w.DQ)(e,r);break;case Z.Q.SideRight:u.x>r.left+r.width&&(0,w.DQ)(e,r)}}g(e);var f=(0,s.SM)(e.cropInteraction.uvToWorld);(f.width>e.cropInteraction.rectAtStartOfResize.width||f.height>e.cropInteraction.rectAtStartOfResize.height)&&(0,c.T)(e)}(0,Y.A)(e)}}(e,r,t.shiftKey);break;case j.I.draggingImage:!function(e,t){e.image._preciseUvToWorld=ne(e.view.worldToView,e.image._preciseUvToWorld,e.cropInteraction.uvToWorld,e.pointer.imageUvGrabPosition,t),e.animations.image=(0,u.PX)(),e.animations.crop=(0,u.PX)(),g(e)}(e,r);break;case j.I.selectingFirstCorner:break;case j.I.selectingSecondCorner:!function(e,t){var n=(0,i.vo)(e.image._preciseUvToWorld,e.pointer.imageUvGrabPosition),r=(0,i.J)(e.view.worldToView,t);e.cropInteraction.shouldConstrainInImage&&(r=function(e,t){var n=(0,i.J)(t,e);return n.x=(0,P.q)(n.x,0,1),n.y=(0,P.q)(n.y,0,1),(0,i.vo)(t,n)}(r,e.image._preciseUvToWorld));var o=function(e,t){var n=Math.min(e.x,t.x),r=Math.min(e.y,t.y),o=Math.max(e.x,t.x),i=Math.max(e.y,t.y),s=Math.max(1,o-n),l=Math.max(1,i-r);return(0,a.c4)({left:n,top:r,width:s,height:l})}(n,r);o=(0,k.dh)(o,(0,k.Ub)(e.cropInteraction.aspectRatio,(0,s.Vq)(o),e.image.originalPixelSize,e.cropInteraction.shouldInvertOriginalAspectRatio),re(n,r)),(0,w.DQ)(e,o),e.cropInteraction.shouldConstrainInImage&&(0,w.pH)(e,(0,C.IG)(e.cropInteraction.uvToWorld,e.image._preciseUvToWorld,e.cropInteraction.aspectRatio,re(n,r)));g(e)}(e,r)}if(e.pointer.movePos=r,e.pointer.pointerDowns.length>0){var o=(0,l.Sl)(e.pointer.downPos,e.pointer.movePos);e.pointer.maxDragDistance=Math.max(o,e.pointer.maxDragDistance)}}}))}function te(e,t){e.view.worldToView=H(t,e.pointer.movePos,e.view.worldToView),e.animations.worldToView=(0,u.PX)(),e.view.viewFitting.mode=G.m.none}function ne(e,t,n,r,o){var a=(0,i.eE)((0,i.ZG)(e,t)),s=(0,i.vo)(a,o),u=(0,i.vo)(t,r),c=(0,i.vo)(t,s),d=(0,l.Bp)(c,u),p=(0,i.ZG)((0,i.iQ)(d.x,d.y),t),f=(0,l.Bp)(d,(0,C.UW)(p,n));return 0===f.x&&0===f.y?t:(0,i.ZG)((0,i.iQ)(f.x,f.y),t)}function re(e,t){var n=Z.Q.TopLeft;return e.x<=t.x?n=e.y<=t.y?Z.Q.BottomRight:Z.Q.TopRight:e.y<=t.y&&(n=Z.Q.BottomLeft),n}var oe=n(39022),ie=n(53591);var ae=n(46837);function se(e,t,n){var r=(0,l.m1)(e.view.viewportPixelSize,.5);(0,oe.Q)(e,t,r,n,!0)}var le=n(72079);function ue(e,t){if(t.isPrimaryButtonDownOrTouchDown||t.isMiddleButtonDown||t.isRightButtonDown){var n=e.pointer.pointerDowns.length>0;if(e.pointer.pointerDowns=e.pointer.pointerDowns.concat({pointerId:t.pointerId,isTouch:t.isTouch}),!n){e.cropInteraction.isKeyboardFocused=!1;var r=t.pointerPhysicalPixelPos;e.pointer.imageUvGrabPosition=(0,ae.o)(r,e.view.worldToView,e.image._preciseUvToWorld),e.pointer.downPos=r,e.pointer.maxDragDistance=0;var o=(0,s.SM)((0,i.ZG)(e.view.worldToView,e.cropInteraction.uvToWorld)),l=(0,q.j6)(e.cropUiDisplay.handleHitAreaSizeCss,e.device.pixelRatio);if(e.cropInteraction.activeHandleIndex=(0,q.n)(r,o,l),e.cropInteraction.mode=function(e,t,n,r){switch(e.mode){case j.I.selectingFirstCorner:if((0,w.Dh)(e.shouldConstrainInImage,t))return j.I.selectingSecondCorner;break;case j.I.zoomToCrop:case j.I.keyboardCropping:case j.I.keyboardRotating:case j.I.none:return n?r?j.I.draggingView:j.I.none:e.activeHandleIndex!==Z.Q.None||(0,a.pN)(t,a.qs)?e.activeHandleIndex===Z.Q.Center||e.activeHandleIndex===Z.Q.None&&e.allowDraggingImageOutsideRect&&(0,a.pN)(t,a.qs)?j.I.draggingImage:j.I.usingNineSliceCropHandles:r?j.I.draggingView:j.I.none}return e.mode}(e.cropInteraction,e.pointer.imageUvGrabPosition,t.ctrlKey,e.view.allowDraggingView),e.cropInteraction.mode===j.I.selectingSecondCorner){var u=(0,i.J)(e.view.worldToView,r),c=(0,a.c4)({left:u.x,top:u.y,width:1,height:1});(0,w.DQ)(e,c),g(e)}else e.cropInteraction.mode===j.I.usingNineSliceCropHandles&&(e.cropInteraction.focusedHandleIndex=e.cropInteraction.activeHandleIndex,e.cropInteraction.activeHandleIndex!==Z.Q.None&&(e.pointer.downOffsetFromCropHandleCenter=(0,q.KX)(e.cropInteraction.activeHandleIndex,o,r)),e.cropInteraction.rectAtStartOfResize=(0,s.SM)(e.cropInteraction.uvToWorld));e.cropInteraction.mode!==j.I.draggingView&&e.cropInteraction.mode!==j.I.none&&e.cropInteraction.mode!==j.I.disabled&&(e.animations.needsFrameTick=!0,e.animations.outsideCropVisibility=(0,X.Ql)(),e.animations.gridLineVisibility=(0,L.Vr)(R.zy)),e.cropInteraction.mode===j.I.disabled&&(e.view.canViewOriginal?(e.animations.transitionToViewingOriginal=(0,X.Ql)(),e.animations.needsFrameTick=!0):e.cropInteraction.mode=j.I.draggingView),e.pointer.movePos=r,(0,Y.A)(e)}}}var ce=n(73034);function de(e,t,n,r){return!!e&&(n.handlePosition===Z.Q.Center||(!(0,a.Ej)(t,e)&&(0,ce.g4)(n.handlePosition,n.direction)?(0,a.WX)(e,t)&&(0,a.yo)(e,r):(0,a.WX)(t,e)))}function pe(e,t,n,r,o){for(var i=n.direction,l=n.handlePosition,u=n.cropShiftingValue,c=o-u<0?-1:1,d=u;(o-d)*c>=0;d+=c){var p=(0,ce.yd)(t,i,l,d),f=(0,k.Ub)(e.cropInteraction.aspectRatio,(0,s.Vq)(p),e.image.originalPixelSize,e.cropInteraction.shouldInvertOriginalAspectRatio),h=(0,k.dh)(p,f,l),m=(0,a.c4)(h);if(de(m,t,n,r))return m}}var fe=n(21932);function he(e){var t=(0,fe.M)(e.view.worldToView,e.cropInteraction.uvToWorld,e.view.viewportPixelSize);if(0!==t.x||0!==t.y){var n=(0,i.fJ)((0,i.ZG)((0,i.iQ)(t.x,t.y),e.view.worldToView));e.animations.needsFrameTick=!0,e.animations.worldToView=(0,u.pG)(e.animations.worldToView,e.view.worldToView,n),e.view.worldToView=n}}function me(e){return e.filter((function(e){return e.isTouch})).length}function ge(e,t,n,r){if(0!==e.pointer.pointerDowns.length&&e.pointer.pointerDowns.some((function(e){return e.pointerId===t}))){var i=function(e,t){var n=me(e),r=e.filter((function(e){return e.pointerId!==t})),o=me(r),i=o<n;return 1===r.length&&1===o&&i}(e.pointer.pointerDowns,t);if(e.pointer.pointerDowns=e.pointer.pointerDowns.filter((function(e){return e.pointerId!==t})),i)e.pointer.preventShift=!0;else if(!(e.pointer.pointerDowns.length>0)){if(e.pointer.offset={x:0,y:0},r&&(e.cropInteraction.mode===j.I.usingNineSliceCropHandles||e.cropInteraction.mode===j.I.draggingImage)){var l=(0,s.SM)(e.cropInteraction.uvToWorld);(0,a.N8)(e.cropInteraction.rectAtStartOfResize,l)||r.logCropEvent({inputType:n})}e.cropInteraction.mode!==j.I.draggingView&&e.cropInteraction.mode!==j.I.none&&e.cropInteraction.mode!==j.I.disabled&&(e.animations.needsFrameTick=!0,e.animations.outsideCropVisibility=(0,X.Ql)(),e.animations.gridLineVisibility=(0,L.Vr)(R.zy)),e.cropInteraction.mode===j.I.selectingSecondCorner&&(e.view.viewFitting.mode=G.m.fitCropRectInView),e.cropInteraction.mode===j.I.draggingView||e.cropInteraction.mode===j.I.disabled?(he(e),e.cropInteraction.mode=j.I.disabled):((0,c.r)(e),e.cropInteraction.mode=o.s),(0,Y.A)(e)}}}function ve(e,t,n){void 0===n&&(n=!0),e.cropInteraction.aspectRatio!==t&&(0,b.M)(e),e.cropInteraction.aspectRatio=t;var r=(0,i.vt)(e.cropInteraction.uvToWorld);(0,w.DQ)(e,(0,k.V1)(e.cropInteraction._lastUvToWorldNotSetByAspectRatioChange,e.image._preciseUvToWorld,(0,k.Ub)(t,e.cropInteraction._lastUvToWorldNotSetByAspectRatioChange,e.image.originalPixelSize,e.cropInteraction.shouldInvertOriginalAspectRatio)),w.F5.userIsChangingAspectRatio);var o=(0,i.vt)(e.cropInteraction.uvToWorld);e.animations.crop=n?(0,u.pG)(e.animations.crop,r,o):(0,u.PX)(),(0,c.T)(e,n)}var ye=n(31462),be=n(79338);function xe(e,t){void 0===t&&(t=!1);var n=(0,ye.W)(e.image.originalPixelSize),r=(0,be.I)(n,e.userDefinedDefaults),i=r.image._preciseUvToWorld,a=r.cropInteraction.uvToWorld;e.cropInteraction.rectAtStartOfResize={top:0,left:0,width:e.image.originalPixelSize.x,height:e.image.originalPixelSize.y},function(e,t,n,r){void 0===r&&(r=!1),r?(e.needsFrameTick=!0,e.crop=(0,u.pG)(e.crop,t,n)):e.crop=(0,u.PX)()}(e.animations,e.cropInteraction.uvToWorld,a,t),(0,w.pH)(e,a,w.F5.userIsRotating),v(e.animations,e.image._preciseUvToWorld,i,t),e.image._preciseUvToWorld=i,g(e),e.view.viewFitting.mode=o.DP,t?(0,c.r)(e):(0,c.T)(e),e.cropInteraction.shouldInvertOriginalAspectRatio=!1,ve(e,r.cropInteraction.aspectRatio,t)}var _e=function(){return _e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_e.apply(this,arguments)};function Ce(e,t,n){!function(e,t,n){n&&(e.image.originalPixelSize=_e({},n));xe(e,t),(0,b.M)(e),(0,w.YU)(e),e.savedStates={}}(e,t,n),e.undoRedoStack=o.SZ.undoRedoStack}var we=function(){return we=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},we.apply(this,arguments)};var Se=n(18699);var ke=n(34354),Te=function(){return Te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Te.apply(this,arguments)};function Ee(e,t){e.image.originalPixelSize=Te({},t),xe(e),(0,b.M)(e)}function Pe(e,t){t.shouldChangeOriginalSizeAndResetTransformsOnSizeChange&&function(e,t){e.image.originalPixelSize.x===t.x&&e.image.originalPixelSize.y===t.y||Ee(e,t)}(e,t.sizeInPixels),e.image.loadedPixelSize=t.sizeInPixels,e.image.exifOrientation=t.exifOrientation}var Ie=n(25522),Ae=function(){return Ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ae.apply(this,arguments)};function Re(e,t){e.image.originalPixelSize=Ae({},t.originalImageSize);var n=(0,Ie.D)(t.imageTransform),r=(0,s.Vq)(t.cropRectangle);(0,w.pH)(e,r,w.F5.unspecified),v(e.animations,e.image._preciseUvToWorld,n),e.image._preciseUvToWorld=n,e.animations.crop=(0,u.PX)(),g(e);return(0,c.T)(e,!1),e.cropInteraction.aspectRatio=t.aspectRatio,e.cropInteraction.shouldInvertOriginalAspectRatio=t.shouldInvertOriginalAspectRatio||!1,e.undoRedoStack=t.undoRedoStack,e}var Le=n(80559),Me=n(61297);var Be=n(31985);function Oe(e,t){e.userDefinedDefaults=function(e){return{cropInteraction:{aspectRatio:e.aspectRatio||o.Yb,uvToWorld:e.cropRectangle?(0,s.Vq)(e.cropRectangle):void 0},image:e.imageTransform?{_preciseUvToWorld:(0,Ie.D)(e.imageTransform)}:void 0}}(t)}var Fe=n(36386),De=n(89078);function Ne(e,t){(0,De.IA)(e,t),(0,w.YU)(e),(0,c.T)(e),e.cropUiDisplay.areCropOverlaysVisible=!0,(0,Y.A)(e)}var Ue={undoReducer:function(e,t){e.undoRedoStack.redoStack.push(t),Ne(e,t.undoPayload)},redoReducer:function(e,t){e.undoRedoStack.undoStack.push(t),Ne(e,t.redoPayload)},removeItemsReducer:function(e,t){e.undoRedoStack.undoStack=t},collapseItemsReducer:function(e,t,n){e.undoRedoStack.undoStack=e.undoRedoStack.undoStack.filter((function(e){return e.sequence!==t.payload.start&&e.sequence!==t.payload.end})),e.undoRedoStack.undoStack.push(n)}},ze=n(96992);function je(e,t,n,r){var o=(0,De.PB)(e);t();var i=(0,De.PB)(e);if(!(0,ze.v)(o,i,5)){var a=(0,Fe.Cy)(n,o,i,r);return e.undoRedoStack.undoStack.push(a),a}}var Ve,We=n(97351);function He(e,t){(0,We.s)(e,t,"replaceImageTransformTools",(function(e){!function(e,t){Ee(e,t),e.image.loadedPixelSize=void 0,e.image.exifOrientation=ke.Lf,(0,w.YU)(e),e.savedStates={}}(e,t.newImagePixelSize)}),De.hJ)}var qe=(0,r.Z0)({name:"transformToolsState",initialState:o.SZ,reducers:{setResolutionScaling:function(e,t){d(e,t.payload)},handleImageTextureLoaded:function(e,t){Pe(e,t.payload)},setCanvasPixelSize:function(e,t){!function(e,t,n){e.view.worldToView=(0,i.fJ)((0,h.k8)(e.view.worldToView,e.view.viewportPixelSize,t)),e.view.viewportPixelSize=m({},t),e.view.viewportCssSize=m({},n);var r=e.view.animateViewWhenViewportIsResized;(0,c.T)(e,r),(0,i.mh)(e.view.worldToView)||(e.view.worldToView=(0,i.uz)())}(e,t.payload.pixelSize,t.payload.cssSize)},adjustCropRect:function(e,t){e.savedStates.savedWhenKeyboardCroppingStart||(e.savedStates.savedWhenKeyboardCroppingStart=(0,De.PB)(e)),function(e,t,n){var r=t.direction,o=t.handlePosition,i=t.cropShiftingValue,a=(0,s.SM)(e.cropInteraction.uvToWorld),l=(0,q.zq)(e.cropUiDisplay.handleSizeCss,e.device.pixelRatio),u=(0,K.Xs)(l,h.jC),d=a;i>=1&&(d=pe(e,a,t,u,1)||d),de(d,a,t,u)||(d=pe(e,a,t,u,Math.ceil(J(e,!1)||1))||d),de(d,a,t,u)&&((0,w.DQ)(e,d),e.cropInteraction.focusedHandleIndex=o,e.cropInteraction.shouldConstrainInImage&&(0,w.pH)(e,(0,C.bI)(e.cropInteraction.uvToWorld,e.image._preciseUvToWorld,e.cropInteraction.aspectRatio,e.cropInteraction.focusedHandleIndex,r)),g(e),null===n||void 0===n||n.logCropEvent({inputType:t.inputType}),e.animations.needsFrameTick=!0,e.cropInteraction.mode!==j.I.keyboardCropping&&(e.cropInteraction.mode=j.I.keyboardCropping,e.animations.gridLineVisibility=(0,L.Vr)(R.zy),e.animations.outsideCropVisibility=(0,X.Ql)()),e.animations.dismissGridLineVisibility=(0,X.Ql)(),e.animations.dismissOutsideCropVisibility=(0,X.Ql)(),(0,Y.A)(e),(0,c.T)(e))}(e,t.payload,t.telemetry)},adjustCropRectOnKeyUp:function(e,t){var n=e.savedStates.savedWhenKeyboardCroppingStart;n?((0,De.NU)(e,n,M.p.cropWithCropHandles),e.savedStates.savedWhenKeyboardCroppingStart=void 0):O(e)},panView:function(e,t){!function(e,t){if(e.view.viewFitting.mode!==G.m.fitCropRectInView){var n=t.direction,r=t.adjustmentCanvasShiftingValue,o=(0,ce.n)(n),a=(0,l.m1)(o,r),s=(0,i.iQ)(a.x,a.y);e.view.worldToView=(0,i.fJ)((0,i.ZG)(s,e.view.worldToView)),e.animations.worldToView=(0,u.PX)(),e.view.viewFitting.mode=G.m.none,he(e)}}(e,t.payload)},setFocusedCropHandle:function(e,t){!function(e,t){var n=t.handlePosition,r=t.isKeyboardFocused;e.cropInteraction.focusedHandleIndex=n,e.cropInteraction.isKeyboardFocused=!!r,(0,Y.A)(e)}(e,t.payload)},handleMouseWheel:function(e,t){(0,le.T)(e,t.payload,t.telemetry)},handleMirrorXClick:function(e){je(e,(function(){!function(e){var t=(0,s.KN)(e.cropInteraction.uvToWorld).x;_(e,(0,y.p)(e.image._preciseUvToWorld,i.d1,t))}(e)}),M.p.mirrorImageX,B.Z.KeepAll)},handleMirrorYClick:function(e){je(e,(function(){!function(e){var t=(0,s.KN)(e.cropInteraction.uvToWorld).y;_(e,(0,y.p)(e.image._preciseUvToWorld,i.Ml,t))}(e)}),M.p.mirrorImageY,B.Z.KeepAll)},setDefaultEdits:function(e,t){Oe(e,t.payload)},handleZoomChange:function(e,t){se(e,t.payload,t.telemetry)},handleZoomDeltaChange:function(e,t){je(e,(function(){!function(e,t,n){if(e.cropInteraction.enableZoomToCrop)(0,ie.P)(e,t,!0,n);else if(e.view.enableZoomToView){var r=(0,i.YD)(e.view.worldToView);se(e,(0,Se.ZW)(r,t))}}(e,t.payload,t.telemetry)}),M.p.zoomToCrop,B.Z.KeepAll)},handleSetRotation:function(e,t){!function(e,t){S(e,t-(0,i.ao)(e.image._preciseUvToWorld)),(0,c.T)(e)}(e,t.payload)},handleTouchDown:function(e,t){!function(e,t){e.view.allowDraggingView&&(e.cropInteraction.mode=j.I.draggingView),e.pointer.movePos=t.center,e.pointer.imageUvGrabPosition=(0,ae.o)(t.center,e.view.worldToView,e.image._preciseUvToWorld),e.touch.downCenterPos=t.center,e.touch.scale=1,e.touch.isDown=!0}(e,t.payload)},handleTouchMove:function(e,t){je(e,(function(){!function(e,t,n){if(e.touch.isDown){var r=t.center,o=t.scale;if(e.cropInteraction.enableZoomToCrop&&(0,K.UZ)(e.touch.downCenterPos,e.view.worldToView,e.cropInteraction.uvToWorld)&&e.view.viewFitting.mode!==G.m.none){var a=e.touch.scale-o;e.image._preciseUvToWorld=ne(e.view.worldToView,e.image._preciseUvToWorld,e.cropInteraction.uvToWorld,e.pointer.imageUvGrabPosition,r),(0,ie.P)(e,a,!1,n),e.cropInteraction.mode=j.I.draggingImage}else if(e.view.enableZoomToView){var s=o/e.touch.scale;e.view.worldToView=H(r,e.pointer.movePos,e.view.worldToView);var l=(0,i.YD)(e.view.worldToView)*s;(0,oe.Q)(e,l,r,n).zoomIsMinimum&&(0,c.T)(e),e.cropInteraction.mode=j.I.draggingView}e.touch.scale=o,e.pointer.movePos=r}}(e,t.payload,t.telemetry)}),M.p.pinchToCrop,B.Z.KeepLast)},handleTouchUp:function(e,t){!function(e){e.touch.isDown=!1}(e,t.payload)},recenterView:function(e,t){!function(e,t){e.view.viewFitting.mode=G.m.fitCropRectInView,(0,c.r)(e),t&&t.logRecenterEvent()}(e,t.telemetry)},setCropHandleSizeCss:function(e,t){!function(e,t){var n=t.handleSizeCss,r=t.handleHitAreaSizeCss;e.cropUiDisplay.handleSizeCss=n,e.cropUiDisplay.handleHitAreaSizeCss=r}(e,t.payload)},setCssToPhysicalPixelRatio:function(e,t){!function(e,t){e.device.pixelRatio=t}(e,t.payload)},setShouldConstrainCropInImage:function(e,t){!function(e,t){e.cropInteraction.shouldConstrainInImage=t,e.cropInteraction.shouldConstrainInImage&&(0,w.pH)(e,(0,C._U)(e.cropInteraction._uvToWorldBeforeRotate,e.image._preciseUvToWorld,e.cropInteraction.uvToWorld))}(e,t.payload)},handleFrameTick:function(e,t){!function(e,t){e.animations=(0,f.si)(e.animations,t),e.view.animateViewWhenViewportIsResized&&!e.animations.worldToView.isActive&&(e.view.animateViewWhenViewportIsResized=!1),(0,p.m)(e.cropInteraction.mode)&&(0,f.TG)(e.animations)&&(e.cropInteraction.mode=o.s)}(e,t.payload)},setViewFittingMode:function(e,t){!function(e,t){e.view.viewFitting.mode=t,(0,c.r)(e)}(e,t.payload)},setViewFittingMarginCssPixels:function(e,t){!function(e,t,n){e.view.viewFitting.marginCssPixels=we({},t),(0,c.T)(e,n)}(e,t.payload.marginCssPixels,t.payload.shouldAnimate)},setAllowDraggingImageOutsideCropRect:function(e,t){!function(e,t){e.cropInteraction.allowDraggingImageOutsideRect=t}(e,t.payload)},setAllowDraggingView:function(e,t){!function(e,t){e.view.allowDraggingView=t}(e,t.payload)},setEnableZoomToView:function(e,t){!function(e,t){e.view.enableZoomToView=t}(e,t.payload)},setEnableZoomToCrop:function(e,t){!function(e,t){e.cropInteraction.enableZoomToCrop=t}(e,t.payload)},rotateCropAndImageBy90:function(e,t){je(e,(function(){E(e,t.payload)}),M.p.rotateCropBy90,B.Z.KeepAll)},startWindowSelectionMode:function(e){e.cropInteraction.mode=j.I.selectingFirstCorner},handleRotationBarPointerUp:function(e,t){F(e,t.payload.inputType,t.telemetry)},handleRotationBarPointerMove:function(e,t){e.rotationUi.rotationBarPointer.incrementingIdOfPointerThatIsDown&&function(e,t){if(void 0!==t){var n=e.undoRedoStack.undoStack.findIndex((function(e){return"SameImage"===e.undoPayload.payloadScenario&&e.undoPayload.rotationUi.rotationBarPointer.incrementingIdOfPointerThatIsDown===t.redoPayload.rotationUi.rotationBarPointer.incrementingIdOfPointerThatIsDown&&(0,ze.v)(e.undoPayload,t.redoPayload,5)}));n>=0&&(e.undoRedoStack.undoStack=e.undoRedoStack.undoStack.slice(0,n))}}(e,je(e,(function(){N(e,t.payload)}),M.p.rotateWithRotationBar,B.Z.KeepLast))},handleRotationBarPointerDown:function(e,t){!function(e,t){var n=t.pointerPhysicalPixelPos,r=e.rotationUi.rotationBarPointer,o=e.device.pixelRatio;r.incrementingIdOfPointerThatIsDown=(0,V.b)(),r.movePos=W({},n),e.rotationUi.deadZoneCenterPos=I(n,544*o,28,(0,T.UN)((0,i.ao)(e.image._preciseUvToWorld))),e.cropInteraction.mode=j.I.rotating,e.animations.needsFrameTick=!0,e.animations.gridLineVisibility=(0,L.Vr)(R._R)}(e,t.payload)},setRotationBarIsKeyboardFocused:function(e,t){!function(e,t){e.rotationUi.isKeyboardFocused=t,(0,Y.A)(e)}(e,t.payload)},adjustRotationOnKeyDown:function(e,t){e.savedStates.savedWhenKeyboardRotatingStart||(e.savedStates.savedWhenKeyboardRotatingStart=(0,De.PB)(e)),function(e,t,n){var r=t.direction,o=t.sliderShiftingValue,a=(0,T.UN)((0,i.ao)(e.image._preciseUvToWorld)),s=(0,T.X3)(r,a,o);A(e,s),null===n||void 0===n||n.logRotateEvent({angle:s,inputType:t.inputType}),e.animations.needsFrameTick=!0,e.cropInteraction.mode!==j.I.keyboardRotating&&(e.cropInteraction.mode=j.I.keyboardRotating,e.animations.gridLineVisibility=(0,L.Vr)(R._R),e.animations.outsideCropVisibility=(0,X.Ql)()),e.animations.dismissGridLineVisibility=(0,X.Ql)(),e.animations.dismissOutsideCropVisibility=(0,X.Ql)(),(0,c.T)(e)}(e,t.payload,t.telemetry)},adjustRotationOnKeyUp:function(e,t){var n=e.savedStates.savedWhenKeyboardRotatingStart;n?((0,De.NU)(e,n,M.p.rotateWithRotationBar),e.savedStates.savedWhenKeyboardRotatingStart=void 0):O(e)},abortCurrentMode:function(e){e.cropInteraction.mode!==j.I.selectingFirstCorner&&e.cropInteraction.mode!==j.I.selectingSecondCorner||(e.cropInteraction.mode=o.s,(0,c.r)(e))},setAspectRatio:function(e,t){je(e,(function(){ve(e,t.payload)}),M.p.setAspectRatio,B.Z.KeepAll)},setSessionFullImageSize:function(e,t){!function(e,t){var n,r;if(t){var a=(0,i.U3)(t.x,t.y);Re(e,{imageTransform:(0,Ie.H)(a),cropRectangle:(0,s.SM)(a),originalImageSize:t,aspectRatio:(null===(r=null===(n=e.userDefinedDefaults)||void 0===n?void 0:n.cropInteraction)||void 0===r?void 0:r.aspectRatio)||o.Yb,shouldInvertOriginalAspectRatio:!1,undoRedoStack:e.undoRedoStack})}}(e,t.payload)},handleCleanupCanvasPointers:function(e){!function(e){e.pointer.pointerDowns=[]}(e)},handleCleanupRotationBarPointer:function(e){!function(e){e.rotationUi.rotationBarPointer.incrementingIdOfPointerThatIsDown=void 0}(e)}},extraReducers:function(e){e.addCase(Be.my,(function(e,t){e.savedStates.savedWhenPointerCroppingStart||e.cropInteraction.activeHandleIndex===Z.Q.None||(e.savedStates.savedWhenPointerCroppingStart=(0,De.PB)(e)),ue(e,t.payload)})).addCase(Be.JI,(function(e,t){var n=e.savedStates.savedWhenPointerCroppingStart;n?((0,De.NU)(e,n,M.p.cropWithCropHandles),e.savedStates.savedWhenPointerCroppingStart=void 0):O(e),ge(e,t.payload.pointerId,t.payload.inputType,t.telemetry)})).addCase(Be.Td,(function(e,t){ee(e,t.payload)})).addCase(Le.Dx,(function(e,t){(0,Me.v)(e,t.payload)})).addCase(Le.WP,(function(e,t){(0,Me.v)(e,t.payload.activeEditorActivity)})).addCase(Le.zc,(function(e,t){(0,Me.v)(e,Le.yp.activeEditorActivity)})).addCase(Le.Op,(function(e){(0,c.r)(e)})).addCase(Be.y2,(function(e,t){Re(e,t.payload.transforms)})).addCase(Be.zj,(function(e,t){Ce(e,t.payload.shouldAnimate,t.payload.fullImageSize)})).addCase(Be.sP,(function(e,t){He(e,t.payload)})),(0,Fe.q$)(e,Ue)}}),Ke=(Ve=qe.actions).handleFrameTick,Ge=Ve.setCanvasPixelSize,Ze=(Ve.setResolutionScaling,Ve.handleImageTextureLoaded),Xe=Ve.handleMouseWheel,Ye=Ve.handleMirrorXClick,Qe=Ve.handleMirrorYClick,Je=Ve.setDefaultEdits,$e=(Ve.handleZoomChange,Ve.handleZoomDeltaChange),et=(Ve.handleSetRotation,Ve.handleTouchDown),tt=Ve.handleTouchMove,nt=Ve.handleTouchUp,rt=Ve.handleCleanupCanvasPointers,ot=Ve.handleCleanupRotationBarPointer,it=Ve.recenterView,at=Ve.setCropHandleSizeCss,st=Ve.setCssToPhysicalPixelRatio,lt=(Ve.setShouldConstrainCropInImage,Ve.setViewFittingMode),ut=Ve.setViewFittingMarginCssPixels,ct=(Ve.setAllowDraggingImageOutsideCropRect,Ve.setAllowDraggingView,Ve.setEnableZoomToView,Ve.setEnableZoomToCrop,Ve.rotateCropAndImageBy90),dt=(Ve.startWindowSelectionMode,Ve.handleRotationBarPointerUp),pt=Ve.handleRotationBarPointerMove,ft=Ve.handleRotationBarPointerDown,ht=Ve.setRotationBarIsKeyboardFocused,mt=Ve.abortCurrentMode,gt=Ve.setAspectRatio,vt=Ve.adjustCropRect,yt=Ve.adjustCropRectOnKeyUp,bt=Ve.adjustRotationOnKeyDown,xt=Ve.adjustRotationOnKeyUp,_t=Ve.setFocusedCropHandle,Ct=Ve.panView,wt=Ve.setSessionFullImageSize,St=qe.reducer},29414:(e,t,n)=>{"use strict";var r;n.d(t,{H:()=>r}),function(e){e[e.zero=0]="zero",e[e.medium=1]="medium",e[e.long=2]="long"}(r||(r={}))},29665:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var r=n(36970),o=n(37827),i=n(34528),a=n(28225),s=(0,r.a)((function(e){if(null==e.children)return null;e.block,e.className;var t=e.as,n=void 0===t?"span":t,r=(e.variant,e.nowrap,(0,o.Tt)(e,["block","className","as","variant","nowrap"])),s=(0,i.Sk)(e,{root:n});return(0,i.WL)(s.root,(0,o.Cl)({},(0,a.G1)(r,a.vt)))}),{displayName:"Text",styles:function(e,t){var n=e.as,r=e.className,o=e.block,i=e.nowrap,a=e.variant,s=t.fonts,l=t.semanticColors,u=s[a||"medium"];return{root:[u,{color:u.color||l.bodyText,display:o?"td"===n?"table-cell":"block":"inline",mozOsxFontSmoothing:u.MozOsxFontSmoothing,webkitFontSmoothing:u.WebkitFontSmoothing},i&&{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},r]}}})},30147:(e,t,n)=>{"use strict";n.d(t,{e:()=>l});var r=n(32e3),o=n(9950);(0,n(97150).hN)([{rawString:".actionsPaneContainer_94e1fbab{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.actionsPaneBody_94e1fbab{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow-y:auto;padding-left:16px;padding-right:16px}"}]);const i="actionsPaneContainer_94e1fbab",a="actionsPaneBody_94e1fbab";var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)},l=(0,o.memo)((function(e){var t=e.header,n=e.children,l=e.footer,u=e.size,c=e.containerId,d=e.styles,p=void 0===d?{}:d;return o.createElement("div",{id:c,className:(0,r.Zq)(i,p.container,s({},u))},t&&o.createElement("div",{className:(0,r.Zq)(p.header)},t),o.createElement("div",{className:(0,r.Zq)(a,p.body)},n),l&&o.createElement("div",{className:(0,r.Zq)(p.footer)},l))}))},30655:(e,t,n)=>{"use strict";n.d(t,{J:()=>l});var r=n(8090),o=n(72538),i=n(61490),a=n(44051),s=n(77551);function l(e,t,n){var l=a.k.uv,u="".concat(e.toUpperCase(),"_TEXTURE_VALUE_DEFINED"),c=(0,s.S)(e,!!t),d=n?"sampleTextureOrSampleFakeMipMaps":"texture2D";return"\n#ifdef ".concat((0,o.T)(e),"\n  #ifndef ").concat(u,"\n    ").concat(c?"float":"vec4"," ").concat((0,r.B)(e)," = ").concat(d,"(").concat((0,i.X)(e),", ").concat(l,".xy)").concat(c?".r":"",";\n  #endif\n#else\n  #ifndef ").concat(u,"\n  ").concat(c?"float":"vec4"," ").concat((0,r.B)(e)," = ").concat(c?"1.":"vec4(1.)",";\n  #endif\n#endif\n#define ").concat(u,"\n")}},30979:(e,t,n)=>{"use strict";function r(e){return(0|e)===e}n.d(t,{F:()=>r})},31214:(e,t,n)=>{"use strict";function r(){return"undefined"!==typeof window&&!(!window.document||!window.document.createElement)}n.d(t,{S:()=>r})},31425:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var r=n(54986),o=n(36058),i=n(80163);function a(e,t){var n=e.bytes,a=e.format;if(a===t)return e;var s=(0,i.x)(a),l=(0,i.x)(t),u=e.bytes.length/s,c=new Uint8ClampedArray(u*(0,i.x)(t));if(a!==r.A.RGBA||t!==r.A.A)throw new Error("unsupported format conversion: ".concat(a," to ").concat(t,". Currently this function only supports converting from RGBA to A format."));for(var d=(0,o.O)(a),p=0,f=0,h=0;h<u;h++){var m=n[p+d];c[f]=m,p+=s,f+=l}return{bytes:c,format:t}}},31462:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(17724),o=n(75347);function i(e){var t=(0,o.U3)(e.x,e.y);return{image:{_preciseUvToWorld:t},cropInteraction:{uvToWorld:t,aspectRatio:r.Yb}}}},31761:(e,t)=>{"use strict";var n,r,o,i,a;if("undefined"===typeof window||"function"!==typeof MessageChannel){var s=null,l=null,u=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(n){throw setTimeout(u,0),n}},c=Date.now();t.unstable_now=function(){return Date.now()-c},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(u,0))},r=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},i=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,p=window.Date,f=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)t.unstable_now=function(){return d.now()};else{var g=p.now();t.unstable_now=function(){return p.now()-g}}var v=!1,y=null,b=-1,x=5,_=0;i=function(){return t.unstable_now()>=_},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var C=new MessageChannel,w=C.port2;C.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();_=e+x;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,w.postMessage(null))},r=function(e,n){b=f((function(){e(t.unstable_now())}),n)},o=function(){h(b),b=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<E(o,t)))break e;e[r]=t,e[n]=o,n=r}}function k(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],s=i+1,l=e[s];if(void 0!==a&&0>E(a,n))void 0!==l&&0>E(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==l&&0>E(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var P=[],I=[],A=1,R=null,L=3,M=!1,B=!1,O=!1;function F(e){for(var t=k(I);null!==t;){if(null===t.callback)T(I);else{if(!(t.startTime<=e))break;T(I),t.sortIndex=t.expirationTime,S(P,t)}t=k(I)}}function D(e){if(O=!1,F(e),!B)if(null!==k(P))B=!0,n(N);else{var t=k(I);null!==t&&r(D,t.startTime-e)}}function N(e,n){B=!1,O&&(O=!1,o()),M=!0;var a=L;try{for(F(n),R=k(P);null!==R&&(!(R.expirationTime>n)||e&&!i());){var s=R.callback;if(null!==s){R.callback=null,L=R.priorityLevel;var l=s(R.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?R.callback=l:R===k(P)&&T(P),F(n)}else T(P);R=k(P)}if(null!==R)var u=!0;else{var c=k(I);null!==c&&r(D,c.startTime-n),u=!1}return u}finally{R=null,L=a,M=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){B||M||(B=!0,n(N))},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_getFirstCallbackNode=function(){return k(P)},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:U(e)}else a=U(e),l=s;return e={id:A++,callback:i,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,S(I,e),null===k(P)&&e===k(I)&&(O?o():O=!0,r(D,l-s))):(e.sortIndex=a,S(P,e),B||M||(B=!0,n(N))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();F(e);var n=k(P);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||i()},t.unstable_wrapCallback=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}}},31967:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var r={texturePatchRequests:[],pendingTexturePatchRequests:[],removedPendingTexturePatchRequests:[],texturePatchChoices:null,texturePatchInfos:[],removedTexturePatchInfos:[],undoRedoStack:{undoStack:[],redoStack:[],id:"TEXTURE_PATCH_UNDO_REDO_STACK_ID"}}},31985:(e,t,n)=>{"use strict";n.d(t,{B$:()=>l,Es:()=>s,F6:()=>d,Hm:()=>p,JI:()=>i,Td:()=>a,my:()=>o,sP:()=>f,y2:()=>c,zj:()=>u});var r=n(3041),o=(0,r.VP)("edit/handlePointerDown"),i=(0,r.VP)("edit/handlePointerUp"),a=(0,r.VP)("edit/handlePointerMove"),s=(0,r.VP)("edit/handlePointerEnter"),l=(0,r.VP)("edit/handlePointerLeave"),u=(0,r.VP)("edit/resetEdits"),c=(0,r.VP)("edit/setEdits"),d=(0,r.VP)("edit/requestTexturePatch"),p=(0,r.VP)("edit/removeTexturePatchesFromLayer"),f=(0,r.VP)("edit/replaceImage")},32e3:(e,t,n)=>{"use strict";n.d(t,{lw:()=>ee,cs:()=>W,pD:()=>dt,BO:()=>J,up:()=>te,hT:()=>ne,fF:()=>$,mm:()=>ue,iD:()=>le,mu:()=>ie,O7:()=>oe,Ip:()=>re,c3:()=>ce,af:()=>ae,Ke:()=>se,nA:()=>fe,TW:()=>lt.T,pB:()=>ut.p,QN:()=>ve,gm:()=>me,Km:()=>Ce,Qg:()=>pe,sW:()=>ot,Sq:()=>ye,CX:()=>Ye,L6:()=>de,O4:()=>Ge,dX:()=>be,i7:()=>o.i,l8:()=>ct.l,Zq:()=>r.Z,oA:()=>Xe,S8:()=>Ze,aH:()=>rt,K1:()=>nt});var r=n(77169);var o=n(35390),i="cubic-bezier(.1,.9,.2,1)",a="cubic-bezier(.1,.25,.75,.9)",s="0.167s",l="0.267s",u="0.367s",c="0.467s",d=(0,o.i)({from:{opacity:0},to:{opacity:1}}),p=(0,o.i)({from:{opacity:1},to:{opacity:0,visibility:"hidden"}}),f=q(-10),h=q(-20),m=q(-40),g=q(-400),v=q(10),y=q(20),b=q(40),x=q(400),_=K(10),C=K(20),w=K(-10),S=K(-20),k=G(10),T=G(20),E=G(40),P=G(400),I=G(-10),A=G(-20),R=G(-40),L=G(-400),M=Z(-10),B=Z(-20),O=Z(10),F=Z(20),D=(0,o.i)({from:{transform:"scale3d(.98,.98,1)"},to:{transform:"scale3d(1,1,1)"}}),N=(0,o.i)({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(.98,.98,1)"}}),U=(0,o.i)({from:{transform:"scale3d(1.03,1.03,1)"},to:{transform:"scale3d(1,1,1)"}}),z=(0,o.i)({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(1.03,1.03,1)"}}),j=(0,o.i)({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(90deg)"}}),V=(0,o.i)({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(-90deg)"}}),W={easeFunction1:i,easeFunction2:a,durationValue1:s,durationValue2:l,durationValue3:u,durationValue4:c};function H(e,t,n){return{animationName:e,animationDuration:t,animationTimingFunction:n,animationFillMode:"both"}}function q(e){return(0,o.i)({from:{transform:"translate3d(".concat(e,"px,0,0)"),pointerEvents:"none"},to:{transform:"translate3d(0,0,0)",pointerEvents:"auto"}})}function K(e){return(0,o.i)({from:{transform:"translate3d(0,".concat(e,"px,0)"),pointerEvents:"none"},to:{transform:"translate3d(0,0,0)",pointerEvents:"auto"}})}function G(e){return(0,o.i)({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(".concat(e,"px,0,0)")}})}function Z(e){return(0,o.i)({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(0,".concat(e,"px,0)")}})}var X,Y,Q,J,$,ee=function(e){var t={},n=function(n){var o;e.hasOwnProperty(n)&&Object.defineProperty(t,n,{get:function(){return void 0===o&&(o=(0,r.Z)(e[n]).toString()),o},enumerable:!0,configurable:!0})};for(var o in e)n(o);return t}({slideRightIn10:H("".concat(d,",").concat(f),u,i),slideRightIn20:H("".concat(d,",").concat(h),u,i),slideRightIn40:H("".concat(d,",").concat(m),u,i),slideRightIn400:H("".concat(d,",").concat(g),u,i),slideLeftIn10:H("".concat(d,",").concat(v),u,i),slideLeftIn20:H("".concat(d,",").concat(y),u,i),slideLeftIn40:H("".concat(d,",").concat(b),u,i),slideLeftIn400:H("".concat(d,",").concat(x),u,i),slideUpIn10:H("".concat(d,",").concat(_),u,i),slideUpIn20:H("".concat(d,",").concat(C),u,i),slideDownIn10:H("".concat(d,",").concat(w),u,i),slideDownIn20:H("".concat(d,",").concat(S),u,i),slideRightOut10:H("".concat(p,",").concat(k),u,i),slideRightOut20:H("".concat(p,",").concat(T),u,i),slideRightOut40:H("".concat(p,",").concat(E),u,i),slideRightOut400:H("".concat(p,",").concat(P),u,i),slideLeftOut10:H("".concat(p,",").concat(I),u,i),slideLeftOut20:H("".concat(p,",").concat(A),u,i),slideLeftOut40:H("".concat(p,",").concat(R),u,i),slideLeftOut400:H("".concat(p,",").concat(L),u,i),slideUpOut10:H("".concat(p,",").concat(M),u,i),slideUpOut20:H("".concat(p,",").concat(B),u,i),slideDownOut10:H("".concat(p,",").concat(O),u,i),slideDownOut20:H("".concat(p,",").concat(F),u,i),scaleUpIn100:H("".concat(d,",").concat(D),u,i),scaleDownIn100:H("".concat(d,",").concat(U),u,i),scaleUpOut103:H("".concat(p,",").concat(z),s,a),scaleDownOut98:H("".concat(p,",").concat(N),s,a),fadeIn100:H(d,s,a),fadeIn200:H(d,l,a),fadeIn400:H(d,u,a),fadeIn500:H(d,c,a),fadeOut100:H(p,s,a),fadeOut200:H(p,l,a),fadeOut400:H(p,u,a),fadeOut500:H(p,c,a),rotate90deg:H(j,"0.1s",a),rotateN90deg:H(V,"0.1s",a)});!function(e){e.Arabic="Segoe UI Web (Arabic)",e.Cyrillic="Segoe UI Web (Cyrillic)",e.EastEuropean="Segoe UI Web (East European)",e.Greek="Segoe UI Web (Greek)",e.Hebrew="Segoe UI Web (Hebrew)",e.Thai="Leelawadee UI Web",e.Vietnamese="Segoe UI Web (Vietnamese)",e.WestEuropean="Segoe UI Web (West European)",e.Selawik="Selawik Web",e.Armenian="Segoe UI Web (Armenian)",e.Georgian="Segoe UI Web (Georgian)"}(X||(X={})),function(e){e.Arabic="'".concat(X.Arabic,"'"),e.ChineseSimplified="'Microsoft Yahei UI', Verdana, Simsun",e.ChineseTraditional="'Microsoft Jhenghei UI', Pmingliu",e.Cyrillic="'".concat(X.Cyrillic,"'"),e.EastEuropean="'".concat(X.EastEuropean,"'"),e.Greek="'".concat(X.Greek,"'"),e.Hebrew="'".concat(X.Hebrew,"'"),e.Hindi="'Nirmala UI'",e.Japanese="'Yu Gothic UI', 'Meiryo UI', Meiryo, 'MS Pgothic', Osaka",e.Korean="'Malgun Gothic', Gulim",e.Selawik="'".concat(X.Selawik,"'"),e.Thai="'Leelawadee UI Web', 'Kmer UI'",e.Vietnamese="'".concat(X.Vietnamese,"'"),e.WestEuropean="'".concat(X.WestEuropean,"'"),e.Armenian="'".concat(X.Armenian,"'"),e.Georgian="'".concat(X.Georgian,"'")}(Y||(Y={})),function(e){e.size10="10px",e.size12="12px",e.size14="14px",e.size16="16px",e.size18="18px",e.size20="20px",e.size24="24px",e.size28="28px",e.size32="32px",e.size42="42px",e.size68="68px",e.mini="10px",e.xSmall="10px",e.small="12px",e.smallPlus="12px",e.medium="14px",e.mediumPlus="16px",e.icon="16px",e.large="18px",e.xLarge="20px",e.xLargePlus="24px",e.xxLarge="28px",e.xxLargePlus="32px",e.superLarge="42px",e.mega="68px"}(Q||(Q={})),function(e){e.light=100,e.semilight=300,e.regular=400,e.semibold=600,e.bold=700}(J||(J={})),function(e){e.xSmall="10px",e.small="12px",e.medium="16px",e.large="20px"}($||($={}));var te="@media screen and (-ms-high-contrast: active), screen and (forced-colors: active)",ne="@media screen and (-ms-high-contrast: black-on-white), screen and (forced-colors: active) and (prefers-color-scheme: light)",re=320,oe=480,ie=640,ae=1024,se=1366,le=oe-1,ue=ie-1,ce=768;function de(e,t){var n="number"===typeof e?" and (min-width: ".concat(e,"px)"):"",r="number"===typeof t?" and (max-width: ".concat(t,"px)"):"";return"@media only screen".concat(n).concat(r)}function pe(){return{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}}var fe,he=n(25380);function me(e,t,n,r,o,i,a,s){return ge(e,"number"!==typeof t&&t?t:{inset:t,position:n,highContrastStyle:r,borderColor:o,outlineColor:i,isFocusedOnly:a,borderRadius:s})}function ge(e,t){var n,r;void 0===t&&(t={});var o=t.borderRadius,i=t.inset,a=void 0===i?0:i,s=t.width,l=void 0===s?1:s,u=t.position,c=void 0===u?"relative":u,d=t.highContrastStyle,p=t.borderColor,f=void 0===p?e.palette.white:p,h=t.outlineColor,m=void 0===h?e.palette.neutralSecondary:h,g=t.isFocusedOnly,v=void 0===g||g,y=t.pointerEvents;return{outline:"transparent",position:c,selectors:(n={"::-moz-focus-inner":{border:"0"}},n[".".concat(he.Y2," &").concat(v?":focus":"",":after")]={content:'""',position:"absolute",pointerEvents:y,left:a+1,top:a+1,bottom:a+1,right:a+1,border:"".concat(l,"px solid ").concat(f),outline:"".concat(l,"px solid ").concat(m),zIndex:fe.FocusStyle,borderRadius:o,selectors:(r={},r[te]=d,r)},n)}}function ve(){return{selectors:{"&::-moz-focus-inner":{border:0},"&":{outline:"transparent"}}}}!function(e){e.Nav=1,e.ScrollablePane=1,e.FocusStyle=1,e.Coachmark=1e3,e.Layer=1e6,e.KeytipLayer=1000001}(fe||(fe={}));var ye=function(e,t,n,r){var o,i,a;void 0===n&&(n="border"),void 0===r&&(r=-1);var s="borderBottom"===n;return{borderColor:e,selectors:{":after":(o={pointerEvents:"none",content:"''",position:"absolute",left:s?0:r,top:r,bottom:r,right:s?0:r},o[n]="2px solid ".concat(e),o.borderRadius=t,o.width="borderBottom"===n?"100%":void 0,o.selectors=(i={},i[te]=(a={},a["border"===n?"borderColor":"borderBottomColor"]="Highlight",a),i),o)}}},be={position:"absolute",width:1,height:1,margin:-1,padding:0,border:0,overflow:"hidden",whiteSpace:"nowrap"},xe=n(95143),_e=(0,n(96042).J9)((function(e,t){var n=xe.n.getInstance();return t?Object.keys(e).reduce((function(t,r){return t[r]=n.getClassName(e[r]),t}),{}):e}));function Ce(e,t,n){return _e(e,void 0!==n?n:t.disableGlobalClassNames)}var we,Se=n(37827),ke=n(95673),Te=n(80647),Ee=n(97150),Pe={themeDarker:"#004578",themeDark:"#005a9e",themeDarkAlt:"#106ebe",themePrimary:"#0078d4",themeSecondary:"#2b88d8",themeTertiary:"#71afe5",themeLight:"#c7e0f4",themeLighter:"#deecf9",themeLighterAlt:"#eff6fc",black:"#000000",blackTranslucent40:"rgba(0,0,0,.4)",neutralDark:"#201f1e",neutralPrimary:"#323130",neutralPrimaryAlt:"#3b3a39",neutralSecondary:"#605e5c",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#a19f9d",neutralTertiaryAlt:"#c8c6c4",neutralQuaternary:"#d2d0ce",neutralQuaternaryAlt:"#e1dfdd",neutralLight:"#edebe9",neutralLighter:"#f3f2f1",neutralLighterAlt:"#faf9f8",accent:"#0078d4",white:"#ffffff",whiteTranslucent40:"rgba(255,255,255,.4)",yellowDark:"#d29200",yellow:"#ffb900",yellowLight:"#fff100",orange:"#d83b01",orangeLight:"#ea4300",orangeLighter:"#ff8c00",redDark:"#a4262c",red:"#e81123",magentaDark:"#5c005c",magenta:"#b4009e",magentaLight:"#e3008c",purpleDark:"#32145a",purple:"#5c2d91",purpleLight:"#b4a0ff",blueDark:"#002050",blueMid:"#00188f",blue:"#0078d4",blueLight:"#00bcf2",tealDark:"#004b50",teal:"#008272",tealLight:"#00b294",greenDark:"#004b1c",green:"#107c10",greenLight:"#bad80a"};!function(e){e.depth0="0 0 0 0 transparent",e.depth4="0 1.6px 3.6px 0 rgba(0, 0, 0, 0.132), 0 0.3px 0.9px 0 rgba(0, 0, 0, 0.108)",e.depth8="0 3.2px 7.2px 0 rgba(0, 0, 0, 0.132), 0 0.6px 1.8px 0 rgba(0, 0, 0, 0.108)",e.depth16="0 6.4px 14.4px 0 rgba(0, 0, 0, 0.132), 0 1.2px 3.6px 0 rgba(0, 0, 0, 0.108)",e.depth64="0 25.6px 57.6px 0 rgba(0, 0, 0, 0.22), 0 4.8px 14.4px 0 rgba(0, 0, 0, 0.18)"}(we||(we={}));var Ie={elevation4:we.depth4,elevation8:we.depth8,elevation16:we.depth16,elevation64:we.depth64,roundedCorner2:"2px",roundedCorner4:"4px",roundedCorner6:"6px"},Ae=n(75659),Re="'Segoe UI', '".concat(X.WestEuropean,"'"),Le={ar:Y.Arabic,bg:Y.Cyrillic,cs:Y.EastEuropean,el:Y.Greek,et:Y.EastEuropean,he:Y.Hebrew,hi:Y.Hindi,hr:Y.EastEuropean,hu:Y.EastEuropean,ja:Y.Japanese,kk:Y.EastEuropean,ko:Y.Korean,lt:Y.EastEuropean,lv:Y.EastEuropean,pl:Y.EastEuropean,ru:Y.Cyrillic,sk:Y.EastEuropean,"sr-latn":Y.EastEuropean,th:Y.Thai,tr:Y.EastEuropean,uk:Y.Cyrillic,vi:Y.Vietnamese,"zh-hans":Y.ChineseSimplified,"zh-hant":Y.ChineseTraditional,hy:Y.Armenian,ka:Y.Georgian};function Me(e,t,n){return{fontFamily:n,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontSize:e,fontWeight:t}}var Be=n(95696),Oe=function(e){var t=function(e){for(var t in Le)if(Le.hasOwnProperty(t)&&e&&0===t.indexOf(e))return Le[t];return Re}(e),n="".concat(t,", ").concat("'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', sans-serif");return{tiny:Me(Q.mini,J.regular,n),xSmall:Me(Q.xSmall,J.regular,n),small:Me(Q.small,J.regular,n),smallPlus:Me(Q.smallPlus,J.regular,n),medium:Me(Q.medium,J.regular,n),mediumPlus:Me(Q.mediumPlus,J.regular,n),large:Me(Q.large,J.regular,n),xLarge:Me(Q.xLarge,J.semibold,n),xLargePlus:Me(Q.xLargePlus,J.semibold,n),xxLarge:Me(Q.xxLarge,J.semibold,n),xxLargePlus:Me(Q.xxLargePlus,J.semibold,n),superLarge:Me(Q.superLarge,J.semibold,n),mega:Me(Q.mega,J.semibold,n)}}((0,Be.Z)());function Fe(e,t,n,r){e="'".concat(e,"'");var o=void 0!==r?"local('".concat(r,"'),"):"";(0,Ae.n)({fontFamily:e,src:o+"url('".concat(t,".woff2') format('woff2'),")+"url('".concat(t,".woff') format('woff')"),fontWeight:n,fontStyle:"normal",fontDisplay:"swap"})}function De(e,t,n,r,o){void 0===r&&(r="segoeui");var i="".concat(e,"/").concat(n,"/").concat(r);Fe(t,i+"-light",J.light,o&&o+" Light"),Fe(t,i+"-semilight",J.semilight,o&&o+" SemiLight"),Fe(t,i+"-regular",J.regular,o),Fe(t,i+"-semibold",J.semibold,o&&o+" SemiBold"),Fe(t,i+"-bold",J.bold,o&&o+" Bold")}!function(e){if(e){var t="".concat(e,"/fonts");De(t,X.Thai,"leelawadeeui-thai","leelawadeeui"),De(t,X.Arabic,"segoeui-arabic"),De(t,X.Cyrillic,"segoeui-cyrillic"),De(t,X.EastEuropean,"segoeui-easteuropean"),De(t,X.Greek,"segoeui-greek"),De(t,X.Hebrew,"segoeui-hebrew"),De(t,X.Vietnamese,"segoeui-vietnamese"),De(t,X.WestEuropean,"segoeui-westeuropean","segoeui","Segoe UI"),De(t,Y.Selawik,"selawik","selawik"),De(t,X.Armenian,"segoeui-armenian"),De(t,X.Georgian,"segoeui-georgian"),Fe("Leelawadee UI Web","".concat(t,"/leelawadeeui-thai/leelawadeeui-semilight"),J.light),Fe("Leelawadee UI Web","".concat(t,"/leelawadeeui-thai/leelawadeeui-bold"),J.semibold)}}(function(){var e,t,n=null===(e=(0,ke.z)())||void 0===e?void 0:e.FabricConfig;return null!==(t=null===n||void 0===n?void 0:n.fontBaseUrl)&&void 0!==t?t:"https://res-1.cdn.office.net/files/fabric-cdn-prod_20221209.001/assets"}());var Ne=n(22926);function Ue(e,t,n,r,o){return void 0===o&&(o=!1),function(e,t){var n="";!0===t&&(n=" /* @deprecated */");return e.listTextColor=e.listText+n,e.menuItemBackgroundChecked+=n,e.warningHighlight+=n,e.warningText=e.messageText+n,e.successText+=n,e}(ze(e,t,(0,Se.Cl)({primaryButtonBorder:"transparent",errorText:r?"#F1707B":"#a4262c",messageText:r?"#F3F2F1":"#323130",messageLink:r?"#6CB8F6":"#005A9E",messageLinkHovered:r?"#82C7FF":"#004578",infoIcon:r?"#C8C6C4":"#605e5c",errorIcon:r?"#F1707B":"#A80000",blockingIcon:r?"#442726":"#FDE7E9",warningIcon:r?"#C8C6C4":"#797775",severeWarningIcon:r?"#FCE100":"#D83B01",successIcon:r?"#92C353":"#107C10",infoBackground:r?"#323130":"#f3f2f1",errorBackground:r?"#442726":"#FDE7E9",blockingBackground:r?"#442726":"#FDE7E9",warningBackground:r?"#433519":"#FFF4CE",severeWarningBackground:r?"#4F2A0F":"#FED9CC",successBackground:r?"#393D1B":"#DFF6DD",warningHighlight:r?"#fff100":"#ffb900",successText:r?"#92c353":"#107C10"},n),r),o)}function ze(e,t,n,r,o){void 0===o&&(o=!1);var i={},a=e||{},s=a.white,l=a.black,u=a.themePrimary,c=a.themeDark,d=a.themeDarker,p=a.themeDarkAlt,f=a.themeLighter,h=a.neutralLight,m=a.neutralLighter,g=a.neutralDark,v=a.neutralQuaternary,y=a.neutralQuaternaryAlt,b=a.neutralPrimary,x=a.neutralSecondary,_=a.neutralSecondaryAlt,C=a.neutralTertiary,w=a.neutralTertiaryAlt,S=a.neutralLighterAlt,k=a.accent;return s&&(i.bodyBackground=s,i.bodyFrameBackground=s,i.accentButtonText=s,i.buttonBackground=s,i.primaryButtonText=s,i.primaryButtonTextHovered=s,i.primaryButtonTextPressed=s,i.inputBackground=s,i.inputForegroundChecked=s,i.listBackground=s,i.menuBackground=s,i.cardStandoutBackground=s),l&&(i.bodyTextChecked=l,i.buttonTextCheckedHovered=l),u&&(i.link=u,i.primaryButtonBackground=u,i.inputBackgroundChecked=u,i.inputIcon=u,i.inputFocusBorderAlt=u,i.menuIcon=u,i.menuHeader=u,i.accentButtonBackground=u),c&&(i.primaryButtonBackgroundPressed=c,i.inputBackgroundCheckedHovered=c,i.inputIconHovered=c),d&&(i.linkHovered=d),p&&(i.primaryButtonBackgroundHovered=p),f&&(i.inputPlaceholderBackgroundChecked=f),h&&(i.bodyBackgroundChecked=h,i.bodyFrameDivider=h,i.bodyDivider=h,i.variantBorder=h,i.buttonBackgroundCheckedHovered=h,i.buttonBackgroundPressed=h,i.listItemBackgroundChecked=h,i.listHeaderBackgroundPressed=h,i.menuItemBackgroundPressed=h,i.menuItemBackgroundChecked=h),m&&(i.bodyBackgroundHovered=m,i.buttonBackgroundHovered=m,i.buttonBackgroundDisabled=m,i.buttonBorderDisabled=m,i.primaryButtonBackgroundDisabled=m,i.disabledBackground=m,i.listItemBackgroundHovered=m,i.listHeaderBackgroundHovered=m,i.menuItemBackgroundHovered=m),v&&(i.primaryButtonTextDisabled=v,i.disabledSubtext=v),y&&(i.listItemBackgroundCheckedHovered=y),C&&(i.disabledBodyText=C,i.variantBorderHovered=(null===n||void 0===n?void 0:n.variantBorderHovered)||C,i.buttonTextDisabled=C,i.inputIconDisabled=C,i.disabledText=C),b&&(i.bodyText=b,i.actionLink=b,i.buttonText=b,i.inputBorderHovered=b,i.inputText=b,i.listText=b,i.menuItemText=b),S&&(i.bodyStandoutBackground=S,i.defaultStateBackground=S),g&&(i.actionLinkHovered=g,i.buttonTextHovered=g,i.buttonTextChecked=g,i.buttonTextPressed=g,i.inputTextHovered=g,i.menuItemTextHovered=g),x&&(i.bodySubtext=x,i.focusBorder=x,i.inputBorder=x,i.smallInputBorder=x,i.inputPlaceholderText=x),_&&(i.buttonBorder=_),w&&(i.disabledBodySubtext=w,i.disabledBorder=w,i.buttonBackgroundChecked=w,i.menuDivider=w),k&&(i.accentButtonBackground=k),(null===t||void 0===t?void 0:t.elevation4)&&(i.cardShadow=t.elevation4),!r&&(null===t||void 0===t?void 0:t.elevation8)?i.cardShadowHovered=t.elevation8:i.variantBorderHovered&&(i.cardShadowHovered="0 0 1px "+i.variantBorderHovered),i=(0,Se.Cl)((0,Se.Cl)({},i),n)}var je={s2:"4px",s1:"8px",m:"16px",l1:"20px",l2:"32px"};function Ve(e,t){void 0===e&&(e={}),void 0===t&&(t=!1);var n=!!e.isInverted;return function(e,t){var n,r,o;void 0===t&&(t={});var i=(0,Ne.h)({},e,t,{semanticColors:ze(t.palette,t.effects,t.semanticColors,void 0===t.isInverted?e.isInverted:t.isInverted)});if((null===(n=t.palette)||void 0===n?void 0:n.themePrimary)&&!(null===(r=t.palette)||void 0===r?void 0:r.accent)&&(i.palette.accent=t.palette.themePrimary),t.defaultFontStyle)for(var a=0,s=Object.keys(i.fonts);a<s.length;a++){var l=s[a];i.fonts[l]=(0,Ne.h)(i.fonts[l],t.defaultFontStyle,null===(o=null===t||void 0===t?void 0:t.fonts)||void 0===o?void 0:o[l])}return i}({palette:Pe,effects:Ie,fonts:Oe,spacing:je,isInverted:n,disableGlobalClassNames:!1,semanticColors:Ue(Pe,Ie,void 0,n,t),rtl:void 0},e)}var We=Ve({}),He=[],qe="theme";function Ke(){var e,t,n,r=(0,ke.z)();(null===(t=null===r||void 0===r?void 0:r.FabricConfig)||void 0===t?void 0:t.legacyTheme)?function(e,t){var n;void 0===t&&(t=!1);We=Ve(e,t),(0,Ee.EQ)((0,Se.Cl)((0,Se.Cl)((0,Se.Cl)((0,Se.Cl)({},We.palette),We.semanticColors),We.effects),function(e){for(var t={},n=0,r=Object.keys(e.fonts);n<r.length;n++)for(var o=r[n],i=e.fonts[o],a=0,s=Object.keys(i);a<s.length;a++){var l=s[a],u=o+l.charAt(0).toUpperCase()+l.slice(1),c=i[l];"fontSize"===l&&"number"===typeof c&&(c+="px"),t[u]=c}return t}(We))),Te.X.applySettings((n={},n[qe]=We,n)),He.forEach((function(e){try{e(We)}catch(t){}}))}(r.FabricConfig.legacyTheme):Te.X.getSettings([qe]).theme||((null===(n=null===r||void 0===r?void 0:r.FabricConfig)||void 0===n?void 0:n.theme)&&(We=Ve(r.FabricConfig.theme)),Te.X.applySettings(((e={})[qe]=We,e)))}function Ge(e){return void 0===e&&(e=!1),!0===e&&(We=Ve({},e)),We}Ke();var Ze={boxShadow:"none",margin:0,padding:0,boxSizing:"border-box"},Xe={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};function Ye(e){return{selectors:{"::placeholder":e,":-ms-input-placeholder":e,"::-ms-input-placeholder":e}}}var Qe=n(6618),Je=n(20467),$e=Qe.h.getValue("icons",{__options:{disableWarnings:!1,warnOnMissingIcons:!0},__remapped:{}}),et=xe.n.getInstance();et&&et.onReset&&et.onReset((function(){for(var e in $e)$e.hasOwnProperty(e)&&$e[e].subset&&($e[e].subset.className=void 0)}));var tt=function(e){return e.toLowerCase()};function nt(e,t){var n=(0,Se.Cl)((0,Se.Cl)({},e),{isRegistered:!1,className:void 0}),r=e.icons;for(var o in t=t?(0,Se.Cl)((0,Se.Cl)({},$e.__options),t):$e.__options,r)if(r.hasOwnProperty(o)){var i=r[o],a=tt(o);$e[a]?st(o):$e[a]={code:i,subset:n}}}function rt(e,t){$e.__remapped[tt(e)]=tt(t)}function ot(e){var t=void 0,n=$e.__options;if(e=e?tt(e):"",e=$e.__remapped[e]||e)if(t=$e[e]){var o=t.subset;o&&o.fontFace&&(o.isRegistered||((0,Ae.n)(o.fontFace),o.isRegistered=!0),o.className||(o.className=(0,r.Z)(o.style,{fontFamily:o.fontFace.fontFamily,fontWeight:o.fontFace.fontWeight||"normal",fontStyle:o.fontFace.fontStyle||"normal"})))}else!n.disableWarnings&&n.warnOnMissingIcons&&(0,Je.R)('The icon "'.concat(e,'" was used but not registered. See https://github.com/microsoft/fluentui/wiki/Using-icons for more information.'));return t}var it=[],at=void 0;function st(e){var t=$e.__options;t.disableWarnings||(it.push(e),void 0===at&&(at=setTimeout((function(){(0,Je.R)("Some icons were re-registered. Applications should only call registerIcons for any given icon once. Redefining what an icon is may have unintended consequences. Duplicates include: \n"+it.slice(0,10).join(", ")+(it.length>10?" (+ ".concat(it.length-10," more)"):"")),at=void 0,it=[]}),2e3)))}var lt=n(99103),ut=n(1401),ct=n(5643),dt="https://res.cdn.office.net/files/fabric-cdn-prod_20230524.001";(0,n(87840).v)("@fluentui/style-utilities","8.9.15"),Ke()},32049:(e,t,n)=>{"use strict";var r=n(26470),o="function"===typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,p=o?Symbol.for("react.forward_ref"):60112,f=o?Symbol.for("react.suspense"):60113,h=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function _(){}function C(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=x.prototype;var w=C.prototype=new _;w.constructor=C,r(w,x.prototype),w.isPureReactComponent=!0;var S={current:null},k=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&!T.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:S.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g,A=[];function R(e,t,n,r){if(A.length){var o=A.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function L(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function M(e,t,n,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var s=!1;if(null===e)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return n(r,e,""===t?"."+O(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=t+O(o=e[l],l);s+=M(o,u,n,r)}else if(null===e||"object"!==typeof e?u=null:u="function"===typeof(u=g&&e[g]||e["@@iterator"])?u:null,"function"===typeof u)for(e=u.call(e),l=0;!(o=e.next()).done;)s+=M(o=o.value,u=t+O(o,l++),n,r);else if("object"===o)throw n=""+e,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function B(e,t,n){return null==e?0:M(e,"",t,n)}function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?N(e,r,n,(function(e){return e})):null!=e&&(P(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n)),r.push(e))}function N(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(I,"$&/")+"/"),B(e,D,t=R(t,i,r,o)),L(t)}var U={current:null};function z(){var e=U.current;if(null===e)throw Error(v(321));return e}var j={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return N(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;B(e,F,t=R(null,null,t,n)),L(t)},count:function(e){return B(e,(function(){return null}),null)},toArray:function(e){var t=[];return N(e,t,null,(function(e){return e})),t},only:function(e){if(!P(e))throw Error(v(143));return e}},t.Component=x,t.Fragment=s,t.Profiler=u,t.PureComponent=C,t.StrictMode=l,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)k.call(t,c)&&!T.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return z().useCallback(e,t)},t.useContext=function(e,t){return z().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return z().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return z().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return z().useLayoutEffect(e,t)},t.useMemo=function(e,t){return z().useMemo(e,t)},t.useReducer=function(e,t,n){return z().useReducer(e,t,n)},t.useRef=function(e){return z().useRef(e)},t.useState=function(e){return z().useState(e)},t.version="16.14.0"},32385:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,U:()=>a});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t){return{activeSection:{backgroundColor:e.palette.neutralPrimary},container:{},inactiveSection:{backgroundColor:e.palette.neutralTertiaryAlt},line:{},lineContainer:{},root:r({},t?{opacity:.6,pointerEvents:"none"}:{}),slideBox:{touchAction:"none",margin:"0px -12px",padding:"0px 12px","&:hover":{".ms-Slider-active":{backgroundColor:e.palette.neutralPrimary},".ms-Slider-inactive":{backgroundColor:e.palette.neutralTertiaryAlt},".ms-Slider-thumb":{border:"none"}},"&:active":{".ms-Slider-active":{backgroundColor:e.palette.neutralPrimary},".ms-Slider-inactive":{backgroundColor:e.palette.neutralTertiaryAlt},".ms-Slider-thumb":{border:"none"}}},thumb:{border:"none",background:e.palette.neutralPrimary},titleLabel:{visibility:"hidden"},valueLabel:{},zeroTick:{display:"none"}}}var i={lineHeight:"14px",textAlign:"center",wordBreak:"break-word",wordWrap:"break-word",maxWidth:"80%"};function a(e,t){return t?{container:{color:e.palette.neutralTertiary},labelValueHeader:{valueText:{color:e.palette.neutralTertiary},icon:{root:{fill:e.palette.neutralTertiary}},label:r({},i)}}:{labelValueHeader:{label:r({},i)}}}},32489:(e,t,n)=>{"use strict";n.d(t,{i:()=>u,w:()=>l});var r=n(75347),o=n(72989),i=n(75795),a=n(21925);function s(e,t,n){return e>=t&&e<=n}function l(e,t,n,l){var u={left:0,top:0,width:e.x,height:e.y};if(!(0,i.pN)(t,u))throw new Error("normalizedRayStart is not within the rectangle.");if(l<0||l>1)throw new Error("normalizedAngle must be between 0 and 1.");var c,d,p,f=void 0;if(function(e,t,n){return 0===t.y&&s(n,.25,.75)||t.y===e&&s(n-.25,.5,1)}(e.y,t,l)){var h=n.x-t.x,m=h>0?e.x-t.x:t.x;f=0===Math.abs(h)?void 0:m/Math.abs(h)}else if(c=e.x,p=l,(d=t).x===c&&s(p,0,.5)||0===d.x&&s(p,.5,1)){var g=n.y-t.y;m=g>0?e.y-t.y:t.y;f=0===Math.abs(g)?void 0:m/Math.abs(g)}else f=function(e,t,n,i){for(var s=(0,r.bi)((0,a.Vq)(i)),l=s[0],u=s[1],c=s[2],d=s[3],p={lineStart:l,lineEnd:u},f={lineStart:u,lineEnd:c},h={lineStart:c,lineEnd:d},m={lineStart:d,lineEnd:l},g=void 0,v=0,y=[[h,f],[f,p],[p,m],[m,h]][Math.floor(4*n)];v<y.length;v++){var b=y[v],x=(0,o.A)(e,t,b.lineStart,b.lineEnd);if(void 0!==x){g=x;break}}return g}(t,n,l,u);return f}function u(e,t,n){var s=function(e,t,n){if((0,i.pN)(e,n)){var s=(0,r.bi)((0,a.Vq)(n)),l=s[0],u=s[1],c=s[2],d=s[3],p=[{lineStart:l,lineEnd:u},{lineStart:u,lineEnd:c},{lineStart:c,lineEnd:d},{lineStart:d,lineEnd:l}].map((function(n){var r=n.lineStart,i=n.lineEnd;return(0,o.A)(e,t,r,i)}));return p}}(e,t,n);if(void 0!==s){var l=Math.min.apply(Math,s.map((function(e){return null!==e&&void 0!==e?e:1})));return{x:e.x+(t.x-e.x)*l,y:e.y+(t.y-e.y)*l}}}},32654:(e,t,n)=>{"use strict";var r=n(9950),o=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),t.Fragment=i("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:u,ref:c,props:i,_owner:a.current}}t.jsx=u,t.jsxs=u},32665:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(34354),o=n(75347);function i(e,t){return void 0===e&&(e=r.Lf),(0,o.ZG)(t,(0,r.Rb)(e))}},32695:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});var r=n(75347),o=n(46081),i=n(74164);function a(e,t,n,a,s,l){var u={maskType:o.D.FullImageMask},c=(0,i.Z)(u.maskType)({imageId:e,selectedUvPositions:[],algorithmParameters:n,maskParameters:u,imageUvToView:(0,r.uz)(),imageSizeInPixels:t,undoRedoGroupId:s,isUndoRedoable:l});if(!c)throw new Error("Failed to create texturePatchRequest");return a(c),c}},32780:(e,t,n)=>{"use strict";n.d(t,{$:()=>a});var r=n(32e3),o=n(96042),i=n(49972),a=(0,o.J9)((function(e,t){var n,o,a,s=(0,i.$)(e),l={root:{padding:"0 4px",height:"40px",color:e.palette.neutralPrimary,backgroundColor:"transparent",border:"1px solid transparent",selectors:(n={},n[r.up]={borderColor:"Window"},n)},rootHovered:{color:e.palette.themePrimary,selectors:(o={},o[r.up]={color:"Highlight"},o)},iconHovered:{color:e.palette.themePrimary},rootPressed:{color:e.palette.black},rootExpanded:{color:e.palette.themePrimary},iconPressed:{color:e.palette.themeDarker},rootDisabled:{color:e.palette.neutralTertiary,backgroundColor:"transparent",borderColor:"transparent",selectors:(a={},a[r.up]={color:"GrayText"},a)},rootChecked:{color:e.palette.black},iconChecked:{color:e.palette.themeDarker},flexContainer:{justifyContent:"flex-start"},icon:{color:e.palette.themeDarkAlt},iconDisabled:{color:"inherit"},menuIcon:{color:e.palette.neutralSecondary},textContainer:{flexGrow:0}};return(0,r.TW)(s,l,t)}))},33583:(e,t,n)=>{"use strict";n.d(t,{KT:()=>_,bZ:()=>x});var r=n(3041),o=n(31985),i=n(36386);function a(e){return void 0!==e.baseAdjustments}var s=n(7622),l={undoReducer:function(e,t){(e.undoRedoStack.redoStack.push(t),a(t.undoPayload))?Object.assign(e,t.undoPayload):(0,s.I)(e.baseAdjustments,e.adjustmentsByDynamicLayer,t.undoPayload.dynamicLayerId)[t.undoPayload.adjustmentKey]=t.undoPayload.adjustmentValue},redoReducer:function(e,t){(e.undoRedoStack.undoStack.push(t),a(t.redoPayload))?Object.assign(e,t.redoPayload):(0,s.I)(e.baseAdjustments,e.adjustmentsByDynamicLayer,t.redoPayload.dynamicLayerId)[t.redoPayload.adjustmentKey]=t.redoPayload.adjustmentValue},removeItemsReducer:function(e,t){e.undoRedoStack.undoStack=t},collapseItemsReducer:function(e,t,n){e.undoRedoStack.undoStack=e.undoRedoStack.undoStack.filter((function(e){return e.sequence!==t.payload.start&&e.sequence!==t.payload.end})),e.undoRedoStack.undoStack.push(n)}},u=n(17523),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)};function d(e,t){return t?c(c({},e),t):e}var p=n(73050),f=n(53042),h=n(27148);var m,g=n(4845),v=n(97351),y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)},b=(0,r.Z0)({name:"colorAdjustments",initialState:u.$O,reducers:{setAdjustmentValue:function(e,t){!function(e,t){var n=(0,s.I)(e.baseAdjustments,e.adjustmentsByDynamicLayer,t.payload.dynamicLayerId);if(e.undoPayload||(e.undoPayload={adjustmentKey:t.payload.adjustmentKey,dynamicLayerId:t.payload.dynamicLayerId,adjustmentValue:n[t.payload.adjustmentKey]},e.disableUndoRedoOverride=!0),n[t.payload.adjustmentKey]=t.payload.adjustmentValue,t.payload.isUndoRedoable){var r={adjustmentKey:t.payload.adjustmentKey,dynamicLayerId:t.payload.dynamicLayerId,adjustmentValue:t.payload.adjustmentValue};if((0,f.G)(e.undoPayload,r)){var o=(0,i.Cy)(h.w[t.payload.adjustmentKey],e.undoPayload,r,p.Z.KeepAll);e.undoRedoStack.undoStack.push(o)}e.undoPayload=void 0,e.disableUndoRedoOverride=!1}}(e,t)},setAllAdjustments:function(e,t){return d(e,t.payload)},setAdjustmentVersion:function(e,t){e.version=t.payload},setMaskLevel:function(e,t){e.maskLevel=t.payload}},extraReducers:function(e){e.addCase(o.sP,(function(e,t){(0,v.s)(e,t.payload,"replaceImageColorAdjustments",(function(e){Object.assign(e,u.Wj)}))})).addCase(o.zj,(function(e,t){return y({},u.$O)})).addCase(o.y2,(function(e,t){return d(e,t.payload.adjustments)})).addCase(g.CP,(function(e,t){e.adjustmentsByDynamicLayer[t.payload.layerId]=(0,u.DK)()})).addCase(g.VJ,(function(e,t){delete e.adjustmentsByDynamicLayer[t.payload],e.selectedDynamicLayerId===t.payload&&(e.selectedDynamicLayerId=u.$O.selectedDynamicLayerId)})).addCase(g.KY,(function(e,t){e.selectedDynamicLayerId=t.payload})),(0,i.q$)(e,l)}}),x=(m=b.actions).setAdjustmentValue,_=(m.setAllAdjustments,m.setAdjustmentVersion,m.setMaskLevel,b.reducer)},33994:(e,t,n)=>{"use strict";n.d(t,{X:()=>a,A:()=>i});var r=n(9950),o=function(){function e(){this._needsRender=!1,this._isRendering=!1,this._renderers=new Map}return e.prototype.register=function(e,t,n){this._renderers.set(e,{func:t,zIndex:n}),this._needsRender=!0},e.prototype.unregister=function(e){this._renderers.delete(e),this._needsRender=!0},e.prototype.requestRender=function(){this._needsRender=!0},e.prototype.startRendering=function(){this._isRendering||(this._isRendering=!0,this._renderNextFrame())},e.prototype.stopRendering=function(){this._isRendering=!1},e.prototype.renderNow=function(){this._render()},e.prototype._render=function(){var e=[];this._renderers.forEach((function(t){e.push(t)})),e.sort((function(e,t){return e.zIndex-t.zIndex})),e.forEach((function(e){return e.func()}))},e.prototype._renderNextFrame=function(){var e=this;this._isRendering&&(this._needsRender&&(this._render(),this._needsRender=!1),window.requestAnimationFrame((function(){e._renderNextFrame()})))},e}(),i=(0,r.createContext)({renderList:new o}),a=r.memo((function(e){var t=(0,r.useMemo)((function(){return{renderList:new o}}),[]);return(0,r.useEffect)((function(){return t.renderList.startRendering(),function(){t.renderList.stopRendering()}}),[t]),r.createElement(i.Provider,{value:t},e.children)}))},34060:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});var r=n(9950),o=n(95004),i=function(){var e=(0,o.d)({});return r.useEffect((function(){return function(){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];clearTimeout(r)}}}),[e]),(0,o.d)({setTimeout:function(t,n){var r=setTimeout(t,n);return e[r]=1,r},clearTimeout:function(t){delete e[t],clearTimeout(t)}})}},34354:(e,t,n)=>{"use strict";n.d(t,{Io:()=>d,Lf:()=>a,Rb:()=>u,V1:()=>p,kY:()=>c});var r=n(16097),o=n(75347),i=n(25522),a=1,s=new Map([[1,{angle:0,mirror:!1}],[2,{angle:0,mirror:!0}],[3,{angle:180,mirror:!1}],[4,{angle:180,mirror:!0}],[5,{angle:-90,mirror:!0}],[6,{angle:90,mirror:!1}],[7,{angle:90,mirror:!0}],[8,{angle:-90,mirror:!1}]]),l=2e-4;function u(e,t,n){void 0===t&&(t={x:1,y:1}),void 0===n&&(n=t);var r=s.get(e),i=r.angle,a=r.mirror,l=(0,o.ZG)((0,o.uE)(i),a?(0,o.d1)():(0,o.uz)(),(0,o.U3)(t.x,t.y)),u=(0,o.vo)(l,{x:0,y:0}),c=(0,o.vo)(l,{x:n.x,y:0}),d=(0,o.vo)(l,{x:n.x,y:n.y}),p=(0,o.vo)(l,{x:0,y:n.y}),f=Math.min(u.x,c.x,d.x,p.x),h=Math.min(u.y,c.y,d.y,p.y);return l=(0,o.ZG)((0,o.iQ)(-f,-h),l)}function c(e){var t=Math.sign(e.width)!==Math.sign(e.height),n=(0,r.XM)(e.rotation),o=void 0;return s.forEach((function(e,i){e.mirror===t&&Math.abs((0,r.uK)(n,e.angle))<l&&(o=i)})),o}function d(e,t){var n=u(e),r=u(t);return c((0,i.H)((0,o.ZG)(r,n)))}function p(e){var t=s.get(e).angle;return 90===Math.abs(t)}},34528:(e,t,n)=>{"use strict";var r;n.d(t,{Bw:()=>d,Sk:()=>f,WL:()=>c});var o=n(37827),i=n(9950),a=n(77169),s=n(96042),l=n(56340),u=n(48701);function c(e,t){for(var a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var l=e;return l.isSlot?0===(a=i.Children.toArray(a)).length?l(t):l((0,o.Cl)((0,o.Cl)({},t),{children:a})):i.createElement.apply(r||(r=n.t(i,2)),(0,o.fX)([e,t],a,!1))}function d(e,t){void 0===t&&(t={});var n=t.defaultProp,r=void 0===n?"children":n;return function(t,n,s,c,d){if(i.isValidElement(n))return n;var p=function(e,t){var n,r;"string"===typeof t||"number"===typeof t||"boolean"===typeof t?((n={})[e]=t,r=n):r=t;return r}(r,n),f=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var o={},i=[],s=0,c=n;s<c.length;s++){var d=c[s];i.push(d&&d.className),(0,u.k)(o,d)}return o.className=(0,a.e)([e,i],{rtl:(0,l.jI)(t)}),o}(c,d,t,p);if(s){if(s.component){var h=s.component;return i.createElement(h,(0,o.Cl)({},f))}if(s.render)return s.render(f,e)}return i.createElement(e,(0,o.Cl)({},f))}}var p=(0,s.J9)((function(e){return d(e)}));function f(e,t){var n={},r=e,o=function(e){if(t.hasOwnProperty(e)){var o=function(n){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];if(o.length>0)throw new Error("Any module using getSlots must use withSlots. Please see withSlots javadoc for more info.");return function(e,t,n,r,o,i){return void 0!==e.create?e.create(t,n,r,o):p(e)(t,n,r,o,i)}(t[e],n,r[e],r.slots&&r.slots[e],r._defaultStyles&&r._defaultStyles[e],r.theme)};o.isSlot=!0,n[e]=o}};for(var i in t)o(i);return n}},34745:(e,t,n)=>{"use strict";function r(e,t,n){return e*(1-n)+t*n}function o(e,t,n){var r=(n-e)/(t-e);return Math.min(Math.max(r,0),1)}function i(e,t){return function(n){return r(e,t,n)}}n.d(t,{Cc:()=>r,U4:()=>o,kv:()=>i})},34868:(e,t,n)=>{"use strict";function r(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}n.d(t,{on:()=>r})},35286:(e,t,n)=>{"use strict";n.d(t,{R:()=>m,k:()=>g});var r=n(9950),o=n(88873),i=n(47140),a=n(98689),s=n(44358),l=n(95288),u=n(94925),c=n(59381),d=n(90245),p=n(88328),f=n(87692),h=n(67922),m="https://go.microsoft.com/fwlink/p/?LinkId=2272738&ocid=cmm526y85hu",g=function(e,t,n){var g,v,y=(0,r.useContext)(i.U),b=y.stylizerPivotTeachingTipState,x=y.onStylizerPivotTeachingTipDismissed,_=y.setStylizerPivotTeachingTipState,C=(0,r.useContext)(h.G).onLinkClicked,w=(0,r.useMemo)((function(){return e===o.ts}),[e]),S=r.useRef(null),k=r.useRef(null);(0,f.U)({enterCondition:w&&!!(null===n||void 0===n?void 0:n.contains(document.activeElement))&&"showing"===b,exitCondition:w&&"showing"===b,reverseEnterCondition:w&&"showing"===b,reverseExitCondition:w&&"showing"===b,elmBeforeEnter:t,elmAfterEnter:null!==(g=S.current)&&void 0!==g?g:void 0,elmBeforeExit:null!==(v=k.current)&&void 0!==v?v:void 0,elmAfterExit:document.querySelector('[data-test-id="save-options"]')});var T=(0,a.D)(),E=(0,r.useMemo)((function(){return(0,p.k)(T)}),[T]),P=(0,r.useContext)(d.x).strings,I=r.useCallback((function(){x()}),[x]),A=(0,r.useMemo)((function(){return w?r.createElement(c.O,{calloutHeaderText:P.faceDetectionTeachingTip_title,calloutMainText:P.faceDetectionTeachingTip_mainText,target:t,styles:E,calloutVisibilityState:b,setCalloutVisibilityState:_,directionalHint:s.A.topAutoEdge,showCalloutOnMount:!1,role:"dialog",gapSpace:5,onDismiss:I,showDismissButton:!0,dismissButtonPosition:"top",dismissButtonRef:S,setInitialFocus:!0,dismissButtonText:P.faceDetectionTeachingTip_DismissLinkText,customCalloutChild:r.createElement(l.B,{style:{marginTop:"16px"},tokens:{childrenGap:16}},r.createElement(u.N,{ref:k,onClick:function(){return C(m)},role:"link",styles:{root:{"&:focus-visible":{outline:"auto"}}}},P.faceDetectionTeachingTip_LearnMoreLinkText))}):null}),[w,P.faceDetectionTeachingTip_title,P.faceDetectionTeachingTip_mainText,P.faceDetectionTeachingTip_LearnMoreLinkText,P.faceDetectionTeachingTip_DismissLinkText,t,E,b,_,I,C]);return{shouldShowTeachingTip:w,stylizerTeachingTip:A}}},35361:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var r=n(17514);function o(e){var t={};return r.N.forEach((function(n){t[n]=e})),t}},35390:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var r=n(2169),o=n(95143),i=n(23359);function a(e){var t=o.n.getInstance(),n=[];for(var a in e)e.hasOwnProperty(a)&&n.push(a,"{",(0,i.bz)((0,r.Iy)(),e[a]),"}");var s=n.join(""),l=t.classNameFromKey(s);if(l)return l;var u=t.getClassName();return t.insertRule("@keyframes ".concat(u,"{").concat(s,"}"),!0),t.cacheClassName(u,s,[],["keyframes",s]),u}},35572:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var r=n(75795),o=n(75347),i=n(21925);function a(e,t){var n=(0,i.Vq)(t),a=(0,o.ZG)(n,e);return(0,r.c4)((0,i.SM)(a))}},35606:(e,t,n)=>{"use strict";n.d(t,{MO:()=>g,dM:()=>h,vk:()=>m});var r,o=n(9950),i=n(95673),a=n(21191),s=((r={})[a.c.up]=1,r[a.c.down]=1,r[a.c.left]=1,r[a.c.right]=1,r[a.c.home]=1,r[a.c.end]=1,r[a.c.tab]=1,r[a.c.pageUp]=1,r[a.c.pageDown]=1,r);function l(e){return!!s[e]}var u=n(25380),c=new WeakMap,d=new WeakMap;function p(e,t){var n,r=c.get(e);return n=r?r+t:1,c.set(e,n),n}function f(e){var t=d.get(e);if(t)return t;return t={onMouseDown:function(t){return v(t,e.registeredProviders)},onPointerDown:function(t){return y(t,e.registeredProviders)},onKeyDown:function(t){return b(t,e.registeredProviders)},onKeyUp:function(t){return x(t,e.registeredProviders)}},d.set(e,t),t}var h=o.createContext(void 0);function m(e){var t=o.useContext(h);o.useEffect((function(){var n,r,o=(0,i.z)(null===e||void 0===e?void 0:e.current);if(o&&!0!==(null===(n=o.FabricConfig)||void 0===n?void 0:n.disableFocusRects)){var a,s,l,u,c=o;if(null===(r=null===t||void 0===t?void 0:t.providerRef)||void 0===r?void 0:r.current){c=t.providerRef.current;var d=f(t);a=d.onMouseDown,s=d.onPointerDown,l=d.onKeyDown,u=d.onKeyUp}else a=v,s=y,l=b,u=x;var h=p(c,1);return h<=1&&(c.addEventListener("mousedown",a,!0),c.addEventListener("pointerdown",s,!0),c.addEventListener("keydown",l,!0),c.addEventListener("keyup",u,!0)),function(){var e;o&&!0!==(null===(e=o.FabricConfig)||void 0===e?void 0:e.disableFocusRects)&&0===(h=p(c,-1))&&(c.removeEventListener("mousedown",a,!0),c.removeEventListener("pointerdown",s,!0),c.removeEventListener("keydown",l,!0),c.removeEventListener("keyup",u,!0))}}}),[t,e])}var g=function(e){return m(e.rootRef),null};function v(e,t){(0,u.Fy)(!1,e.target,t)}function y(e,t){"mouse"!==e.pointerType&&(0,u.Fy)(!1,e.target,t)}function b(e,t){l(e.which)&&(0,u.Fy)(!0,e.target,t)}function x(e,t){l(e.which)&&(0,u.Fy)(!0,e.target,t)}},35786:(e,t,n)=>{"use strict";function r(e,t,n){var r=n.width/t.width,o=n.height/t.height,i=Math.max(r,o),a={left:0,top:0,width:n.width,height:n.height};return{imageTransform:{width:e.width*i,height:e.height*i,x:a.width-(a.width/2+i*t.width/2)-t.left*i+e.x*i,y:a.height-(a.height/2+i*t.height/2)-t.top*i+e.y*i,rotation:e.rotation},cropRectangle:a}}n.d(t,{R:()=>r})},35891:(e,t,n)=>{"use strict";var r;n.d(t,{F:()=>r}),function(e){e.Brightness="brightness",e.Exposure="exposure",e.Contrast="contrast",e.Highlights="highlights",e.Shadows="shadows",e.Saturation="saturation",e.Temperature="temperature",e.Tint="tint",e.Vignette="vignette",e.Sharpness="sharpness"}(r||(r={}))},35928:(e,t,n)=>{"use strict";n.d(t,{j:()=>l});var r=n(37827),o=n(9950),i=n(45890),a=n(70945),s=n(62441),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.C6)(t,e),t.prototype.render=function(){return o.createElement(s.Y,(0,r.Cl)({},this.props,{primary:!0,onRenderDescription:i.K}))},t=(0,r.Cg)([(0,a.T)("PrimaryButton",["theme","styles"],!0)],t)}(o.Component)},36058:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var r=n(54986);function o(e){if(e===r.A.RGBA)return 3;if(e===r.A.A)return 0;throw new Error("the specified image format does not have alpha")}},36386:(e,t,n)=>{"use strict";n.d(t,{Cy:()=>i,q$:()=>u});var r=n(2339),o=n(56537);function i(e,t,n,o,i,a){return{id:e,undoPayload:t,redoPayload:n,sequence:(0,r.b)(),sequentialDuplicateAction:o,groupId:i,telemetryId:a}}function a(e,t,n){return n?t.find((function(t,r){return t.sequence===e&&r===n})):t.find((function(t){return t.sequence===e}))}function s(e,t,n){var o=a(e,t,t.length-1);o&&(t.pop(),o.sequence=(0,r.b)()),n(o)}function l(e,t,n){var r=function(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var i=a(o[r],t);i&&n.push(i)}return n}(e,t).map((function(e){return e.sequence}));r.length>0&&n(t.filter((function(e){return!r.includes(e.sequence)})))}function u(e,t){var n=t.undoReducer,i=t.redoReducer,u=t.removeItemsReducer,c=t.collapseItemsReducer,d=t.afterClearRedoStacksReducer;e.addCase(o.tN,(function(e,t){s(t.payload.timestamp,e.undoRedoStack.undoStack,(function(t){t&&n(e,t)}))})).addCase(o.ZS,(function(e,t){s(t.payload.timestamp,e.undoRedoStack.redoStack,(function(t){t&&i(e,t)}))})).addCase(o.Z0,(function(e,t){l(t.payload,e.undoRedoStack.undoStack,(function(t){u(e,t)}))})).addCase(o.r,(function(e,t){e.undoRedoStack.redoStack.length=0,d&&d(e)})).addCase(o.WL,(function(e,t){!function(e,t,n){var o=a(e.start,t),i=a(e.end,t);o&&i?n({sequence:(0,r.b)(),id:o.id,sequentialDuplicateAction:i.sequentialDuplicateAction,undoPayload:o.undoPayload,redoPayload:i.redoPayload}):(o&&n(o),i&&n(i))}({start:t.payload.start,end:t.payload.end},e.undoRedoStack.undoStack,(function(n){c(e,t,n)}))}))}},36766:(e,t,n)=>{"use strict";function r(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n+0}function o(e){return-Math.round(-e)}n.d(t,{L:()=>r,e:()=>o})},36970:(e,t,n)=>{"use strict";n.d(t,{a:()=>c});var r=n(37827),o=n(9950),i=n(32e3),a=n(59307),s=n(80647),l=n(34528),u=n(48701);function c(e,t){void 0===t&&(t={});var n=t.factoryOptions,c=(void 0===n?{}:n).defaultProp,p=function(n){var l=function(e,t,n){var r=["theme","styles","tokens"];return s.X.getSettings(n||r,e,t.customizations)}(t.displayName,o.useContext(a.z),t.fields),u=t.state;u&&(n=(0,r.Cl)((0,r.Cl)({},n),u(n)));var c=n.theme||l.theme,p=d(n,c,t.tokens,l.tokens,n.tokens),f=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];return i.TW.apply(void 0,r.map((function(r){return"function"===typeof r?r(e,t,n):r})))}(n,c,p,t.styles,l.styles,n.styles),h=(0,r.Cl)((0,r.Cl)({},n),{styles:f,tokens:p,_defaultStyles:f,theme:c});return e(h)};return p.displayName=t.displayName||e.name,c&&(p.create=(0,l.Bw)(p,{defaultProp:c})),(0,u.k)(p,t.statics),p}function d(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];for(var i={},a=0,s=n;a<s.length;a++){var l=s[a];l&&(l="function"===typeof l?l(e,t):l,Array.isArray(l)&&(l=d.apply(void 0,(0,r.fX)([e,t],l,!1))),(0,u.k)(i,l))}return i}},37010:(e,t,n)=>{"use strict";n.d(t,{j:()=>c});var r=n(98689),o=n(44358),i=n(9950),a=n(59381),s=n(88328),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},c=function(e){var t=e.calloutVisibilityState,n=e.setCalloutVisibilityState,c=(e.children,e.target),d=u(e,["calloutVisibilityState","setCalloutVisibilityState","children","target"]),p=(0,r.D)(),f=(0,s.k)(p),h=i.useState(null),m=h[0],g=h[1],v=(0,i.useCallback)((function(){"showing"===t&&n("alreadyShown")}),[t,n]);return(0,i.useEffect)((function(){var e=function(e){var t=c.current,n=(null===m||void 0===m?void 0:m.contains(e.target))||(null===t||void 0===t?void 0:t.contains(e.target));("pointerup"===e.type&&!n||"keyup"===e.type&&"Escape"===e.key&&n)&&v()};return document.addEventListener("keyup",e),document.addEventListener("pointerup",e),function(){document.removeEventListener("keyup",e),document.removeEventListener("pointerup",e)}}),[m,v,c]),i.createElement(a.O,l({setCalloutRef:g},d,{styles:f,target:c,calloutVisibilityState:t,setCalloutVisibilityState:n,directionalHint:o.A.bottomAutoEdge,gapSpace:0,showCalloutOnMount:!1,role:"alertdialog"}))};c.displayName="TeachingTip"},37212:(e,t,n)=>{"use strict";n.d(t,{AR:()=>a,YF:()=>h,kA:()=>v,YD:()=>m});var r=n(37827),o=n(9950),i=["setState","render","componentWillMount","UNSAFE_componentWillMount","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","getSnapshotBeforeUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount"];var a,s=function(e){function t(t){var n=e.call(this,t)||this;return n._updateComposedComponentRef=n._updateComposedComponentRef.bind(n),n}return(0,r.C6)(t,e),t.prototype._updateComposedComponentRef=function(e){var t;this._composedComponentInstance=e,e?this._hoisted=function(e,t,n){void 0===n&&(n=i);var r=[],o=function(o){"function"!==typeof t[o]||void 0!==e[o]||n&&-1!==n.indexOf(o)||(r.push(o),e[o]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t[o].apply(t,e)})};for(var a in t)o(a);return r}(this,e):this._hoisted&&(t=this,this._hoisted.forEach((function(e){return delete t[e]})))},t}(o.Component),l=n(19867),u=n(80514),c=n(93781);!function(e){e[e.small=0]="small",e[e.medium=1]="medium",e[e.large=2]="large",e[e.xLarge=3]="xLarge",e[e.xxLarge=4]="xxLarge",e[e.xxxLarge=5]="xxxLarge",e[e.unknown=999]="unknown"}(a||(a={}));var d,p,f=[479,639,1023,1365,1919,99999999];function h(){var e;return null!==(e=null!==d&&void 0!==d?d:p)&&void 0!==e?e:a.large}function m(e){var t,n=((t=function(t){function n(e){var n=t.call(this,e)||this;return n._onResize=function(){var e=v(n.context.window);e!==n.state.responsiveMode&&n.setState({responsiveMode:e})},n._events=new l.g(n),n._updateComposedComponentRef=n._updateComposedComponentRef.bind(n),n.state={responsiveMode:h()},n}return(0,r.C6)(n,t),n.prototype.componentDidMount=function(){this._events.on(this.context.window,"resize",this._onResize),this._onResize()},n.prototype.componentWillUnmount=function(){this._events.dispose()},n.prototype.render=function(){var t=this.state.responsiveMode;return t===a.unknown?null:o.createElement(e,(0,r.Cl)({ref:this._updateComposedComponentRef,responsiveMode:t},this.props))},n}(s)).contextType=c._0,t);return(0,u.D)(e,n)}function g(e){try{return e.document.documentElement.clientWidth}catch(t){return e.innerWidth}}function v(e){var t=a.small;if(e){try{for(;g(e)>f[t];)t++}catch(n){t=h()}p=t}else{if(void 0===d)throw new Error("Content was rendered in a server environment without providing a default responsive mode. Call setResponsiveMode to define what the responsive mode is.");t=d}return t}},37267:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var r=.55},37827:(e,t,n)=>{"use strict";n.d(t,{C6:()=>o,Cg:()=>s,Cl:()=>i,Tt:()=>a,YH:()=>u,fX:()=>c,sH:()=>l});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;function c(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},38005:(e,t,n)=>{"use strict";n.d(t,{z:()=>v});var r=n(37827),o=n(9950),i=n(95673),a=n(72684),s=n(6461),l=n(53461),u=n(58608),c=n(21191),d=n(28225),p=n(53247),f=n(98140),h=n(3753),m=n(93781);function g(e){var t=e.originalElement,n=e.containsFocus;t&&n&&t!==(0,i.z)()&&setTimeout((function(){var e;null===(e=t.focus)||void 0===e||e.call(t)}),0)}var v=o.forwardRef((function(e,t){var n=(0,u.N)({shouldRestoreFocus:!0,enableAriaHiddenSiblings:!0},e),i=o.useRef(),v=(0,h.a)(i,t);!function(e,t){var n="true"===String(e["aria-modal"]).toLowerCase()&&e.enableAriaHiddenSiblings;o.useEffect((function(){if(n&&t.current)return(0,l.q)(t.current)}),[t,n])}(n,i),function(e,t){var n=e.onRestoreFocus,r=void 0===n?g:n,i=o.useRef(),l=o.useRef(!1);o.useEffect((function(){return i.current=(0,a.Y)().activeElement,(0,s.SE)(t.current)&&(l.current=!0),function(){var e;null===r||void 0===r||r({originalElement:i.current,containsFocus:l.current,documentContainsFocus:(null===(e=(0,a.Y)())||void 0===e?void 0:e.hasFocus())||!1}),i.current=void 0}}),[]),(0,f.x)(t,"focus",o.useCallback((function(){l.current=!0}),[]),!0),(0,f.x)(t,"blur",o.useCallback((function(e){t.current&&e.relatedTarget&&!t.current.contains(e.relatedTarget)&&(l.current=!1)}),[]),!0)}(n,i);var y=n.role,b=n.className,x=n.ariaLabel,_=n.ariaLabelledBy,C=n.ariaDescribedBy,w=n.style,S=n.children,k=n.onDismiss,T=function(e,t){var n=(0,p.Y)(),r=o.useState(!1),i=r[0],a=r[1];return o.useEffect((function(){return n.requestAnimationFrame((function(){var n;if(!e.style||!e.style.overflowY){var r=!1;if(t&&t.current&&(null===(n=t.current)||void 0===n?void 0:n.firstElementChild)){var o=t.current.clientHeight,s=t.current.firstElementChild.clientHeight;o>0&&s>o&&(r=s-o>1)}i!==r&&a(r)}})),function(){return n.dispose()}})),i}(n,i),E=o.useCallback((function(e){if(e.which===c.c.escape)k&&(k(e),e.preventDefault(),e.stopPropagation())}),[k]),P=(0,m.ox)();return(0,f.x)(P,"keydown",E),o.createElement("div",(0,r.Cl)({ref:v},(0,d.G1)(n,d.JM),{className:b,role:y,"aria-label":x,"aria-labelledby":_,"aria-describedby":C,onKeyDown:E,style:(0,r.Cl)({overflowY:T?"scroll":void 0,outline:"none"},w)}),S)}));v.displayName="Popup"},38275:(e,t,n)=>{"use strict";function r(e){return e.length>0?e[e.length-1]:void 0}function o(e){return e[0]}n.d(t,{$1:()=>o,HV:()=>r})},38345:(e,t,n)=>{"use strict";var r=n(9950),o=n(26470),i=n(75340);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var l=!1,u=null,c=!1,d=null,p={onError:function(e){l=!0,u=e}};function f(e,t,n,r,o,i,a,c,d){l=!1,u=null,s.apply(p,arguments)}var h=null,m=null,g=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,o,i,s,p,h){if(f.apply(this,arguments),l){if(!l)throw Error(a(198));var m=u;l=!1,u=null,c||(c=!0,d=m)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function x(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!C[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in C[n]=t,n=t.eventTypes){var o=void 0,i=n[r],s=t,l=r;if(w.hasOwnProperty(l))throw Error(a(99,l));w[l]=i;var u=i.phasedRegistrationNames;if(u){for(o in u)u.hasOwnProperty(o)&&_(u[o],s,l);o=!0}else i.registrationName?(_(i.registrationName,s,l),o=!0):o=!1;if(!o)throw Error(a(98,r,e))}}}}function _(e,t,n){if(S[e])throw Error(a(100,e));S[e]=t,k[e]=t.eventTypes[n].dependencies}var C=[],w={},S={},k={};function T(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&x()}var E=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),P=null,I=null,A=null;function R(e){if(e=m(e)){if("function"!==typeof P)throw Error(a(280));var t=e.stateNode;t&&(t=h(t),P(e.stateNode,e.type,t))}}function L(e){I?A?A.push(e):A=[e]:I=e}function M(){if(I){var e=I,t=A;if(A=I=null,R(e),t)for(e=0;e<t.length;e++)R(t[e])}}function B(e,t){return e(t)}function O(e,t,n,r,o){return e(t,n,r,o)}function F(){}var D=B,N=!1,U=!1;function z(){null===I&&null===A||(F(),M())}function j(e,t,n){if(U)return e(t,n);U=!0;try{return D(e,t,n)}finally{U=!1,z()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,H={},q={};function K(e,t,n,r,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){G[e]=new K(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];G[t]=new K(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){G[e]=new K(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){G[e]=new K(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){G[e]=new K(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){G[e]=new K(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){G[e]=new K(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){G[e]=new K(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){G[e]=new K(e,5,!1,e.toLowerCase(),null,!1)}));var Z=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Z,X);G[t]=new K(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Z,X);G[t]=new K(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Z,X);G[t]=new K(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){G[e]=new K(e,1,!1,e.toLowerCase(),null,!1)})),G.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){G[e]=new K(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var o=G.hasOwnProperty(t)?G[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!W.call(q,e)||!W.call(H,e)&&(V.test(e)?q[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,$="function"===typeof Symbol&&Symbol.for,ee=$?Symbol.for("react.element"):60103,te=$?Symbol.for("react.portal"):60106,ne=$?Symbol.for("react.fragment"):60107,re=$?Symbol.for("react.strict_mode"):60108,oe=$?Symbol.for("react.profiler"):60114,ie=$?Symbol.for("react.provider"):60109,ae=$?Symbol.for("react.context"):60110,se=$?Symbol.for("react.concurrent_mode"):60111,le=$?Symbol.for("react.forward_ref"):60112,ue=$?Symbol.for("react.suspense"):60113,ce=$?Symbol.for("react.suspense_list"):60120,de=$?Symbol.for("react.memo"):60115,pe=$?Symbol.for("react.lazy"):60116,fe=$?Symbol.for("react.block"):60121,he="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=he&&e[he]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case oe:return"Profiler";case re:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case ie:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ge(e.type);case fe:return ge(e.render);case pe:if(e=1===e._status?e._result:null)return ge(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,i=ge(e.type);n=null,r&&(n=ge(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(J,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xe(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ce(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function we(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function ke(e,t){Se(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ee(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Te(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ee(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Pe(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ie(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Le(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Me(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Be="http://www.w3.org/1999/xhtml",Oe="http://www.w3.org/2000/svg";function Fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ne,Ue,ze=(Ue=function(e,t){if(e.namespaceURI!==Oe||"innerHTML"in e)e.innerHTML=t;else{for((Ne=Ne||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ne.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ue(e,t)}))}:Ue);function je(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ve(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},He={},qe={};function Ke(e){if(He[e])return He[e];if(!We[e])return e;var t,n=We[e];for(t in n)if(n.hasOwnProperty(t)&&t in qe)return He[e]=n[t];return e}E&&(qe=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);var Ge=Ke("animationend"),Ze=Ke("animationiteration"),Xe=Ke("animationstart"),Ye=Ke("transitionend"),Qe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function $e(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(a(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return nt(o),e;if(i===r)return nt(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function ot(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var at=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function lt(e){if(null!==e&&(at=ot(at,e)),e=at,at=null,e){if(it(e,st),at)throw Error(a(95));if(c)throw e=d,c=!1,d=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!E)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var dt=[];function pt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>dt.length&&dt.push(e)}function ft(e,t,n,r){if(dt.length){var o=dt.pop();return o.topLevelType=e,o.eventSystemFlags=r,o.nativeEvent=t,o.targetInst=n,o}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Mn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=ut(e.nativeEvent);r=e.topLevelType;var i=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<C.length;l++){var u=C[l];u&&(u=u.extractEvents(r,t,i,o,a))&&(s=ot(s,u))}lt(s)}}function mt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Xt(t,"scroll",!0);break;case"focus":case"blur":Xt(t,"focus",!0),Xt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Xt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qe.indexOf(e)&&Zt(e,t)}n.set(e,null)}}var gt,vt,yt,bt=!1,xt=[],_t=null,Ct=null,wt=null,St=new Map,kt=new Map,Tt=[],Et="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Pt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function It(e,t,n,r,o){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:o,container:r}}function At(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function Rt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e=It(t,n,r,o,i),null!==t&&(null!==(t=Bn(t))&&vt(t)),e):(e.eventSystemFlags|=r,e)}function Lt(e){var t=Mn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void i.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Bn(t);return null!==n&&vt(n),e.blockedOn=t,!1}return!0}function Bt(e,t,n){Mt(e)&&n.delete(t)}function Ot(){for(bt=!1;0<xt.length;){var e=xt[0];if(null!==e.blockedOn){null!==(e=Bn(e.blockedOn))&&gt(e);break}var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:xt.shift()}null!==_t&&Mt(_t)&&(_t=null),null!==Ct&&Mt(Ct)&&(Ct=null),null!==wt&&Mt(wt)&&(wt=null),St.forEach(Bt),kt.forEach(Bt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ot)))}function Dt(e){function t(t){return Ft(t,e)}if(0<xt.length){Ft(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Ft(_t,e),null!==Ct&&Ft(Ct,e),null!==wt&&Ft(wt,e),St.forEach(t),kt.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Tt.shift()}var Nt={},Ut=new Map,zt=new Map,jt=["abort","abort",Ge,"animationEnd",Ze,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function Vt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1],i="on"+(o[0].toUpperCase()+o.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[r],eventPriority:t},zt.set(r,t),Ut.set(r,i),Nt[o]=i}}Vt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Vt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Vt(jt,2);for(var Wt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ht=0;Ht<Wt.length;Ht++)zt.set(Wt[Ht],0);var qt=i.unstable_UserBlockingPriority,Kt=i.unstable_runWithPriority,Gt=!0;function Zt(e,t){Xt(t,e,!1)}function Xt(e,t,n){var r=zt.get(t);switch(void 0===r?2:r){case 0:r=Yt.bind(null,t,1,e);break;case 1:r=Qt.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Yt(e,t,n,r){N||F();var o=Jt,i=N;N=!0;try{O(o,e,t,n,r)}finally{(N=i)||z()}}function Qt(e,t,n,r){Kt(qt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Gt)if(0<xt.length&&-1<Et.indexOf(e))e=It(null,e,t,n,r),xt.push(e);else{var o=$t(e,t,n,r);if(null===o)At(e,r);else if(-1<Et.indexOf(e))e=It(o,e,t,n,r),xt.push(e);else if(!function(e,t,n,r,o){switch(t){case"focus":return _t=Rt(_t,e,t,n,r,o),!0;case"dragenter":return Ct=Rt(Ct,e,t,n,r,o),!0;case"mouseover":return wt=Rt(wt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return St.set(i,Rt(St.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,kt.set(i,Rt(kt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r)){At(e,r),e=ft(e,r,null,t);try{j(ht,e)}finally{pt(e)}}}}function $t(e,t,n,r){if(null!==(n=Mn(n=ut(r)))){var o=et(n);if(null===o)n=null;else{var i=o.tag;if(13===i){if(null!==(n=tt(o)))return n;n=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}e=ft(e,r,n,t);try{j(ht,e)}finally{pt(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var on=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(e,t){if(t){if(on[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=Be;function un(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=k[t];for(var r=0;r<t.length;r++)mt(t[r],e,n)}function cn(){}function dn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function pn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=pn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pn(r)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=dn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=dn((e=t.contentWindow).document)}return t}function gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vn="$",yn="/$",bn="$?",xn="$!",_n=null,Cn=null;function wn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Sn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var kn="function"===typeof setTimeout?setTimeout:void 0,Tn="function"===typeof clearTimeout?clearTimeout:void 0;function En(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Pn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===vn||n===xn||n===bn){if(0===t)return e;t--}else n===yn&&t++}e=e.previousSibling}return null}var In=Math.random().toString(36).slice(2),An="__reactInternalInstance$"+In,Rn="__reactEventHandlers$"+In,Ln="__reactContainere$"+In;function Mn(e){var t=e[An];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ln]||n[An]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Pn(e);null!==e;){if(n=e[An])return n;e=Pn(e)}return t}n=(e=n).parentNode}return null}function Bn(e){return!(e=e[An]||e[Ln])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function On(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Fn(e){return e[Rn]||null}function Dn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Nn(e,t){var n=e.stateNode;if(!n)return null;var r=h(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Un(e,t,n){(t=Nn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=ot(n._dispatchListeners,t),n._dispatchInstances=ot(n._dispatchInstances,e))}function zn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Dn(t);for(t=n.length;0<t--;)Un(n[t],"captured",e);for(t=0;t<n.length;t++)Un(n[t],"bubbled",e)}}function jn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Nn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=ot(n._dispatchListeners,t),n._dispatchInstances=ot(n._dispatchInstances,e))}function Vn(e){e&&e.dispatchConfig.registrationName&&jn(e._targetInst,null,e)}function Wn(e){it(e,zn)}var Hn=null,qn=null,Kn=null;function Gn(){if(Kn)return Kn;var e,t,n=qn,r=n.length,o="value"in Hn?Hn.value:Hn.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Kn=o.slice(e,1<t?1-t:void 0)}function Zn(){return!0}function Xn(){return!1}function Yn(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Zn:Xn,this.isPropagationStopped=Xn,this}function Qn(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function Jn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Qn,e.release=Jn}o(Yn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){this.isPersistent=Zn},isPersistent:Xn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Xn,this._dispatchInstances=this._dispatchListeners=null}}),Yn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Yn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,$n(n),n},$n(Yn);var er=Yn.extend({data:null}),tr=Yn.extend({data:null}),nr=[9,13,27,32],rr=E&&"CompositionEvent"in window,or=null;E&&"documentMode"in document&&(or=document.documentMode);var ir=E&&"TextEvent"in window&&!or,ar=E&&(!rr||or&&8<or&&11>=or),sr=String.fromCharCode(32),lr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ur=!1;function cr(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function dr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var pr=!1;var fr={eventTypes:lr,extractEvents:function(e,t,n,r){var o;if(rr)e:{switch(e){case"compositionstart":var i=lr.compositionStart;break e;case"compositionend":i=lr.compositionEnd;break e;case"compositionupdate":i=lr.compositionUpdate;break e}i=void 0}else pr?cr(e,n)&&(i=lr.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=lr.compositionStart);return i?(ar&&"ko"!==n.locale&&(pr||i!==lr.compositionStart?i===lr.compositionEnd&&pr&&(o=Gn()):(qn="value"in(Hn=r)?Hn.value:Hn.textContent,pr=!0)),i=er.getPooled(i,t,n,r),o?i.data=o:null!==(o=dr(n))&&(i.data=o),Wn(i),o=i):o=null,(e=ir?function(e,t){switch(e){case"compositionend":return dr(t);case"keypress":return 32!==t.which?null:(ur=!0,sr);case"textInput":return(e=t.data)===sr&&ur?null:e;default:return null}}(e,n):function(e,t){if(pr)return"compositionend"===e||!rr&&cr(e,t)?(e=Gn(),Kn=qn=Hn=null,pr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ar&&"ko"!==t.locale?null:t.data}}(e,n))?((t=tr.getPooled(lr.beforeInput,t,n,r)).data=e,Wn(t)):t=null,null===o?t:null===t?o:[o,t]}},hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!hr[e.type]:"textarea"===t}var gr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function vr(e,t,n){return(e=Yn.getPooled(gr.change,e,t,n)).type="change",L(n),Wn(e),e}var yr=null,br=null;function xr(e){lt(e)}function _r(e){if(_e(On(e)))return e}function Cr(e,t){if("change"===e)return t}var wr=!1;function Sr(){yr&&(yr.detachEvent("onpropertychange",kr),br=yr=null)}function kr(e){if("value"===e.propertyName&&_r(br))if(e=vr(br,e,ut(e)),N)lt(e);else{N=!0;try{B(xr,e)}finally{N=!1,z()}}}function Tr(e,t,n){"focus"===e?(Sr(),br=n,(yr=t).attachEvent("onpropertychange",kr)):"blur"===e&&Sr()}function Er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return _r(br)}function Pr(e,t){if("click"===e)return _r(t)}function Ir(e,t){if("input"===e||"change"===e)return _r(t)}E&&(wr=ct("input")&&(!document.documentMode||9<document.documentMode));var Ar={eventTypes:gr,_isInputEventSupported:wr,extractEvents:function(e,t,n,r){var o=t?On(t):window,i=o.nodeName&&o.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===o.type)var a=Cr;else if(mr(o))if(wr)a=Ir;else{a=Er;var s=Tr}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(a=Pr);if(a&&(a=a(e,t)))return vr(a,n,r);s&&s(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&Ee(o,"number",o.value)}},Rr=Yn.extend({view:null,detail:null}),Lr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Lr[e])&&!!t[e]}function Br(){return Mr}var Or=0,Fr=0,Dr=!1,Nr=!1,Ur=Rr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Br,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Or;return Or=e.screenX,Dr?"mousemove"===e.type?e.screenX-t:0:(Dr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Fr;return Fr=e.screenY,Nr?"mousemove"===e.type?e.screenY-t:0:(Nr=!0,0)}}),zr=Ur.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),jr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Vr={eventTypes:jr,extractEvents:function(e,t,n,r,o){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&0===(32&o)&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Mn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Ur,l=jr.mouseLeave,u=jr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=zr,l=jr.pointerLeave,u=jr.pointerEnter,c="pointer");if(e=null==a?i:On(a),i=null==t?i:On(t),(l=s.getPooled(l,a,n,r)).type=c+"leave",l.target=e,l.relatedTarget=i,(n=s.getPooled(u,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(u=c,a=0,e=s=r;e;e=Dn(e))a++;for(e=0,t=u;t;t=Dn(t))e++;for(;0<a-e;)s=Dn(s),a--;for(;0<e-a;)u=Dn(u),e--;for(;a--;){if(s===u||s===u.alternate)break e;s=Dn(s),u=Dn(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)s.push(r),r=Dn(r);for(r=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)r.push(c),c=Dn(c);for(c=0;c<s.length;c++)jn(s[c],"bubbled",l);for(c=r.length;0<c--;)jn(r[c],"captured",n);return 0===(64&o)?[l]:[l,n]}};var Wr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Hr=Object.prototype.hasOwnProperty;function qr(e,t){if(Wr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Hr.call(t,n[r])||!Wr(e[n[r]],t[n[r]]))return!1;return!0}var Kr=E&&"documentMode"in document&&11>=document.documentMode,Gr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Zr=null,Xr=null,Yr=null,Qr=!1;function Jr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Qr||null==Zr||Zr!==dn(n)?null:("selectionStart"in(n=Zr)&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Yr&&qr(Yr,n)?null:(Yr=n,(e=Yn.getPooled(Gr.select,Xr,e,t)).type="select",e.target=Zr,Wn(e),e))}var $r={eventTypes:Gr,extractEvents:function(e,t,n,r,o,i){if(!(i=!(o=i||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{o=$e(o),i=k.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?On(t):window,e){case"focus":(mr(o)||"true"===o.contentEditable)&&(Zr=o,Xr=t,Yr=null);break;case"blur":Yr=Xr=Zr=null;break;case"mousedown":Qr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Qr=!1,Jr(n,r);case"selectionchange":if(Kr)break;case"keydown":case"keyup":return Jr(n,r)}return null}},eo=Yn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),to=Yn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),no=Rr.extend({relatedTarget:null});function ro(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ao=Rr.extend({key:function(e){if(e.key){var t=oo[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ro(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?io[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Br,charCode:function(e){return"keypress"===e.type?ro(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ro(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),so=Ur.extend({dataTransfer:null}),lo=Rr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Br}),uo=Yn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),co=Ur.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),po={eventTypes:Nt,extractEvents:function(e,t,n,r){var o=Ut.get(e);if(!o)return null;switch(e){case"keypress":if(0===ro(n))return null;case"keydown":case"keyup":e=ao;break;case"blur":case"focus":e=no;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ur;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=so;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=lo;break;case Ge:case Ze:case Xe:e=eo;break;case Ye:e=uo;break;case"scroll":e=Rr;break;case"wheel":e=co;break;case"copy":case"cut":case"paste":e=to;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=zr;break;default:e=Yn}return Wn(t=e.getPooled(o,t,n,r)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x(),h=Fn,m=Bn,g=On,T({SimpleEventPlugin:po,EnterLeaveEventPlugin:Vr,ChangeEventPlugin:Ar,SelectEventPlugin:$r,BeforeInputEventPlugin:fr});var fo=[],ho=-1;function mo(e){0>ho||(e.current=fo[ho],fo[ho]=null,ho--)}function go(e,t){ho++,fo[ho]=e.current,e.current=t}var vo={},yo={current:vo},bo={current:!1},xo=vo;function _o(e,t){var n=e.type.contextTypes;if(!n)return vo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Co(e){return null!==(e=e.childContextTypes)&&void 0!==e}function wo(){mo(bo),mo(yo)}function So(e,t,n){if(yo.current!==vo)throw Error(a(168));go(yo,t),go(bo,n)}function ko(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(a(108,ge(t)||"Unknown",i));return o({},n,{},r)}function To(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vo,xo=yo.current,go(yo,e),go(bo,bo.current),!0}function Eo(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ko(e,t,xo),r.__reactInternalMemoizedMergedChildContext=e,mo(bo),mo(yo),go(yo,e)):mo(bo),go(bo,n)}var Po=i.unstable_runWithPriority,Io=i.unstable_scheduleCallback,Ao=i.unstable_cancelCallback,Ro=i.unstable_requestPaint,Lo=i.unstable_now,Mo=i.unstable_getCurrentPriorityLevel,Bo=i.unstable_ImmediatePriority,Oo=i.unstable_UserBlockingPriority,Fo=i.unstable_NormalPriority,Do=i.unstable_LowPriority,No=i.unstable_IdlePriority,Uo={},zo=i.unstable_shouldYield,jo=void 0!==Ro?Ro:function(){},Vo=null,Wo=null,Ho=!1,qo=Lo(),Ko=1e4>qo?Lo:function(){return Lo()-qo};function Go(){switch(Mo()){case Bo:return 99;case Oo:return 98;case Fo:return 97;case Do:return 96;case No:return 95;default:throw Error(a(332))}}function Zo(e){switch(e){case 99:return Bo;case 98:return Oo;case 97:return Fo;case 96:return Do;case 95:return No;default:throw Error(a(332))}}function Xo(e,t){return e=Zo(e),Po(e,t)}function Yo(e,t,n){return e=Zo(e),Io(e,t,n)}function Qo(e){return null===Vo?(Vo=[e],Wo=Io(Bo,$o)):Vo.push(e),Uo}function Jo(){if(null!==Wo){var e=Wo;Wo=null,Ao(e)}$o()}function $o(){if(!Ho&&null!==Vo){Ho=!0;var e=0;try{var t=Vo;Xo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vo=null}catch(n){throw null!==Vo&&(Vo=Vo.slice(e+1)),Io(Bo,Jo),n}finally{Ho=!1}}}function ei(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function ti(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ni={current:null},ri=null,oi=null,ii=null;function ai(){ii=oi=ri=null}function si(e){var t=ni.current;mo(ni),e.type._context._currentValue=t}function li(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ui(e,t){ri=e,ii=oi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Fa=!0),e.firstContext=null)}function ci(e,t){if(ii!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ii=e,t=1073741823),t={context:e,observedBits:t,next:null},null===oi){if(null===ri)throw Error(a(308));oi=t,ri.dependencies={expirationTime:0,firstContext:t,responders:null}}else oi=oi.next=t;return e._currentValue}var di=!1;function pi(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function hi(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function mi(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function gi(e,t){var n=e.alternate;null!==n&&fi(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function vi(e,t,n,r){var i=e.updateQueue;di=!1;var a=i.baseQueue,s=i.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,i.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var u=i.baseState,c=0,d=null,p=null,f=null;if(null!==l)for(var h=l;;){if((s=h.expirationTime)<r){var m={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===f?(p=f=m,d=u):f=f.next=m,s>c&&(c=s)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),Cl(s,h.suspenseConfig);e:{var g=e,v=h;switch(s=t,m=n,v.tag){case 1:if("function"===typeof(g=v.payload)){u=g.call(m,u,s);break e}u=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(s="function"===typeof(g=v.payload)?g.call(m,u,s):g)||void 0===s)break e;u=o({},u,s);break e;case 2:di=!0}}null!==h.callback&&(e.effectTag|=32,null===(s=i.effects)?i.effects=[h]:s.push(h))}if(null===(h=h.next)||h===l){if(null===(s=i.shared.pending))break;h=a.next=s.next,s.next=l,i.baseQueue=a=s,i.shared.pending=null}}null===f?d=u:f.next=p,i.baseState=d,i.baseQueue=f,wl(c),e.expirationTime=c,e.memoizedState=u}}function yi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=o,o=n,"function"!==typeof r)throw Error(a(191,r));r.call(o)}}}var bi=Y.ReactCurrentBatchConfig,xi=(new r.Component).refs;function _i(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Ci={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ul(),o=bi.suspense;(o=hi(r=cl(r,e,o),o)).payload=t,void 0!==n&&null!==n&&(o.callback=n),mi(e,o),dl(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ul(),o=bi.suspense;(o=hi(r=cl(r,e,o),o)).tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),mi(e,o),dl(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ul(),r=bi.suspense;(r=hi(n=cl(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),mi(e,r),dl(e,n)}};function wi(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!qr(n,r)||!qr(o,i))}function Si(e,t,n){var r=!1,o=vo,i=t.contextType;return"object"===typeof i&&null!==i?i=ci(i):(o=Co(t)?xo:yo.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?_o(e,o):vo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ci,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ki(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ci.enqueueReplaceState(t,t.state,null)}function Ti(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=xi,pi(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=ci(i):(i=Co(t)?xo:yo.current,o.context=_o(e,i)),vi(e,n,o,r),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(_i(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Ci.enqueueReplaceState(o,o.state,null),vi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.effectTag|=4)}var Ei=Array.isArray;function Pi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===xi&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ii(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ai(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Wl(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Pi(e,t,n),r.return=e,r):((r=Hl(n.type,n.key,n.props,null,e.mode,r)).ref=Pi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=ql(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Kl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Hl(t.type,t.key,t.props,null,e.mode,n)).ref=Pi(e,null,t),n.return=e,n;case te:return(t=Gl(t,e.mode,n)).return=e,t}if(Ei(t)||me(t))return(t=ql(t,e.mode,n,null)).return=e,t;Ii(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===o?n.type===ne?d(e,t,n.props.children,r,o):u(e,t,n,r):null;case te:return n.key===o?c(e,t,n,r):null}if(Ei(n)||me(n))return null!==o?null:d(e,t,n,r,null);Ii(e,n)}return null}function h(e,t,n,r,o){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?d(t,e,r.props.children,o,r.key):u(t,e,r,o);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(Ei(r)||me(r))return d(t,e=e.get(n)||null,r,o,null);Ii(t,r)}return null}function m(o,a,s,l){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(o,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),a=i(v,a,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(o,d),u;if(null===d){for(;m<s.length;m++)null!==(d=p(o,s[m],l))&&(a=i(d,a,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(o,d);m<s.length;m++)null!==(g=h(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(o,e)})),u}function g(o,s,l,u){var c=me(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(o,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=i(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=p(o,y.value,u))&&(s=i(y,s,g),null===d?c=y:d.sibling=y,d=y);return c}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=h(m,o,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),c}return function(e,r,i,l){var u="object"===typeof i&&null!==i&&i.type===ne&&null===i.key;u&&(i=i.props.children);var c="object"===typeof i&&null!==i;if(c)switch(i.$$typeof){case ee:e:{for(c=i.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(i.type===ne){n(e,u.sibling),(r=o(u,i.props.children)).return=e,e=r;break e}}else if(u.elementType===i.type){n(e,u.sibling),(r=o(u,i.props)).ref=Pi(e,u,i),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}i.type===ne?((r=ql(i.props.children,e.mode,l,i.key)).return=e,e=r):((l=Hl(i.type,i.key,i.props,null,e.mode,l)).ref=Pi(e,r,i),l.return=e,e=l)}return s(e);case te:e:{for(u=i.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gl(i,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=Kl(i,e.mode,l)).return=e,e=r),s(e);if(Ei(i))return m(e,r,i,l);if(me(i))return g(e,r,i,l);if(c&&Ii(e,i),"undefined"===typeof i&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ri=Ai(!0),Li=Ai(!1),Mi={},Bi={current:Mi},Oi={current:Mi},Fi={current:Mi};function Di(e){if(e===Mi)throw Error(a(174));return e}function Ni(e,t){switch(go(Fi,t),go(Oi,e),go(Bi,Mi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:De(null,"");break;default:t=De(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}mo(Bi),go(Bi,t)}function Ui(){mo(Bi),mo(Oi),mo(Fi)}function zi(e){Di(Fi.current);var t=Di(Bi.current),n=De(t,e.type);t!==n&&(go(Oi,e),go(Bi,n))}function ji(e){Oi.current===e&&(mo(Bi),mo(Oi))}var Vi={current:0};function Wi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===bn||n.data===xn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Hi(e,t){return{responder:e,props:t}}var qi=Y.ReactCurrentDispatcher,Ki=Y.ReactCurrentBatchConfig,Gi=0,Zi=null,Xi=null,Yi=null,Qi=!1;function Ji(){throw Error(a(321))}function $i(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wr(e[n],t[n]))return!1;return!0}function ea(e,t,n,r,o,i){if(Gi=i,Zi=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,qi.current=null===e||null===e.memoizedState?wa:Sa,e=n(r,o),t.expirationTime===Gi){i=0;do{if(t.expirationTime=0,!(25>i))throw Error(a(301));i+=1,Yi=Xi=null,t.updateQueue=null,qi.current=ka,e=n(r,o)}while(t.expirationTime===Gi)}if(qi.current=Ca,t=null!==Xi&&null!==Xi.next,Gi=0,Yi=Xi=Zi=null,Qi=!1,t)throw Error(a(300));return e}function ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yi?Zi.memoizedState=Yi=e:Yi=Yi.next=e,Yi}function na(){if(null===Xi){var e=Zi.alternate;e=null!==e?e.memoizedState:null}else e=Xi.next;var t=null===Yi?Zi.memoizedState:Yi.next;if(null!==t)Yi=t,Xi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Xi=e).memoizedState,baseState:Xi.baseState,baseQueue:Xi.baseQueue,queue:Xi.queue,next:null},null===Yi?Zi.memoizedState=Yi=e:Yi=Yi.next=e}return Yi}function ra(e,t){return"function"===typeof t?t(e):t}function oa(e){var t=na(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Xi,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var l=s=i=null,u=o;do{var c=u.expirationTime;if(c<Gi){var d={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=d,i=r):l=l.next=d,c>Zi.expirationTime&&(Zi.expirationTime=c,wl(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),Cl(c,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==o);null===l?i=r:l.next=s,Wr(r,t.memoizedState)||(Fa=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ia(e){var t=na(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);Wr(i,t.memoizedState)||(Fa=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function aa(e){var t=ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ra,lastRenderedState:e}).dispatch=_a.bind(null,Zi,e),[t.memoizedState,e]}function sa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zi.updateQueue)?(t={lastEffect:null},Zi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function la(){return na().memoizedState}function ua(e,t,n,r){var o=ta();Zi.effectTag|=e,o.memoizedState=sa(1|t,n,void 0,void 0===r?null:r)}function ca(e,t,n,r){var o=na();r=void 0===r?null:r;var i=void 0;if(null!==Xi){var a=Xi.memoizedState;if(i=a.destroy,null!==r&&$i(r,a.deps))return void sa(t,n,i,r)}Zi.effectTag|=e,o.memoizedState=sa(1|t,n,i,r)}function da(e,t){return ua(516,4,e,t)}function pa(e,t){return ca(516,4,e,t)}function fa(e,t){return ca(4,2,e,t)}function ha(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ma(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ca(4,2,ha.bind(null,t,e),n)}function ga(){}function va(e,t){return ta().memoizedState=[e,void 0===t?null:t],e}function ya(e,t){var n=na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$i(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ba(e,t){var n=na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$i(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xa(e,t,n){var r=Go();Xo(98>r?98:r,(function(){e(!0)})),Xo(97<r?97:r,(function(){var r=Ki.suspense;Ki.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ki.suspense=r}}))}function _a(e,t,n){var r=ul(),o=bi.suspense;o={expirationTime:r=cl(r,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===Zi||null!==i&&i===Zi)Qi=!0,o.expirationTime=Gi,Zi.expirationTime=Gi;else{if(0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.eagerReducer=i,o.eagerState=s,Wr(s,a))return}catch(l){}dl(e,r)}}var Ca={readContext:ci,useCallback:Ji,useContext:Ji,useEffect:Ji,useImperativeHandle:Ji,useLayoutEffect:Ji,useMemo:Ji,useReducer:Ji,useRef:Ji,useState:Ji,useDebugValue:Ji,useResponder:Ji,useDeferredValue:Ji,useTransition:Ji},wa={readContext:ci,useCallback:va,useContext:ci,useEffect:da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ua(4,2,ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ua(4,2,e,t)},useMemo:function(e,t){var n=ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=_a.bind(null,Zi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ta().memoizedState=e},useState:aa,useDebugValue:ga,useResponder:Hi,useDeferredValue:function(e,t){var n=aa(e),r=n[0],o=n[1];return da((function(){var n=Ki.suspense;Ki.suspense=void 0===t?null:t;try{o(e)}finally{Ki.suspense=n}}),[e,t]),r},useTransition:function(e){var t=aa(!1),n=t[0];return t=t[1],[va(xa.bind(null,t,e),[t,e]),n]}},Sa={readContext:ci,useCallback:ya,useContext:ci,useEffect:pa,useImperativeHandle:ma,useLayoutEffect:fa,useMemo:ba,useReducer:oa,useRef:la,useState:function(){return oa(ra)},useDebugValue:ga,useResponder:Hi,useDeferredValue:function(e,t){var n=oa(ra),r=n[0],o=n[1];return pa((function(){var n=Ki.suspense;Ki.suspense=void 0===t?null:t;try{o(e)}finally{Ki.suspense=n}}),[e,t]),r},useTransition:function(e){var t=oa(ra),n=t[0];return t=t[1],[ya(xa.bind(null,t,e),[t,e]),n]}},ka={readContext:ci,useCallback:ya,useContext:ci,useEffect:pa,useImperativeHandle:ma,useLayoutEffect:fa,useMemo:ba,useReducer:ia,useRef:la,useState:function(){return ia(ra)},useDebugValue:ga,useResponder:Hi,useDeferredValue:function(e,t){var n=ia(ra),r=n[0],o=n[1];return pa((function(){var n=Ki.suspense;Ki.suspense=void 0===t?null:t;try{o(e)}finally{Ki.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ia(ra),n=t[0];return t=t[1],[ya(xa.bind(null,t,e),[t,e]),n]}},Ta=null,Ea=null,Pa=!1;function Ia(e,t){var n=jl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Aa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ra(e){if(Pa){var t=Ea;if(t){var n=t;if(!Aa(e,t)){if(!(t=En(n.nextSibling))||!Aa(e,t))return e.effectTag=-1025&e.effectTag|2,Pa=!1,void(Ta=e);Ia(Ta,n)}Ta=e,Ea=En(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Pa=!1,Ta=e}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ta=e}function Ma(e){if(e!==Ta)return!1;if(!Pa)return La(e),Pa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Sn(t,e.memoizedProps))for(t=Ea;t;)Ia(e,t),t=En(t.nextSibling);if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===yn){if(0===t){Ea=En(e.nextSibling);break e}t--}else n!==vn&&n!==xn&&n!==bn||t++}e=e.nextSibling}Ea=null}}else Ea=Ta?En(e.stateNode.nextSibling):null;return!0}function Ba(){Ea=Ta=null,Pa=!1}var Oa=Y.ReactCurrentOwner,Fa=!1;function Da(e,t,n,r){t.child=null===e?Li(t,null,n,r):Ri(t,e.child,n,r)}function Na(e,t,n,r,o){n=n.render;var i=t.ref;return ui(t,o),r=ea(e,t,n,r,i,o),null===e||Fa?(t.effectTag|=1,Da(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),ts(e,t,o))}function Ua(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!==typeof a||Vl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hl(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,za(e,t,a,r,o,i))}return a=e.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:qr)(o,r)&&e.ref===t.ref)?ts(e,t,i):(t.effectTag|=1,(e=Wl(a,r)).ref=t.ref,e.return=t,t.child=e)}function za(e,t,n,r,o,i){return null!==e&&qr(e.memoizedProps,r)&&e.ref===t.ref&&(Fa=!1,o<i)?(t.expirationTime=e.expirationTime,ts(e,t,i)):Va(e,t,n,r,i)}function ja(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Va(e,t,n,r,o){var i=Co(n)?xo:yo.current;return i=_o(t,i),ui(t,o),n=ea(e,t,n,r,i,o),null===e||Fa?(t.effectTag|=1,Da(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),ts(e,t,o))}function Wa(e,t,n,r,o){if(Co(n)){var i=!0;To(t)}else i=!1;if(ui(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Si(t,n,r),Ti(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ci(u):u=_o(t,u=Co(n)?xo:yo.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ki(t,a,r,u),di=!1;var p=t.memoizedState;a.state=p,vi(t,r,a,o),l=t.memoizedState,s!==r||p!==l||bo.current||di?("function"===typeof c&&(_i(t,n,c,r),l=t.memoizedState),(s=di||wi(t,n,s,r,p,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,fi(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:ti(t.type,s),l=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ci(u):u=_o(t,u=Co(n)?xo:yo.current),(d="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ki(t,a,r,u),di=!1,l=t.memoizedState,a.state=l,vi(t,r,a,o),p=t.memoizedState,s!==r||l!==p||bo.current||di?("function"===typeof c&&(_i(t,n,c,r),p=t.memoizedState),(c=di||wi(t,n,s,r,l,p,u))?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Ha(e,t,n,r,i,o)}function Ha(e,t,n,r,o,i){ja(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return o&&Eo(t,n,!1),ts(e,t,i);r=t.stateNode,Oa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Ri(t,e.child,null,i),t.child=Ri(t,null,s,i)):Da(e,t,s,i),t.memoizedState=r.state,o&&Eo(t,n,!0),t.child}function qa(e){var t=e.stateNode;t.pendingContext?So(0,t.pendingContext,t.pendingContext!==t.context):t.context&&So(0,t.context,!1),Ni(e,t.containerInfo)}var Ka,Ga,Za,Xa,Ya={dehydrated:null,retryTime:0};function Qa(e,t,n){var r,o=t.mode,i=t.pendingProps,a=Vi.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),go(Vi,1&a),null===e){if(void 0!==i.fallback&&Ra(t),s){if(s=i.fallback,(i=ql(null,o,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=ql(s,o,n,null)).return=t,i.sibling=n,t.memoizedState=Ya,t.child=i,n}return o=i.children,t.memoizedState=null,t.child=Li(t,null,o,n)}if(null!==e.memoizedState){if(o=(e=e.child).sibling,s){if(i=i.fallback,(n=Wl(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(o=Wl(o,i)).return=t,n.sibling=o,n.childExpirationTime=0,t.memoizedState=Ya,t.child=n,o}return n=Ri(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=i.fallback,(i=ql(null,o,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=ql(s,o,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=Ya,t.child=i,n}return t.memoizedState=null,t.child=Ri(t,e,i.children,n)}function Ja(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),li(e.return,t)}function $a(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=o,a.lastEffect=i)}function es(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Da(e,t,r.children,n),0!==(2&(r=Vi.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ja(e,n);else if(19===e.tag)Ja(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(go(Vi,r),0===(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Wi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),$a(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Wi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}$a(t,!0,n,null,i,t.lastEffect);break;case"together":$a(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ts(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&wl(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Wl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ns(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return Co(t.type)&&wo(),null;case 3:return Ui(),mo(bo),mo(yo),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ma(t)||(t.effectTag|=4),Ga(t),null;case 5:ji(t),n=Di(Fi.current);var i=t.type;if(null!==e&&null!=t.stateNode)Za(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Di(Bi.current),Ma(t)){r=t.stateNode,i=t.type;var s=t.memoizedProps;switch(r[An]=t,r[Rn]=s,i){case"iframe":case"object":case"embed":Zt("load",r);break;case"video":case"audio":for(e=0;e<Qe.length;e++)Zt(Qe[e],r);break;case"source":Zt("error",r);break;case"img":case"image":case"link":Zt("error",r),Zt("load",r);break;case"form":Zt("reset",r),Zt("submit",r);break;case"details":Zt("toggle",r);break;case"input":we(r,s),Zt("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Zt("invalid",r),un(n,"onChange");break;case"textarea":Re(r,s),Zt("invalid",r),un(n,"onChange")}for(var l in an(i,s),e=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(e=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(e=["children",""+u]):S.hasOwnProperty(l)&&null!=u&&un(n,l)}switch(i){case"input":xe(r),Te(r,s,!0);break;case"textarea":xe(r),Me(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===ln&&(e=Fe(i)),e===ln?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(i,{is:r.is}):(e=l.createElement(i),"select"===i&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,i),e[An]=t,e[Rn]=r,Ka(e,t,!1,!1),t.stateNode=e,l=sn(i,r),i){case"iframe":case"object":case"embed":Zt("load",e),u=r;break;case"video":case"audio":for(u=0;u<Qe.length;u++)Zt(Qe[u],e);u=r;break;case"source":Zt("error",e),u=r;break;case"img":case"image":case"link":Zt("error",e),Zt("load",e),u=r;break;case"form":Zt("reset",e),Zt("submit",e),u=r;break;case"details":Zt("toggle",e),u=r;break;case"input":we(e,r),u=Ce(e,r),Zt("invalid",e),un(n,"onChange");break;case"option":u=Pe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=o({},r,{value:void 0}),Zt("invalid",e),un(n,"onChange");break;case"textarea":Re(e,r),u=Ae(e,r),Zt("invalid",e),un(n,"onChange");break;default:u=r}an(i,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?rn(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ze(e,d):"children"===s?"string"===typeof d?("textarea"!==i||""!==d)&&je(e,d):"number"===typeof d&&je(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?null!=d&&un(n,s):null!=d&&Q(e,s,d,l))}switch(i){case"input":xe(e),Te(e,r,!1);break;case"textarea":xe(e),Me(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ie(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof u.onClick&&(e.onclick=cn)}wn(i,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Di(Fi.current),Di(Bi.current),Ma(t)?(n=t.stateNode,r=t.memoizedProps,n[An]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[An]=t,t.stateNode=n)}return null;case 13:return mo(Vi),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ma(t):(r=null!==(i=e.memoizedState),n||null===i||null!==(i=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=i,i.nextEffect=s):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Vi.current)?Ws===Ms&&(Ws=Fs):(Ws!==Ms&&Ws!==Fs||(Ws=Ds),0!==Zs&&null!==zs&&(Yl(zs,Vs),Ql(zs,Zs)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ui(),Ga(t),null;case 10:return si(t),null;case 19:if(mo(Vi),null===(r=t.memoizedState))return null;if(i=0!==(64&t.effectTag),null===(s=r.rendering)){if(i)ns(r,!1);else if(Ws!==Ms||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Wi(s))){for(t.effectTag|=64,ns(r,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=s,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return go(Vi,1&Vi.current|2),t.child}s=s.sibling}}else{if(!i)if(null!==(e=Wi(s))){if(t.effectTag|=64,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),ns(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ko()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,ns(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Ko()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ko(),n.sibling=null,t=Vi.current,go(Vi,i?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function os(e){switch(e.tag){case 1:Co(e.type)&&wo();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ui(),mo(bo),mo(yo),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return ji(e),null;case 13:return mo(Vi),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return mo(Vi),null;case 4:return Ui(),null;case 10:return si(e),null;default:return null}}function is(e,t){return{value:e,source:t,stack:ve(t)}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ga=function(){},Za=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var s,l,u=t.stateNode;switch(Di(Bi.current),e=null,n){case"input":a=Ce(u,a),r=Ce(u,r),e=[];break;case"option":a=Pe(u,a),r=Pe(u,r),e=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),e=[];break;case"textarea":a=Ae(u,a),r=Ae(u,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(u.onclick=cn)}for(s in an(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(u=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,c)):"children"===s?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(S.hasOwnProperty(s)?(null!=c&&un(i,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},Xa=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var as="function"===typeof WeakSet?WeakSet:Set;function ss(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(o){setTimeout((function(){throw o}))}}function ls(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ol(e,n)}else t.current=null}function us(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ti(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(a(163))}function cs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ds(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ds(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:ti(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&yi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}yi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&wn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Dt(n)))))}throw Error(a(163))}function fs(e,t,n){switch("function"===typeof Ul&&Ul(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Xo(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var o=t;try{n()}catch(i){Ol(o,i)}}e=e.next}while(e!==r)}))}break;case 1:ls(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Ol(e,n)}}(t,n);break;case 5:ls(t);break;case 4:bs(e,t,n)}}function hs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&hs(t)}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function gs(e){e:{for(var t=e.return;null!==t;){if(ms(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(je(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?vs(e,n,t):ys(e,n,t)}function vs(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=cn));else if(4!==r&&null!==(e=e.child))for(vs(e,t,n),e=e.sibling;null!==e;)vs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function bs(e,t,n){for(var r,o,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var l=e,u=i,c=n,d=u;;)if(fs(l,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break e;for(;null===d.sibling;){if(null===d.return||d.return===u)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}o?(l=r,u=i.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(fs(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function xs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void cs(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[Rn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Se(n,r),sn(e,o),t=sn(e,r),o=0;o<i.length;o+=2){var s=i[o],l=i[o+1];"style"===s?rn(n,l):"dangerouslySetInnerHTML"===s?ze(n,l):"children"===s?je(n,l):Q(n,s,l,t)}switch(e){case"input":ke(n,r);break;case"textarea":Le(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ie(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ie(n,!!r.multiple,r.defaultValue,!0):Ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Dt(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ys=Ko()),null!==n)e:for(e=n;;){if(5===e.tag)i=e.stateNode,r?"function"===typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,o=void 0!==(o=e.memoizedProps.style)&&null!==o&&o.hasOwnProperty("display")?o.display:null,i.style.display=nn("display",o));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void _s(t);case 19:return void _s(t)}throw Error(a(163))}function _s(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new as),t.forEach((function(t){var r=Dl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Cs="function"===typeof WeakMap?WeakMap:Map;function ws(e,t,n){(n=hi(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,el=r),ss(e,t)},n}function Ss(e,t,n){(n=hi(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return ss(e,t),r(o)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===tl?tl=new Set([this]):tl.add(this),ss(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ks,Ts=Math.ceil,Es=Y.ReactCurrentDispatcher,Ps=Y.ReactCurrentOwner,Is=0,As=8,Rs=16,Ls=32,Ms=0,Bs=1,Os=2,Fs=3,Ds=4,Ns=5,Us=Is,zs=null,js=null,Vs=0,Ws=Ms,Hs=null,qs=1073741823,Ks=1073741823,Gs=null,Zs=0,Xs=!1,Ys=0,Qs=500,Js=null,$s=!1,el=null,tl=null,nl=!1,rl=null,ol=90,il=null,al=0,sl=null,ll=0;function ul(){return(Us&(Rs|Ls))!==Is?1073741821-(Ko()/10|0):0!==ll?ll:ll=1073741821-(Ko()/10|0)}function cl(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Go();if(0===(4&t))return 99===r?1073741823:1073741822;if((Us&Rs)!==Is)return Vs;if(null!==n)e=ei(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=ei(e,150,100);break;case 97:case 96:e=ei(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==zs&&e===Vs&&--e,e}function dl(e,t){if(50<al)throw al=0,sl=null,Error(a(185));if(null!==(e=pl(e,t))){var n=Go();1073741823===t?(Us&As)!==Is&&(Us&(Rs|Ls))===Is?gl(e):(hl(e),Us===Is&&Jo()):hl(e),(4&Us)===Is||98!==n&&99!==n||(null===il?il=new Map([[e,t]]):(void 0===(n=il.get(e))||n>t)&&il.set(e,t))}}function pl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(zs===o&&(wl(t),Ws===Ds&&Yl(o,Vs)),Ql(o,t)),o}function fl(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Xl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function hl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Qo(gl.bind(null,e));else{var t=fl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=ul();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var o=e.callbackPriority;if(e.callbackExpirationTime===t&&o>=r)return;n!==Uo&&Ao(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Qo(gl.bind(null,e)):Yo(r,ml.bind(null,e),{timeout:10*(1073741821-t)-Ko()}),e.callbackNode=t}}}function ml(e,t){if(ll=0,t)return Jl(e,t=ul()),hl(e),null;var n=fl(e);if(0!==n){if(t=e.callbackNode,(Us&(Rs|Ls))!==Is)throw Error(a(327));if(Ll(),e===zs&&n===Vs||bl(e,n),null!==js){var r=Us;Us|=Rs;for(var o=_l();;)try{kl();break}catch(l){xl(e,l)}if(ai(),Us=r,Es.current=o,Ws===Bs)throw t=Hs,bl(e,n),Yl(e,n),hl(e),t;if(null===js)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ws,zs=null,r){case Ms:case Bs:throw Error(a(345));case Os:Jl(e,2<n?2:n);break;case Fs:if(Yl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Pl(o)),1073741823===qs&&10<(o=Ys+Qs-Ko())){if(Xs){var i=e.lastPingedTime;if(0===i||i>=n){e.lastPingedTime=n,bl(e,n);break}}if(0!==(i=fl(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=kn(Il.bind(null,e),o);break}Il(e);break;case Ds:if(Yl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Pl(o)),Xs&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,bl(e,n);break}if(0!==(o=fl(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ks?r=10*(1073741821-Ks)-Ko():1073741823===qs?r=0:(r=10*(1073741821-qs)-5e3,0>(r=(o=Ko())-r)&&(r=0),(n=10*(1073741821-n)-o)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ts(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=kn(Il.bind(null,e),r);break}Il(e);break;case Ns:if(1073741823!==qs&&null!==Gs){i=qs;var s=Gs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(o=0|s.busyDelayMs,r=(i=Ko()-(10*(1073741821-i)-(0|s.timeoutMs||5e3)))<=o?0:o+r-i),10<r){Yl(e,n),e.timeoutHandle=kn(Il.bind(null,e),r);break}}Il(e);break;default:throw Error(a(329))}if(hl(e),e.callbackNode===t)return ml.bind(null,e)}}return null}function gl(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Us&(Rs|Ls))!==Is)throw Error(a(327));if(Ll(),e===zs&&t===Vs||bl(e,t),null!==js){var n=Us;Us|=Rs;for(var r=_l();;)try{Sl();break}catch(o){xl(e,o)}if(ai(),Us=n,Es.current=r,Ws===Bs)throw n=Hs,bl(e,t),Yl(e,t),hl(e),n;if(null!==js)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,zs=null,Il(e),hl(e)}return null}function vl(e,t){var n=Us;Us|=1;try{return e(t)}finally{(Us=n)===Is&&Jo()}}function yl(e,t){var n=Us;Us&=-2,Us|=As;try{return e(t)}finally{(Us=n)===Is&&Jo()}}function bl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Tn(n)),null!==js)for(n=js.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&wo();break;case 3:Ui(),mo(bo),mo(yo);break;case 5:ji(r);break;case 4:Ui();break;case 13:case 19:mo(Vi);break;case 10:si(r)}n=n.return}zs=e,js=Wl(e.current,null),Vs=t,Ws=Ms,Hs=null,Ks=qs=1073741823,Gs=null,Zs=0,Xs=!1}function xl(e,t){for(;;){try{if(ai(),qi.current=Ca,Qi)for(var n=Zi.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Gi=0,Yi=Xi=Zi=null,Qi=!1,null===js||null===js.return)return Ws=Bs,Hs=t,js=null;e:{var o=e,i=js.return,a=js,s=t;if(t=Vs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!==(1&Vi.current),d=i;do{var p;if(p=13===d.tag){var f=d.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var h=d.memoizedProps;p=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!c)}}if(p){var m=d.updateQueue;if(null===m){var g=new Set;g.add(l),d.updateQueue=g}else m.add(l);if(0===(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=hi(1073741823,null);v.tag=2,mi(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=o.pingCache;if(null===y?(y=o.pingCache=new Cs,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(a)){s.add(a);var b=Fl.bind(null,o,l,a);l.then(b,b)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(a))}Ws!==Ns&&(Ws=Os),s=is(s,a),d=i;do{switch(d.tag){case 3:l=s,d.effectTag|=4096,d.expirationTime=t,gi(d,ws(d,l,t));break e;case 1:l=s;var x=d.type,_=d.stateNode;if(0===(64&d.effectTag)&&("function"===typeof x.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===tl||!tl.has(_)))){d.effectTag|=4096,d.expirationTime=t,gi(d,Ss(d,l,t));break e}}d=d.return}while(null!==d)}js=El(js)}catch(C){t=C;continue}break}}function _l(){var e=Es.current;return Es.current=Ca,null===e?Ca:e}function Cl(e,t){e<qs&&2<e&&(qs=e),null!==t&&e<Ks&&2<e&&(Ks=e,Gs=t)}function wl(e){e>Zs&&(Zs=e)}function Sl(){for(;null!==js;)js=Tl(js)}function kl(){for(;null!==js&&!zo();)js=Tl(js)}function Tl(e){var t=ks(e.alternate,e,Vs);return e.memoizedProps=e.pendingProps,null===t&&(t=El(e)),Ps.current=null,t}function El(e){js=e;do{var t=js.alternate;if(e=js.return,0===(2048&js.effectTag)){if(t=rs(t,js,Vs),1===Vs||1!==js.childExpirationTime){for(var n=0,r=js.child;null!==r;){var o=r.expirationTime,i=r.childExpirationTime;o>n&&(n=o),i>n&&(n=i),r=r.sibling}js.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=js.firstEffect),null!==js.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=js.firstEffect),e.lastEffect=js.lastEffect),1<js.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=js:e.firstEffect=js,e.lastEffect=js))}else{if(null!==(t=os(js)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=js.sibling))return t;js=e}while(null!==js);return Ws===Ms&&(Ws=Ns),null}function Pl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Il(e){var t=Go();return Xo(99,Al.bind(null,e,t)),null}function Al(e,t){do{Ll()}while(null!==rl);if((Us&(Rs|Ls))!==Is)throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=Pl(n);if(e.firstPendingTime=o,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===zs&&(js=zs=null,Vs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var i=Us;Us|=Ls,Ps.current=null,_n=Gt;var s=mn();if(gn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{l.nodeType,d.nodeType}catch(T){l=null;break e}var p=0,f=-1,h=-1,m=0,g=0,v=s,y=null;t:for(;;){for(var b;v!==l||0!==c&&3!==v.nodeType||(f=p+c),v!==d||0!==u&&3!==v.nodeType||(h=p+u),3===v.nodeType&&(p+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===l&&++m===c&&(f=p),y===d&&++g===u&&(h=p),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}l=-1===f||-1===h?null:{start:f,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;Cn={activeElementDetached:null,focusedElem:s,selectionRange:l},Gt=!1,Js=o;do{try{Rl()}catch(T){if(null===Js)throw Error(a(330));Ol(Js,T),Js=Js.nextEffect}}while(null!==Js);Js=o;do{try{for(s=e,l=t;null!==Js;){var x=Js.effectTag;if(16&x&&je(Js.stateNode,""),128&x){var _=Js.alternate;if(null!==_){var C=_.ref;null!==C&&("function"===typeof C?C(null):C.current=null)}}switch(1038&x){case 2:gs(Js),Js.effectTag&=-3;break;case 6:gs(Js),Js.effectTag&=-3,xs(Js.alternate,Js);break;case 1024:Js.effectTag&=-1025;break;case 1028:Js.effectTag&=-1025,xs(Js.alternate,Js);break;case 4:xs(Js.alternate,Js);break;case 8:bs(s,c=Js,l),hs(c)}Js=Js.nextEffect}}catch(T){if(null===Js)throw Error(a(330));Ol(Js,T),Js=Js.nextEffect}}while(null!==Js);if(C=Cn,_=mn(),x=C.focusedElem,l=C.selectionRange,_!==x&&x&&x.ownerDocument&&hn(x.ownerDocument.documentElement,x)){null!==l&&gn(x)&&(_=l.start,void 0===(C=l.end)&&(C=_),"selectionStart"in x?(x.selectionStart=_,x.selectionEnd=Math.min(C,x.value.length)):(C=(_=x.ownerDocument||document)&&_.defaultView||window).getSelection&&(C=C.getSelection(),c=x.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!C.extend&&s>l&&(c=l,l=s,s=c),c=fn(x,s),d=fn(x,l),c&&d&&(1!==C.rangeCount||C.anchorNode!==c.node||C.anchorOffset!==c.offset||C.focusNode!==d.node||C.focusOffset!==d.offset)&&((_=_.createRange()).setStart(c.node,c.offset),C.removeAllRanges(),s>l?(C.addRange(_),C.extend(d.node,d.offset)):(_.setEnd(d.node,d.offset),C.addRange(_))))),_=[];for(C=x;C=C.parentNode;)1===C.nodeType&&_.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"===typeof x.focus&&x.focus(),x=0;x<_.length;x++)(C=_[x]).element.scrollLeft=C.left,C.element.scrollTop=C.top}Gt=!!_n,Cn=_n=null,e.current=n,Js=o;do{try{for(x=e;null!==Js;){var w=Js.effectTag;if(36&w&&ps(x,Js.alternate,Js),128&w){_=void 0;var S=Js.ref;if(null!==S){var k=Js.stateNode;Js.tag,_=k,"function"===typeof S?S(_):S.current=_}}Js=Js.nextEffect}}catch(T){if(null===Js)throw Error(a(330));Ol(Js,T),Js=Js.nextEffect}}while(null!==Js);Js=null,jo(),Us=i}else e.current=n;if(nl)nl=!1,rl=e,ol=t;else for(Js=o;null!==Js;)t=Js.nextEffect,Js.nextEffect=null,Js=t;if(0===(t=e.firstPendingTime)&&(tl=null),1073741823===t?e===sl?al++:(al=0,sl=e):al=0,"function"===typeof Nl&&Nl(n.stateNode,r),hl(e),$s)throw $s=!1,e=el,el=null,e;return(Us&As)!==Is||Jo(),null}function Rl(){for(;null!==Js;){var e=Js.effectTag;0!==(256&e)&&us(Js.alternate,Js),0===(512&e)||nl||(nl=!0,Yo(97,(function(){return Ll(),null}))),Js=Js.nextEffect}}function Ll(){if(90!==ol){var e=97<ol?97:ol;return ol=90,Xo(e,Ml)}}function Ml(){if(null===rl)return!1;var e=rl;if(rl=null,(Us&(Rs|Ls))!==Is)throw Error(a(331));var t=Us;for(Us|=Ls,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:cs(5,n),ds(5,n)}}catch(r){if(null===e)throw Error(a(330));Ol(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Us=t,Jo(),!0}function Bl(e,t,n){mi(e,t=ws(e,t=is(n,t),1073741823)),null!==(e=pl(e,1073741823))&&hl(e)}function Ol(e,t){if(3===e.tag)Bl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tl||!tl.has(r))){mi(n,e=Ss(n,e=is(t,e),1073741823)),null!==(n=pl(n,1073741823))&&hl(n);break}}n=n.return}}function Fl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),zs===e&&Vs===n?Ws===Ds||Ws===Fs&&1073741823===qs&&Ko()-Ys<Qs?bl(e,Vs):Xs=!0:Xl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,hl(e)))}function Dl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=cl(t=ul(),e,null)),null!==(e=pl(e,t))&&hl(e)}ks=function(e,t,n){var r=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||bo.current)Fa=!0;else{if(r<n){switch(Fa=!1,t.tag){case 3:qa(t),Ba();break;case 5:if(zi(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Co(t.type)&&To(t);break;case 4:Ni(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,o=t.type._context,go(ni,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Qa(e,t,n):(go(Vi,1&Vi.current),null!==(t=ts(e,t,n))?t.sibling:null);go(Vi,1&Vi.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return es(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),go(Vi,Vi.current),!r)return null}return ts(e,t,n)}Fa=!1}}else Fa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=_o(t,yo.current),ui(t,n),o=ea(null,t,r,e,o,n),t.effectTag|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Co(r)){var i=!0;To(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,pi(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&_i(t,r,s,e),o.updater=Ci,t.stateNode=o,o._reactInternalFiber=t,Ti(t,r,e,n),t=Ha(null,t,r,!0,i,n)}else t.tag=0,Da(null,t,o,n),t=t.child;return t;case 16:e:{if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,i=t.tag=function(e){if("function"===typeof e)return Vl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(o),e=ti(o,e),i){case 0:t=Va(null,t,o,e,n);break e;case 1:t=Wa(null,t,o,e,n);break e;case 11:t=Na(null,t,o,e,n);break e;case 14:t=Ua(null,t,o,ti(o.type,e),r,n);break e}throw Error(a(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,Va(e,t,r,o=t.elementType===r?o:ti(r,o),n);case 1:return r=t.type,o=t.pendingProps,Wa(e,t,r,o=t.elementType===r?o:ti(r,o),n);case 3:if(qa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,fi(e,t),vi(t,r,null,n),(r=t.memoizedState.element)===o)Ba(),t=ts(e,t,n);else{if((o=t.stateNode.hydrate)&&(Ea=En(t.stateNode.containerInfo.firstChild),Ta=t,o=Pa=!0),o)for(n=Li(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Da(e,t,r,n),Ba();t=t.child}return t;case 5:return zi(t),null===e&&Ra(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,Sn(r,o)?s=null:null!==i&&Sn(r,i)&&(t.effectTag|=16),ja(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Da(e,t,s,n),t=t.child),t;case 6:return null===e&&Ra(t),null;case 13:return Qa(e,t,n);case 4:return Ni(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ri(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Na(e,t,r,o=t.elementType===r?o:ti(r,o),n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value;var l=t.type._context;if(go(ni,l._currentValue),l._currentValue=i,null!==s)if(l=s.value,0===(i=Wr(l,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(s.children===o.children&&!bo.current){t=ts(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&i)){1===l.tag&&((c=hi(n,null)).tag=2,mi(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),li(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Da(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,ui(t,n),r=r(o=ci(o,i.unstable_observedBits)),t.effectTag|=1,Da(e,t,r,n),t.child;case 14:return i=ti(o=t.type,t.pendingProps),Ua(e,t,o,i=ti(o.type,i),r,n);case 15:return za(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ti(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Co(r)?(e=!0,To(t)):e=!1,ui(t,n),Si(t,r,o),Ti(t,r,o,n),Ha(null,t,r,!0,e,n);case 19:return es(e,t,n)}throw Error(a(156,t.tag))};var Nl=null,Ul=null;function zl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function jl(e,t,n,r){return new zl(e,t,n,r)}function Vl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wl(e,t){var n=e.alternate;return null===n?((n=jl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hl(e,t,n,r,o,i){var s=2;if(r=e,"function"===typeof e)Vl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return ql(n.children,o,i,t);case se:s=8,o|=7;break;case re:s=8,o|=1;break;case oe:return(e=jl(12,n,t,8|o)).elementType=oe,e.type=oe,e.expirationTime=i,e;case ue:return(e=jl(13,n,t,o)).type=ue,e.elementType=ue,e.expirationTime=i,e;case ce:return(e=jl(19,n,t,o)).elementType=ce,e.expirationTime=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ie:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case de:s=14;break e;case pe:s=16,r=null;break e;case fe:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=jl(s,n,t,o)).elementType=e,t.type=r,t.expirationTime=i,t}function ql(e,t,n,r){return(e=jl(7,e,r,t)).expirationTime=n,e}function Kl(e,t,n){return(e=jl(6,e,null,t)).expirationTime=n,e}function Gl(e,t,n){return(t=jl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Xl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Yl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ql(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Jl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function $l(e,t,n,r){var o=t.current,i=ul(),s=bi.suspense;i=cl(i,o,s);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Co(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(Co(u)){n=ko(n,u,l);break e}}n=l}else n=vo;return null===t.context?t.context=n:t.pendingContext=n,(t=hi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),mi(o,t),dl(o,i),i}function eu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nu(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}function ru(e,t,n){var r=new Zl(e,t,n=null!=n&&!0===n.hydrate),o=jl(3,null,null,2===t?7:1===t?3:0);r.current=o,o.stateNode=r,pi(o),e[Ln]=r.current,n&&0!==t&&function(e,t){var n=$e(t);Et.forEach((function(e){mt(e,t,n)})),Pt.forEach((function(e){mt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function ou(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function iu(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"===typeof o){var s=o;o=function(){var e=eu(a);s.call(e)}}$l(t,a,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ru(e,0,t?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"===typeof o){var l=o;o=function(){var e=eu(a);l.call(e)}}yl((function(){$l(t,a,e,o)}))}return eu(a)}function au(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ou(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}ru.prototype.render=function(e){$l(e,this._internalRoot,null,null)},ru.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$l(null,e,null,(function(){t[Ln]=null}))},gt=function(e){if(13===e.tag){var t=ei(ul(),150,100);dl(e,t),nu(e,t)}},vt=function(e){13===e.tag&&(dl(e,3),nu(e,3))},yt=function(e){if(13===e.tag){var t=ul();dl(e,t=cl(t,e,null)),nu(e,t)}},P=function(e,t,n){switch(t){case"input":if(ke(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Fn(r);if(!o)throw Error(a(90));_e(r),ke(r,o)}}}break;case"textarea":Le(e,n);break;case"select":null!=(t=n.value)&&Ie(e,!!n.multiple,t,!1)}},B=vl,O=function(e,t,n,r,o){var i=Us;Us|=4;try{return Xo(98,e.bind(null,t,n,r,o))}finally{(Us=i)===Is&&Jo()}},F=function(){(Us&(1|Rs|Ls))===Is&&(function(){if(null!==il){var e=il;il=null,e.forEach((function(e,t){Jl(t,e),hl(t)})),Jo()}}(),Ll())},D=function(e,t){var n=Us;Us|=2;try{return e(t)}finally{(Us=n)===Is&&Jo()}};var su={Events:[Bn,On,Fn,T,w,Wn,function(e){it(e,Vn)},L,M,Jt,lt,Ll,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Nl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Ul=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(o({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Mn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=su,t.createPortal=au,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if((Us&(Rs|Ls))!==Is)throw Error(a(187));var n=Us;Us|=1;try{return Xo(99,e.bind(null,t))}finally{Us=n,Jo()}},t.hydrate=function(e,t,n){if(!ou(t))throw Error(a(200));return iu(null,e,t,!0,n)},t.render=function(e,t,n){if(!ou(t))throw Error(a(200));return iu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ou(e))throw Error(a(40));return!!e._reactRootContainer&&(yl((function(){iu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Ln]=null}))})),!0)},t.unstable_batchedUpdates=vl,t.unstable_createPortal=function(e,t){return au(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ou(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return iu(e,t,n,!1,r)},t.version="16.14.0"},38400:(e,t,n)=>{"use strict";function r(e){return e.texturePatch.texturePatchInfos}function o(e){return e.texturePatch.removedTexturePatchInfos}function i(e){return e.texturePatch.texturePatchRequests}function a(e){return e.texturePatch.pendingTexturePatchRequests}n.d(t,{I2:()=>i,PG:()=>o,bq:()=>a,n9:()=>r})},38421:(e,t,n)=>{"use strict";n.d(t,{aW:()=>r,oR:()=>o});var r=function(e){return{left:e,right:e,top:e,bottom:e}};function o(e,t,n){var r=function(e,t){return{left:Math.round(t.left*e),right:Math.round(t.right*e),top:Math.round(t.top*e),bottom:Math.round(t.bottom*e)}}(t,n);return{top:r.top,left:r.left,width:Math.max(1,e.x-r.left-r.right),height:Math.max(1,e.y-r.top-r.bottom)}}},38452:(e,t,n)=>{"use strict";n.d(t,{l8:()=>d,ne:()=>c});var r=n(37827),o=n(9950),i=n(60721),a=n(96042),s=n(28225),l=n(23501),u=n(32e3),c=(0,a.J9)((function(e){var t=(0,u.sW)(e)||{subset:{},code:void 0},n=t.code,r=t.subset;return n?{children:n,iconClassName:r.className,fontFamily:r.fontFace&&r.fontFace.fontFamily,mergeImageProps:r.mergeImageProps}:null}),void 0,!0),d=function(e){var t=e.iconName,n=e.className,a=e.style,u=void 0===a?{}:a,d=c(t)||{},p=d.iconClassName,f=d.children,h=d.fontFamily,m=d.mergeImageProps,g=(0,s.G1)(e,s.vt),v=e["aria-label"]||e.title,y=e["aria-label"]||e["aria-labelledby"]||e.title?{role:m?void 0:"img"}:{"aria-hidden":!0},b=f;return m&&"object"===typeof f&&"object"===typeof f.props&&v&&(b=o.cloneElement(f,{alt:v})),o.createElement("i",(0,r.Cl)({"data-icon-name":t},y,g,m?{title:void 0,"aria-label":void 0}:{},{className:(0,l.A)(i.xD,i.xW.root,p,!t&&i.xW.placeholder,n),style:(0,r.Cl)({fontFamily:h},u)}),b)};(0,a.J9)((function(e,t,n){return d({iconName:e,className:t,"aria-label":n})}))},38526:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var r=n(66788);function o(e){e.cropUiDisplay.areCropOverlaysVisible=!1,e.animations.needsFrameTick=!0,e.animations.dismissCropOverlays=(0,r.Ql)()}},38664:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>r}),function(e){e.Version1="Version 1",e.Test="Test",e.Latest="Version 1"}(r||(r={}))},38673:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var r=n(17514);function o(e){var t={};return r.N.forEach((function(n){t[n]=e})),t}},39022:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c});var r=n(75347),o=n(18699),i=n(45824),a=n(81189),s=n(69893),l=n(11684),u=n(21932);function c(e,t,n,c,d){void 0===d&&(d=!1);var p=(0,l.o)(e,t);if(c&&c.logZoomEvent({zoomLevel:p.zoomLevel/p.zoomScaleToFitCroppedImageInView}),p.zoomIsMinimum)return e.view.viewFitting.mode=s.m.fitCropRectInView,(0,a.r)(e),p;e.view.viewFitting.mode=s.m.none;var f=(0,o.It)(e.view.worldToView,p.zoomLevel,n),h=(0,u.M)(f,e.cropInteraction.uvToWorld,e.view.viewportPixelSize),m=(0,r.fJ)((0,r.ZG)((0,r.iQ)(h.x,h.y),f));return d?(e.animations.needsFrameTick=!0,e.animations.worldToView=(0,i.pG)(e.animations.worldToView,e.view.worldToView,m)):e.animations.worldToView=(0,i.PX)(),e.view.worldToView=m,p}},39124:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var r="spotFix"},39358:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});var r=n(37827),o=n(32e3),i=(0,n(96042).J9)((function(e,t){var n,i,a,s,l,u,c,d,p,f,h,m,g,v=e.effects,y=e.palette,b=e.semanticColors,x={left:-2,top:-2,bottom:-2,right:-2,border:"none"},_={position:"absolute",width:1,right:31,top:8,bottom:8},C={splitButtonContainer:[(0,o.gm)(e,{highContrastStyle:x,inset:2}),{display:"inline-flex",selectors:{".ms-Button--default":{borderTopRightRadius:"0",borderBottomRightRadius:"0",borderRight:"none",flexGrow:"1"},".ms-Button--primary":{borderTopRightRadius:"0",borderBottomRightRadius:"0",border:"none",flexGrow:"1",selectors:(n={},n[o.up]=(0,r.Cl)({color:"WindowText",backgroundColor:"Window",border:"1px solid WindowText",borderRightWidth:"0"},(0,o.Qg)()),n[":hover"]={border:"none"},n[":active"]={border:"none"},n)},".ms-Button--primary + .ms-Button":{border:"none",selectors:(i={},i[o.up]={border:"1px solid WindowText",borderLeftWidth:"0"},i)}}}],splitButtonContainerHovered:{selectors:{".ms-Button--primary":{selectors:(a={},a[o.up]={color:"Window",backgroundColor:"Highlight"},a)},".ms-Button.is-disabled":{color:b.buttonTextDisabled,selectors:(s={},s[o.up]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},s)}}},splitButtonContainerChecked:{selectors:{".ms-Button--primary":{selectors:(l={},l[o.up]=(0,r.Cl)({color:"Window",backgroundColor:"WindowText"},(0,o.Qg)()),l)}}},splitButtonContainerCheckedHovered:{selectors:{".ms-Button--primary":{selectors:(u={},u[o.up]=(0,r.Cl)({color:"Window",backgroundColor:"WindowText"},(0,o.Qg)()),u)}}},splitButtonContainerFocused:{outline:"none!important"},splitButtonMenuButton:(c={padding:6,height:"auto",boxSizing:"border-box",borderRadius:0,borderTopRightRadius:v.roundedCorner2,borderBottomRightRadius:v.roundedCorner2,border:"1px solid "+y.neutralSecondaryAlt,borderLeft:"none",outline:"transparent",userSelect:"none",display:"inline-block",textDecoration:"none",textAlign:"center",cursor:"pointer",verticalAlign:"top",width:32,marginLeft:-1,marginTop:0,marginRight:0,marginBottom:0},c[o.up]={".ms-Button-menuIcon":{color:"WindowText"}},c),splitButtonDivider:(0,r.Cl)((0,r.Cl)({},_),{selectors:(d={},d[o.up]={backgroundColor:"WindowText"},d)}),splitButtonDividerDisabled:(0,r.Cl)((0,r.Cl)({},_),{selectors:(p={},p[o.up]={backgroundColor:"GrayText"},p)}),splitButtonMenuButtonDisabled:{pointerEvents:"none",border:"none",selectors:(f={":hover":{cursor:"default"},".ms-Button--primary":{selectors:(h={},h[o.up]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},h)},".ms-Button-menuIcon":{selectors:(m={},m[o.up]={color:"GrayText"},m)}},f[o.up]={color:"GrayText",border:"1px solid GrayText",backgroundColor:"Window"},f)},splitButtonFlexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},splitButtonContainerDisabled:{outline:"none",border:"none",selectors:(g={},g[o.up]=(0,r.Cl)({color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},(0,o.Qg)()),g)},splitButtonMenuFocused:(0,r.Cl)({},(0,o.gm)(e,{highContrastStyle:x,inset:2}))};return(0,o.TW)(C,t)}))},39814:(e,t,n)=>{"use strict";n.d(t,{$7:()=>s,QS:()=>l});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o={width:8,height:9},i={width:8,height:11},a=8,s=4;function l(e){var t=function(e){return{fontSize:"0px",position:"absolute",zIndex:1,margin:"2px",color:e.palette.neutralDark,fill:e.palette.neutralDark}}(e);return{singleArrow:{root:r(r(r({},t),o),{top:a,right:s})},doubleArrow:{root:r(r(r({},t),i),{top:a,right:s})}}}},39897:(e,t,n)=>{"use strict";n.d(t,{Mt:()=>f,TG:()=>m,si:()=>h});var r=n(9213),o=n(66788),i=n(45824),a=n(10499),s=n(70961),l=n(81902),u=100,c=100,d=100,p=300,f=3e3;function h(e,t){var n=e.outsideCropVisibility,h=e.gridLineVisibility,m=e.dismissGridLineVisibility,g=e.dismissOutsideCropVisibility,v=e.transitionToViewingOriginal,y=e.worldToView,b=e.image,x=e.crop,_=e.dismissCropOverlays,C=(0,o.ov)(n,t,s.xD),w=(0,l.tM)(h,t,a.O$),S=(0,o.ov)(m,t,a.JV),k=(0,o.ov)(g,t,s.IL),T=(0,o.ov)(v,t,p),E=(0,i.jC)(y,t,u,r.T),P=(0,i.jC)(b,t,c,r.T),I=(0,i.jC)(x,t,d,r.T),A=(0,o.ov)(_,t,f);return{needsFrameTick:C.isActive||w.isActive||S.isActive||k.isActive||v.isActive||E.isActive||P.isActive||I.isActive||A.isActive,outsideCropVisibility:C,gridLineVisibility:w,dismissGridLineVisibility:S,dismissOutsideCropVisibility:k,transitionToViewingOriginal:T,worldToView:E,image:P,crop:I,dismissCropOverlays:A,currentTime:t}}function m(e){return!e.dismissGridLineVisibility.isActive&&!e.dismissOutsideCropVisibility.isActive}},40008:(e,t,n)=>{"use strict";n.d(t,{W:()=>V});var r=n(69187),o=n(37827),i=n(9950);const a=i.createContext(void 0),s=()=>()=>{};a.Provider;var l=n(17119),u=n(56624),c=n(96042),d=n(56340),p=n(28225),f=n(26134),h=n(80647),m=n(59307);function g(e,t){void 0===e&&(e={});var n=y(t)?t:function(e){return function(t){return e?(0,o.Cl)((0,o.Cl)({},t),e):t}}(t);return n(e)}function v(e,t){return void 0===e&&(e={}),(y(t)?t:function(e){void 0===e&&(e={});return function(t){var n=(0,o.Cl)({},t);for(var r in e)e.hasOwnProperty(r)&&(n[r]=(0,o.Cl)((0,o.Cl)({},t[r]),e[r]));return n}}(t))(e)}function y(e){return"function"===typeof e}var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onCustomizationChange=function(){return t.forceUpdate()},t}return(0,o.C6)(t,e),t.prototype.componentDidMount=function(){h.X.observe(this._onCustomizationChange)},t.prototype.componentWillUnmount=function(){h.X.unobserve(this._onCustomizationChange)},t.prototype.render=function(){var e=this,t=this.props.contextTransform;return i.createElement(m.z.Consumer,null,(function(n){var r=function(e,t){var n=(t||{}).customizations,r=void 0===n?{settings:{},scopedSettings:{}}:n;return{customizations:{settings:g(r.settings,e.settings),scopedSettings:v(r.scopedSettings,e.scopedSettings),inCustomizerContext:!0}}}(e.props,n);return t&&(r=t(r)),i.createElement(m.z.Provider,{value:r},e.props.children)}))},t}(i.Component),x=n(72684),_=n(97576),C=n(3753),w=(0,u.Z)(),S=(0,c.J9)((function(e,t){return(0,_.a)((0,o.Cl)((0,o.Cl)({},e),{rtl:t}))})),k=i.forwardRef((function(e,t){var n=e.className,r=e.theme,a=e.applyTheme,s=e.applyThemeToBody,l=e.styles,u=w(l,{theme:r,applyTheme:a,className:n}),c=i.useRef(null);return function(e,t,n){var r=t.bodyThemed;i.useEffect((function(){if(e){var t=(0,x.Y)(n.current);if(t)return t.body.classList.add(r),function(){t.body.classList.remove(r)}}}),[r,e,n])}(s,u,c),i.createElement(i.Fragment,null,function(e,t,n,r){var a=t.root,s=e.as,l=void 0===s?"div":s,u=e.dir,c=e.theme,h=(0,p.G1)(e,p.JM,["dir"]),m=function(e){var t=e.theme,n=e.dir,r=(0,d.jI)(t)?"rtl":"ltr",o=(0,d.jI)()?"rtl":"ltr",i=n||r;return{rootDir:i!==r||i!==o?i:n,needsTheme:i!==r}}(e),g=m.rootDir,v=m.needsTheme,y=i.createElement(f.N,{providerRef:n},i.createElement(l,(0,o.Cl)({dir:g},h,{className:a,ref:(0,C.a)(n,r)})));v&&(y=i.createElement(b,{settings:{theme:S(c,"rtl"===u)}},y));return y}(e,u,c,t))}));k.displayName="FabricBase";var T=n(32e3),E={fontFamily:"inherit"},P={root:"ms-Fabric",bodyThemed:"ms-Fabric-bodyThemed"},I=(0,r.I)(k,(function(e){var t=e.applyTheme,n=e.className,r=e.preventBlanketFontInheritance,o=e.theme;return{root:[(0,T.Km)(P,o).root,o.fonts.medium,{color:o.palette.neutralPrimary},!r&&{"& button":E,"& input":E,"& textarea":E},t&&{color:o.semanticColors.bodyText,backgroundColor:o.semanticColors.bodyBackground},n],bodyThemed:[{backgroundColor:o.semanticColors.bodyBackground}]}}),void 0,{scope:"Fabric"}),A=n(71849);var R=n(23501),L={},M={},B="fluent-default-layer-host",O="#"+B;var F,D=n(46707),N=(0,u.Z)(),U=i.forwardRef((function(e,t){var n=function(){var e;return null!==(e=i.useContext(a))&&void 0!==e?e:s}(),r=i.useRef(null),u=(0,C.a)(r,t),c=i.useRef(),d=i.useRef(null),p=i.useState(!1),h=p[0],m=p[1],g=e.children,v=e.className,y=e.eventBubblingEnabled,b=e.fabricProps,_=e.hostId,w=e.insertFirst,S=e.onLayerDidMount,k=void 0===S?function(){}:S,T=e.onLayerMounted,E=void 0===T?function(){}:T,P=e.onLayerWillUnmount,U=e.styles,j=e.theme,V=(0,C.a)(d,null===b||void 0===b?void 0:b.ref),W=N(U,{theme:j,className:v,isNotHost:!_}),H=function(e){var t,n;if(_){var r=function(e){var t=M[e];return t&&t[0]||void 0}(_);return r?null!==(t=r.rootRef.current)&&void 0!==t?t:null:null!==(n=e.getElementById(_))&&void 0!==n?n:null}var o=O,i=o?e.querySelector(o):null;return i||(i=function(e){var t=e.createElement("div");return t.setAttribute("id",B),t.style.cssText="position:fixed;z-index:1000000",null===e||void 0===e||e.body.appendChild(t),t}(e)),i},q=function(){null===P||void 0===P||P();var e=c.current;c.current=void 0,e&&e.parentNode&&e.parentNode.removeChild(e)},K=function(){var e,t=(0,x.Y)(r.current);if(t){var n=H(t);if(n){q();var o=(null!==(e=n.ownerDocument)&&void 0!==e?e:t).createElement("div");o.className=W.root,(0,A.V)(o),function(e,t){var n=e,r=t;n._virtual||(n._virtual={children:[]});var o=n._virtual.parent;if(o&&o!==t){var i=o._virtual.children.indexOf(n);i>-1&&o._virtual.children.splice(i,1)}n._virtual.parent=r||void 0,r&&(r._virtual||(r._virtual={children:[]}),r._virtual.children.push(n))}(o,r.current),w?n.insertBefore(o,n.firstChild):n.appendChild(o),c.current=o,m(!0)}}};return(0,D.E)((function(){K(),_&&function(e,t){L[e]||(L[e]=[]),L[e].push(t);var n=M[e];if(n)for(var r=0,o=n;r<o.length;r++)o[r].notifyLayersChanged()}(_,K);var e=c.current?n(c.current):void 0;return function(){e&&e(),q(),_&&function(e,t){var n=L[e];if(n){var r=n.indexOf(t);r>=0&&(n.splice(r,1),0===n.length&&delete L[e])}var o=M[e];if(o)for(var i=0,a=o;i<a.length;i++)a[i].notifyLayersChanged()}(_,K)}}),[_]),i.useEffect((function(){c.current&&h&&(null===E||void 0===E||E(),null===k||void 0===k||k(),m(!1))}),[h,E,k]),i.createElement("span",{className:"ms-layer",ref:u},c.current&&l.createPortal(i.createElement(f.N,{layerRoot:!0,providerRef:V},i.createElement(I,(0,o.Cl)({},!y&&function(){F||(F={},["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOver","onMouseOut","onMouseUp","onTouchMove","onTouchStart","onTouchCancel","onTouchEnd","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onInvalid","onSubmit"].forEach((function(e){return F[e]=z})));return F}(),b,{className:(0,R.A)(W.content,null===b||void 0===b?void 0:b.className),ref:V}),g)),c.current))}));U.displayName="LayerBase";var z=function(e){e.eventPhase===Event.BUBBLING_PHASE&&"mouseenter"!==e.type&&"mouseleave"!==e.type&&"touchstart"!==e.type&&"touchend"!==e.type&&e.stopPropagation()};var j={root:"ms-Layer",rootNoHost:"ms-Layer--fixed",content:"ms-Layer-content"},V=(0,r.I)(U,(function(e){var t=e.className,n=e.isNotHost,r=e.theme,o=(0,T.Km)(j,r);return{root:[o.root,r.fonts.medium,n&&[o.rootNoHost,{position:"fixed",zIndex:T.nA.Layer,top:0,left:0,bottom:0,right:0,visibility:"hidden"}],t],content:[o.content,{visibility:"visible"}]}}),void 0,{scope:"Layer",fields:["hostId","theme","styles"]})},40177:(e,t,n)=>{"use strict";n.d(t,{$E:()=>F,A:()=>u,An:()=>R,BX:()=>f,Fi:()=>I,Hx:()=>L,KD:()=>h,KE:()=>l,L1:()=>k,Lp:()=>w,NC:()=>E,NX:()=>S,PO:()=>v,Tk:()=>p,Tu:()=>m,V5:()=>C,Wg:()=>c,Wi:()=>T,_S:()=>b,b7:()=>O,bw:()=>A,dR:()=>_,dg:()=>i,hM:()=>P,ln:()=>s,mX:()=>y,qx:()=>M,rV:()=>a,s0:()=>D,sO:()=>x,xI:()=>B,xk:()=>d});var r=n(31462),o=n(79338),i=function(e){return e.transformTools},a=function(e){return(0,o.I)((0,r.W)(e.transformTools.image.originalPixelSize),e.transformTools.userDefinedDefaults)},s=function(e){return e.transformTools.cropInteraction.uvToWorld},l=function(e){return e.transformTools.cropInteraction.enableZoomToCrop},u=function(e){return e.transformTools.animations.crop.animatedMatrix||s(e)},c=function(e){return e.transformTools.cropInteraction.mode},d=function(e){return e.transformTools.cropInteraction.mode},p=function(e){return e.transformTools.cropInteraction.shouldConstrainInImage},f=function(e){return e.transformTools.cropInteraction.activeHandleIndex},h=function(e){return e.transformTools.cropInteraction.aspectRatio},m=function(e){return e.transformTools.cropInteraction.aspectRatiosList},g=function(e){return e.transformTools.cropInteraction.shouldInvertOriginalAspectRatio},v=function(e){return e.transformTools.view.worldToView},y=function(e){return e.transformTools.view.viewportPixelSize},b=function(e){return e.transformTools.view.allowDraggingView},x=function(e){return e.transformTools.view.viewFitting.mode},_=function(e){return e.transformTools.view.viewFitting.marginCssPixels},C=function(e){return e.transformTools.view.enableZoomToView},w=function(e){return e.transformTools.device.pixelRatio},S=function(e){return e.transformTools.image._preciseUvToWorld},k=function(e){return!!e.transformTools.image.loadedPixelSize},T=function(e){return e.transformTools.image.loadedPixelSize},E=function(e){return e.transformTools.image.originalPixelSize},P=function(e){return e.transformTools.image.exifOrientation},I=function(e){return e.transformTools.pointer.movePos},A=function(e){return e.transformTools.pointer.maxDragDistance},R=function(e){return e.transformTools.pointer.pointerDowns.length>0},L=function(e){return R(e)||!!e.transformTools.rotationUi.rotationBarPointer.incrementingIdOfPointerThatIsDown},M=function(e){return e.transformTools.animations.worldToView.animatedMatrix},B=function(e){return e.transformTools.animations.image.animatedMatrix},O=function(e){return e.transformTools.animations.gridLineVisibility.numGridLines},F=function(e){return e.transformTools.animations.transitionToViewingOriginal.isActive},D=function(e){return{imageMatrix:S(e),cropMatrix:s(e),originalImageSize:E(e),aspectRatio:h(e),shouldInvertOriginalAspectRatio:g(e),undoRedoStack:e.transformTools.undoRedoStack}}},40208:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=function(){return!!(window&&window.navigator&&window.navigator.userAgent)&&/iPad|iPhone|iPod/i.test(window.navigator.userAgent)}},40218:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(53094);function o(e,t){return typeof e===typeof t&&((0,r.V)(e)&&(0,r.V)(t)?e.dynamicLayerId===t.dynamicLayerId:e===t)}},40551:(e,t,n)=>{"use strict";n.d(t,{K:()=>p});var r=n(9950),o=n(65757),i=n(69730),a=n(23598),s=n(35928),l=n(62441),u=n(98689),c=n(32e3),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},d.apply(this,arguments)},p=(0,r.memo)((function(e){var t=e.isVisible,n=e.dialogStrings,p=e.hostId,f=e.dialogType,h=void 0===f?o.h.normal:f,m=e.dialogIsBlocking,g=e.styles,v=e.onConfirm,y=e.onCancel,b=e.onDismiss,x=e.areButtonsDisabled,_=(0,u.D)(),C=(0,r.useMemo)((function(){var e={dialog:{main:{backgroundColor:_.palette.neutralLighterAlt}}};return{dialog:(0,c.TW)(e.dialog,null===g||void 0===g?void 0:g.dialog),dialogContent:(0,c.TW)(e.dialogContent,null===g||void 0===g?void 0:g.dialogContent),dialogFooter:(0,c.TW)(e.dialogFooter,null===g||void 0===g?void 0:g.dialogFooter),confirmButton:(0,c.TW)(e.confirmButton,null===g||void 0===g?void 0:g.confirmButton),cancelButton:(0,c.TW)(e.cancelButton,null===g||void 0===g?void 0:g.cancelButton)}}),[g,_]),w=(0,r.useMemo)((function(){return{type:h,title:n.contentTitle,closeButtonAriaLabel:n.closeButtonAriaLabel,subText:n.contentSubText,styles:C.dialogContent}}),[n,h,C]);return r.createElement(i.l,{hidden:!t,onDismiss:b,dialogContentProps:w,modalProps:d({styles:C.dialog,isBlocking:m},p&&{layerProps:{hostId:p,styles:null===g||void 0===g?void 0:g.layer}})},r.createElement(a.E,{styles:C.dialogFooter},r.createElement(s.j,{"data-test-id":"reset-confirm",onClick:v,text:n.confirmText,ariaLabel:n.confirmAriaLabel,styles:C.confirmButton,disabled:x}),r.createElement(l.Y,{onClick:y,text:n.cancelText,ariaLabel:n.cancelAriaLabel,styles:C.cancelButton,disabled:x})))}))},40685:(e,t,n)=>{"use strict";n.d(t,{Oc:()=>o,US:()=>r});var r=28,o=50},40902:(e,t,n)=>{"use strict";function r(e,t,n){}n.d(t,{Y:()=>r})},41063:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>r}),function(e){e[e.InkContent=0]="InkContent",e[e.TextContent=1]="TextContent"}(r||(r={}))},41153:(e,t,n)=>{"use strict";function r(e){return{container:{display:"flex",alignItems:"center",padding:"10px 0px",margin:"0px 0px 12px"},icon:{root:{fontSize:"16px",lineHeight:"12px",marginRight:"8px",transform:"translateY(2px)"}},label:{root:{display:"flex",padding:"0px",lineHeight:"20px",fontSize:"14px",fontWeight:"400",textAlign:"center",wordBreak:"break-word",wordWrap:"break-word",maxWidth:"60%"}},toggle:{root:{flexGrow:"1",marginBottom:"0px",width:"30%"},text:{fontWeight:"400",textAlign:"center",wordBreak:"break-word",wordWrap:"break-word",padding:"8px",margin:"0px !important"},pill:{minWidth:"40px",margin:"0px 12px"},container:{justifyContent:"flex-end",alignItems:"center"}}}}n.d(t,{y:()=>r})},41610:(e,t,n)=>{"use strict";n.d(t,{sG:()=>w,uK:()=>C,J3:()=>x,pz:()=>_});var r=n(3041),o=n(85952),i=n(36386),a=n(31985);function s(e,t){e.backgroundType=t.type,e.backgroundsByType[e.backgroundType]=t}var l={undoReducer:function(e,t){e.undoRedoStack.redoStack.push(t),s(e,t.undoPayload)},redoReducer:function(e,t){e.undoRedoStack.undoStack.push(t),s(e,t.redoPayload)},removeItemsReducer:function(e,t){e.undoRedoStack.undoStack=t},collapseItemsReducer:function(e,t,n){e.undoRedoStack.undoStack=e.undoRedoStack.undoStack.filter((function(e){return e.sequence!==t.payload.start&&e.sequence!==t.payload.end})),e.undoRedoStack.undoStack.push(n)}},u=n(73050),c=n(97495);function d(e){var t=e.backgroundType;return e.backgroundsByType[t]}var p=n(68988);var f=n(38275);function h(e,t){var n=function(e){var t;return null===(t=(0,f.HV)(e.undoRedoStack.undoStack))||void 0===t?void 0:t.redoPayload}(e)||d(e);!function(e,t){e.backgroundsByType[t.background.type]=t.background,e.backgroundType=t.background.type}(e,t);var r=d(e);if(!function(e,t){if(e.type!==t.type)return!1;switch(e.type){case"BlurredBackground":if("BlurredBackground"!==e.type)throw new Error("types not matched");if("BlurredBackground"!==t.type)throw new Error("types not matched");return e.blurLevel===t.blurLevel;case"ColorRGBABackground":if("ColorRGBABackground"!==e.type)throw new Error("types not matched");if("ColorRGBABackground"!==t.type)throw new Error("types not matched");return(0,p.g)(e.color,t.color);case"OriginalBackground":case"TransparentBackground":return!0}}(n,r)&&t.isUndoable){var o=(0,i.Cy)(c.h,n,r,u.Z.KeepAll,t.undoRedoGroupId);e.undoRedoStack.undoStack.push(o)}}var m,g=n(80559),v=n(97351),y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},b=(0,r.Z0)({name:"imageBackground",initialState:o.I,reducers:{setBackground:function(e,t){h(e,t.payload)},setBackgroundType:function(e,t){h(e,{background:e.backgroundsByType[t.payload],isUndoable:!0}),e.hasBackgroundTypeBeenChangedThisActivitySession=!0},setActiveBackgroundUiMode:function(e,t){e.activeBackgroundUiMode=t.payload},setBackgroundOptionsTeachingTipVisibilityState:function(e,t){e.backgroundOptionsTeachingTipVisibilityState=t.payload}},extraReducers:function(e){e.addCase(a.zj,(function(e,t){return o.I})),e.addCase(a.y2,(function(e,t){return t.payload.imageBackground})),e.addCase(g.Dx,(function(e,t){e.hasBackgroundTypeBeenChangedThisActivitySession=!1})),e.addCase(a.sP,(function(e,t){(0,v.s)(e,t.payload,"replaceImageBackground",(function(e){o.I.undoRedoStack,o.I.backgroundOptionsTeachingTipVisibilityState,o.I.hasBackgroundTypeBeenChangedThisActivitySession,o.I.backgroundsByType;var t=y(o.I,["undoRedoStack","backgroundOptionsTeachingTipVisibilityState","hasBackgroundTypeBeenChangedThisActivitySession","backgroundsByType"]);Object.assign(e,t)}),(function(e){return d(e)}))})),(0,i.q$)(e,l)}}),x=(m=b.actions).setBackground,_=m.setBackgroundType,C=m.setActiveBackgroundUiMode,w=(m.setBackgroundOptionsTeachingTipVisibilityState,b.reducer)},41646:(e,t,n)=>{"use strict";function r(e,t){return t(JSON.parse(e.serializedParams))}n.d(t,{q:()=>r})},42242:(e,t,n)=>{"use strict";n.d(t,{Ef:()=>i,mn:()=>a});var r,o=(0,n(3041).Z0)({name:"spotFixUi",initialState:{spotFixSampleSizeFactor:3,spotFixTipVisibilityState:"notShown"},reducers:{setSpotFixSampleSizeFactor:function(e,t){e.spotFixSampleSizeFactor=t.payload},setSpotFixTipVisibilityState:function(e,t){e.spotFixTipVisibilityState=t.payload}}}),i=((r=o.actions).setSpotFixSampleSizeFactor,r.setSpotFixTipVisibilityState),a=o.reducer},42570:(e,t,n)=>{"use strict";n.d(t,{x:()=>i,y:()=>o});var r=n(44051),o="CheckerboardShader",i=function(){function e(){this._devicePixelRatio=1,this._checkerboardSize=8,this._lightCheckerColor=1,this._darkCheckerColor=.95,this._shouldShowCheckerboardOverride=!1}return e.prototype.setDevicePixelRatio=function(e){this._devicePixelRatio=e},e.prototype.setCheckerboardSize=function(e){e&&(this._checkerboardSize=e)},e.prototype.setLightCheckerColor=function(e){e&&(this._lightCheckerColor=e)},e.prototype.setDarkCheckerColor=function(e){e&&(this._darkCheckerColor=e)},e.prototype.setShouldShowCheckerboardOverride=function(e){this._shouldShowCheckerboardOverride=e},e.prototype.getShouldShowCheckerboardOverride=function(){return this._shouldShowCheckerboardOverride},e.prototype.getName=function(){return o},e.prototype.getUniformNames=function(e){return[e("uCheckerboardSize@"),e("uLightCheckerColor@"),e("uDarkCheckerColor@"),e("uShowCheckerboardOverride@")]},e.prototype.getFunctions=function(e){return[]},e.prototype.getHeaderCode=function(e){return e("\n        //Checkerboard effect---\n        uniform float uCheckerboardSize@;\n        uniform float uLightCheckerColor@;\n        uniform float uDarkCheckerColor@;\n        uniform float uShowCheckerboardOverride@;\n        ")},e.prototype.getShaderFunctionBody=function(e){return e("\n            //Checkerboard effect---\n            float total = step(uCheckerboardSize@, mod(".concat(r.k.screenPixelPos,".x, uCheckerboardSize@ * 2.0)) + step(uCheckerboardSize@, mod(").concat(r.k.screenPixelPos,".y, uCheckerboardSize@ * 2.0));\n            float baseCheckerboardColor = mix(uDarkCheckerColor@,uLightCheckerColor@,sign(mod(total, 2.0 )));\n            vec4 checkerBlendedColor = vec4(0., 0., 0., 1.);\n            checkerBlendedColor.rgb = mix(vec3(baseCheckerboardColor), gl_FragColor.rgb, gl_FragColor.a);\n\n            // Checkerboard is hidden when there's a colorOverride. For example, the default transparent placeholder image should be shown without a checkerboard effect.\n            vec4 checkerboardColor = mix(checkerBlendedColor,").concat(r.k.colorOverride,",").concat(r.k.colorOverrideLevel,");\n            gl_FragColor = mix(checkerboardColor, gl_FragColor, mix(").concat(r.k.isRenderingForExport,", 0.0, uShowCheckerboardOverride@));\n        "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setFloat(t("uCheckerboardSize@"),this._checkerboardSize*this._devicePixelRatio),e.setFloat(t("uLightCheckerColor@"),this._lightCheckerColor),e.setFloat(t("uDarkCheckerColor@"),this._darkCheckerColor),e.setFloat(t("uShowCheckerboardOverride@"),this._shouldShowCheckerboardOverride?1:0)},e}()},42610:(e,t,n)=>{"use strict";function r(e){e&&performance.clearMarks(e)}function o(e){r(e),e&&performance.mark(e)}function i(e){var t=performance.getEntriesByName(e);if(1===t.length){var n=performance.now()-t[0].startTime;return performance.clearMarks(e),n}performance.clearMarks(e)}n.d(t,{By:()=>u,Hx:()=>s,S0:()=>r,fS:()=>o,g2:()=>i,yE:()=>l});var a="editorActivityPrepareMark";function s(){performance.clearMarks(a)}function l(){s(),performance.mark(a)}function u(){var e=performance.getEntriesByName(a);if(1===e.length){var t=performance.now()-e[0].startTime;return performance.clearMarks(a),t}}},42619:(e,t,n)=>{var r="[object Symbol]",o=/[&<>"'`]/g,i=RegExp(o.source),a="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,s="object"==typeof self&&self&&self.Object===Object&&self,l=a||s||Function("return this")();var u,c=(u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},function(e){return null==u?void 0:u[e]}),d=Object.prototype.toString,p=l.Symbol,f=p?p.prototype:void 0,h=f?f.toString:void 0;function m(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==r}(e))return h?h.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}e.exports=function(e){var t;return(e=null==(t=e)?"":m(t))&&i.test(e)?e.replace(o,c):e}},42838:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r=(0,n(3041).VP)("MarkupSlice/updateMarkupContent",(function(e,t){return void 0===t&&(t=!0),{payload:{content:e,isUndoRedoable:t}}}))},42935:(e,t,n)=>{"use strict";function r(e,t){e&&("function"===typeof e?e(t):e.current=t)}n.d(t,{n:()=>r})},43475:(e,t,n)=>{"use strict";n.d(t,{_:()=>v});var r=n(69187),o=n(37827),i=n(9950),a=n(56624),s=n(28225),l=n(1754),u=n(46707),c=n(3753),d=(0,a.Z)(),p=/\.svg$/i;var f=i.forwardRef((function(e,t){var n=i.useRef(),r=i.useRef(),a=function(e,t){var n=e.onLoadingStateChange,r=e.onLoad,o=e.onError,a=e.src,s=i.useState(l.P6.notLoaded),c=s[0],d=s[1];(0,u.E)((function(){d(l.P6.notLoaded)}),[a]),i.useEffect((function(){c===l.P6.notLoaded&&t.current&&(a&&t.current.naturalWidth>0&&t.current.naturalHeight>0||t.current.complete&&p.test(a))&&d(l.P6.loaded)})),i.useEffect((function(){null===n||void 0===n||n(c)}),[c]);var f=i.useCallback((function(e){null===r||void 0===r||r(e),a&&d(l.P6.loaded)}),[a,r]),h=i.useCallback((function(e){null===o||void 0===o||o(e),d(l.P6.error)}),[o]);return[c,f,h]}(e,r),f=a[0],h=a[1],m=a[2],g=(0,s.G1)(e,s.xM,["width","height"]),v=e.src,y=e.alt,b=e.width,x=e.height,_=e.shouldFadeIn,C=void 0===_||_,w=e.shouldStartVisible,S=e.className,k=e.imageFit,T=e.role,E=e.maximizeFrame,P=e.styles,I=e.theme,A=e.loading,R=function(e,t,n,r){var o=i.useRef(t),a=i.useRef();(void 0===a||o.current===l.P6.notLoaded&&t===l.P6.loaded)&&(a.current=function(e,t,n,r){var o=e.imageFit,i=e.width,a=e.height;if(void 0!==e.coverStyle)return e.coverStyle;if(t===l.P6.loaded&&(o===l.N_.cover||o===l.N_.contain||o===l.N_.centerContain||o===l.N_.centerCover)&&n.current&&r.current){var s=void 0;if(s="number"===typeof i&&"number"===typeof a&&o!==l.N_.centerContain&&o!==l.N_.centerCover?i/a:r.current.clientWidth/r.current.clientHeight,n.current.naturalWidth/n.current.naturalHeight>s)return l.Aw.landscape}return l.Aw.portrait}(e,t,n,r));return o.current=t,a.current}(e,f,r,n),L=d(P,{theme:I,className:S,width:b,height:x,maximizeFrame:E,shouldFadeIn:C,shouldStartVisible:w,isLoaded:f===l.P6.loaded||f===l.P6.notLoaded&&e.shouldStartVisible,isLandscape:R===l.Aw.landscape,isCenter:k===l.N_.center,isCenterContain:k===l.N_.centerContain,isCenterCover:k===l.N_.centerCover,isContain:k===l.N_.contain,isCover:k===l.N_.cover,isNone:k===l.N_.none,isError:f===l.P6.error,isNotImageFit:void 0===k});return i.createElement("div",{className:L.root,style:{width:b,height:x},ref:n},i.createElement("img",(0,o.Cl)({},g,{onLoad:h,onError:m,key:"fabricImage"+e.src||"",className:L.image,ref:(0,c.a)(r,t),src:v,alt:y,role:T,loading:A})))}));f.displayName="ImageBase";var h=n(32e3),m=n(95673),g={root:"ms-Image",rootMaximizeFrame:"ms-Image--maximizeFrame",image:"ms-Image-image",imageCenter:"ms-Image-image--center",imageContain:"ms-Image-image--contain",imageCover:"ms-Image-image--cover",imageCenterContain:"ms-Image-image--centerContain",imageCenterCover:"ms-Image-image--centerCover",imageNone:"ms-Image-image--none",imageLandscape:"ms-Image-image--landscape",imagePortrait:"ms-Image-image--portrait"},v=(0,r.I)(f,(function(e){var t=e.className,n=e.width,r=e.height,o=e.maximizeFrame,i=e.isLoaded,a=e.shouldFadeIn,s=e.shouldStartVisible,l=e.isLandscape,u=e.isCenter,c=e.isContain,d=e.isCover,p=e.isCenterContain,f=e.isCenterCover,v=e.isNone,y=e.isError,b=e.isNotImageFit,x=e.theme,_=(0,h.Km)(g,x),C={position:"absolute",left:"50% /* @noflip */",top:"50%",transform:"translate(-50%,-50%)"},w=(0,m.z)(),S=void 0!==w&&void 0===w.navigator.msMaxTouchPoints,k=c&&l||d&&!l?{width:"100%",height:"auto"}:{width:"auto",height:"100%"};return{root:[_.root,x.fonts.medium,{overflow:"hidden"},o&&[_.rootMaximizeFrame,{height:"100%",width:"100%"}],i&&a&&!s&&h.lw.fadeIn400,(u||c||d||p||f)&&{position:"relative"},t],image:[_.image,{display:"block",opacity:0},i&&["is-loaded",{opacity:1}],u&&[_.imageCenter,C],c&&[_.imageContain,S&&{width:"100%",height:"100%",objectFit:"contain"},!S&&k,!S&&C],d&&[_.imageCover,S&&{width:"100%",height:"100%",objectFit:"cover"},!S&&k,!S&&C],p&&[_.imageCenterContain,l&&{maxWidth:"100%"},!l&&{maxHeight:"100%"},C],f&&[_.imageCenterCover,l&&{maxHeight:"100%"},!l&&{maxWidth:"100%"},C],v&&[_.imageNone,{width:"auto",height:"auto"}],b&&[!!n&&!r&&{height:"auto",width:"100%"},!n&&!!r&&{height:"100%",width:"auto"},!!n&&!!r&&{height:"100%",width:"100%"}],l&&_.imageLandscape,!l&&_.imagePortrait,!i&&"is-notLoaded",a&&"is-fadeIn",y&&"is-error"]}}),void 0,{scope:"Image"},!0);v.displayName="Image"},43960:(e,t,n)=>{"use strict";function r(e,t,n){}n.d(t,{A:()=>r})},43973:(e,t,n)=>{"use strict";n.d(t,{Y:()=>x});var r=n(37827),o=n(9950),i=n(58608),a=n(6461),s=n(25262),l=n(34868),u=n(53461),c=n(28225),d=n(3753),p=n(52522),f=n(95004),h=n(88114),m=n(46707);function g(e){var t=o.useRef((function(){throw new Error("Cannot call an event handler while rendering")}));return(0,m.E)((function(){t.current=e}),[e]),(0,f.d)((function(){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.current.apply(void 0,e)}}))}var v=n(97815),y=n(93781),b={disabled:!1,disableFirstFocus:!1,forceFocusInsideTrap:!0,isClickableOutsideFocusTrap:!1},x=o.forwardRef((function(e,t){var n,m=o.useRef(null),_=o.useRef(null),C=o.useRef(null),w=(0,d.a)(m,t),S=(0,y.ZY)(),k=null===(n=(0,p.Z)(!1))||void 0===n||n,T=(0,i.N)(b,e),E=(0,f.d)({hasFocus:!1,focusStackId:(0,h.B)("ftz-",T.id)}),P=T.children,I=T.componentRef,A=T.disabled,R=T.disableFirstFocus,L=T.forceFocusInsideTrap,M=T.focusPreviouslyFocusedInnerElement,B=T.firstFocusableSelector,O=T.firstFocusableTarget,F=T.disableRestoreFocus,D=void 0===F?T.ignoreExternalFocusing:F,N=T.isClickableOutsideFocusTrap,U=T.enableAriaHiddenSiblings,z={"aria-hidden":!0,style:{pointerEvents:"none",position:"fixed"},tabIndex:A?-1:0,"data-is-visible":!0,"data-is-focus-trap-zone-bumper":!0},j=o.useCallback((function(e){e!==_.current&&e!==C.current&&(0,a.lo)(e)}),[]),V=g((function(){if(m.current){var e=E.previouslyFocusedElementInTrapZone;if(M&&e&&(0,s.s)(m.current,e))j(e);else{var t=null;if("string"===typeof O)t=m.current.querySelector(O);else if(O)t=O(m.current);else if(B){var n="string"===typeof B?B:B();t=m.current.querySelector("."+n)}t||(t=(0,a.eX)(m.current,m.current.firstChild,!1,!1,!1,!0)),t&&j(t)}}})),W=function(e){if(!A&&m.current){var t=e===E.hasFocus?(0,a.Cm)(m.current,C.current,!0,!1):(0,a.oR)(m.current,_.current,!0,!1);t&&(t===_.current||t===C.current?V():t.focus())}},H=g((function(e){if(x.focusStack=x.focusStack.filter((function(e){return E.focusStackId!==e})),S){var t=S.activeElement;D||"function"!==typeof(null===e||void 0===e?void 0:e.focus)||!(0,s.s)(m.current,t)&&t!==S.body||j(e)}})),q=g((function(e){if(!A&&E.focusStackId===x.focusStack.slice(-1)[0]){var t=e.target;t&&!(0,s.s)(m.current,t)&&(S&&S.activeElement===S.body?setTimeout((function(){S&&S.activeElement===S.body&&(V(),E.hasFocus=!0)}),0):(V(),E.hasFocus=!0),e.preventDefault(),e.stopPropagation())}}));return o.useEffect((function(){var e=[];return L&&e.push((0,l.on)(window,"focus",q,!0)),N||e.push((0,l.on)(window,"click",q,!0)),function(){e.forEach((function(e){return e()}))}}),[L,N]),o.useEffect((function(){if(!A&&(k||L)&&m.current){x.focusStack.push(E.focusStackId);var e=T.elementToFocusOnDismiss||S.activeElement;return R||(0,s.s)(m.current,e)||V(),function(){return H(e)}}}),[L,A]),o.useEffect((function(){if(!A&&U)return(0,u.q)(m.current)}),[A,U,m]),(0,v.i)((function(){delete E.previouslyFocusedElementInTrapZone})),function(e,t,n){o.useImperativeHandle(e,(function(){return{get previouslyFocusedElement(){return t},focus:n}}),[n,t])}(I,E.previouslyFocusedElementInTrapZone,V),o.createElement("div",(0,r.Cl)({"aria-labelledby":T.ariaLabelledBy},(0,c.G1)(T,c.JM),{ref:w,onFocusCapture:function(e){var t;null===(t=T.onFocusCapture)||void 0===t||t.call(T,e),e.target===_.current?W(!0):e.target===C.current&&W(!1),E.hasFocus=!0,e.target!==e.currentTarget&&e.target!==_.current&&e.target!==C.current&&(E.previouslyFocusedElementInTrapZone=e.target)},onBlurCapture:function(e){var t;null===(t=T.onBlurCapture)||void 0===t||t.call(T,e);var n=e.relatedTarget;null===e.relatedTarget&&(n=S.activeElement),(0,s.s)(m.current,n)||(E.hasFocus=!1)}}),o.createElement("div",(0,r.Cl)({},z,{ref:_})),P,o.createElement("div",(0,r.Cl)({},z,{ref:C})))}));x.displayName="FocusTrapZone",x.focusStack=[]},44012:(e,t,n)=>{"use strict";n.d(t,{X:()=>c});var r=n(9950);(0,n(97150).hN)([{rawString:".headerContainer_dcc7c160{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;line-height:42px;margin:25px 0 6px 0}.headerContainer_dcc7c160 .name_dcc7c160{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-margin-end:auto;margin-inline-end:auto;width:100%}.headerContainer_dcc7c160 .name_dcc7c160 .childrenWrapper_dcc7c160{margin-left:auto}"}]);const o="headerContainer_dcc7c160",i="name_dcc7c160",a="childrenWrapper_dcc7c160";var s=n(98689),l=n(32e3),u=n(610),c=function(e){var t=e.iconName,n=e.label,c=e.styles,d=e.children,p=o,f=i,h=a,m=(0,s.D)().palette.neutralPrimary,g=(0,r.useMemo)((function(){var e={root:{fill:m,fontSize:"16px",height:"16px",width:"16px",lineHeight:"16px",marginRight:"8px"}};return(0,l.TW)(e,null===c||void 0===c?void 0:c.icon)}),[m,null===c||void 0===c?void 0:c.icon]);return r.createElement("div",{style:null===c||void 0===c?void 0:c.container,"aria-hidden":!0},r.createElement("div",{className:p},r.createElement("span",{className:f},!!t&&r.createElement(u.I,{iconName:t,styles:g}),!!n&&n,!!d&&r.createElement("div",{className:h},d))))};c.displayName="SectionHeader"},44051:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var r={mainTextureSampler:"textureSampler",singleTileMainTextureSampler:"textureSamplerSingleTile",singleTilePreSharpenTextureSampler:"textureSamplerSingleTilePreSharpen",singleTileTempTextureSampler:"textureSamplerSingleTileTemp",singleTileBackgroundTextureSampler:"textureSamplerSingleTileBackground",uv:"uv",singleTileTextureUvTransform:"usingleTileTextureUvTransform",screenPixelPos:"uScreenPixelPos",transform:"uTransform",transformInverse:"uTransformInverse",renderTargetSize:"uRenderTargetSize",colorOverrideLevel:"uColorOverrideLevel",colorOverride:"uColorOverride",overlayTextureSampler:"secondaryOverlayTextureSampler",overlayTextureAlpha:"uOverlayTextureAlpha",backgroundMaskTextureSampler:"uBackgroundMaskTextureSampler",eraseMaskTextureSampler:"uEraseMaskTextureSampler",normalMapTextureSampler:"uNormalMapTextureSampler",isRenderingForExport:"uIsRenderingForExport",originalTextureSampler:"originalTextureSampler",subTexturePixelSize:"uSubTexturePixelSize",fullTexturePixelSize:"uFullTexturePixelSize",objectSegmentationPreviewTextureSampler:"objectSegmentationPreviewTextureSampler",sharpness:"uSharpness"}},44121:(e,t,n)=>{"use strict";var r;n.d(t,{I:()=>r}),function(e){e[e.usingNineSliceCropHandles=0]="usingNineSliceCropHandles",e[e.selectingFirstCorner=1]="selectingFirstCorner",e[e.selectingSecondCorner=2]="selectingSecondCorner",e[e.draggingView=3]="draggingView",e[e.draggingImage=4]="draggingImage",e[e.rotating=5]="rotating",e[e.zoomToCrop=6]="zoomToCrop",e[e.keyboardCropping=7]="keyboardCropping",e[e.keyboardRotating=8]="keyboardRotating",e[e.none=9]="none",e[e.disabled=10]="disabled"}(r||(r={}))},44201:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var r=n(9950).createElement("span",{style:{display:"flex",borderRadius:"999px",background:"linear-gradient(301deg, #7C9FF9 17.72%, #D884FF 82.65%)",justifyContent:"center",alignItems:"center",width:"19px",height:"14px",color:"#000000",padding:"1px 4px 3px 4px",fontSize:"12px",lineHeight:"10px",fontWeight:"400"}},"AI")},44358:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r={topLeftEdge:0,topCenter:1,topRightEdge:2,topAutoEdge:3,bottomLeftEdge:4,bottomCenter:5,bottomRightEdge:6,bottomAutoEdge:7,leftTopEdge:8,leftCenter:9,leftBottomEdge:10,rightTopEdge:11,rightCenter:12,rightBottomEdge:13}},44414:(e,t,n)=>{"use strict";e.exports=n(32654)},44535:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});var r=n(9950),o=n(95004);function i(e){var t=r.useState(e),n=t[0],i=t[1];return[n,{setTrue:(0,o.d)((function(){return function(){i(!0)}})),setFalse:(0,o.d)((function(){return function(){i(!1)}})),toggle:(0,o.d)((function(){return function(){i((function(e){return!e}))}}))}]}},44854:(e,t,n)=>{"use strict";n.d(t,{l:()=>o});var r=n(95673),o=function(){var e,t=(0,r.z)();return!!(null===(e=null===t||void 0===t?void 0:t.navigator)||void 0===e?void 0:e.userAgent)&&t.navigator.userAgent.indexOf("rv:11.0")>-1}},45245:(e,t,n)=>{"use strict";var r;n.d(t,{H:()=>r}),function(e){e[e.info=0]="info",e[e.error=1]="error",e[e.success=2]="success",e[e.warning=3]="warning"}(r||(r={}))},45784:(e,t,n)=>{"use strict";n.d(t,{OG:()=>s,Pw:()=>o,Ty:()=>l,Wf:()=>i,Xn:()=>a,tL:()=>r});var r=[0,0,0,1],o=[1,0,0,1],i=[0,0,0,0],a=[1,1,1,1],s=[1,1,1,0],l=3},45824:(e,t,n)=>{"use strict";n.d(t,{PX:()=>l,Vz:()=>s,jC:()=>c,pG:()=>u});var r=n(75347),o=n(66788),i=n(9213),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};function s(e,t,n,i){return void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===n&&(n=void 0),void 0===i&&(i=(0,o.ci)()),a(a({},i),{startMatrix:e?(0,r.vt)(e):(0,r.uz)(),endMatrix:t?(0,r.vt)(t):(0,r.uz)(),animatedMatrix:n?(0,r.vt)(n):void 0})}function l(){return s()}function u(e,t,n){return e.isActive&&e.animatedMatrix&&(t=e.animatedMatrix),s(t=(0,r.fJ)(t),n=(0,r.fJ)(n),t,(0,o.Ql)())}function c(e,t,n,a){void 0===a&&(a=i.p);var u=(0,o.ov)(e,t,n);if(u.isActive){var c=(0,o.ec)(e,t,n),d=(0,r.Db)(e.startMatrix,e.endMatrix,a(c));return s(e.startMatrix,e.endMatrix,d,u)}return l()}},45867:(e,t,n)=>{"use strict";n.d(t,{O:()=>u});var r=n(95673),o=n(95143),i="__currentId__",a="id__",s=(0,r.z)()||{};void 0===s[i]&&(s[i]=0);var l=!1;function u(e){if(!l){var t=o.n.getInstance();t&&t.onReset&&t.onReset(c),l=!0}var n=s[i]++;return(void 0===e?a:e)+n}function c(e){void 0===e&&(e=0),s[i]=e}},45890:(e,t,n)=>{"use strict";n.d(t,{K:()=>d});var r=n(37827),o=n(9950),i=n(18746),a=n(19867),s=n(67483),l=n(40902),u=n(43960);!function(e){function t(n,r){var o=e.call(this,n,r)||this;return function(e,t,n){for(var r=0,o=n.length;r<o;r++)c(e,t,n[r])}(o,t.prototype,["componentDidMount","shouldComponentUpdate","getSnapshotBeforeUpdate","render","componentDidUpdate","componentWillUnmount"]),o}(0,r.C6)(t,e),t.prototype.componentDidUpdate=function(e,t){this._updateComponentRef(e,this.props)},t.prototype.componentDidMount=function(){this._setComponentRef(this.props.componentRef,this)},t.prototype.componentWillUnmount=function(){if(this._setComponentRef(this.props.componentRef,null),this.__disposables){for(var e=0,t=this._disposables.length;e<t;e++){var n=this.__disposables[e];n.dispose&&n.dispose()}this.__disposables=null}},Object.defineProperty(t.prototype,"className",{get:function(){if(!this.__className){var e=/function (.{1,})\(/.exec(this.constructor.toString());this.__className=e&&e.length>1?e[1]:""}return this.__className},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_disposables",{get:function(){return this.__disposables||(this.__disposables=[]),this.__disposables},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_async",{get:function(){return this.__async||(this.__async=new i.j(this),this._disposables.push(this.__async)),this.__async},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_events",{get:function(){return this.__events||(this.__events=new a.g(this),this._disposables.push(this.__events)),this.__events},enumerable:!1,configurable:!0}),t.prototype._resolveRef=function(e){var t=this;return this.__resolves||(this.__resolves={}),this.__resolves[e]||(this.__resolves[e]=function(n){return t[e]=n}),this.__resolves[e]},t.prototype._updateComponentRef=function(e,t){void 0===t&&(t={}),e&&t&&e.componentRef!==t.componentRef&&(this._setComponentRef(e.componentRef,null),this._setComponentRef(t.componentRef,this))},t.prototype._warnDeprecations=function(e){(0,u.A)(this.className,this.props,e)},t.prototype._warnMutuallyExclusive=function(e){(0,l.Y)(this.className,this.props,e)},t.prototype._warnConditionallyRequiredProps=function(e,t,n){(0,s.J)(this.className,this.props,e,t,n)},t.prototype._setComponentRef=function(e,t){!this._skipComponentRefResolution&&e&&("function"===typeof e&&e(t),"object"===typeof e&&(e.current=t))}}(o.Component);function c(e,t,n){var r=e[n],o=t[n];(r||o)&&(e[n]=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return o&&(e=o.apply(this,t)),r!==o&&(e=r.apply(this,t)),e})}function d(){return null}},45918:(e,t,n)=>{"use strict";n.d(t,{gm:()=>p,C1:()=>b,cC:()=>h,My:()=>g,lM:()=>m,xm:()=>l,E0:()=>u,xX:()=>c,Lt:()=>d,ZR:()=>f,qr:()=>s,IO:()=>v,G8:()=>y});var r=n(15361),o=n(45784),i=n(96992);function a(e,t){return e.map((function(e){return e*t}))}function s(e){return e.relight}function l(e){return e.relight.lightSources[0]}function u(e){return e.relight.lightSources[1]}function c(e){return e.relight.lightSources[2]}function d(e){return e.relight.lightSources}function p(e){return e.relight.activeLightSourceIndex}function f(e){return e.relight.normalizedLightTarget}function h(e){return e.relight.relightUiMode===r.V.InitializationFinished}function m(e){return e.relight.relightUiMode===r.V.InitializationStarted}function g(e){return null!==e.relight.presetIndex}function v(e){return e.relight.showLightsOnCanvas}function y(e){return"alreadyGenerated"===e.relight.normalMappingStatus||"processed"===e.relight.normalMappingStatus}function b(e){for(var t=0,n=e.relight.lightSources;t<n.length;t++){var r=n[t];if("directional"===r.lightType){if(r.isOn)return!1}else if("ambient"===r.lightType&&(!r.isOn||!(0,i.v)(a(r.lightColor,r.lightIntensity),o.Xn,5)))return!1}return!0}},46081:(e,t,n)=>{"use strict";var r;n.d(t,{D:()=>r}),function(e){e[e.CircleMask=0]="CircleMask",e[e.FromLayer=1]="FromLayer",e[e.RectangleMask=2]="RectangleMask",e[e.PillShapedMask=3]="PillShapedMask",e[e.FullImageMask=4]="FullImageMask"}(r||(r={}))},46086:(e,t,n)=>{"use strict";n.d(t,{YN:()=>m,a5:()=>f,uy:()=>h});var r=n(3041),o=n(28418),i=n(53042),a=n(36386),s=n(68415),l=n(73050);var u,c=n(31985),d={undoReducer:function(e,t){e.undoRedoStack.redoStack.push(t),e.focalPointUvPosition=t.undoPayload.focalPointUvPosition},redoReducer:function(e,t){e.undoRedoStack.undoStack.push(t),e.focalPointUvPosition=t.redoPayload.focalPointUvPosition},removeItemsReducer:function(e,t){e.undoRedoStack.undoStack=t},collapseItemsReducer:function(e,t,n){e.undoRedoStack.undoStack=e.undoRedoStack.undoStack.filter((function(e){return e.sequence!==t.payload.start&&e.sequence!==t.payload.end})),e.undoRedoStack.undoStack.push(n)}},p=(0,r.Z0)({name:"focalPoint",initialState:o.G,reducers:{setFocalPoint:function(e,t){!function(e,t){var n=t.payload.focalPointUvPosition;e.undoPayload||(e.undoPayload={focalPointUvPosition:e.focalPointUvPosition});var r={focalPointUvPosition:n};if(e.focalPointUvPosition=n?{x:n.x,y:n.y}:e.focalPointUvPosition,(0,i.G)(e.undoPayload,r)&&t.payload.isUndoRedoable){var o=(0,a.Cy)(s.L,e.undoPayload,r,l.Z.KeepAll);e.undoRedoStack.undoStack.push(o),e.undoPayload=void 0}}(e,t)},setInitialFocalPoint:function(e,t){e.initialFocalPointUvPosition=t.payload.initialFocalPointUvPosition,e.focalPointUvPosition=t.payload.initialFocalPointUvPosition}},extraReducers:function(e){e.addCase(c.zj,(function(e,t){e.focalPointUvPosition=e.initialFocalPointUvPosition,e.undoRedoStack=o.G.undoRedoStack})).addCase(c.y2,(function(e,t){var n=t.payload.focalPoint,r=n.focalPointUvPosition,o=n.undoRedoStack;r&&(e.focalPointUvPosition=r),o&&(e.undoRedoStack=o)})),(0,a.q$)(e,d)}}),f=(u=p.actions).setFocalPoint,h=u.setInitialFocalPoint,m=p.reducer},46115:(e,t,n)=>{"use strict";function r(e){for(var t="",n=e.byteLength,r=0;r<n;r++)t+=String.fromCharCode(e[r]);return window.btoa(t)}n.d(t,{Y:()=>p});var o=n(49459),i=n(90839),a=n(80163);function s(e,t,n,r,o){var i=e.getInternalTexture();if(!i)throw new Error("could not get internal texture!");var s=function(e,t,n,r){var o=t*(0,a.x)(e.format),i=Math.floor((o+r-1)/r)*r,s=i*(n-1)+o;if(s!==e.bytes.length){for(var l=new Uint8ClampedArray(s),u=0;u<n;u++)l.set(e.bytes.subarray(u*o,(u+1)*o),u*i);return l}return e.bytes}(n,r.width,r.height,t._gl.getParameter(t._gl.UNPACK_ALIGNMENT));t.updateTextureData(i,new Uint8Array(s.buffer,s.byteOffset,s.byteLength),r.left,r.top,r.width,r.height,void 0,void 0,o)}var l=n(91594),u=n(14586);function c(e,t,n,r,o,a){var c=t.parts[o].texture;if(!c)throw new Error("texturePart missing");var d=!1;(0,l.b)(r)?d=!!(0,i.W)(e)[r]:d=(0,u.t)(e);s(c,e,n,a,d)}var d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},d.apply(this,arguments)};function p(e){var t=e.updatedSubPixels,n=e.originalSubPixels,i=e.layer,a=e.subTextureIndex,s=e.textureRectInFullImage,l=e.texturePatchRectInFullImage,u=e.texturePatchRectInTextureRect,p=e.textureRectInTexturePatchRect;return{getPreviewDataUri:function(){return(0,o.W)(t.bytes,u.width,u.height)},getPreviewImageSize:function(){return{x:u.width,y:u.height}},getRectInFullImage:function(){return d({},l)},layer:i,apply:function(e,n){c(e,n,t,i,a,u)},remove:function(e,t){c(e,t,n,i,a,u)},flatten:function(){return{updatedSubPixels:t,originalSubPixels:n,layer:i,subTextureIndex:a,textureRectInFullImage:s,texturePatchRectInFullImage:l,texturePatchRectInTextureRect:u,textureRectInTexturePatchRect:p}},serialize:function(){return{updatedSubPixelsDataUri:r(t.bytes),originalSubPixelsDataUri:r(n.bytes),updatedFormat:t.format,originalFormat:n.format,layer:i,subTextureIndex:a,textureRectInFullImage:s,texturePatchRectInFullImage:l,texturePatchRectInTextureRect:u,textureRectInTexturePatchRect:p}},getSizeOfStoredPixelsInBytes:function(){return t.bytes.length+n.bytes.length}}}},46707:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var r=n(9950),o=(0,n(31214).S)()?r.useLayoutEffect:r.useEffect},46837:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r=n(75347);function o(e,t,n){var o=(0,r.fJ)(n),i=(0,r.eE)((0,r.ZG)(t,o));return(0,r.vo)(i,e)}},47140:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var r=(0,n(9950).createContext)({imageCreationExtensionState:"Unavailable",onDownloadImageCreationExtension:function(){},doesImageContainFaces:void 0,stylizerPivotTeachingTipState:"alreadyShown",onStylizerPivotTeachingTipDismissed:function(){},setStylizerPivotTeachingTipState:function(e){}})},47666:(e,t,n)=>{"use strict";n.d(t,{PQ:()=>x,Qc:()=>v,gX:()=>g,hT:()=>h,iI:()=>m,pU:()=>b,v8:()=>f,zr:()=>y});var r,o=n(3041),i=n(46081),a=n(31985),s=n(80559),l=n(88873),u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},u.apply(this,arguments)};function c(){return{maskParameters:{maskType:i.D.FromLayer,shouldInvertMask:!1,layerToUseAsMask:"backgroundMask"},maskOpacity:0,selectedUvPositions:[],maskInteractionMode:"none",maskingDisabled:!1}}function d(){return{currentActivityKey:l.iF,maskingUiByActivity:{Crop:c(),Adjustment:c(),Filter:c(),Markup:c(),Retouch:u(u({},c()),{maskOpacity:1,maskParameters:{maskType:i.D.FromLayer,shouldInvertMask:!1,layerToUseAsMask:"eraseMask"},maskInteractionMode:"circleBrush"}),InPaint:u(u({},c()),{maskOpacity:1}),Background:c(),Relight:c(),FocalPoint:c(),Stylizer:u(u({},c()),{maskOpacity:1,maskParameters:{maskType:i.D.FullImageMask},maskInteractionMode:"none"}),SuperResolution:c()},numberOfMaskBrushStrokesMadeByUser:0}}var p=(0,o.Z0)({name:"maskingUi",initialState:d(),reducers:{setMaskParameters:function(e,t){e.maskingUiByActivity[e.currentActivityKey].maskParameters=t.payload},setSelectedUvPositions:function(e,t){e.maskingUiByActivity[e.currentActivityKey].selectedUvPositions=t.payload},clearSelectedUvPositions:function(e,t){e.maskingUiByActivity[e.currentActivityKey].selectedUvPositions=[]},setMaskInteractionMode:function(e,t){e.maskingUiByActivity[e.currentActivityKey].maskInteractionMode=t.payload},setMaskOpacity:function(e,t){e.maskingUiByActivity[e.currentActivityKey].maskOpacity=t.payload},incrementNumberMaskBrushStrokesMadeByUser:function(e,t){e.numberOfMaskBrushStrokesMadeByUser=e.numberOfMaskBrushStrokesMadeByUser+1},setMaskingDisabled:function(e,t){e.maskingUiByActivity[e.currentActivityKey].maskingDisabled=t.payload}},extraReducers:function(e){e.addCase(a.zj,(function(e,t){var n=d();return n.currentActivityKey=e.currentActivityKey,u({},n)})).addCase(s.Dx,(function(e,t){e.maskingUiByActivity[e.currentActivityKey].selectedUvPositions=[],e.currentActivityKey=t.payload}))}}),f=(r=p.actions).setMaskParameters,h=r.setSelectedUvPositions,m=r.clearSelectedUvPositions,g=r.setMaskOpacity,v=r.setMaskInteractionMode,y=r.incrementNumberMaskBrushStrokesMadeByUser,b=r.setMaskingDisabled,x=p.reducer},47671:(e,t,n)=>{"use strict";n.d(t,{l:()=>y});var r=n(6246),o=n(92262);var i=n(80163),a=n(54986),s=n(36058);function l(e,t){return function(e){var t=e.bytes,n=e.format,r=n===a.A.RGBA;if(!r&&n!==a.A.RGB)throw new Error("getNumberOfBlackPixelsInPixelBytes does not support PixelFormats without RGB");for(var o=(0,i.x)(n),l=r?(0,s.O)(n):void 0,u=0,c=0;c<t.length;c+=o){var d=t[c],p=t[c+1],f=t[c+2];void 0!==l&&0===t[c+l]||d+p+f===0&&u++}return u}(e)>=function(e){var t=e.width,n=e.height;return t*n-n-t+1}(t)}var u=n(6411),c=n(75795);function d(e,t){var n=(0,c.FR)(e,t);if(n)return(0,u.w)(n,t)}var p=n(72369),f=n(46115);var h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h.apply(this,arguments)};function m(e,t,n){return 0===n.left&&0===n.top&&n.width===t&&n.height*n.width*(0,i.x)(e.format)===e.bytes.length}function g(e,t,n,r,i,a,s,u){var c=h(h({},n),{top:n.top-r.top,left:n.left-r.left}),g=m(a,r.width,c)?a:(0,o.R)(a,r.width,c),v=m(i,r.width,c)?i:(0,o.R)(i,r.width,c);u&&(l(v,c)&&(u(r),v.bytes.set(g.bytes)));var y=t.getAlreadyLoadedTextureOrThrow(e).parts.map((function(e,t){return function(e,t,n,r,i,a){var s=d(e,n);if(s&&(0,p.I)(s)){var l=d(n,e);if(!l||!(0,p.I)(l))throw new Error("textureRectInTexturePatchRect not found!");var u=(0,o.R)(i,e.width,l),c=(0,o.R)(a,e.width,l);return(0,f.Y)({updatedSubPixels:c,originalSubPixels:u,layer:t,subTextureIndex:r,textureRectInFullImage:n,texturePatchRectInFullImage:e,texturePatchRectInTextureRect:s,textureRectInTexturePatchRect:l})}}(n,s,e.rect,t,g,v)})),b=y.reduce((function(e,t){return void 0!==t&&e.push(t),e}),[]);if(0===b.length)throw new Error("no patch parts created in createSingleTexturePatchesFromTexturePatchResponse");return b}var v=n(63368);function y(e,t,n,o,i){var a=e.id,s=e.maskBoundsRectInImage,l=e.sampleRectInImage,u=e.outputPixelBytes,c=e.layerToPatch,d=(0,v.n)(c,t);if(!u)throw new Error("no layer was patched!");return{parts:g(d,o,s,l,u,n,c,i),id:a,imageId:(0,r.qc)(t.main)}}},48258:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(48932);function o(e,t,n){var o=[],i=(n/=100)*(t/=100),a=e/60,s=i*(1-Math.abs(a%2-1)),l=n-i;switch(Math.floor(a)){case 0:o=[i,s,0];break;case 1:o=[s,i,0];break;case 2:o=[0,i,s];break;case 3:o=[0,s,i];break;case 4:o=[s,0,i];break;case 5:o=[i,0,s]}return{r:Math.round(r.rd*(o[0]+l)),g:Math.round(r.rd*(o[1]+l)),b:Math.round(r.rd*(o[2]+l))}}},48486:(e,t,n)=>{"use strict";function r(e,t){var n=Math.min(e.left,t.left),r=Math.max(e.left+e.width,t.left+t.width),o=Math.min(e.top,t.top);return{left:n,top:o,width:r-n,height:Math.max(e.top+e.height,t.top+t.height)-o}}function o(e){if(0!==e.length){for(var t=e[0],n=1;n<e.length;n++)t=r(t,e[n]);return t}}n.d(t,{r:()=>o})},48678:(e,t,n)=>{"use strict";n.d(t,{$1:()=>f,Do:()=>v,E5:()=>p,NI:()=>x,Ub:()=>h,V1:()=>y,dh:()=>g,mK:()=>m});var r=n(75347),o=n(26397),i=n(21925),a=n(75795),s=n(17755),l=n(6494),u=n(2171),c=n(73553),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},d.apply(this,arguments)};function p(e,t){var n=e;if((0,l.wM)(e)){var r=e.ratio;t.forEach((function(e){(0,l.wM)(e)&&e.ratio.x===r.y&&e.ratio.y===r.x&&(n=e)}))}return n}function f(e){var t=(0,o.Md)((0,i.NV)(e));return t.x/t.y}function h(e,t,n,r){var o=null;if((0,l.rN)(e))o=r?n.y/n.x:n.x/n.y;else if((0,l.as)(e)){var a=(0,i.SM)(t);o=a.width/a.height}else(0,l.wM)(e)&&(o=e.ratio.x/e.ratio.y);if(null===o)throw new Error("Type of ".concat(e.name," aspectRatio was not handled in getConstrainedAspectRatio()"));return o}function m(e,t){return t.reduce((function(t,n){if((0,l.wM)(n)){var r=t.x/t.y,o=n.ratio.x/n.ratio.y;return Math.abs(o-e)<Math.abs(r-e)&&(t=d({},n.ratio)),t}return t}),{x:1,y:1})}function g(e,t,n){var r=d({},e),i=Math.hypot(e.width,e.height),a=(0,o.hF)({x:t,y:1}),s=(0,o.m1)(a,i);if(r.width=s.x,r.height=s.y,void 0!==n){var l=(0,u.nz)(n),c=(0,u.nM)(n);-1===l?r.left+=e.width-r.width:0===l&&(r.left+=(e.width-r.width)/2),-1===c?r.top+=e.height-r.height:0===c&&(r.top+=(e.height-r.height)/2)}return r}function v(e,t,n,r,o,i,s,l){var u=m(t.width/t.height,l),d=u.x/u.y,p=(0,a.c4)(t),f=(0,c.q)(o.x,p.left,p.left+p.width),h=(0,c.q)(o.y,p.top,p.top+p.height),g=1,v=1;p.width!==e.width&&(g=Math.max(g,Math.min(Math.round(f+r)-(i?p.left:p.width+p.left),n.width-t.width))),p.height!==e.height&&(v=Math.max(v,Math.min(Math.round(h+r)-(s?p.top:p.height+p.top),n.height-t.height)));for(var y=0;y<g;y++)for(var b=0;b<v;b++)if(Math.abs((p.width+y)/(p.height+b)-d)<1e-6)return i&&(p.left-=y),s&&(p.top-=b),p.width+=y,p.height+=b,p;return t}function y(e,t,n){var l=(0,i.SM)(e),u=(0,i.KN)(e),c=Math.hypot(l.width,l.height),d=(0,o.hF)({x:n,y:1}),p=(0,o.m1)(d,c),f=l.width/p.x,h=l.height/p.y,m={left:u.x-p.x/2,top:u.y-p.y/2,width:p.x,height:p.y},g=(0,i.Vq)(m),v=(0,s.OJ)(g,t);if(void 0!==v&&(v<=f||v<=h)){var y=(0,r.iQ)(-u.x,-u.y),b=(0,r.U3)(v),x=(0,r.iQ)(u.x,u.y),_=(0,r.ZG)(x,b,y,g);return(0,a.c4)((0,i.SM)(_))}return(0,a.c4)(m)}var b=.01;function x(e,t){return Math.abs(t.x/t.y-e)<b}},48701:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var r=n(37827).Cl},48812:(e,t,n)=>{"use strict";n.d(t,{J8:()=>g,Oo:()=>m,_S:()=>f,PV:()=>d,_s:()=>p,J:()=>h});var r=n(3041),o=n(31985),i=n(80559),a=n(26397),s=n(88873);var l,u={currentActivityKey:s.iF,cursorScreenPosition:a.xd,mouseCursorIsActive:!1,shouldShowCursorAtCenter:!1,radiusIsChanging:!1,brushByActivity:{Crop:{maskBrushRadiusInScreenPixels:17.5},Adjustment:{maskBrushRadiusInScreenPixels:17.5},Filter:{maskBrushRadiusInScreenPixels:17.5},Markup:{maskBrushRadiusInScreenPixels:17.5},Retouch:{maskBrushRadiusInScreenPixels:30},InPaint:{maskBrushRadiusInScreenPixels:17.5},Background:{maskBrushRadiusInScreenPixels:17.5},Relight:{maskBrushRadiusInScreenPixels:17.5},FocalPoint:{maskBrushRadiusInScreenPixels:17.5},Stylizer:{maskBrushRadiusInScreenPixels:17.5},SuperResolution:{maskBrushRadiusInScreenPixels:17.5}}},c=(0,r.Z0)({name:"brushCursor",initialState:u,reducers:{setBrushRadiusInScreenPixels:function(e,t){e.brushByActivity[e.currentActivityKey].maskBrushRadiusInScreenPixels=t.payload},setBrushRadiusIsChanging:function(e,t){e.radiusIsChanging=t.payload},setBrushCursorScreenPosition:function(e,t){e.cursorScreenPosition=t.payload,e.mouseCursorIsActive=!0},setShouldShowBrushCursorAtCenter:function(e,t){e.shouldShowCursorAtCenter=t.payload},setBrushCursorMouseIsActive:function(e,t){e.mouseCursorIsActive=t.payload}},extraReducers:function(e){e.addCase(o.Es,(function(e,t){e.mouseCursorIsActive=!0})),e.addCase(o.Td,(function(e,t){e.cursorScreenPosition=t.payload.pointerPhysicalPixelPos,e.mouseCursorIsActive=!0})),e.addCase(o.B$,(function(e,t){e.mouseCursorIsActive=!1})),e.addCase(i.Dx,(function(e,t){e.mouseCursorIsActive=!1,e.currentActivityKey=t.payload}))}}),d=(l=c.actions).setBrushRadiusInScreenPixels,p=l.setBrushRadiusIsChanging,f=l.setBrushCursorScreenPosition,h=l.setShouldShowBrushCursorAtCenter,m=l.setBrushCursorMouseIsActive,g=c.reducer},48842:(e,t,n)=>{"use strict";n.d(t,{S:()=>O});var r=n(37827),o=n(9950),i=n(14339),a=n(96042),s=n(23501),l=n(80762),u=n(21191),c=n(25380),d=n(68246),p=n(18746),f=n(19867),h=n(67483),m=n(43960),g=n(45867),v=n(28225),y=n(3691),b=n(45890),x=n(35606),_=n(23521),C=n(610),w=n(38452),S=n(43475),k=n(60721),T=function(e){var t=e.className,n=e.imageProps,i=(0,v.G1)(e,v.vt,["aria-label","aria-labelledby","title","aria-describedby"]),a=n.alt||e["aria-label"],l=a||e["aria-labelledby"]||e.title||n["aria-label"]||n["aria-labelledby"]||n.title,u={"aria-labelledby":e["aria-labelledby"],"aria-describedby":e["aria-describedby"],title:e.title},c=l?{}:{"aria-hidden":!0};return o.createElement("div",(0,r.Cl)({},c,i,{className:(0,s.A)(k.xD,k.xW.root,k.xW.image,t)}),o.createElement(S._,(0,r.Cl)({},u,n,{alt:l?a:""})))},E=n(44358),P=n(52945),I=n(14030),A=n(32e3),R=(0,a.J9)((function(e,t,n,r,o){return{root:(0,A.Zq)(e.splitButtonMenuButton,n&&[e.splitButtonMenuButtonExpanded],t&&[e.splitButtonMenuButtonDisabled],r&&!t&&[e.splitButtonMenuButtonChecked],o&&!t&&[{selectors:{":focus":e.splitButtonMenuFocused}}]),splitButtonContainer:(0,A.Zq)(e.splitButtonContainer,!t&&r&&[e.splitButtonContainerChecked,{selectors:{":hover":e.splitButtonContainerCheckedHovered}}],!t&&!r&&[{selectors:{":hover":e.splitButtonContainerHovered,":focus":e.splitButtonContainerFocused}}],t&&e.splitButtonContainerDisabled),icon:(0,A.Zq)(e.splitButtonMenuIcon,t&&e.splitButtonMenuIconDisabled,!t&&o&&e.splitButtonMenuIcon),flexContainer:(0,A.Zq)(e.splitButtonFlexContainer),divider:(0,A.Zq)(e.splitButtonDivider,(o||t)&&e.splitButtonDividerDisabled)}})),L=n(20721);var M=(0,a.J5)((function(e){var t=e;return(0,a.J5)((function(n){if(e===n)throw new Error("Attempted to compose a component with itself.");var i=n,s=(0,a.J5)((function(e){return function(t){return o.createElement(i,(0,r.Cl)({},t,{defaultRender:e}))}}));return function(e){var n=e.defaultRender;return o.createElement(t,(0,r.Cl)({},e,{defaultRender:n?s(n):i}))}}))}));var B="BaseButton",O=function(e){function t(t){var n=e.call(this,t)||this;return n._buttonElement=o.createRef(),n._splitButtonContainer=o.createRef(),n._mergedRef=(0,i.K)(),n._renderedVisibleMenu=!1,n._getMemoizedMenuButtonKeytipProps=(0,a.J9)((function(e){return(0,r.Cl)((0,r.Cl)({},e),{hasMenu:!0})})),n._onRenderIcon=function(e,t){var i=n.props.iconProps;if(i&&(void 0!==i.iconName||i.imageProps)){var a=i.className,l=i.imageProps,u=(0,r.Tt)(i,["className","imageProps"]);if(i.styles)return o.createElement(C.I,(0,r.Cl)({className:(0,s.A)(n._classNames.icon,a),imageProps:l},u));if(i.iconName)return o.createElement(w.l8,(0,r.Cl)({className:(0,s.A)(n._classNames.icon,a)},u));if(l)return o.createElement(T,(0,r.Cl)({className:(0,s.A)(n._classNames.icon,a),imageProps:l},u))}return null},n._onRenderTextContents=function(){var e=n.props,t=e.text,r=e.children,i=e.secondaryText,a=void 0===i?n.props.description:i,s=e.onRenderText,l=void 0===s?n._onRenderText:s,u=e.onRenderDescription,c=void 0===u?n._onRenderDescription:u;return t||"string"===typeof r||a?o.createElement("span",{className:n._classNames.textContainer},l(n.props,n._onRenderText),c(n.props,n._onRenderDescription)):[l(n.props,n._onRenderText),c(n.props,n._onRenderDescription)]},n._onRenderText=function(){var e=n.props.text,t=n.props.children;return void 0===e&&"string"===typeof t&&(e=t),n._hasText()?o.createElement("span",{key:n._labelId,className:n._classNames.label,id:n._labelId},e):null},n._onRenderChildren=function(){var e=n.props.children;return"string"===typeof e?null:e},n._onRenderDescription=function(e){var t=e.secondaryText,r=void 0===t?n.props.description:t;return r?o.createElement("span",{key:n._descriptionId,className:n._classNames.description,id:n._descriptionId},r):null},n._onRenderAriaDescription=function(){var e=n.props.ariaDescription;return e?o.createElement("span",{className:n._classNames.screenReaderText,id:n._ariaDescriptionId},e):null},n._onRenderMenuIcon=function(e){var t=n.props.menuIconProps;return o.createElement(w.l8,(0,r.Cl)({iconName:"ChevronDown"},t,{className:n._classNames.menuIcon}))},n._onRenderMenu=function(e){var t,i,a=n.props.menuAs?(t=n.props.menuAs,i=P.l,M(t)(i)):P.l;return o.createElement(a,(0,r.Cl)({},e))},n._onDismissMenu=function(e){var t=n.props.menuProps;t&&t.onDismiss&&t.onDismiss(e),e&&e.defaultPrevented||n._dismissMenu()},n._dismissMenu=function(){n._menuShouldFocusOnMount=void 0,n._menuShouldFocusOnContainer=void 0,n.setState({menuHidden:!0})},n._openMenu=function(e,t){void 0===t&&(t=!0),n.props.menuProps&&(n._menuShouldFocusOnContainer=e,n._menuShouldFocusOnMount=t,n._renderedVisibleMenu=!0,n.setState({menuHidden:!1}))},n._onToggleMenu=function(e){var t=!0;n.props.menuProps&&!1===n.props.menuProps.shouldFocusOnMount&&(t=!1),n.state.menuHidden?n._openMenu(e,t):n._dismissMenu()},n._onSplitContainerFocusCapture=function(e){var t=n._splitButtonContainer.current;!t||e.target&&(0,l.s)(e.target,t)||t.focus()},n._onSplitButtonPrimaryClick=function(e){n.state.menuHidden||n._dismissMenu(),!n._processingTouch&&n.props.onClick?n.props.onClick(e):n._processingTouch&&n._onMenuClick(e)},n._onKeyDown=function(e){!n.props.disabled||e.which!==u.c.enter&&e.which!==u.c.space?n.props.disabled||(n.props.menuProps?n._onMenuKeyDown(e):void 0!==n.props.onKeyDown&&n.props.onKeyDown(e)):(e.preventDefault(),e.stopPropagation())},n._onKeyUp=function(e){n.props.disabled||void 0===n.props.onKeyUp||n.props.onKeyUp(e)},n._onKeyPress=function(e){n.props.disabled||void 0===n.props.onKeyPress||n.props.onKeyPress(e)},n._onMouseUp=function(e){n.props.disabled||void 0===n.props.onMouseUp||n.props.onMouseUp(e)},n._onMouseDown=function(e){n.props.disabled||void 0===n.props.onMouseDown||n.props.onMouseDown(e)},n._onClick=function(e){n.props.disabled||(n.props.menuProps?n._onMenuClick(e):void 0!==n.props.onClick&&n.props.onClick(e))},n._onSplitButtonContainerKeyDown=function(e){e.which===u.c.enter||e.which===u.c.space?n._buttonElement.current&&(n._buttonElement.current.click(),e.preventDefault(),e.stopPropagation()):n._onMenuKeyDown(e)},n._onMenuKeyDown=function(e){if(!n.props.disabled){n.props.onKeyDown&&n.props.onKeyDown(e);var t=e.which===u.c.up,r=e.which===u.c.down;if(!e.defaultPrevented&&n._isValidMenuOpenKey(e)){var o=n.props.onMenuClick;o&&o(e,n.props),n._onToggleMenu(!1),e.preventDefault(),e.stopPropagation()}if(e.which!==u.c.enter&&e.which!==u.c.space||(0,c.Fy)(!0,e.target),!e.altKey&&!e.metaKey&&(t||r))if(!n.state.menuHidden&&n.props.menuProps)(void 0!==n._menuShouldFocusOnMount?n._menuShouldFocusOnMount:n.props.menuProps.shouldFocusOnMount)||(e.preventDefault(),e.stopPropagation(),n._menuShouldFocusOnMount=!0,n.forceUpdate())}},n._onTouchStart=function(){n._isSplitButton&&n._splitButtonContainer.current&&!("onpointerdown"in n._splitButtonContainer.current)&&n._handleTouchAndPointerEvent()},n._onMenuClick=function(e){var t=n.props,r=t.onMenuClick,o=t.menuProps;r&&r(e,n.props);var i="boolean"===typeof(null===o||void 0===o?void 0:o.shouldFocusOnContainer)?o.shouldFocusOnContainer:"mouse"===e.nativeEvent.pointerType;e.defaultPrevented||(n._onToggleMenu(i),e.preventDefault(),e.stopPropagation())},(0,d.f)(n),n._async=new p.j(n),n._events=new f.g(n),(0,h.J)(B,t,["menuProps","onClick"],"split",n.props.split),(0,m.A)(B,t,{rootProps:void 0,description:"secondaryText",toggled:"checked"}),n._labelId=(0,g.O)(),n._descriptionId=(0,g.O)(),n._ariaDescriptionId=(0,g.O)(),n.state={menuHidden:!0},n}return(0,r.C6)(t,e),Object.defineProperty(t.prototype,"_isSplitButton",{get:function(){return!!this.props.menuProps&&!!this.props.onClick&&!0===this.props.split},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e,t=this.props,n=t.ariaDescription,r=t.ariaLabel,o=t.ariaHidden,i=t.className,a=t.disabled,s=t.allowDisabledFocus,l=t.primaryDisabled,u=t.secondaryText,c=void 0===u?this.props.description:u,d=t.href,p=t.iconProps,f=t.menuIconProps,h=t.styles,m=t.checked,g=t.variantClassName,x=t.theme,_=t.toggle,C=t.getClassNames,w=t.role,S=this.state.menuHidden,k=a||l;this._classNames=C?C(x,i,g,p&&p.className,f&&f.className,k,m,!S,!!this.props.menuProps,this.props.split,!!s):(0,I.o)(x,h,i,g,p&&p.className,f&&f.className,k,!!this.props.menuProps,m,!S,this.props.split);var T=this,E=T._ariaDescriptionId,P=T._labelId,A=T._descriptionId,R=!k&&!!d,L=R?"a":"button",M=(0,v.G1)((0,y.kp)(R?{}:{type:"button"},this.props.rootProps,this.props),R?v.t0:v.uw,["disabled"]),B=r||M["aria-label"],O=void 0;n?O=E:c&&this.props.onRenderDescription!==b.K?O=A:M["aria-describedby"]&&(O=M["aria-describedby"]);var F=void 0;M["aria-labelledby"]?F=M["aria-labelledby"]:O&&!B&&(F=this._hasText()?P:void 0);var D=!(!1===this.props["data-is-focusable"]||a&&!s||this._isSplitButton),N="menuitemcheckbox"===w||"checkbox"===w,U=N||!0===_?!!m:void 0,z=(0,y.kp)(M,((e={className:this._classNames.root,ref:this._mergedRef(this.props.elementRef,this._buttonElement),disabled:k&&!s,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onClick:this._onClick,"aria-label":B,"aria-labelledby":F,"aria-describedby":O,"aria-disabled":k,"data-is-focusable":D})[N?"aria-checked":"aria-pressed"]=U,e));if(o&&(z["aria-hidden"]=!0),this._isSplitButton)return this._onRenderSplitButtonContent(L,z);if(this.props.menuProps){var j=this.props.menuProps.id,V=void 0===j?this._labelId+"-menu":j;(0,y.kp)(z,{"aria-expanded":!S,"aria-controls":S?null:V,"aria-haspopup":!0})}return this._onRenderContent(L,z)},t.prototype.componentDidMount=function(){this._isSplitButton&&this._splitButtonContainer.current&&("onpointerdown"in this._splitButtonContainer.current&&this._events.on(this._splitButtonContainer.current,"pointerdown",this._onPointerDown,!0),"onpointerup"in this._splitButtonContainer.current&&this.props.onPointerUp&&this._events.on(this._splitButtonContainer.current,"pointerup",this.props.onPointerUp,!0))},t.prototype.componentDidUpdate=function(e,t){this.props.onAfterMenuDismiss&&!t.menuHidden&&this.state.menuHidden&&this.props.onAfterMenuDismiss()},t.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},t.prototype.focus=function(){this._isSplitButton&&this._splitButtonContainer.current?((0,c.Fy)(!0),this._splitButtonContainer.current.focus()):this._buttonElement.current&&((0,c.Fy)(!0),this._buttonElement.current.focus())},t.prototype.dismissMenu=function(){this._dismissMenu()},t.prototype.openMenu=function(e,t){this._openMenu(e,t)},t.prototype._onRenderContent=function(e,t){var n=this,i=this.props,a=e,s=i.menuIconProps,l=i.menuProps,u=i.onRenderIcon,c=void 0===u?this._onRenderIcon:u,d=i.onRenderAriaDescription,p=void 0===d?this._onRenderAriaDescription:d,f=i.onRenderChildren,h=void 0===f?this._onRenderChildren:f,m=i.onRenderMenu,g=void 0===m?this._onRenderMenu:m,v=i.onRenderMenuIcon,y=void 0===v?this._onRenderMenuIcon:v,b=i.disabled,_=i.keytipProps;_&&l&&(_=this._getMemoizedMenuButtonKeytipProps(_));var C=function(e){return o.createElement(a,(0,r.Cl)({},t,e),o.createElement("span",{className:n._classNames.flexContainer,"data-automationid":"splitbuttonprimary"},c(i,n._onRenderIcon),n._onRenderTextContents(),p(i,n._onRenderAriaDescription),h(i,n._onRenderChildren),!n._isSplitButton&&(l||s||n.props.onRenderMenuIcon)&&y(n.props,n._onRenderMenuIcon),l&&!l.doNotLayer&&n._shouldRenderMenu()&&g(n._getMenuProps(l),n._onRenderMenu)))},w=_?o.createElement(L.x,{keytipProps:this._isSplitButton?void 0:_,ariaDescribedBy:t["aria-describedby"],disabled:b},(function(e){return C(e)})):C();return l&&l.doNotLayer?o.createElement(o.Fragment,null,w,this._shouldRenderMenu()&&g(this._getMenuProps(l),this._onRenderMenu)):o.createElement(o.Fragment,null,w,o.createElement(x.MO,null))},t.prototype._shouldRenderMenu=function(){var e=this.state.menuHidden,t=this.props,n=t.persistMenu,r=t.renderPersistedMenuHiddenOnMount;return!e||!(!n||!this._renderedVisibleMenu&&!r)},t.prototype._hasText=function(){return null!==this.props.text&&(void 0!==this.props.text||"string"===typeof this.props.children)},t.prototype._getMenuProps=function(e){var t=this.props.persistMenu,n=this.state.menuHidden;return e.ariaLabel||e.labelElementId||!this._hasText()||(e=(0,r.Cl)((0,r.Cl)({},e),{labelElementId:this._labelId})),(0,r.Cl)((0,r.Cl)({id:this._labelId+"-menu",directionalHint:E.A.bottomLeftEdge},e),{shouldFocusOnContainer:this._menuShouldFocusOnContainer,shouldFocusOnMount:this._menuShouldFocusOnMount,hidden:t?n:void 0,className:(0,s.A)("ms-BaseButton-menuhost",e.className),target:this._isSplitButton?this._splitButtonContainer.current:this._buttonElement.current,onDismiss:this._onDismissMenu})},t.prototype._onRenderSplitButtonContent=function(e,t){var n=this,i=this.props,a=i.styles,s=void 0===a?{}:a,l=i.disabled,u=i.allowDisabledFocus,c=i.checked,d=i.getSplitButtonClassNames,p=i.primaryDisabled,f=i.menuProps,h=i.toggle,m=i.role,g=i.primaryActionButtonProps,b=this.props.keytipProps,x=this.state.menuHidden,C=d?d(!!l,!x,!!c,!!u):s&&R(s,!!l,!x,!!c,!!p);(0,y.kp)(t,{onClick:void 0,onPointerDown:void 0,onPointerUp:void 0,tabIndex:-1,"data-is-focusable":!1}),b&&f&&(b=this._getMemoizedMenuButtonKeytipProps(b));var w=(0,v.G1)(t,[],["disabled"]);g&&(0,y.kp)(t,g);var S=function(i){return o.createElement("div",(0,r.Cl)({},w,{"data-ktp-target":i?i["data-ktp-target"]:void 0,role:m||"button","aria-disabled":l,"aria-haspopup":!0,"aria-expanded":!x,"aria-pressed":h?!!c:void 0,"aria-describedby":(0,_._)(t["aria-describedby"],i?i["aria-describedby"]:void 0),className:C&&C.splitButtonContainer,onKeyDown:n._onSplitButtonContainerKeyDown,onTouchStart:n._onTouchStart,ref:n._splitButtonContainer,"data-is-focusable":!0,onClick:l||p?void 0:n._onSplitButtonPrimaryClick,tabIndex:!l&&!p||u?0:void 0,"aria-roledescription":t["aria-roledescription"],onFocusCapture:n._onSplitContainerFocusCapture}),o.createElement("span",{style:{display:"flex",width:"100%"}},n._onRenderContent(e,t),n._onRenderSplitButtonMenuButton(C,i),n._onRenderSplitButtonDivider(C)))};return b?o.createElement(L.x,{keytipProps:b,disabled:l},(function(e){return S(e)})):S()},t.prototype._onRenderSplitButtonDivider=function(e){if(e&&e.divider){return o.createElement("span",{className:e.divider,"aria-hidden":!0,onClick:function(e){e.stopPropagation()}})}return null},t.prototype._onRenderSplitButtonMenuButton=function(e,n){var i=this.props,a=i.allowDisabledFocus,s=i.checked,l=i.disabled,u=i.splitButtonMenuProps,c=i.splitButtonAriaLabel,d=i.primaryDisabled,p=this.state.menuHidden,f=this.props.menuIconProps;void 0===f&&(f={iconName:"ChevronDown"});var h=(0,r.Cl)((0,r.Cl)({},u),{styles:e,checked:s,disabled:l,allowDisabledFocus:a,onClick:this._onMenuClick,menuProps:void 0,iconProps:(0,r.Cl)((0,r.Cl)({},f),{className:this._classNames.menuIcon}),ariaLabel:c,"aria-haspopup":!0,"aria-expanded":!p,"data-is-focusable":!1});return o.createElement(t,(0,r.Cl)({},h,{"data-ktp-execute-target":n?n["data-ktp-execute-target"]:n,onMouseDown:this._onMouseDown,tabIndex:d&&!a?0:-1}))},t.prototype._onPointerDown=function(e){var t=this.props.onPointerDown;t&&t(e),"touch"===e.pointerType&&(this._handleTouchAndPointerEvent(),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._handleTouchAndPointerEvent=function(){var e=this;void 0!==this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout((function(){e._processingTouch=!1,e._lastTouchTimeoutId=void 0,e.focus()}),500)},t.prototype._isValidMenuOpenKey=function(e){return this.props.menuTriggerKeyCode?e.which===this.props.menuTriggerKeyCode:!!this.props.menuProps&&(e.which===u.c.down&&(e.altKey||e.metaKey))},t.defaultProps={baseClassName:"ms-Button",styles:{},split:!1},t}(o.Component)},48872:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var r=n(35361);function o(){return(0,r.I)(null)}},48932:(e,t,n)=>{"use strict";n.d(t,{Cd:()=>l,Kz:()=>r,RX:()=>c,SL:()=>p,Yv:()=>u,ef:()=>s,hL:()=>f,jp:()=>d,oZ:()=>o,rd:()=>a,th:()=>i});var r=100,o=359,i=100,a=255,s=100,l=3,u=6,c=1,d=3,p=/^[\da-f]{0,6}$/i,f=/^\d{0,3}$/},49459:(e,t,n)=>{"use strict";function r(e,t,n){var r=function(e,t,n){if(e.length!==t*n*4)throw new Error("unexpected byte length");var r=document.createElement("canvas");r.width=t,r.height=n;var o=r.getContext("2d");if(!o)throw new Error("could not get canvas context");var i=o.createImageData(t,n),a=0,s=0,l=0;for(l=0;l<t*n;l++)i.data[s]=e[a],i.data[s+1]=e[a+1],i.data[s+2]=e[a+2],i.data[s+3]=e[a+3],a+=4,s+=4;return o.putImageData(i,0,0),r}(e,t,n);return r.toDataURL("png")}n.d(t,{W:()=>r})},49516:(e,t,n)=>{"use strict";n.d(t,{qP:()=>x,TM:()=>v,N2:()=>g,_e:()=>m});var r=n(32e3),o=n(38421),i=n(88873);var a,s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)},l=s(s({},(0,o.aW)(0)),{top:56,bottom:206});(a={})[i.x8]={top:80,left:24,right:24,bottom:149},a[i.km]=l,a[i.VO]=l,a[i.Zc]=l,a[i.X4]=l;var u={container:{borderRadius:"4px",overflow:"hidden"},body:{display:"flex",flexDirection:"column"},footer:{margin:"8px 16px"}};(0,r.TW)(u,{body:{position:"relative",justifyContent:"flex-end",alignItems:"center"}});var c,d,p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p.apply(this,arguments)},f=p(p({},(0,o.aW)(0)),{top:56,bottom:174});(c={})[i.x8]={top:80,left:24,right:24,bottom:149},c[i.km]=f,c[i.Zc]=f,c[i.X4]=f,c[i.VO]=f,(d={})[i.x8]=p(p({},(0,o.aW)(24)),{top:40}),d[i.km]=(0,o.aW)(0),d[i.Zc]=(0,o.aW)(0),d[i.X4]=p(p({},(0,o.aW)(0)),{left:12,right:12}),d[i.VO]=(0,o.aW)(0);var h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h.apply(this,arguments)};function m(e,t,n,r){return h(h(h(h({},r),e&&r.highlightBackgroundOverride),t&&r.activeBackgroundOverride),n&&r.disabledBackgroundOverride)}function g(e,t,n){return h(h(h({},n),e&&h(h({},y),null===n||void 0===n?void 0:n.activeNameOverride)),t&&(null===n||void 0===n?void 0:n.disabledNameOverride))}function v(e,t){return h(h({},t),e&&(null===t||void 0===t?void 0:t.activeIconOverride))}var y={fontWeight:"bold"};function b(e){return{background:{width:"48px",height:"48px",activeBackgroundOverride:{backgroundColor:e.palette.neutralQuaternary},highlightBackgroundOverride:{backgroundColor:e.palette.themeLighter},outlineColor:e.palette.neutralDark},icon:{fontSize:"20px",width:"20px",height:"20px",color:e.palette.neutralPrimaryAlt,fill:e.palette.neutralPrimaryAlt},name:{marginTop:"6px",activeNameOverride:{color:e.palette.black},padding:"0 5px",textAlign:"center",wordBreak:"break-word",wordWrap:"break-word"}}}function x(e){var t=b(e);return h({},t)}},49972:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var r=n(96042),o=n(32e3),i={outline:0},a=function(e){return{fontSize:e,margin:"0 4px",height:"16px",lineHeight:"16px",textAlign:"center",flexShrink:0}},s=(0,r.J9)((function(e){var t,n,r=e.semanticColors,s=e.effects,l=e.fonts,u=r.buttonBorder,c=r.disabledBackground,d=r.disabledText,p={left:-2,top:-2,bottom:-2,right:-2,outlineColor:"ButtonText"};return{root:[(0,o.gm)(e,{inset:1,highContrastStyle:p,borderColor:"transparent"}),e.fonts.medium,{border:"1px solid "+u,borderRadius:s.roundedCorner2,boxSizing:"border-box",cursor:"pointer",display:"inline-block",padding:"0 16px",textDecoration:"none",textAlign:"center",userSelect:"none",selectors:{":active > span":{position:"relative",left:0,top:0}}}],rootDisabled:[(0,o.gm)(e,{inset:1,highContrastStyle:p,borderColor:"transparent"}),{backgroundColor:c,borderColor:c,color:d,cursor:"default",selectors:{":hover":i,":focus":i}}],iconDisabled:{color:d,selectors:(t={},t[o.up]={color:"GrayText"},t)},menuIconDisabled:{color:d,selectors:(n={},n[o.up]={color:"GrayText"},n)},flexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},description:{display:"block"},textContainer:{flexGrow:1,display:"block"},icon:a(l.mediumPlus.fontSize),menuIcon:a(l.small.fontSize),label:{margin:"0 4px",lineHeight:"100%",display:"block"},screenReaderText:o.dX}}))},50276:(e,t,n)=>{"use strict";n.d(t,{FS:()=>T,YG:()=>P,$0:()=>S,Hq:()=>L,Sp:()=>E,ny:()=>I,sU:()=>A,eM:()=>R});var r=n(3041),o=n(31985),i=n(2339),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};var s=n(36386),l=n(73050);function u(e){return"markupContentItems"in e}var c=n(55018);function d(e,t){var n,r=e.markupContentItems.filter((function(e){return t.includes(e.id)}));(n=e.removedMarkupContentItems).push.apply(n,r),e.markupContentItems=e.markupContentItems.filter((function(e){return!t.includes(e.id)}))}var p={undoReducer:function(e,t){u(t.undoPayload)?(e.markupContentItems=t.undoPayload.markupContentItems,e.removedMarkupContentItems=t.undoPayload.removedMarkupContentItems):f(e,t.undoPayload),e.undoRedoStack.redoStack.push(t)},redoReducer:function(e,t){u(t.redoPayload)?(e.markupContentItems=t.redoPayload.markupContentItems,e.removedMarkupContentItems=t.redoPayload.removedMarkupContentItems):f(e,t.redoPayload),e.undoRedoStack.undoStack.push(t)},removeItemsReducer:function(e,t){e.undoRedoStack.undoStack=t},collapseItemsReducer:function(e,t,n){},afterClearRedoStacksReducer:function(e){var t=(0,c.e)(e.undoRedoStack.undoStack.map((function(e){var t=[];if(u(e.undoPayload)){var n=e.undoPayload,r=n.markupContentItems,o=n.removedMarkupContentItems;r.forEach((function(e){return t.push(e.id)})),o.forEach((function(e){return t.push(e.id)}))}else{var i=e.undoPayload,a=i.markupContentIdsToAdd,s=i.markupContentIdsToRemove;a&&t.push.apply(t,a),s&&t.push.apply(t,s)}return t})));e.removedMarkupContentItems=e.removedMarkupContentItems.filter((function(e){return null===t||void 0===t?void 0:t.includes(e.id)}))}};function f(e,t){var n=t.markupContentIdsToAdd,r=t.markupContentIdsToRemove,o=t.contentIdToReplace,i=t.replacementContent;if(n&&function(e,t){var n,r=e.removedMarkupContentItems.filter((function(e){return t.includes(e.id)}));(n=e.markupContentItems).push.apply(n,r),e.removedMarkupContentItems=e.removedMarkupContentItems.filter((function(e){return!t.includes(e.id)}))}(e,n),r&&d(e,r),o&&i){var a=e.markupContentItems.findIndex((function(e){return e.id===o}));a>=0&&(e.markupContentItems[a]=i)}}var h=n(76131),m=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};var g=n(41063),v=n(22379);function y(e){switch(e){case g.A.InkContent:return h.I.inkContent;case g.A.TextContent:return h.I.textContent;default:throw new v.x(e)}}var b=n(96992);var x,_=n(42838),C=n(97351),w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},S={markupContentItems:[],removedMarkupContentItems:[],undoRedoStack:{undoStack:[],redoStack:[],id:"markupUndoRedoStack"}},k=(0,r.Z0)({name:"MarkupSlice",initialState:S,reducers:{addMarkupContent:{reducer:function(e,t){e.markupContentItems.push(t.payload);var n=(0,s.Cy)(y(t.payload.contentType),{markupContentIdsToRemove:[t.payload.id]},{markupContentIdsToAdd:[t.payload.id]},l.Z.KeepAll);e.undoRedoStack.undoStack.push(n)},prepare:function(e){return{payload:function(e){var t=(0,i.b)();return a(a({},e),{id:t})}(e)}}},removeMarkupContent:function(e,t){!function(e,t){var n=t.payload;d(e,n);var r=(0,s.Cy)(h.I.eraseContent,{markupContentIdsToAdd:n},{markupContentIdsToRemove:n},l.Z.KeepAll);e.undoRedoStack.undoStack.push(r)}(e,t)},clearAllMarkupContent:function(e,t){!function(e,t){var n=e.markupContentItems.map((function(e){return e.id}));d(e,n),t.telemetry&&t.telemetry.logClearAllMarkupEvent({numberOfMarkupRemoved:n.length});var r=(0,s.Cy)(h.I.clearAllMarkupContent,{markupContentIdsToAdd:m([],n,!0)},{markupContentIdsToRemove:m([],n,!0)},l.Z.KeepAll);e.undoRedoStack.undoStack.push(r)}(e,t)},setActiveMarkupContentId:function(e,t){e.activeMarkupContentId=t.payload},setMarkupTextSelection:function(e,t){e.markupTextSelection=t.payload},setMarkupTextStyleAttributes:function(e,t){e.markupTextStyleAttributes=t.payload}},extraReducers:function(e){e.addCase(o.zj,(function(e,t){e.markupContentItems=S.markupContentItems,e.removedMarkupContentItems=S.removedMarkupContentItems,e.undoRedoStack=S.undoRedoStack})).addCase(o.y2,(function(e,t){var n=t.payload.markup,r=n.markupContentItems,o=n.undoRedoStack;r&&(e.markupContentItems=r),o&&(e.undoRedoStack=o)})).addCase(_.L,(function(e,t){var n=t.payload;!function(e,t,n){void 0===n&&(n=!0);var r=e.markupContentItems.findIndex((function(e){return e.id===t.id}));if(r>=0){if((0,b.v)(e.markupContentItems[r],t,5))return;if(n){var o=(0,s.Cy)(y(t.contentType),{contentIdToReplace:t.id,replacementContent:e.markupContentItems[r]},{contentIdToReplace:t.id,replacementContent:t},l.Z.KeepAll);e.undoRedoStack.undoStack.push(o)}e.markupContentItems[r]=t}}(e,n.content,n.isUndoRedoable)})).addCase(o.sP,(function(e,t){e.markupContentItems.length>0&&(0,C.s)(e,t.payload,"replaceImageMarkup",(function(e){S.undoRedoStack;var t=w(S,["undoRedoStack"]);Object.assign(e,t)}))})),(0,s.q$)(e,p)}}),T=(x=k.actions).addMarkupContent,E=x.removeMarkupContent,P=x.clearAllMarkupContent,I=x.setActiveMarkupContentId,A=x.setMarkupTextSelection,R=x.setMarkupTextStyleAttributes,L=k.reducer},50608:(e,t,n)=>{"use strict";n.d(t,{JP:()=>o,Kl:()=>i,mS:()=>a,vt:()=>r});var r={width:48,height:56},o="0 0 96 108",i="none",a="40px"},50630:(e,t,n)=>{"use strict";e.exports=n(72138)},51315:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var r={sliderMinValue:-100,sliderMaxValue:100,sliderStepValue:1,sliderValueFormat:function(e){return e.toFixed(0)},sliderDeadZoneOffset:4}},51448:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});n(26397);var r=n(22379),o=n(6246);n(13272);function i(e){var t=(0,o.G3)(e);switch(t){case"NoImage":case"Thumbnail":return!1;case"FullSize":case"Resized":return!0;default:throw new r.x(t)}}},51734:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var r=n(69187),o=n(37827),i=n(9950),a=n(28225),s=(0,n(56624).Z)({cacheSize:100}),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(t,e),t.prototype.render=function(){var e=this.props,t=e.as,n=void 0===t?"label":t,r=e.children,l=e.className,u=e.disabled,c=e.styles,d=e.required,p=e.theme,f=s(c,{className:l,disabled:u,required:d,theme:p});return i.createElement(n,(0,o.Cl)({},(0,a.G1)(this.props,a.JM),{className:f.root}),r)},t}(i.Component),u=n(32e3),c=(0,r.I)(l,(function(e){var t,n=e.theme,r=e.className,i=e.disabled,a=e.required,s=n.semanticColors,l=u.BO.semibold,c=s.bodyText,d=s.disabledBodyText,p=s.errorText;return{root:["ms-Label",n.fonts.medium,{fontWeight:l,color:c,boxSizing:"border-box",boxShadow:"none",margin:0,display:"block",padding:"5px 0",wordWrap:"break-word",overflowWrap:"break-word"},i&&{color:d,selectors:(t={},t[u.up]=(0,o.Cl)({color:"GrayText"},(0,u.Qg)()),t)},a&&{selectors:{"::after":{content:"' *'",color:p,paddingRight:12}}},r]}}),void 0,{scope:"Label"})},52483:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>r}),(0,n(97150).hN)([{rawString:".toolbar_eac3cb17{border-radius:8px 8px 0 0;padding:0 16px;-webkit-box-shadow:0 4px 8px rgba(0,0,0,.14),0 0 2px rgba(0,0,0,.12);box-shadow:0 4px 8px rgba(0,0,0,.14),0 0 2px rgba(0,0,0,.12);display:-webkit-box;display:-ms-flexbox;display:flex;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;pointer-events:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;z-index:100;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.toolbar_eac3cb17 .focusZone_eac3cb17{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media screen and (max-width:578px) and (orientation:landscape){.toolbar_eac3cb17 .focusZone_eac3cb17{width:100%}}@media screen and (max-width:578px) and (orientation:landscape){.toolbar_eac3cb17 span{width:100%}}.markupToolbarTooltip_eac3cb17{border:none;border-radius:4px;padding:6px}.toolbarButton_eac3cb17 .toolbarIcon_eac3cb17{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:relative;-webkit-transition:-webkit-transition .15s ease-in-out;transition:-webkit-transition .15s ease-in-out;transition:transition .15s ease-in-out;transition:transition .15s ease-in-out,-webkit-transition .15s ease-in-out}"}]);const r={toolbar:"toolbar_eac3cb17",focusZone:"focusZone_eac3cb17",markupToolbarTooltip:"markupToolbarTooltip_eac3cb17",toolbarButton:"toolbarButton_eac3cb17",toolbarIcon:"toolbarIcon_eac3cb17"}},52522:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9950);function o(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e})),t.current}},52569:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var r=n(73553),o=n(34745);function i(e,t){t=(0,r.q)(t,0,1),t*=e.length-1;var n=Math.floor(t),i=Math.ceil(t);if(t===n)return e[n];var a=e[n],s=e[i];return(0,o.Cc)(a,s,(0,o.U4)(n,i,t))}},52945:(e,t,n)=>{"use strict";n.d(t,{l:()=>Oe});var r,o=n(37827),i=n(9950),a=n(69187),s=n(77975);!function(e){e[e.Normal=0]="Normal",e[e.Divider=1]="Divider",e[e.Header=2]="Header",e[e.Section=3]="Section"}(r||(r={}));var l=n(44358),u=n(67825),c=n(71734),d=n(56624),p=n(96042),f=n(56340),h=n(3691),m=n(72684),g=n(21191),v=n(6461),y=n(55360),b=n(40208),x=n(58608),_=n(28225),C=n(23501),w=n(35606);function S(e){return e.canCheck?!(!e.isChecked&&!e.checked):"boolean"===typeof e.isChecked?e.isChecked:"boolean"===typeof e.checked?e.checked:null}function k(e){return!(!e.subMenuProps&&!e.items)}function T(e){return!(!e.isDisabled&&!e.disabled)}function E(e){return null!==S(e)?"menuitemcheckbox":"menuitem"}var P=n(88659),I=n(68246),A=n(610),R=function(e){var t=e.item,n=e.classNames,r=t.iconProps;return i.createElement(A.I,(0,o.Cl)({},r,{className:n.icon}))},L=function(e){var t=e.item;return e.hasIcons?t.onRenderIcon?t.onRenderIcon(e,R):R(e):null},M=function(e){var t=e.onCheckmarkClick,n=e.item,r=e.classNames,o=S(n);if(t){return i.createElement(A.I,{iconName:!1!==n.canCheck&&o?"CheckMark":"",className:r.checkmarkIcon,onClick:function(e){return t(n,e)}})}return null},B=function(e){var t=e.item,n=e.classNames;return t.text||t.name?i.createElement("span",{className:n.label},t.text||t.name):null},O=function(e){var t=e.item,n=e.classNames;return t.secondaryText?i.createElement("span",{className:n.secondaryText},t.secondaryText):null},F=function(e){var t=e.item,n=e.classNames,r=e.theme;return k(t)?i.createElement(A.I,(0,o.Cl)({iconName:(0,f.jI)(r)?"ChevronLeft":"ChevronRight"},t.submenuIconProps,{className:n.subMenuIcon})):null},D=function(e){function t(t){var n=e.call(this,t)||this;return n.openSubMenu=function(){var e=n.props,t=e.item,r=e.openSubMenu,o=e.getSubmenuTarget;if(o){var i=o();k(t)&&r&&i&&r(t,i)}},n.dismissSubMenu=function(){var e=n.props,t=e.item,r=e.dismissSubMenu;k(t)&&r&&r()},n.dismissMenu=function(e){var t=n.props.dismissMenu;t&&t(void 0,e)},(0,I.f)(n),n}return(0,o.C6)(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.classNames,r=t.onRenderContent||this._renderLayout;return i.createElement("div",{className:t.split?n.linkContentMenu:n.linkContent},r(this.props,{renderCheckMarkIcon:M,renderItemIcon:L,renderItemName:B,renderSecondaryText:O,renderSubMenuIcon:F}))},t.prototype._renderLayout=function(e,t){return i.createElement(i.Fragment,null,t.renderCheckMarkIcon(e),t.renderItemIcon(e),t.renderItemName(e),t.renderSecondaryText(e),t.renderSubMenuIcon(e))},t}(i.Component),N=n(32e3),U=(0,p.J9)((function(e){return(0,N.l8)({wrapper:{display:"inline-flex",height:"100%",alignItems:"center"},divider:{width:1,height:"100%",backgroundColor:e.palette.neutralTertiaryAlt}})})),z=36,j=(0,N.L6)(0,N.mm),V=(0,p.J9)((function(e){var t,n,r,i,a,s=e.semanticColors,l=e.fonts,u=e.palette,c=s.menuItemBackgroundHovered,d=s.menuItemTextHovered,p=s.menuItemBackgroundPressed,f=s.bodyDivider,h={item:[l.medium,{color:s.bodyText,position:"relative",boxSizing:"border-box"}],divider:{display:"block",height:"1px",backgroundColor:f,position:"relative"},root:[(0,N.gm)(e),l.medium,{color:s.bodyText,backgroundColor:"transparent",border:"none",width:"100%",height:z,lineHeight:z,display:"block",cursor:"pointer",padding:"0px 8px 0 4px",textAlign:"left"}],rootDisabled:{color:s.disabledBodyText,cursor:"default",pointerEvents:"none",selectors:(t={},t[N.up]={color:"GrayText",opacity:1},t)},rootHovered:{backgroundColor:c,color:d,selectors:{".ms-ContextualMenu-icon":{color:u.themeDarkAlt},".ms-ContextualMenu-submenuIcon":{color:u.neutralPrimary}}},rootFocused:{backgroundColor:u.white},rootChecked:{selectors:{".ms-ContextualMenu-checkmarkIcon":{color:u.neutralPrimary}}},rootPressed:{backgroundColor:p,selectors:{".ms-ContextualMenu-icon":{color:u.themeDark},".ms-ContextualMenu-submenuIcon":{color:u.neutralPrimary}}},rootExpanded:{backgroundColor:p,color:s.bodyTextChecked,selectors:(n={".ms-ContextualMenu-submenuIcon":(r={},r[N.up]={color:"inherit"},r)},n[N.up]=(0,o.Cl)({},(0,N.Qg)()),n)},linkContent:{whiteSpace:"nowrap",height:"inherit",display:"flex",alignItems:"center",maxWidth:"100%"},anchorLink:{padding:"0px 8px 0 4px",textRendering:"auto",color:"inherit",letterSpacing:"normal",wordSpacing:"normal",textTransform:"none",textIndent:"0px",textShadow:"none",textDecoration:"none",boxSizing:"border-box"},label:{margin:"0 4px",verticalAlign:"middle",display:"inline-block",flexGrow:"1",textOverflow:"ellipsis",whiteSpace:"nowrap"},secondaryText:{color:e.palette.neutralSecondary,paddingLeft:"20px",textAlign:"right"},icon:{display:"inline-block",minHeight:"1px",maxHeight:z,fontSize:N.fF.medium,width:N.fF.medium,margin:"0 4px",verticalAlign:"middle",flexShrink:"0",selectors:(i={},i[j]={fontSize:N.fF.large,width:N.fF.large},i)},iconColor:{color:s.menuIcon},iconDisabled:{color:s.disabledBodyText},checkmarkIcon:{color:s.bodySubtext},subMenuIcon:{height:z,lineHeight:z,color:u.neutralSecondary,textAlign:"center",display:"inline-block",verticalAlign:"middle",flexShrink:"0",fontSize:N.fF.small,selectors:(a={":hover":{color:u.neutralPrimary},":active":{color:u.neutralPrimary}},a[j]={fontSize:N.fF.medium},a)},splitButtonFlexContainer:[(0,N.gm)(e),{display:"flex",height:z,flexWrap:"nowrap",justifyContent:"center",alignItems:"flex-start"}]};return(0,N.TW)(h)})),W=n(25380),H="28px",q=(0,N.L6)(0,N.mm),K=(0,p.J9)((function(e){var t;return(0,N.l8)(U(e),{wrapper:{position:"absolute",right:28,selectors:(t={},t[q]={right:32},t)},divider:{height:16,width:1}})})),G={item:"ms-ContextualMenu-item",divider:"ms-ContextualMenu-divider",root:"ms-ContextualMenu-link",isChecked:"is-checked",isExpanded:"is-expanded",isDisabled:"is-disabled",linkContent:"ms-ContextualMenu-linkContent",linkContentMenu:"ms-ContextualMenu-linkContent",icon:"ms-ContextualMenu-icon",iconColor:"ms-ContextualMenu-iconColor",checkmarkIcon:"ms-ContextualMenu-checkmarkIcon",subMenuIcon:"ms-ContextualMenu-submenuIcon",label:"ms-ContextualMenu-itemText",secondaryText:"ms-ContextualMenu-secondaryText",splitMenu:"ms-ContextualMenu-splitMenu",screenReaderText:"ms-ContextualMenu-screenReaderText"},Z=(0,p.J9)((function(e,t,n,r,o,i,a,s,l,u,c,d){var p,f,h,m,g=V(e),v=(0,N.Km)(G,e);return(0,N.l8)({item:[v.item,g.item,a],divider:[v.divider,g.divider,s],root:[v.root,g.root,r&&[v.isChecked,g.rootChecked],o&&g.anchorLink,n&&[v.isExpanded,g.rootExpanded],t&&[v.isDisabled,g.rootDisabled],!t&&!n&&[{selectors:(p={":hover":g.rootHovered,":active":g.rootPressed},p["."+W.Y2+" &:focus, ."+W.Y2+" &:focus:hover"]=g.rootFocused,p["."+W.Y2+" &:hover"]={background:"inherit;"},p)}],d],splitPrimary:[g.root,{width:"calc(100% - 28px)"},r&&["is-checked",g.rootChecked],(t||c)&&["is-disabled",g.rootDisabled],!(t||c)&&!r&&[{selectors:(f={":hover":g.rootHovered},f[":hover ~ ."+v.splitMenu]=g.rootHovered,f[":active"]=g.rootPressed,f["."+W.Y2+" &:focus, ."+W.Y2+" &:focus:hover"]=g.rootFocused,f["."+W.Y2+" &:hover"]={background:"inherit;"},f)}]],splitMenu:[v.splitMenu,g.root,{flexBasis:"0",padding:"0 8px",minWidth:H},n&&["is-expanded",g.rootExpanded],t&&["is-disabled",g.rootDisabled],!t&&!n&&[{selectors:(h={":hover":g.rootHovered,":active":g.rootPressed},h["."+W.Y2+" &:focus, ."+W.Y2+" &:focus:hover"]=g.rootFocused,h["."+W.Y2+" &:hover"]={background:"inherit;"},h)}]],anchorLink:g.anchorLink,linkContent:[v.linkContent,g.linkContent],linkContentMenu:[v.linkContentMenu,g.linkContent,{justifyContent:"center"}],icon:[v.icon,i&&g.iconColor,g.icon,l,t&&[v.isDisabled,g.iconDisabled]],iconColor:g.iconColor,checkmarkIcon:[v.checkmarkIcon,i&&g.checkmarkIcon,g.icon,l],subMenuIcon:[v.subMenuIcon,g.subMenuIcon,u,n&&{color:e.palette.neutralPrimary},t&&[g.iconDisabled]],label:[v.label,g.label],secondaryText:[v.secondaryText,g.secondaryText],splitContainer:[g.splitButtonFlexContainer,!t&&!r&&[{selectors:(m={},m["."+W.Y2+" &:focus, ."+W.Y2+" &:focus:hover"]=g.rootFocused,m)}]],screenReaderText:[v.screenReaderText,g.screenReaderText,N.dX,{visibility:"hidden"}]})})),X=function(e){var t=e.theme,n=e.disabled,r=e.expanded,o=e.checked,i=e.isAnchorLink,a=e.knownIcon,s=e.itemClassName,l=e.dividerClassName,u=e.iconClassName,c=e.subMenuClassName,d=e.primaryDisabled,p=e.className;return Z(t,n,r,o,i,a,s,l,u,c,d,p)},Y=(0,a.I)(D,X,void 0,{scope:"ContextualMenuItem"}),Q=n(45867),J=n(23521),$=function(e){function t(t){var n=e.call(this,t)||this;return n._onItemMouseEnter=function(e){var t=n.props,r=t.item,o=t.onItemMouseEnter;o&&o(r,e,e.currentTarget)},n._onItemClick=function(e){var t=n.props,r=t.item,o=t.onItemClickBase;o&&o(r,e,e.currentTarget)},n._onItemMouseLeave=function(e){var t=n.props,r=t.item,o=t.onItemMouseLeave;o&&o(r,e)},n._onItemKeyDown=function(e){var t=n.props,r=t.item,o=t.onItemKeyDown;o&&o(r,e)},n._onItemMouseMove=function(e){var t=n.props,r=t.item,o=t.onItemMouseMove;o&&o(r,e,e.currentTarget)},n._getSubmenuTarget=function(){},(0,I.f)(n),n}return(0,o.C6)(t,e),t.prototype.shouldComponentUpdate=function(e){return!(0,h.ab)(e,this.props)},t}(i.Component),ee=n(20721),te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._anchor=i.createRef(),t._getMemoizedMenuButtonKeytipProps=(0,p.J9)((function(e){return(0,o.Cl)((0,o.Cl)({},e),{hasMenu:!0})})),t._getSubmenuTarget=function(){return t._anchor.current?t._anchor.current:void 0},t._onItemClick=function(e){var n=t.props,r=n.item,o=n.onItemClick;o&&o(r,e)},t._renderAriaDescription=function(e,n){return e?i.createElement("span",{id:t._ariaDescriptionId,className:n},e):null},t}return(0,o.C6)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.item,r=t.classNames,a=t.index,s=t.focusableElementIndex,l=t.totalItemCount,u=t.hasCheckmarks,c=t.hasIcons,d=t.contextualMenuItemAs,p=void 0===d?Y:d,f=t.expandedMenuItemKey,h=t.onItemClick,m=t.openSubMenu,g=t.dismissSubMenu,v=t.dismissMenu,y=n.rel;n.target&&"_blank"===n.target.toLowerCase()&&(y=y||"nofollow noopener noreferrer");var b=k(n),x=(0,_.G1)(n,_.t0),C=T(n),w=n.itemProps,S=n.ariaDescription,E=n.keytipProps;E&&b&&(E=this._getMemoizedMenuButtonKeytipProps(E)),S&&(this._ariaDescriptionId=(0,Q.O)());var P=(0,J._)(n.ariaDescribedBy,S?this._ariaDescriptionId:void 0,x["aria-describedby"]),I={"aria-describedby":P};return i.createElement("div",null,i.createElement(ee.x,{keytipProps:n.keytipProps,ariaDescribedBy:P,disabled:C},(function(t){return i.createElement("a",(0,o.Cl)({},I,x,t,{ref:e._anchor,href:n.href,target:n.target,rel:y,className:r.root,role:"menuitem","aria-haspopup":b||void 0,"aria-expanded":b?n.key===f:void 0,"aria-posinset":s+1,"aria-setsize":l,"aria-disabled":T(n),style:n.style,onClick:e._onItemClick,onMouseEnter:e._onItemMouseEnter,onMouseLeave:e._onItemMouseLeave,onMouseMove:e._onItemMouseMove,onKeyDown:b?e._onItemKeyDown:void 0}),i.createElement(p,(0,o.Cl)({componentRef:n.componentRef,item:n,classNames:r,index:a,onCheckmarkClick:u&&h?h:void 0,hasIcons:c,openSubMenu:m,dismissSubMenu:g,dismissMenu:v,getSubmenuTarget:e._getSubmenuTarget},w)),e._renderAriaDescription(S,r.screenReaderText))})))},t}($),ne=n(18746),re=n(19867),oe=(0,d.Z)(),ie=i.forwardRef((function(e,t){var n=e.styles,r=e.theme,o=e.getClassNames,a=e.className,s=oe(n,{theme:r,getClassNames:o,className:a});return i.createElement("span",{className:s.wrapper,ref:t},i.createElement("span",{className:s.divider}))}));ie.displayName="VerticalDividerBase";var ae=(0,a.I)(ie,(function(e){var t=e.theme,n=e.getClassNames,r=e.className;if(!t)throw new Error("Theme is undefined or null.");if(n){var o=n(t);return{wrapper:[o.wrapper],divider:[o.divider]}}return{wrapper:[{display:"inline-flex",height:"100%",alignItems:"center"},r],divider:[{width:1,height:"100%",backgroundColor:t.palette.neutralTertiaryAlt}]}}),void 0,{scope:"VerticalDivider"}),se=function(e){function t(t){var n=e.call(this,t)||this;return n._getMemoizedMenuButtonKeytipProps=(0,p.J9)((function(e){return(0,o.Cl)((0,o.Cl)({},e),{hasMenu:!0})})),n._onItemKeyDown=function(e){var t=n.props,r=t.item,o=t.onItemKeyDown;e.which===g.c.enter?(n._executeItemClick(e),e.preventDefault(),e.stopPropagation()):o&&o(r,e)},n._getSubmenuTarget=function(){return n._splitButton},n._renderAriaDescription=function(e,t){return e?i.createElement("span",{id:n._ariaDescriptionId,className:t},e):null},n._onItemMouseEnterPrimary=function(e){var t=n.props,r=t.item,i=t.onItemMouseEnter;i&&i((0,o.Cl)((0,o.Cl)({},r),{subMenuProps:void 0,items:void 0}),e,n._splitButton)},n._onItemMouseEnterIcon=function(e){var t=n.props,r=t.item,o=t.onItemMouseEnter;o&&o(r,e,n._splitButton)},n._onItemMouseMovePrimary=function(e){var t=n.props,r=t.item,i=t.onItemMouseMove;i&&i((0,o.Cl)((0,o.Cl)({},r),{subMenuProps:void 0,items:void 0}),e,n._splitButton)},n._onItemMouseMoveIcon=function(e){var t=n.props,r=t.item,o=t.onItemMouseMove;o&&o(r,e,n._splitButton)},n._onIconItemClick=function(e){var t=n.props,r=t.item,o=t.onItemClickBase;o&&o(r,e,n._splitButton?n._splitButton:e.currentTarget)},n._executeItemClick=function(e){var t=n.props,r=t.item,o=t.executeItemClick,i=t.onItemClick;if(!r.disabled&&!r.isDisabled)return n._processingTouch&&i?i(r,e):void(o&&o(r,e))},n._onTouchStart=function(e){n._splitButton&&!("onpointerdown"in n._splitButton)&&n._handleTouchAndPointerEvent(e)},n._onPointerDown=function(e){"touch"===e.pointerType&&(n._handleTouchAndPointerEvent(e),e.preventDefault(),e.stopImmediatePropagation())},n._async=new ne.j(n),n._events=new re.g(n),n}return(0,o.C6)(t,e),t.prototype.componentDidMount=function(){this._splitButton&&"onpointerdown"in this._splitButton&&this._events.on(this._splitButton,"pointerdown",this._onPointerDown,!0)},t.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},t.prototype.render=function(){var e=this,t=this.props,n=t.item,r=t.classNames,a=t.index,s=t.focusableElementIndex,l=t.totalItemCount,u=t.hasCheckmarks,c=t.hasIcons,d=t.onItemMouseLeave,p=t.expandedMenuItemKey,f=k(n),h=n.keytipProps;h&&(h=this._getMemoizedMenuButtonKeytipProps(h));var m=n.ariaDescription;return m&&(this._ariaDescriptionId=(0,Q.O)()),i.createElement(ee.x,{keytipProps:h,disabled:T(n)},(function(t){return i.createElement("div",{"data-ktp-target":t["data-ktp-target"],ref:function(t){return e._splitButton=t},role:E(n),"aria-label":n.ariaLabel,className:r.splitContainer,"aria-disabled":T(n),"aria-expanded":f?n.key===p:void 0,"aria-haspopup":!0,"aria-describedby":(0,J._)(n.ariaDescribedBy,m?e._ariaDescriptionId:void 0,t["aria-describedby"]),"aria-checked":n.isChecked||n.checked,"aria-posinset":s+1,"aria-setsize":l,onMouseEnter:e._onItemMouseEnterPrimary,onMouseLeave:d?d.bind(e,(0,o.Cl)((0,o.Cl)({},n),{subMenuProps:null,items:null})):void 0,onMouseMove:e._onItemMouseMovePrimary,onKeyDown:e._onItemKeyDown,onClick:e._executeItemClick,onTouchStart:e._onTouchStart,tabIndex:0,"data-is-focusable":!0,"aria-roledescription":n["aria-roledescription"]},e._renderSplitPrimaryButton(n,r,a,u,c),e._renderSplitDivider(n),e._renderSplitIconButton(n,r,a,t),e._renderAriaDescription(m,r.screenReaderText))}))},t.prototype._renderSplitPrimaryButton=function(e,t,n,r,a){var s=this.props,l=s.contextualMenuItemAs,u=void 0===l?Y:l,c=s.onItemClick,d={key:e.key,disabled:T(e)||e.primaryDisabled,name:e.name,text:e.text||e.name,secondaryText:e.secondaryText,className:t.splitPrimary,canCheck:e.canCheck,isChecked:e.isChecked,checked:e.checked,iconProps:e.iconProps,onRenderIcon:e.onRenderIcon,data:e.data,"data-is-focusable":!1},p=e.itemProps;return i.createElement("button",(0,o.Cl)({},(0,_.G1)(d,_.uw)),i.createElement(u,(0,o.Cl)({"data-is-focusable":!1,item:d,classNames:t,index:n,onCheckmarkClick:r&&c?c:void 0,hasIcons:a},p)))},t.prototype._renderSplitDivider=function(e){var t=e.getSplitButtonVerticalDividerClassNames||K;return i.createElement(ae,{getClassNames:t})},t.prototype._renderSplitIconButton=function(e,t,n,r){var a=this.props,s=a.contextualMenuItemAs,l=void 0===s?Y:s,u=a.onItemMouseLeave,c=a.onItemMouseDown,d=a.openSubMenu,p=a.dismissSubMenu,f=a.dismissMenu,h={onClick:this._onIconItemClick,disabled:T(e),className:t.splitMenu,subMenuProps:e.subMenuProps,submenuIconProps:e.submenuIconProps,split:!0,key:e.key},m=(0,o.Cl)((0,o.Cl)({},(0,_.G1)(h,_.uw)),{onMouseEnter:this._onItemMouseEnterIcon,onMouseLeave:u?u.bind(this,e):void 0,onMouseDown:function(t){return c?c(e,t):void 0},onMouseMove:this._onItemMouseMoveIcon,"data-is-focusable":!1,"data-ktp-execute-target":r["data-ktp-execute-target"],"aria-hidden":!0}),g=e.itemProps;return i.createElement("button",(0,o.Cl)({},m),i.createElement(l,(0,o.Cl)({componentRef:e.componentRef,item:h,classNames:t,index:n,hasIcons:!1,openSubMenu:d,dismissSubMenu:p,dismissMenu:f,getSubmenuTarget:this._getSubmenuTarget},g)))},t.prototype._handleTouchAndPointerEvent=function(e){var t=this,n=this.props.onTap;n&&n(e),this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout((function(){t._processingTouch=!1,t._lastTouchTimeoutId=void 0}),500)},t}($),le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._btn=i.createRef(),t._getMemoizedMenuButtonKeytipProps=(0,p.J9)((function(e){return(0,o.Cl)((0,o.Cl)({},e),{hasMenu:!0})})),t._renderAriaDescription=function(e,n){return e?i.createElement("span",{id:t._ariaDescriptionId,className:n},e):null},t._getSubmenuTarget=function(){return t._btn.current?t._btn.current:void 0},t}return(0,o.C6)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.item,r=t.classNames,a=t.index,s=t.focusableElementIndex,l=t.totalItemCount,u=t.hasCheckmarks,c=t.hasIcons,d=t.contextualMenuItemAs,p=void 0===d?Y:d,f=t.expandedMenuItemKey,h=t.onItemMouseDown,m=t.onItemClick,g=t.openSubMenu,v=t.dismissSubMenu,y=t.dismissMenu,b=S(n),x=null!==b,C=E(n),w=k(n),P=n.itemProps,I=n.ariaLabel,A=n.ariaDescription,R=(0,_.G1)(n,_.uw);delete R.disabled;var L=n.role||C;A&&(this._ariaDescriptionId=(0,Q.O)());var M=(0,J._)(n.ariaDescribedBy,A?this._ariaDescriptionId:void 0,R["aria-describedby"]),B={className:r.root,onClick:this._onItemClick,onKeyDown:w?this._onItemKeyDown:void 0,onMouseEnter:this._onItemMouseEnter,onMouseLeave:this._onItemMouseLeave,onMouseDown:function(e){return h?h(n,e):void 0},onMouseMove:this._onItemMouseMove,href:n.href,title:n.title,"aria-label":I,"aria-describedby":M,"aria-haspopup":w||void 0,"aria-expanded":w?n.key===f:void 0,"aria-posinset":s+1,"aria-setsize":l,"aria-disabled":T(n),"aria-checked":"menuitemcheckbox"!==L&&"menuitemradio"!==L||!x?void 0:!!b,"aria-selected":"menuitem"===L&&x?!!b:void 0,role:L,style:n.style},O=n.keytipProps;return O&&w&&(O=this._getMemoizedMenuButtonKeytipProps(O)),i.createElement(ee.x,{keytipProps:O,ariaDescribedBy:M,disabled:T(n)},(function(t){return i.createElement("button",(0,o.Cl)({ref:e._btn},R,B,t),i.createElement(p,(0,o.Cl)({componentRef:n.componentRef,item:n,classNames:r,index:a,onCheckmarkClick:u&&m?m:void 0,hasIcons:c,openSubMenu:g,dismissSubMenu:v,dismissMenu:y,getSubmenuTarget:e._getSubmenuTarget},P)),e._renderAriaDescription(A,r.screenReaderText))}))},t}($),ue=n(52522),ce=n(88114),de=n(46707),pe=n(53247);var fe=n(59366),he=n(14771),me=n(37212),ge=i.createContext({}),ve=(0,d.Z)(),ye=(0,d.Z)(),be={items:[],shouldFocusOnMount:!0,gapSpace:0,directionalHint:l.A.bottomAutoEdge,beakWidth:16};function xe(e,t){var n=null===t||void 0===t?void 0:t.target,r=e.subMenuProps?e.subMenuProps.items:e.items;if(r){for(var i=[],a=0,s=r;a<s.length;a++){var l=s[a];if(l.preferMenuTargetAsEventTarget){var u=l.onClick,c=(0,o.Tt)(l,["onClick"]);i.push((0,o.Cl)((0,o.Cl)({},c),{onClick:Ae(u,n)}))}else i.push(l)}return i}}var _e="ContextualMenu",Ce=(0,p.J9)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return N.pB.apply(void 0,(0,o.fX)([t,X],e))}}));function we(e,t){var n=e.hidden,r=e.items,o=e.theme,a=e.className,s=e.id,u=e.target,c=i.useState(),d=c[0],p=c[1],m=i.useState(),g=m[0],v=m[1],y=i.useState(),b=y[0],x=y[1],_=(0,ce.B)(_e,s),C=i.useCallback((function(){x(void 0),p(void 0),v(void 0)}),[]),w=i.useCallback((function(e,t,n){var r=e.key;d!==r&&(t.focus(),x(n),p(r),v(t))}),[d]);i.useEffect((function(){n&&C()}),[n,C]);var S=function(e,t){var n=i.useRef(!1);i.useEffect((function(){return n.current=!0,function(){n.current=!1}}),[]);var r=function(r,o){o?e(r,o):n.current&&t()};return r}(t,C);return[d,w,function(){var e=Ie(d,r),t=null;if(e&&(t={items:xe(e,{target:u}),target:g,onDismiss:S,isSubMenu:!0,id:_,shouldFocusOnMount:!0,shouldFocusOnContainer:b,directionalHint:(0,f.jI)(o)?l.A.leftTopEdge:l.A.rightTopEdge,className:a,gapSpace:0,isBeakVisible:!1},e.subMenuProps&&(0,h.kp)(t,e.subMenuProps),e.preferMenuTargetAsEventTarget)){var n=e.onItemClick;t.onItemClick=Ae(n,u)}return t},S]}function Se(e,t,n,r){var o=e.theme,a=e.isSubMenu,s=e.focusZoneProps,l=void 0===s?{}:s,c=l.checkForNoWrap,d=l.direction,p=void 0===d?u.E.vertical:d,h=i.useRef(),m=function(e,n,r){var o=!1;return n(e)&&(t(e,r),e.preventDefault(),e.stopPropagation(),o=!0),o},x=function(e){return e.which===g.c.escape||function(e){var t=(0,f.jI)(o)?g.c.right:g.c.left;return!(e.which!==t||!a)&&!(p!==u.E.vertical&&(!c||(0,v._l)(e.target,"data-no-horizontal-wrap")))}(e)||e.which===g.c.up&&(e.altKey||e.metaKey)},_=function(e){h.current=Te(e);var t=e.which===g.c.escape&&((0,y.c)()||(0,b.u)());return m(e,x,t)},C=function(e){var t=h.current&&Te(e);return h.current=!1,!!t&&!((0,b.u)()||(0,y.c)())};return[_,function(e){return m(e,C,!0)},function(e){if(!_(e)&&n.current){var t=!(!e.altKey&&!e.metaKey),r=e.which===g.c.up,o=e.which===g.c.down;if(!t&&(r||o)){var i=r?(0,v.dm)(n.current,n.current.lastChild,!0):(0,v.j5)(n.current,n.current.firstChild,!0);i&&(i.focus(),e.preventDefault(),e.stopPropagation())}}},function(e,t){var n=(0,f.jI)(o)?g.c.left:g.c.right;e.disabled||t.which!==n&&t.which!==g.c.enter&&(t.which!==g.c.down||!t.altKey&&!t.metaKey)||(r(e,t.currentTarget),t.preventDefault())}]}var ke=i.memo(i.forwardRef((function(e,t){var n,a=(0,x.N)(be,e),s=(a.ref,(0,o.Tt)(a,["ref"])),l=i.useRef(null),d=(0,pe.Y)(),p=(0,ce.B)(_e,s.id),f=function(e,t){var n;return null===(n=s.onDismiss)||void 0===n?void 0:n.call(s,e,t)},h=(0,fe.P)(s.target,l),g=h[0],v=h[1],y=function(e,t,n){var r=e.hidden,o=e.onRestoreFocus,a=i.useRef(),s=i.useCallback((function(e){var t,n;o?o(e):(null===e||void 0===e?void 0:e.documentContainsFocus)&&(null===(n=null===(t=a.current)||void 0===t?void 0:t.focus)||void 0===n||n.call(t))}),[o]);return(0,de.E)((function(){var e,o;if(r)a.current&&(s({originalElement:a.current,containsFocus:!0,documentContainsFocus:(null===(o=(0,m.Y)())||void 0===o?void 0:o.hasFocus())||!1}),a.current=void 0);else{var i=null===t||void 0===t?void 0:t.document.activeElement;(null===(e=n.current)||void 0===e?void 0:e.contains(i))||"BODY"===i.tagName||(a.current=i)}}),[r,null===t||void 0===t?void 0:t.document.activeElement,s,n]),[s]}(s,v,l)[0],b=we(s,f),E=b[0],I=b[1],A=b[2],R=b[3],L=function(e){var t=e.delayUpdateFocusOnHover,n=e.hidden,r=i.useRef(!t),o=i.useRef(!1);i.useEffect((function(){r.current=!t,o.current=!n&&!t&&o.current}),[t,n]);var a=i.useCallback((function(){t&&(r.current=!1)}),[t]);return[r,o,a]}(s),M=L[0],B=L[1],O=L[2],F=function(e){var t=i.useRef(!0),n=i.useRef();return[function(){t.current||void 0===n.current?t.current=!1:(e.clearTimeout(n.current),n.current=void 0),n.current=e.setTimeout((function(){t.current=!0}),250)},t]}(d),D=F[0],N=F[1],U=function(e,t){var n=e.subMenuHoverDelay,r=void 0===n?250:n,o=i.useRef(void 0),a=function(){void 0!==o.current&&(t.clearTimeout(o.current),o.current=void 0)};return[a,function(e){o.current=t.setTimeout((function(){e(),a()}),r)},o]}(s,d),z=U[0],j=U[1],V=U[2],W=(0,he.z)(l,s.responsiveMode);!function(e){var t=e.hidden,n=void 0!==t&&t,r=e.onMenuDismissed,o=e.onMenuOpened,a=(0,ue.Z)(n),s=i.useRef(o),l=i.useRef(r),u=i.useRef(e);s.current=o,l.current=r,u.current=e,i.useEffect((function(){var e,t;n&&!1===a?null===(e=l.current)||void 0===e||e.call(l,u.current):n||!1===a||null===(t=s.current)||void 0===t||t.call(s,u.current)}),[n,a]),i.useEffect((function(){return function(){var e;return null===(e=l.current)||void 0===e?void 0:e.call(l,u.current)}}),[])}(s);var H=Se(s,f,l,I),q=H[0],K=H[1],G=H[2],Z=H[3],X=function(e,t,n,r,o,i,a,s,l,u,c,d,p){var f=e.target,h=function(){return!t.current||!i.current},m=function(e,t,n){var r=n||t.currentTarget;e.key!==a&&(u(),void 0===a&&r.focus(),k(e)?(t.stopPropagation(),l((function(){r.focus(),c(e,r,!0)}))):l((function(){d(t),r.focus()})))},g=function(t,n,r){var o=xe(t,{target:f});if(u(),k(t)||o&&o.length){if(t.key!==a){var i="boolean"===typeof e.shouldFocusOnContainer?e.shouldFocusOnContainer:"mouse"===n.nativeEvent.pointerType;c(t,r,i)}}else v(t,n);n.stopPropagation(),n.preventDefault()},v=function(t,n){if(!t.disabled&&!t.isDisabled){t.preferMenuTargetAsEventTarget&&Re(n,f);var r=!1;t.onClick?r=!!t.onClick(n,t):e.onItemClick&&(r=!!e.onItemClick(n,t)),!r&&n.defaultPrevented||p(n,!0)}};return[function(e,t,n){o.current&&(i.current=!0),h()||m(e,t,n)},function(e,a,s){var l=a.currentTarget;o.current&&(i.current=!0,t.current&&void 0===n.current&&l!==(null===r||void 0===r?void 0:r.document.activeElement)&&m(e,a,s))},function(e,t){var n;if(!h()&&(u(),void 0===a))if(s.current.setActive)try{s.current.setActive()}catch(r){}else null===(n=s.current)||void 0===n||n.focus()},function(e,t){g(e,t,t.currentTarget)},function(e,t){v(e,t),t.stopPropagation()},v,g]}(s,N,V,v,M,B,E,l,j,z,I,R,f),Q=X[0],J=X[1],$=X[2],ee=X[3],ne=X[4],re=X[5],oe=X[6],ie=function(e,t,n){var o=0,a=e.items,s=e.totalItemCount,l=e.hasCheckmarks,u=e.hasIcons;return i.createElement("ul",{className:t.list,onKeyDown:q,onKeyUp:K,role:"presentation"},a.map((function(e,n){var i=ae(e,n,o,s,l,u,t);if(e.itemType!==r.Divider&&e.itemType!==r.Header){var a=e.customOnRenderListLength?e.customOnRenderListLength:1;o+=a}return i})))},ae=function(e,t,n,o,a,l,u){var c,d,p=[],f=e.iconProps||{iconName:"None"},h=e.getItemClassNames,m=e.itemProps,g=m?m.styles:void 0,v=e.itemType===r.Divider?e.className:void 0,y=e.submenuIconProps?e.submenuIconProps.className:"";if(h)d=h(s.theme,T(e),E===e.key,!!S(e),!!e.href,"None"!==f.iconName,e.className,v,f.className,y,e.primaryDisabled);else{var b={theme:s.theme,disabled:T(e),expanded:E===e.key,checked:!!S(e),isAnchorLink:!!e.href,knownIcon:"None"!==f.iconName,itemClassName:e.className,dividerClassName:v,iconClassName:f.className,subMenuClassName:y,primaryDisabled:e.primaryDisabled};d=ye(Ce(null===(c=u.subComponentStyles)||void 0===c?void 0:c.menuItem,g),b)}switch("-"!==e.text&&"-"!==e.name||(e.itemType=r.Divider),e.itemType){case r.Divider:p.push(Ie(t,d));break;case r.Header:p.push(Ie(t,d));var x=Le(e,d,u,t,a,l);p.push(Te(x,e.key||t,d,e.title));break;case r.Section:p.push(ke(e,d,u,t,a,l));break;default:var _=function(){return Ae(e,d,t,n,o,a,l)},C=s.onRenderContextualMenuItem?s.onRenderContextualMenuItem(e,_):_();p.push(Te(C,e.key||t,d,e.title))}return i.createElement(i.Fragment,{key:e.key},p)},ke=function(e,t,n,a,s,l){var u=e.sectionProps;if(u){var c,d;if(u.title){var f=void 0,h="";if("string"===typeof u.title){var m=p+u.title.replace(/\s/g,"");f={key:"section-"+u.title+"-title",itemType:r.Header,text:u.title,id:m},h=m}else{var g=u.title.id||p+u.title.key.replace(/\s/g,"");f=(0,o.Cl)((0,o.Cl)({},u.title),{id:g}),h=g}f&&(d={role:"group","aria-labelledby":h},c=Le(f,t,n,a,s,l))}return u.items&&u.items.length>0?i.createElement("li",{role:"presentation",key:u.key||e.key||"section-"+a},i.createElement("div",(0,o.Cl)({},d),i.createElement("ul",{className:n.list,role:"presentation"},u.topDivider&&Ie(a,t,!0,!0),c&&Te(c,e.key||a,t,e.title),u.items.map((function(e,t){return ae(e,t,t,u.items.length,s,l,n)})),u.bottomDivider&&Ie(a,t,!1,!0)))):void 0}},Te=function(e,t,n,r){return i.createElement("li",{role:"presentation",title:r,key:t,className:n.item},e)},Ie=function(e,t,n,r){return r||e>0?i.createElement("li",{role:"separator",key:"separator-"+e+(void 0===n?"":n?"-top":"-bottom"),className:t.divider,"aria-hidden":"true"}):null},Ae=function(e,t,n,r,a,l,u){if(e.onRender)return e.onRender((0,o.Cl)({"aria-posinset":r+1,"aria-setsize":a},e),f);var c={item:e,classNames:t,index:n,focusableElementIndex:r,totalItemCount:a,hasCheckmarks:l,hasIcons:u,contextualMenuItemAs:s.contextualMenuItemAs,onItemMouseEnter:Q,onItemMouseLeave:$,onItemMouseMove:J,onItemMouseDown:Ee,executeItemClick:re,onItemKeyDown:Z,expandedMenuItemKey:E,openSubMenu:I,dismissSubMenu:R,dismissMenu:f};return e.href?i.createElement(te,(0,o.Cl)({},c,{onItemClick:ne})):e.split&&k(e)?i.createElement(se,(0,o.Cl)({},c,{onItemClick:ee,onItemClickBase:oe,onTap:z})):i.createElement(le,(0,o.Cl)({},c,{onItemClick:ee,onItemClickBase:oe}))},Le=function(e,t,n,r,a,l){var u=s.contextualMenuItemAs,c=void 0===u?Y:u,d=e.itemProps,p=e.id,f=d&&(0,_.G1)(d,_.JM);return i.createElement("div",(0,o.Cl)({id:p,className:n.header},f,{style:e.style}),i.createElement(c,(0,o.Cl)({item:e,classNames:t,index:r,onCheckmarkClick:a?ee:void 0,hasIcons:l},d)))},Me=s.isBeakVisible,Be=s.items,Oe=s.labelElementId,Fe=s.id,De=s.className,Ne=s.beakWidth,Ue=s.directionalHint,ze=s.directionalHintForRTL,je=s.alignTargetEdge,Ve=s.gapSpace,We=s.coverTarget,He=s.ariaLabel,qe=s.doNotLayer,Ke=s.target,Ge=s.bounds,Ze=s.useTargetWidth,Xe=s.useTargetAsMinWidth,Ye=s.directionalHintFixed,Qe=s.shouldFocusOnMount,Je=s.shouldFocusOnContainer,$e=s.title,et=s.styles,tt=s.theme,nt=s.calloutProps,rt=s.onRenderSubMenu,ot=void 0===rt?Pe:rt,it=s.onRenderMenuList,at=void 0===it?function(e,t){return ie(e,ut)}:it,st=s.focusZoneProps,lt=s.getMenuClassNames,ut=lt?lt(tt,De):ve(et,{theme:tt,className:De}),ct=function e(t){for(var n=0,o=t;n<o.length;n++){var i=o[n];if(i.iconProps)return!0;if(i.itemType===r.Section&&i.sectionProps&&e(i.sectionProps.items))return!0}return!1}(Be);var dt,pt=(0,o.Cl)((0,o.Cl)({direction:u.E.vertical,handleTabKey:u.l.all,isCircularNavigation:!0},st),{className:(0,C.A)(ut.root,null===(n=s.focusZoneProps)||void 0===n?void 0:n.className)}),ft=function(e){return e.some((function(e){return!!e.canCheck||!(!e.sectionProps||!e.sectionProps.items.some((function(e){return!0===e.canCheck})))}))}(Be),ht=E&&!0!==s.hidden?A():null;Me=void 0===Me?W<=me.AR.medium:Me;var mt=g.current;if((Ze||Xe)&&mt&&mt.offsetWidth){var gt=mt.getBoundingClientRect().width-2;Ze?dt={width:gt}:Xe&&(dt={minWidth:gt})}if(Be&&Be.length>0){for(var vt=0,yt=0,bt=Be;yt<bt.length;yt++){var xt=bt[yt];if(xt.itemType!==r.Divider&&xt.itemType!==r.Header){var _t=xt.customOnRenderListLength?xt.customOnRenderListLength:1;vt+=_t}}var Ct=ut.subComponentStyles?ut.subComponentStyles.callout:void 0;return i.createElement(ge.Consumer,null,(function(e){return i.createElement(P.P,(0,o.Cl)({styles:Ct,onRestoreFocus:y},nt,{target:Ke||e.target,isBeakVisible:Me,beakWidth:Ne,directionalHint:Ue,directionalHintForRTL:ze,gapSpace:Ve,coverTarget:We,doNotLayer:qe,className:(0,C.A)("ms-ContextualMenu-Callout",nt&&nt.className),setInitialFocus:Qe,onDismiss:s.onDismiss||e.onDismiss,onScroll:D,bounds:Ge,directionalHintFixed:Ye,alignTargetEdge:je,hidden:s.hidden||e.hidden,ref:t}),i.createElement("div",{style:dt,ref:l,id:Fe,className:ut.container,tabIndex:Je?0:-1,onKeyDown:G,onKeyUp:K,onFocusCapture:O,"aria-label":He,"aria-labelledby":Oe,role:"menu"},$e&&i.createElement("div",{className:ut.title}," ",$e," "),Be&&Be.length?function(e,t){var n=s.focusZoneAs,r=void 0===n?c.R:n;return i.createElement(r,(0,o.Cl)({},t),e)}(at({ariaLabel:He,items:Be,totalItemCount:vt,hasCheckmarks:ft,hasIcons:ct,defaultMenuItemRenderer:function(e){return function(e,t){var n=e.index,r=e.focusableElementIndex,o=e.totalItemCount,i=e.hasCheckmarks,a=e.hasIcons;return ae(e,n,r,o,i,a,t)}(e,ut)},labelElementId:Oe},(function(e,t){return ie(e,ut)})),pt):null,ht&&ot(ht,Pe)),i.createElement(w.MO,null))}))}return null})),(function(e,t){return!(t.shouldUpdateWhenHidden||!e.hidden||!t.hidden)||(0,h.ab)(e,t)}));function Te(e){return e.which===g.c.alt||"Meta"===e.key}function Ee(e,t){var n;null===(n=e.onMouseDown)||void 0===n||n.call(e,e,t)}function Pe(e,t){throw Error("ContextualMenuBase: onRenderSubMenu callback is null or undefined. Please ensure to set `onRenderSubMenu` property either manually or with `styled` helper.")}function Ie(e,t){for(var n=0,o=t;n<o.length;n++){var i=o[n];if(i.itemType===r.Section&&i.sectionProps){var a=Ie(e,i.sectionProps.items);if(a)return a}else if(i.key&&i.key===e)return i}}function Ae(e,t){return e?function(n,r){return Re(n,t),e(n,r)}:e}function Re(e,t){e&&t&&(e.persist(),t instanceof Event?e.target=t.target:t instanceof Element&&(e.target=t))}ke.displayName="ContextualMenuBase";var Le={root:"ms-ContextualMenu",container:"ms-ContextualMenu-container",list:"ms-ContextualMenu-list",header:"ms-ContextualMenu-header",title:"ms-ContextualMenu-title",isopen:"is-open"};function Me(e){return i.createElement(Be,(0,o.Cl)({},e))}var Be=(0,a.I)(ke,(function(e){var t=e.className,n=e.theme,r=(0,N.Km)(Le,n),o=n.fonts,i=n.semanticColors,a=n.effects;return{root:[n.fonts.medium,r.root,r.isopen,{backgroundColor:i.menuBackground,minWidth:"180px"},t],container:[r.container,{selectors:{":focus":{outline:0}}}],list:[r.list,r.isopen,{listStyleType:"none",margin:"0",padding:"0"}],header:[r.header,o.small,{fontWeight:N.BO.semibold,color:i.menuHeader,background:"none",backgroundColor:"transparent",border:"none",height:z,lineHeight:z,cursor:"default",padding:"0px 6px",userSelect:"none",textAlign:"left"}],title:[r.title,{fontSize:o.mediumPlus.fontSize,paddingRight:"14px",paddingLeft:"14px",paddingBottom:"5px",paddingTop:"5px",backgroundColor:i.menuItemBackgroundPressed}],subComponentStyles:{callout:{root:{boxShadow:a.elevation8}},menuItem:{}}}}),(function(e){return{onRenderSubMenu:e.onRenderSubMenu?(0,s.j)(e.onRenderSubMenu,Me):Me}}),{scope:"ContextualMenu"}),Oe=Be;Oe.displayName="ContextualMenu"},53011:(e,t,n)=>{"use strict";n.d(t,{R:()=>f});var r=n(9950),o=n(54469),i=n(22421);var a=n(66498);function s(e){return"touch"===e.pointerType||(0,o.aK)(e,o.E8)}function l(e){return(0,o.aK)(e,o.By)}function u(e){return(0,o.aK)(e,o.Fn)}function c(e,t,n,r,o,i,a,s,l,u){var c,p;p=function(){return d(e,t,n,o,i,a,s,l,u)},(c=r).current&&window.cancelAnimationFrame(c.current),c.current=window.requestAnimationFrame(p)}function d(e,t,n,r,o,s,l,u,c){r({pointerPhysicalPixelPos:(0,a.s)({x:e.clientX,y:e.clientY},n,t),isPrimaryButtonDownOrTouchDown:o,isMiddleButtonDown:s,isRightButtonDown:l,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,isTouch:"touch"===u,pointerId:c,inputType:(0,i.G3)(e)})}var p=function(){},f=function(e){var t=e.htmlElement,n=e.cssToPhysicalPixelRatio,o=void 0===n?1:n,i=e.onPointerDown,a=void 0===i?p:i,f=e.onPointerMove,h=void 0===f?p:f,m=e.onPointerUp,g=void 0===m?p:m,v=e.onPointerEnter,y=void 0===v?p:v,b=e.onPointerLeave,x=void 0===b?p:b,_=e.onClick,C=void 0===_?p:_,w=e.onUnmount,S=e.isPointerInteractionEnabled,k=void 0===S||S,T=e.enableLostPointerCapture,E=void 0===T||T,P=(0,r.useRef)(),I=(0,r.useRef)(new Set),A=(0,r.useRef)();(0,r.useEffect)((function(){if(t){var e=function(e){try{I.current.delete(e),t.releasePointerCapture(e)}catch(n){}},n=function(e){return e.isPrimary||"touch"===e.pointerType},r=function(e){if(n(e)){var r=s(e);s(e)&&(i=e.pointerId,t.setPointerCapture(i),I.current.add(i)),d(e,o,t,a,r,l(e),u(e),e.pointerType,e.pointerId)}var i},i=function(e){n(e)&&c(e,o,t,P,h,s(e),l(e),u(e),e.pointerType,e.pointerId)},p=function(r,i){if(n(r)){var a=!1;i||(e(r.pointerId),d(r,o,t,C,a,!1,!1,r.pointerType,r.pointerId)),d(r,o,t,g,a,!1,!1,r.pointerType,r.pointerId)}},f=function(e){p(e,!1)},m=function(e){p(e,!0)},v=function(e){e.isPrimary&&"touch"!==e.pointerType&&c(e,o,t,A,y,s(e),l(e),u(e),e.pointerType,e.pointerId)},b=function(e){e.isPrimary&&"touch"!==e.pointerType&&c(e,o,t,A,x,s(e),l(e),u(e),e.pointerType,e.pointerId)};if(!k)return;return t.addEventListener("pointerdown",r),t.addEventListener("pointermove",i),t.addEventListener("pointerup",f),E&&t.addEventListener("lostpointercapture",m),t.addEventListener("pointerenter",v),t.addEventListener("pointerleave",b),function(){t.removeEventListener("pointerdown",r),t.removeEventListener("pointermove",i),t.removeEventListener("pointerup",f),E&&t.removeEventListener("lostpointercapture",m),t.removeEventListener("pointerenter",v),t.removeEventListener("pointerleave",b),function(){for(var t=0,n=Array.from(I.current);t<n.length;t++){var r=n[t];e(r)}}(),null===w||void 0===w||w()}}}),[a,h,g,y,x,C,t,o,k,E,w])}},53042:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var r=function(e){return e instanceof Object&&!(e instanceof Array)?Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{}):e};function o(e,t){var n=function(e,t){return r(t)};return JSON.stringify(e,n)!==JSON.stringify(t,n)}},53094:(e,t,n)=>{"use strict";function r(e){return"object"===typeof e&&"dynamicLayerId"in e}n.d(t,{V:()=>r})},53247:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var r=n(18746),o=n(9950);function i(){var e=o.useRef();return e.current||(e.current=new r.j),o.useEffect((function(){return function(){var t;null===(t=e.current)||void 0===t||t.dispose(),e.current=void 0}}),[]),e.current}},53360:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var r=n(36766);function o(e,t,n){return 0===(0,r.L)(t-e,n)}},53461:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});var r=n(72684),o=["TEMPLATE","STYLE","SCRIPT"];function i(e){var t=(0,r.Y)(e);if(!t)return function(){};for(var n=[];e!==t.body&&e.parentElement;){for(var i=0,a=e.parentElement.children;i<a.length;i++){var s=a[i],l=s.getAttribute("aria-hidden");s!==e&&"true"!==(null===l||void 0===l?void 0:l.toLowerCase())&&-1===o.indexOf(s.tagName)&&n.push([s,l])}e=e.parentElement}return n.forEach((function(e){e[0].setAttribute("aria-hidden","true")})),function(){!function(e){e.forEach((function(e){var t=e[0],n=e[1];n?t.setAttribute("aria-hidden",n):t.removeAttribute("aria-hidden")}))}(n),n=[]}}},53471:(e,t,n)=>{"use strict";n.d(t,{M:()=>s,R:()=>l});var r=n(70104),o=n(88105),i=n(93286),a=n(3936),s={pen1:{thicknessInCssPixels:4,htmlColor:a.Nf,inkType:i.p.Pen,strokeShape:{arrowMode:r.x.NoArrow,lineMode:o.y.FreeHand}},pen2:{thicknessInCssPixels:4,htmlColor:a.a9,inkType:i.p.Pen,strokeShape:{arrowMode:r.x.NoArrow,lineMode:o.y.FreeHand}},highlighter:{thicknessInCssPixels:16,htmlColor:a.Gk,inkType:i.p.Highlighter,strokeShape:{arrowMode:r.x.NoArrow,lineMode:o.y.FreeHand}}},l=Object.keys(s)[0]},53591:(e,t,n)=>{"use strict";n.d(t,{E:()=>T,P:()=>E});var r=n(75347),o=n(75795),i=n(21925),a=n(73553),s=n(36766),l=n(26397),u=n(48678),c=n(6494);var d=n(10499),p=n(2171),f=n(88741),h=n(72392),m=n(66788),g=n(81902),v=n(81189),y=n(17755),b=n(69893),x=n(44121),_=n(3493),C=n(25382),w=n(38526),S=function(){return S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},S.apply(this,arguments)};function k(e,t,n){return(0,C.vg)((0,y.IG)(t,e.image._preciseUvToWorld,e.cropInteraction.aspectRatio,n),C.F5.userIsZoomingToCrop)}function T(e,t){var n=(0,i.SM)(e.cropInteraction.uvToWorld),d=t>0,m=(0,p.zq)(e.cropUiDisplay.handleSizeCss,e.device.pixelRatio),g=(0,f.hJ)(m,e.view.worldToView),v=(0,i.SM)(e.cropInteraction._uvToWorldBeforeZoomToCrop),y=v.width/v.height,b=function(e,t,n,r,o,d,p,f){var h=!(0,c.as)(t),m=(0,i.SM)(n),g=(0,i.NV)(n),v=(0,i.SM)(r),y=(0,i.NV)(r),b=(0,l.m1)(g,e),x=(0,l.Bp)(y,g),_=(0,l.u8)(x,b),C=b.x>x.x?_.x:1,w=b.y>x.y?_.y:1,S=(0,l.m1)(b,Math.min(C,w)),k=(0,l.m1)(S,.5),T=(0,l.Bp)({x:m.left,y:m.top},k),E=(0,l.If)({x:v.left,y:v.top},y),P=(0,l.If)(g,S),I=y.y===g.x&&k.x>0,A=y.x===g.y&&k.y>0,R=(0,a.q)((0,s.e)(T.x),v.left,E.x),L=(0,a.q)((0,s.e)(T.y),v.top,E.y),M=I?m.left:R,B=A?m.top:L,O={left:M,top:B,width:(0,a.q)(P.x,o,v.left+y.x-M),height:(0,a.q)(P.y,o,v.top+y.y-B)},F=(0,i.Vq)(O),D=h?(0,u.Ub)(t,F,f,p):d;return(0,u.dh)(O,D)}(t,e.cropInteraction.aspectRatio,e.cropInteraction.uvToWorld,e.image._preciseUvToWorld,g,y,e.cropInteraction.shouldInvertOriginalAspectRatio,e.image.originalPixelSize),x=(0,C.Ty)((0,o.yC)(b,d),C.F5.userIsZoomingToCrop);if(e.cropInteraction.shouldConstrainInImage&&d){(0,h.UN)((0,r.ao)(e.image._preciseUvToWorld))>0?(x=S(S({},x),k(e,x.uvToWorld,_.Q.TopRight)),x=S(S({},x),k(e,x.uvToWorld,_.Q.BottomLeft))):(x=S(S({},x),k(e,x.uvToWorld,_.Q.TopLeft)),x=S(S({},x),k(e,x.uvToWorld,_.Q.BottomRight)));var w=(0,i.SM)(x.uvToWorld);(0,o.WX)(w,n)&&(x=S(S({},x),(0,C.Ty)(n,C.F5.userIsZoomingToCrop)))}return x}function E(e,t,n,r){if(0!==t){var o=T(e,t);r&&r.logZoomEvent({zoomLevel:t}),Object.assign(e.cropInteraction,o),e.view.viewFitting.mode=b.m.fitCropRectInView,n&&(e.animations.needsFrameTick=!0,e.cropInteraction.mode!==x.I.zoomToCrop&&(e.cropInteraction.mode=x.I.zoomToCrop,e.animations.gridLineVisibility=(0,g.Vr)(d.zy),e.animations.outsideCropVisibility=(0,m.Ql)()),e.animations.dismissGridLineVisibility=(0,m.Ql)(),e.animations.dismissOutsideCropVisibility=(0,m.Ql)()),(0,w.M)(e),(0,v.T)(e)}}},54469:(e,t,n)=>{"use strict";n.d(t,{$F:()=>u,By:()=>o,E8:()=>r,Fn:()=>i,V$:()=>l,aK:()=>s});var r={initiatingButtonId:0,heldButtonsFlags:1},o={initiatingButtonId:1,heldButtonsFlags:4},i={initiatingButtonId:2,heldButtonsFlags:2};function a(e,t){return!!((e||0)&t.heldButtonsFlags)}function s(e,t){return a(e.buttons,t)}function l(e){return void 0===(t=e.button)||function(e,t){return e===t.initiatingButtonId}(t,r);var t}function u(e){return void 0===(t=e.buttons)||a(t,r);var t}},54596:(e,t,n)=>{"use strict";n.d(t,{IG:()=>s,P6:()=>d,Td:()=>c,Vv:()=>l,a8:()=>u,at:()=>i,bo:()=>a});var r=n(46081),o=n(91594),i=function(e){return e.maskingUi.maskingUiByActivity[e.maskingUi.currentActivityKey]},a=function(e){return i(e).maskParameters},s=function(e){return i(e).maskInteractionMode},l=function(e){return i(e).selectedUvPositions},u=function(e){return i(e).maskOpacity},c=function(e){return i(e).maskingDisabled},d=function(e){var t=a(e);if(t.maskType===r.D.FromLayer&&(0,o.b)(t.layerToUseAsMask))return t.layerToUseAsMask}},54811:(e,t,n)=>{"use strict";n.d(t,{q:()=>v});var r=n(9950),o=n(52483),i=n(88114),a=n(44358),s=n(98689),l=n(32e3),u=n(62441),c=n(23501),d=n(15798),p=n(29414),f=n(71654),h=n(50608),m=n(11446),g={Left:a.A.rightCenter,Right:a.A.leftCenter,Bottom:a.A.topCenter,Inline:a.A.topCenter},v=(0,r.memo)((function(e){var t=e.iconComponent,n=e.onClick,a=e.onFocus,v=e.tooltipContent,y=e.ariaLabel,b=e.ariaDescription,x=e.isToolActive,_=e.buttonId,C=e.disabled,w=e.markupToolbarToolsStyles,S=e.markupToolbarButtonStyles,k=e.arrowModeIconProps,T=e.cursor,E=e.text,P=(0,s.D)(),I=(0,r.useContext)(m.O_),A=I.markupToolbarStyles,R=(0,I.getMarkupToolbarPosition)(A),L=(0,f.Q)(P,w),M=L.toolbarButton,B=L.activeToolbarIcon,O=L.toolbarIcon,F=L.activeSVGIcon,D=L.SVGIcon,N=L.toolbarIconDisabled,U=L.toolbarTooltip,z=(0,l.Zq)(M),j=(0,l.Zq)(U),V=(0,l.Zq)(O,x&&B,D,x&&F,o.Ay.toolbarIcon,C&&N),W=(0,i.B)("tooltip"),H={gapSpace:15,beakWidth:12,styles:{beak:{background:P.palette.neutralLight},beakCurtain:{background:P.palette.neutralLight},calloutMain:{background:P.palette.neutralLight}}},q=(0,r.useMemo)((function(){var e={root:{backgroundColor:"inherit",border:"none",height:h.vt.height+"px",margin:"0",minWidth:h.vt.width+"px",overflow:"hidden",padding:"0",width:h.vt.width+"px",alignSelf:"center"},rootHovered:{backgroundColor:"inherit"},rootPressed:{backgroundColor:"inherit"},rootDisabled:{backgroundColor:"inherit"},screenReaderText:{visibility:"hidden"}};return(0,l.TW)(e,S)}),[S]),K=r.createElement(u.Y,{id:_,text:E,styles:q,className:(0,c.A)(z,o.Ay.toolbarButton),onClick:n,onFocus:a,role:"option","aria-checked":x,ariaLabel:y,ariaDescription:b,disabled:C,iconProps:k,style:{cursor:T}},r.createElement("span",{"aria-hidden":!0,className:V,role:"presentation"},t));return C||"none"===T||!v?K:r.createElement(d.S,{content:v,id:W,directionalHint:g[R],calloutProps:H,delay:p.H.long,className:(0,c.A)(j,o.Ay.markupToolbarTooltip),tooltipProps:{styles:{subText:{fontWeight:600,textAlign:"center"}}}},K)}))},54986:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>r}),function(e){e.RGBA="RGBA",e.RGB="RGB",e.A="A"}(r||(r={}))},55018:(e,t,n)=>{"use strict";function r(e){return e.reduce((function(e,t){return e.concat(t)}),[])}n.d(t,{e:()=>r})},55360:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r,o=n(95673);function i(e){var t;if("undefined"===typeof r||e){var n=(0,o.z)(),i=null===(t=null===n||void 0===n?void 0:n.navigator)||void 0===t?void 0:t.userAgent;r=!!i&&-1!==i.indexOf("Macintosh")}return!!r}},55499:(e,t,n)=>{"use strict";n.d(t,{w:()=>x});var r=n(9950),o=n(91949);(0,n(97150).hN)([{rawString:".imageTileContainer_0dda01c9{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:8px;max-width:-webkit-min-content;max-width:-moz-min-content;max-width:min-content}.imageTileContainer_0dda01c9 .tile_0dda01c9{position:relative;background-color:transparent;background-size:cover;background-repeat:no-repeat;background-position:center;height:100%;width:100%;border-radius:3px;margin:8px 0}.imageTileContainer_0dda01c9 .tile_0dda01c9 .background_0dda01c9{position:absolute;top:0;height:100%;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;opacity:0;font-size:23px;border-radius:3px}.imageTileContainer_0dda01c9 .tile_0dda01c9 .ms-Tile-aboveNameplate{margin:0}.imageTileContainer_0dda01c9 .tile_0dda01c9 .ms-Tile-aboveNameplate>*{-webkit-box-pack:inherit;-ms-flex-pack:inherit;justify-content:inherit;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.imageTileContainer_0dda01c9 .tileName_0dda01c9{font-size:12px;line-height:14px;text-align:center;word-break:break-word;word-wrap:break-word;pointer-events:auto}.tileIcon_0dda01c9{fill:white;width:24px;height:24px}.ms-Fabric--isFocusHidden .imageTileContainer_0dda01c9 .ms-Tile-link{outline:0;height:100%}.ms-Fabric--isFocusVisible .imageTileContainer_0dda01c9 .ms-Tile-link:focus{outline-color:inherit;outline-width:1px;outline-style:solid}"}]);const i="imageTileContainer_0dda01c9",a="tile_0dda01c9",s="background_0dda01c9",l="tileName_0dda01c9",u="tileIcon_0dda01c9";var c=n(49516),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},d.apply(this,arguments)};function p(e){return{width:"100%",height:"100%",backgroundColor:e.palette.neutralQuaternary,activeBackgroundOverride:{opacity:1}}}function f(e,t,n,r){return d(d(d(d({},r),e&&(null===r||void 0===r?void 0:r.highlightImageOverride)),t&&(null===r||void 0===r?void 0:r.activeImageOverride)),n&&(null===r||void 0===r?void 0:r.disabledImageOverride))}var h=n(98689),m=n(38452),g=n(28001),v=n(4526),y=n(32e3),b=function(){return b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},b.apply(this,arguments)},x=(0,r.forwardRef)((function(e,t){var n=e.image,d=e.iconName,x=e.tileSize,_=e.imageTileStyles,C=e.tileKey,w=e.name,S=e.ariaLabel,k=e.ariaSelected,T=e.isHighlighted,E=e.isActive,P=e.isDisabled,I=void 0!==P&&P,A=e.role,R=void 0===A?"option":A,L=e.tabIndex,M=void 0===L?0:L,B=e.tileWrapperRef,O=e.onClick,F=e.onKeyDown,D=e.onFocus,N=e.onBlur,U=e.title,z=e.onRenderForeground,j=e.showTooltipOnTileDisplayText,V=void 0!==j&&j,W=(0,h.D)(),H=(0,r.useState)(null),q=H[0],K=H[1],G=(0,r.useCallback)((function(e){O(C,e)}),[C,O]);(0,r.useLayoutEffect)((function(){q&&(q.tabIndex=M,q.setAttribute("role",R),q.setAttribute("aria-selected",String(k)))}),[k,q,R,M]),(0,r.useImperativeHandle)(t,(function(){return{focus:function(){return null===q||void 0===q?void 0:q.focus()}}}),[q]);var Z=(0,r.useMemo)((function(){return r.createElement(r.Fragment,null,r.createElement("div",{className:s,style:(0,c._e)(T,E,I,b(b({},p(W)),null===_||void 0===_?void 0:_.background))},r.createElement(m.l8,{iconName:d,className:u,style:null===_||void 0===_?void 0:_.icon})),!n&&r.createElement(g.W,{theme:W,shimmerElements:[{type:v.w.line,width:x,height:x}]}))}),[T,E,I,W,_,d,n,x]),X=(0,r.useMemo)((function(){return r.createElement("span",{className:l,style:(0,c.N2)(E,I,null===_||void 0===_?void 0:_.name),"aria-hidden":"true",onClick:I?void 0:G,title:V?U:void 0},w)}),[null===_||void 0===_?void 0:_.name,E,I,w,G,V,U]);return r.createElement("div",{className:(0,y.Zq)(i,null===_||void 0===_?void 0:_.containerClassName),style:null===_||void 0===_?void 0:_.container,ref:B,"data-test-id":n?"image-tile-image-loaded":"image-tile-image-loading"},r.createElement(o.FA,{style:b({backgroundImage:"url(".concat(n,")"),outlineColor:W.palette.neutralDark,width:x,height:x},f(T,E,I,null===_||void 0===_?void 0:_.image)),className:a,foreground:z,background:Z,ariaLabel:S,linkRef:K,onKeyDown:F,onFocus:D,onBlur:N,"data-test-id":"imageTile-".concat(C),onClick:I?void 0:G,title:U}),X)}))},55853:(e,t,n)=>{var r,o;void 0===(o="function"===typeof(r=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function s(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function c(e){var t=s();return function(){var n,r=i(e);if(t){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}function p(){return p="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=d(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}var f=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(e,t,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:n})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,o=n.length;r<o;r++)if(n[r].callback===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++){var o=t[n];try{o.callback.call(this,e)}catch(i){Promise.resolve().then((function(){throw i}))}o.options&&o.options.once&&this.removeEventListener(e.type,o.callback)}return!e.defaultPrevented}}}]),t}(),h=function(t){o(a,t);var n=c(a);function a(){var t;return e(this,a),(t=n.call(this)).listeners||f.call(l(t)),Object.defineProperty(l(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(t),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(l(t),"reason",{value:void 0,writable:!0,configurable:!0}),t}return r(a,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,e)),p(i(a.prototype),"dispatchEvent",this).call(this,e)}}]),a}(f),m=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new h,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(e){var t;try{t=new Event("abort")}catch(r){"undefined"!==typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}var n=e;if(void 0===n)if("undefined"===typeof document)(n=new Error("This operation was aborted")).name="AbortError";else try{n=new DOMException("signal is aborted without reason")}catch(o){(n=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=n,this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();function g(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"===typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}function v(e){"function"===typeof e&&(e={fetch:e});var t=e,n=t.fetch,r=t.Request,o=void 0===r?n.Request:r,i=t.AbortController,a=t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=void 0!==a&&a;if(!g({fetch:n,Request:o,AbortController:i,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:n,Request:l};var l=o;(l&&!l.prototype.hasOwnProperty("signal")||s)&&((l=function(e,t){var n;t&&t.signal&&(n=t.signal,delete t.signal);var r=new o(e,t);return n&&Object.defineProperty(r,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),r}).prototype=o.prototype);var u=n;return{fetch:function(e,t){var n=l&&l.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(n){var r;try{r=new DOMException("Aborted","AbortError")}catch(i){(r=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(r);var o=new Promise((function(e,t){n.addEventListener("abort",(function(){return t(r)}),{once:!0})}));return t&&t.signal&&delete t.signal,Promise.race([o,u(e,t)])}return u(e,t)},Request:l}}"undefined"!==typeof Symbol&&Symbol.toStringTag&&(m.prototype[Symbol.toStringTag]="AbortController",h.prototype[Symbol.toStringTag]="AbortSignal"),function(e){if(g(e))if(e.fetch){var t=v(e),n=t.fetch,r=t.Request;e.fetch=n,e.Request=r,Object.defineProperty(e,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:m}),Object.defineProperty(e,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:h})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}("undefined"!==typeof self?self:n.g)})?r.call(t,n,t,e):r)||(e.exports=o)},55873:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var r=function(){function e(){this.listeners=[]}return e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.removeListener=function(e){this.listeners.includes(e)&&(this.listeners=this.listeners.filter((function(t){return t!==e})))},e.prototype.removeAllListeners=function(){this.listeners=[]},e.prototype.notifyListeners=function(e){this.listeners.length>0&&this.listeners.forEach((function(t){return t(e)}))},e}()},56107:(e,t,n)=>{"use strict";var r;n.d(t,{y:()=>r}),function(e){e.Right="Right",e.Left="Left",e.Up="Up",e.Down="Down",e.None="None"}(r||(r={}))},56164:(e,t,n)=>{"use strict";n.d(t,{Bf:()=>s,XB:()=>l});var r=n(9950),o=n(62846),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},s=r.createContext(void 0),l=(0,o.Ng)((function(e){return{texturePatches:e.texturePatch.texturePatchInfos,removedTexturePatches:e.texturePatch.removedTexturePatchInfos,texturePatchChoices:e.texturePatch.texturePatchChoices}}),{})((function(e){var t=e.shouldCreateSessionCache,o=e.texturePatches,l=e.removedTexturePatches,u=e.texturePatchChoices,c=e.disableTexturePatchIndexedDbStorage,d=e.children,p=(0,r.useState)(void 0),f=p[0],h=p[1];return(0,r.useLayoutEffect)((function(){var e=!0;return!f&&t&&i(void 0,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return[4,n.e(26).then(n.bind(n,99839))];case 1:return[4,(0,r.sent().createTexturePatchCache)(c?1/0:void 0)];case 2:return t=r.sent(),e&&h(t),[2]}}))})),function(){e=!1}}),[f,t,c]),(0,r.useEffect)((function(){var e,t;if(f){var n=function(e){return e.map((function(e){return e.idValue}))},r=n(o).concat(n(l),null!==(t=null===(e=null===u||void 0===u?void 0:u.choices)||void 0===e?void 0:e.map((function(e){return e.idValue})))&&void 0!==t?t:[]);i(void 0,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,f.removeAllBut(r)];case 1:return e.sent(),[2]}}))}))}}),[o,l,u,f]),(0,r.useEffect)((function(){var e=function(){return i(void 0,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,null===f||void 0===f?void 0:f.destroy()];case 1:return e.sent(),[2]}}))}))};return window.addEventListener("beforeunload",e),function(){e(),window.removeEventListener("beforeunload",e)}}),[f]),r.createElement(s.Provider,{value:f},d)}))},56340:(e,t,n)=>{"use strict";n.d(t,{SM:()=>c,jI:()=>u});var r,o=n(21191),i=n(72684),a=n(86685),s=n(2169),l="isRTL";function u(e){if(void 0===e&&(e={}),void 0!==e.rtl)return e.rtl;if(void 0===r){var t=(0,a.G)(l);null!==t&&function(e,t){void 0===t&&(t=!1);var n=(0,i.Y)();n&&n.documentElement.setAttribute("dir",e?"rtl":"ltr");t&&(0,a.S)(l,e?"1":"0");r=e,(0,s.DU)(r)}(r="1"===t);var n=(0,i.Y)();void 0===r&&n&&(r="rtl"===(n.body&&n.body.getAttribute("dir")||n.documentElement.getAttribute("dir")),(0,s.DU)(r))}return!!r}function c(e,t){return void 0===t&&(t={}),u(t)&&(e===o.c.left?e=o.c.right:e===o.c.right&&(e=o.c.left)),e}},56381:(e,t,n)=>{"use strict";function r(e){if(e.max<e.min)throw new Error("bounds.max < bounds.min");return e.max-e.min}n.d(t,{Y:()=>s});var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function i(e,t,n){var i=o({},e),a=Math.max(0,n-r(i)),s=Math.floor(a/2);i.min-=s,i.max+=s,i.max+=a%2;var l=!1;i.min<t.min&&(i.min=t.min,l=!0);var u=!1;if(i.max>t.max&&(i.max=t.max,u=!0),u===l)return i;var c=n-r(i);return l?i.max=Math.min(i.max+c,t.max):i.min=Math.max(i.min-c,t.min),i}function a(e){return{x:{min:e.left,max:e.left+e.width},y:{min:e.top,max:e.top+e.height}}}function s(e,t,n,r){var o,s=a(e),l=a(t),u={x:i(s.x,l.x,n),y:i(s.y,l.y,r)};return{top:(o=u).y.min,left:o.x.min,width:o.x.max-o.x.min,height:o.y.max-o.y.min}}},56537:(e,t,n)=>{"use strict";n.d(t,{WL:()=>l,Z0:()=>a,ZS:()=>i,r:()=>s,tN:()=>o});var r=n(3041),o=(0,r.VP)("edit/undo"),i=(0,r.VP)("edit/redo"),a=(0,r.VP)("edit/removeStackItems"),s=(0,r.VP)("edit/clearRedo"),l=(0,r.VP)("edit/collapseStackItems")},56609:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var r=n(42570);function o(e,t){var n=e.getEffects().find((function(e){return e.getName()===r.y})),o=!1;return n&&(o=n.getShouldShowCheckerboardOverride(),n.setShouldShowCheckerboardOverride(t)),function(){n&&n.setShouldShowCheckerboardOverride(o)}}},56624:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(95143),o=n(5643),i=n(56340),a=n(95673),s=50,l=5,u=0,c=r.n.getInstance();c&&c.onReset&&c.onReset((function(){return u++}));var d="__retval__";function p(e){void 0===e&&(e={});var t=new Map,n=0,r=0,c=u;return function(p,f){var m;if(void 0===f&&(f={}),e.useStaticStyles&&"function"===typeof p&&p.__noStyleOverride__)return p(f);r++;var g=t,v=f.theme,y=v&&void 0!==v.rtl?v.rtl:(0,i.jI)(),b=e.disableCaching;if(c!==u&&(c=u,t=new Map,n=0),e.disableCaching||(g=h(t,p),g=h(g,f)),!b&&g[d]||(g[d]=void 0===p?{}:(0,o.L)(["function"===typeof p?p(f):p],{rtl:!!y,specificityMultiplier:e.useStaticStyles?l:void 0}),b||n++),n>(e.cacheSize||s)){var x=(0,a.z)();(null===(m=null===x||void 0===x?void 0:x.FabricConfig)||void 0===m?void 0:m.enableClassNameCacheFullWarning)&&(console.warn("Styles are being recalculated too frequently. Cache miss rate is ".concat(n,"/").concat(r,".")),console.trace()),t.clear(),n=0,e.disableCaching=!0}return g[d]}}function f(e,t){return t=function(e){switch(e){case void 0:return"__undefined__";case null:return"__null__";default:return e}}(t),e.has(t)||e.set(t,new Map),e.get(t)}function h(e,t){if("function"===typeof t)if(t.__cachedInputs__)for(var n=0,r=t.__cachedInputs__;n<r.length;n++){e=f(e,r[n])}else e=f(e,t);else if("object"===typeof t)for(var o in t)t.hasOwnProperty(o)&&(e=f(e,t[o]));return e}},57822:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var r=n(9950),o=n(73553);function i(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i="center");var a=(0,r.useState)(e.indexOf(t)),s=a[0],l=a[1],u=(0,r.useCallback)((function(t){var r=0,a=n>0?Math.ceil(e.length/n):1,u=n>0?Math.ceil((s+1)/n):1,c=e.length-n*(a-1),d=Math.floor((n-c)/2);switch(t.key){case"ArrowLeft":r=-1;break;case"ArrowRight":r=1;break;case"ArrowDown":"center"===i&&u===a-1&&c<n?(r=n-d,n>0&&s%n<d&&(r+=d-s%n)):r=n;break;case"ArrowUp":r="center"===i&&u===a&&c<n?-n+d:-n;break;default:r=0}r&&(t.preventDefault(),l((0,o.q)(s+r,0,e.length-1)))}),[s,e,n,i]);return{keyboardFocusedIndex:s,setKeyboardFocusedIndex:l,onKeyDown:u}}},58365:(e,t,n)=>{"use strict";n.d(t,{f:()=>v});var r=n(9950),o=n(97150);(0,o.hN)([{rawString:".sliderHeaderContainer_41c53db8{position:relative;height:42px;font-size:14px;line-height:42px;letter-spacing:0}"}]);const i="sliderHeaderContainer_41c53db8";(0,o.hN)([{rawString:".headerContainer_4fb5e918{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.headerContainer_4fb5e918 .name_4fb5e918{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-margin-end:auto;margin-inline-end:auto}"}]);const a="headerContainer_4fb5e918",s="name_4fb5e918";var l=n(610),u=n(98689),c=n(32e3),d=function(e){var t=e.value,n=e.valueFormatter,o=e.label,i=e.iconName,d=e.iconComponent,p=e.styles,f=(0,u.D)().palette.neutralPrimary,h=(0,r.useMemo)((function(){var e={root:{fill:f,fontSize:"16px",height:"16px",width:"16px",lineHeight:"16px",marginRight:"8px"}};return(0,c.TW)(e,null===p||void 0===p?void 0:p.icon)}),[f,null===p||void 0===p?void 0:p.icon]);return r.createElement("div",{className:a},r.createElement("span",{className:s},!!i&&r.createElement(l.I,{iconName:i,styles:h}),!!d&&d,!!o&&r.createElement("span",{style:null===p||void 0===p?void 0:p.label},o)),r.createElement("span",{style:null===p||void 0===p?void 0:p.valueText},n?n(t):t))};(0,o.hN)([{rawString:".valueWrapper_d2c0a781{position:absolute}"}]);const p="valueWrapper_d2c0a781";var f=n(34745),h=n(56340);var m=function(e){var t,n,o,i=e.value,a=e.maxValue,s=e.minValue,l=e.valueFormatter,d=e.styles,m=e.shouldShow,g=(0,r.useRef)(null),v=(0,u.D)(),y=(0,r.useMemo)((function(){var e=(0,h.jI)(v),t=function(e,t,n){return 100*(0,f.U4)(t,n,e)}(i,s,a);return e?{right:"".concat(t,"%"),transform:"translate(50%)"}:{left:"".concat(t,"%"),transform:"translate(-50%)"}}),[i,a,s,v]);return t=g,n=!m,o=3e3,(0,r.useEffect)((function(){var e=t.current;if(e){if(n){var r=setTimeout((function(){e.hidden=!0}),o);return function(){clearTimeout(r)}}e.hidden=!1}}),[n,t,o]),r.createElement("span",{className:(0,c.Zq)(p,d),style:y,ref:g,"data-test-id":"slider-value"},l?l(i):i)};var g=function(){return g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},g.apply(this,arguments)},v=(0,r.forwardRef)((function(e,t){var n=e.layout,o=e.headerProps,a=e.styles,s="Labeled"===n,l=(0,c.Zq)(i,null===a||void 0===a?void 0:a.containerClassName);return r.createElement("div",{className:l,style:null===a||void 0===a?void 0:a.container,ref:t,"aria-hidden":!0},s?r.createElement(d,g({},o,{styles:null===a||void 0===a?void 0:a.labelValueHeader})):r.createElement(m,g({},o,{styles:null===a||void 0===a?void 0:a.valueHeader})))}));v.displayName="SliderHeader"},58608:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(37827);function o(e,t){for(var n=(0,r.Cl)({},t),o=0,i=Object.keys(e);o<i.length;o++){var a=i[o];void 0===n[a]&&(n[a]=e[a])}return n}},59307:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var r=n(9950).createContext({customizations:{inCustomizerContext:!1,settings:{},scopedSettings:{}}})},59338:(e,t,n)=>{"use strict";n.d(t,{l:()=>v});var r=n(69187),o=n(37827),i=n(9950),a=n(69175),s=n(88114),l=n(56624),u=n(28225),c=n(35606),d=n(51734),p=(0,l.Z)(),f="Toggle",h=i.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,l=e.ariaLabel,h=e.checked,g=e.className,v=e.defaultChecked,y=void 0!==v&&v,b=e.disabled,x=e.inlineLabel,_=e.label,C=e.offAriaLabel,w=e.offText,S=e.onAriaLabel,k=e.onChange,T=e.onChanged,E=e.onClick,P=e.onText,I=e.role,A=e.styles,R=e.theme,L=(0,a.k)(h,y,i.useCallback((function(e,t){null===k||void 0===k||k(e,t),null===T||void 0===T||T(t)}),[k,T])),M=L[0],B=L[1],O=p(A,{theme:R,className:g,disabled:b,checked:M,inlineLabel:x,onOffMissing:!P&&!w}),F=M?S:C,D=(0,s.B)(f,e.id),N=D+"-label",U=D+"-stateText",z=M?P:w,j=(0,u.G1)(e,u.QQ,["defaultChecked"]),V=void 0;l||F||(_&&(V=N),z&&!V&&(V=U));var W=i.useRef(null);(0,c.vk)(W),m(e,M,W);var H={root:{className:O.root,hidden:j.hidden},label:{children:_,className:O.label,htmlFor:D,id:N},container:{className:O.container},pill:(0,o.Cl)((0,o.Cl)({},j),{"aria-disabled":b,"aria-checked":M,"aria-label":l||F,"aria-labelledby":V,className:O.pill,"data-is-focusable":!0,"data-ktp-target":!0,disabled:b,id:D,onClick:function(e){b||(B(!M,e),E&&E(e))},ref:W,role:I||"switch",type:"button"}),thumb:{className:O.thumb},stateText:{children:z,className:O.text,htmlFor:D,id:U}};return i.createElement(r,(0,o.Cl)({ref:t},H.root),_&&i.createElement(d.J,(0,o.Cl)({},H.label)),i.createElement("div",(0,o.Cl)({},H.container),i.createElement("button",(0,o.Cl)({},H.pill),i.createElement("span",(0,o.Cl)({},H.thumb))),(M&&P||w)&&i.createElement(d.J,(0,o.Cl)({},H.stateText))))}));h.displayName=f+"Base";var m=function(e,t,n){i.useImperativeHandle(e.componentRef,(function(){return{get checked(){return!!t},focus:function(){n.current&&n.current.focus()}}}),[t,n])},g=n(32e3),v=(0,r.I)(h,(function(e){var t,n,r,i,a,s,l,u=e.theme,c=e.className,d=e.disabled,p=e.checked,f=e.inlineLabel,h=e.onOffMissing,m=u.semanticColors,v=u.palette,y=m.bodyBackground,b=m.inputBackgroundChecked,x=m.inputBackgroundCheckedHovered,_=v.neutralDark,C=m.disabledBodySubtext,w=m.smallInputBorder,S=m.inputForegroundChecked,k=m.disabledBodySubtext,T=m.disabledBackground,E=m.smallInputBorder,P=m.inputBorderHovered,I=m.disabledBodySubtext,A=m.disabledText;return{root:["ms-Toggle",p&&"is-checked",!d&&"is-enabled",d&&"is-disabled",u.fonts.medium,{marginBottom:"8px"},f&&{display:"flex",alignItems:"center"},c],label:["ms-Toggle-label",{display:"inline-block"},d&&{color:A,selectors:(t={},t[g.up]={color:"GrayText"},t)},f&&!h&&{marginRight:16},h&&f&&{order:1,marginLeft:16},f&&{wordBreak:"break-word"}],container:["ms-Toggle-innerContainer",{display:"flex",position:"relative"}],pill:["ms-Toggle-background",(0,g.gm)(u,{inset:-3}),{fontSize:"20px",boxSizing:"border-box",width:40,height:20,borderRadius:10,transition:"all 0.1s ease",border:"1px solid "+E,background:y,cursor:"pointer",display:"flex",alignItems:"center",padding:"0 3px",overflow:"visible"},!d&&[!p&&{selectors:{":hover":[{borderColor:P}],":hover .ms-Toggle-thumb":[{backgroundColor:_,selectors:(n={},n[g.up]={borderColor:"Highlight"},n)}]}},p&&[{background:b,borderColor:"transparent",justifyContent:"flex-end"},{selectors:(r={":hover":[{backgroundColor:x,borderColor:"transparent",selectors:(i={},i[g.up]={backgroundColor:"Highlight"},i)}]},r[g.up]=(0,o.Cl)({backgroundColor:"Highlight"},(0,g.Qg)()),r)}]],d&&[{cursor:"default"},!p&&[{borderColor:I}],p&&[{backgroundColor:C,borderColor:"transparent",justifyContent:"flex-end"}]],!d&&{selectors:{"&:hover":{selectors:(a={},a[g.up]={borderColor:"Highlight"},a)}}}],thumb:["ms-Toggle-thumb",{display:"block",width:12,height:12,borderRadius:"50%",transition:"all 0.1s ease",backgroundColor:w,borderColor:"transparent",borderWidth:6,borderStyle:"solid",boxSizing:"border-box"},!d&&p&&[{backgroundColor:S,selectors:(s={},s[g.up]={backgroundColor:"Window",borderColor:"Window"},s)}],d&&[!p&&[{backgroundColor:k}],p&&[{backgroundColor:T}]]],text:["ms-Toggle-stateText",{selectors:{"&&":{padding:"0",margin:"0 8px",userSelect:"none",fontWeight:g.BO.regular}}},d&&{selectors:{"&&":{color:A,selectors:(l={},l[g.up]={color:"GrayText"},l)}}}]}}),void 0,{scope:"Toggle"})},59366:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(72684),o=n(9950),i=n(93781);function a(e,t){var n=o.useRef(),a=o.useRef(null),s=(0,i.ox)();if(!e||e!==n.current||"string"===typeof e){var l=null===t||void 0===t?void 0:t.current;if(e)if("string"===typeof e){var u=(0,r.Y)(l);a.current=u?u.querySelector(e):null}else a.current="stopPropagation"in e||"getBoundingClientRect"in e?e:"current"in e?e.current:e;n.current=e}return[a,s]}},59381:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});var r=n(44358),o=n(98689),i=n(56340),a=n(32e3),s=n(88659),l=n(84495),u=n(29665),c=n(62441),d=n(9950);var p=(0,d.memo)((function(e){var t=e.calloutVisibilityState,n=e.setCalloutVisibilityState,p=e.target,f=e.styles,h=e.directionalHint,m=void 0===h?r.A.leftTopEdge:h,g=e.calloutHeaderText,v=e.calloutMainText,y=e.gapSpace,b=void 0===y?20:y,x=e.showDismissButton,_=e.dismissButtonPosition,C=void 0===_?"bottom":_,w=e.dismissButtonRef,S=e.showCalloutOnMount,k=void 0===S||S,T=e.dismissButtonText,E=e.dismissButtonAriaLabel,P=e.customCalloutChild,I=e.setCalloutRef,A=e.role,R=e.setInitialFocus,L=e.onDismiss,M=(0,o.D)(),B=(0,i.jI)(M);(0,d.useEffect)((function(){"notShown"===t&&p&&k&&n("showing")}),[n,t,p,k]);var O=(0,d.useCallback)((function(){n("alreadyShown"),null===L||void 0===L||L()}),[n,L]),F=(0,d.useMemo)((function(){return(0,a.l8)(null===f||void 0===f?void 0:f.calloutMain,function(e){return{root:{borderRadius:"7px",wordBreak:"break-word",border:"1px solid ".concat(e.palette.neutralTertiaryAlt)},beak:{},calloutMain:{borderRadius:"7px"},beakCurtain:{borderRadius:"7px"},container:{}}}(M))}),[f,M]);return"showing"===t&&p?d.createElement(s.P,{target:p,directionalHint:m,gapSpace:b,backgroundColor:M.palette.neutralLighter,alignTargetEdge:!0,styles:F,ref:I,role:A,setInitialFocus:R},x&&"top"===C&&d.createElement("div",{style:{position:"absolute",right:B?void 0:0,left:B?0:void 0}},d.createElement(l.K,{onClick:O,elementRef:w,iconProps:{iconName:"Cancel"},styles:null===f||void 0===f?void 0:f.calloutDismissIcon,ariaLabel:E,title:T})),d.createElement(u.E,{block:!0,style:null===f||void 0===f?void 0:f.calloutHeader},g),d.createElement(u.E,{block:!0,style:null===f||void 0===f?void 0:f.calloutContent},v),P,x&&"bottom"===C&&d.createElement(c.Y,{onClick:O,elementRef:w,text:T,styles:null===f||void 0===f?void 0:f.calloutDismissButton,ariaLabel:E})):null}))},60108:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var r=n(394).r},60721:(e,t,n)=>{"use strict";n.d(t,{$f:()=>i,xD:()=>o,xW:()=>r});var r=(0,n(32e3).l8)({root:{display:"inline-block"},placeholder:["ms-Icon-placeHolder",{width:"1em"}],image:["ms-Icon-imageContainer",{overflow:"hidden"}]}),o="ms-Icon",i=function(e){var t=e.className,n=e.iconClassName,o=e.isPlaceholder,i=e.isImage,a=e.styles;return{root:[o&&r.placeholder,r.root,i&&r.image,n,t,a&&a.root,a&&a.imageContainer]}}},60809:(e,t,n)=>{"use strict";n.d(t,{f:()=>L});var r=n(69187),o=n(37827),i=n(9950),a=n(88114),s=n(69175),l=n(56624),u=n(20467),c=n(28225),d=n(23501),p=n(21191),f=n(56340),h=n(60108);function m(e,t){void 0===t&&(t=null);var n=i.useRef({ref:function(){var e=function(e){n.ref.current!==e&&(n.cleanup&&(n.cleanup(),n.cleanup=void 0),n.ref.current=e,null!==e&&(n.cleanup=n.callback(e)))};return e.current=t,e}(),callback:e}).current;return n.callback=e,n.ref}var g=n(46707),v=n(95673),y=function(e){var t=e.onOverflowItemsChanged,n=e.rtl,r=e.pinnedIndex,o=i.useRef(),a=i.useRef(),s=m((function(e){var t=function(e,t){if("undefined"!==typeof ResizeObserver){var n=new ResizeObserver(t);return Array.isArray(e)?e.forEach((function(e){return n.observe(e)})):n.observe(e),function(){return n.disconnect()}}var r=function(){return t(void 0)},o=(0,v.z)(Array.isArray(e)?e[0]:e);if(!o)return function(){};var i=o.requestAnimationFrame(r);return o.addEventListener("resize",r,!1),function(){o.cancelAnimationFrame(i),o.removeEventListener("resize",r,!1)}}(e,(function(t){a.current=t?t[0].contentRect.width:e.clientWidth,o.current&&o.current()}));return function(){t(),a.current=void 0}})),l=m((function(e){return s(e.parentElement),function(){return s(null)}}));return(0,g.E)((function(){var e=s.current,i=l.current;if(e&&i){for(var u=[],c=0;c<e.children.length;c++){var d=e.children[c];d instanceof HTMLElement&&d!==i&&u.push(d)}var p=[],f=0;o.current=function(){var e=a.current;if(void 0!==e){for(var t=u.length-1;t>=0;t--){if(void 0===p[t]){var o=n?e-u[t].offsetLeft:u[t].offsetLeft+u[t].offsetWidth;t+1<u.length&&t+1===r&&(f=p[t+1]-o),t===u.length-2&&(f+=i.offsetWidth),p[t]=o+f}if(e>p[t])return void m(t+1)}m(0)}};var h=u.length,m=function(e){h!==e&&(h=e,t(e,u.map((function(t,n){return{ele:t,isOverflowing:n>=e&&n!==r}}))))},g=void 0;if(void 0!==a.current){var y=(0,v.z)(e);if(y){var b=y.requestAnimationFrame(o.current);g=function(){return y.cancelAnimationFrame(b)}}}return function(){g&&g(),m(u.length),o.current=void 0}}})),{menuButtonRef:l}},b=n(71734),x=n(67825),_=n(44358),C=n(610),w=n(89390),S=(0,l.Z)(),k=function(e,t){var n={links:[],keyToIndexMapping:{},keyToTabIdMapping:{}};return i.Children.forEach(i.Children.toArray(e.children),(function(r,i){if(T(r)){var a=r.props,s=a.linkText,l=(0,o.Tt)(a,["linkText"]),c=r.props.itemKey||i.toString();n.links.push((0,o.Cl)((0,o.Cl)({headerText:s},l),{itemKey:c})),n.keyToIndexMapping[c]=i,n.keyToTabIdMapping[c]=function(e,t,n,r){return e.getTabId?e.getTabId(n,r):t+"-Tab"+r}(e,t,c,i)}else r&&(0,u.R)("The children of a Pivot component must be of type PivotItem to be rendered.")})),n},T=function(e){var t;return i.isValidElement(e)&&(null===(t=e.type)||void 0===t?void 0:t.name)===w.y.name},E=i.forwardRef((function(e,t){var n,r=i.useRef(null),l=i.useRef(null),u=(0,a.B)("Pivot"),m=(0,s.k)(e.selectedKey,e.defaultSelectedKey),g=m[0],v=m[1],w=e.componentRef,E=e.theme,P=e.linkSize,I=e.linkFormat,A=e.overflowBehavior,R=e.overflowAriaLabel,L=e.focusZoneProps,M=e.overflowButtonAs,B={"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"]},O=(0,c.G1)(e,c.JM,["aria-label","aria-labelledby"]),F=k(e,u);i.useImperativeHandle(w,(function(){return{focus:function(){var e;null===(e=r.current)||void 0===e||e.focus()}}}));var D=function(e){if(!e)return null;var t=e.itemCount,r=e.itemIcon,o=e.headerText;return i.createElement("span",{className:n.linkContent},void 0!==r&&i.createElement("span",{className:n.icon},i.createElement(C.I,{iconName:r})),void 0!==o&&i.createElement("span",{className:n.text}," ",e.headerText),void 0!==t&&i.createElement("span",{className:n.count}," (",t,")"))},N=function(e,t,r,a){var s,l=t.itemKey,u=t.headerButtonProps,c=t.onRenderItemLink,p=e.keyToTabIdMapping[l],f=r===l;s=c?c(t,D):D(t);var m=t.headerText||"";m+=t.itemCount?" ("+t.itemCount+")":"",m+=t.itemIcon?" xx":"";var g=t.role&&"tab"!==t.role?{role:t.role}:{role:"tab","aria-selected":f};return i.createElement(h.c,(0,o.Cl)({},u,g,{id:p,key:l,className:(0,d.A)(a,f&&n.linkIsSelected),onClick:function(e){return U(l,e)},onKeyDown:function(e){return z(l,e)},"aria-label":t.ariaLabel,name:t.headerText,keytipProps:t.keytipProps,"data-content":m}),s)},U=function(e,t){t.preventDefault(),j(e,t)},z=function(e,t){t.which===p.c.enter&&(t.preventDefault(),j(e))},j=function(t,n){var r;if(v(t),F=k(e,u),e.onLinkClick&&F.keyToIndexMapping[t]>=0){var o=F.keyToIndexMapping[t],a=i.Children.toArray(e.children)[o];T(a)&&e.onLinkClick(a,n)}null===(r=l.current)||void 0===r||r.dismissMenu()};n=S(e.styles,{theme:E,linkSize:P,linkFormat:I});var V=function(){return null===(e=g)||void 0!==e&&void 0!==F.keyToIndexMapping[e]?g:F.links.length?F.links[0].itemKey:void 0;var e}(),W=V?F.keyToIndexMapping[V]:0,H=F.links.map((function(e){return N(F,e,V,n.link)})),q=i.useMemo((function(){return{items:[],alignTargetEdge:!0,directionalHint:_.A.bottomRightEdge}}),[]),K=y({onOverflowItemsChanged:function(e,t){t.forEach((function(e){var t=e.ele,n=e.isOverflowing;return t.dataset.isOverflowing=""+n})),q.items=F.links.slice(e).filter((function(e){return e.itemKey!==V})).map((function(t,r){return t.role="menuitem",{key:t.itemKey||""+(e+r),onRender:function(){return N(F,t,V,n.linkInMenu)}}}))},rtl:(0,f.jI)(E),pinnedIndex:W}).menuButtonRef,G=M||h.c;return i.createElement("div",(0,o.Cl)({ref:t},O),i.createElement(b.R,(0,o.Cl)({componentRef:r,role:"tablist"},B,{direction:x.E.horizontal},L,{className:(0,d.A)(n.root,null===L||void 0===L?void 0:L.className)}),H,"menu"===A&&i.createElement(G,{className:(0,d.A)(n.link,n.overflowMenuButton),elementRef:K,componentRef:l,menuProps:q,menuIconProps:{iconName:"More",style:{color:"inherit"}},ariaLabel:R})),V&&F.links.map((function(t){return(!0===t.alwaysRender||V===t.itemKey)&&function(t,r){if(e.headersOnly||!t)return null;var o=F.keyToIndexMapping[t],a=F.keyToTabIdMapping[t];return i.createElement("div",{role:"tabpanel",hidden:!r,key:t,"aria-hidden":!r,"aria-labelledby":a,className:n.itemContainer},i.Children.toArray(e.children)[o])}(t.itemKey,V===t.itemKey)})))}));E.displayName="Pivot";var P=n(32e3),I=n(25380),A={count:"ms-Pivot-count",icon:"ms-Pivot-icon",linkIsSelected:"is-selected",link:"ms-Pivot-link",linkContent:"ms-Pivot-linkContent",root:"ms-Pivot",rootIsLarge:"ms-Pivot--large",rootIsTabs:"ms-Pivot--tabs",text:"ms-Pivot-text",linkInMenu:"ms-Pivot-linkInMenu",overflowMenuButton:"ms-Pivot-overflowMenuButton"},R=function(e,t,n){var r,i,a;void 0===n&&(n=!1);var s=e.linkSize,l=e.linkFormat,u=e.theme,c=u.semanticColors,d=u.fonts,p="large"===s,f="tabs"===l;return[d.medium,{color:c.actionLink,padding:"0 8px",position:"relative",backgroundColor:"transparent",border:0,borderRadius:0,selectors:{":hover":{backgroundColor:c.buttonBackgroundHovered,color:c.buttonTextHovered,cursor:"pointer"},":active":{backgroundColor:c.buttonBackgroundPressed,color:c.buttonTextHovered},":focus":{outline:"none"}}},!n&&[{display:"inline-block",lineHeight:44,height:44,marginRight:8,textAlign:"center",selectors:(r={},r["."+I.Y2+" &:focus"]={outline:"1px solid "+c.focusBorder},r["."+I.Y2+" &:focus:after"]={content:"attr(data-content)",position:"relative",border:0},r[":before"]={backgroundColor:"transparent",bottom:0,content:'""',height:2,left:8,position:"absolute",right:8,transition:"left "+P.cs.durationValue2+" "+P.cs.easeFunction2+",\n                        right "+P.cs.durationValue2+" "+P.cs.easeFunction2},r[":after"]={color:"transparent",content:"attr(data-content)",display:"block",fontWeight:P.BO.bold,height:1,overflow:"hidden",visibility:"hidden"},r)},p&&{fontSize:d.large.fontSize},f&&[{marginRight:0,height:44,lineHeight:44,backgroundColor:c.buttonBackground,padding:"0 10px",verticalAlign:"top",selectors:(i={":focus":{outlineOffset:"-1px"}},i["."+I.Y2+" &:focus::before"]={height:"auto",background:"transparent",transition:"none"},i["&:hover, &:focus"]={color:c.buttonTextCheckedHovered},i["&:active, &:hover"]={color:c.primaryButtonText,backgroundColor:c.primaryButtonBackground},i["&."+t.linkIsSelected]={backgroundColor:c.primaryButtonBackground,color:c.primaryButtonText,fontWeight:P.BO.regular,selectors:(a={":before":{backgroundColor:"transparent",transition:"none",position:"absolute",top:0,left:0,right:0,bottom:0,content:'""',height:0},":hover":{backgroundColor:c.primaryButtonBackgroundHovered,color:c.primaryButtonText},"&:active":{backgroundColor:c.primaryButtonBackgroundPressed,color:c.primaryButtonText}},a[P.up]=(0,o.Cl)({fontWeight:P.BO.semibold,color:"HighlightText",background:"Highlight"},(0,P.Qg)()),a)},i)}]]]},L=(0,r.I)(E,(function(e){var t,n,r,i,a=e.className,s=e.linkSize,l=e.linkFormat,u=e.theme,c=u.semanticColors,d=u.fonts,p=(0,P.Km)(A,u),f="large"===s,h="tabs"===l;return{root:[p.root,d.medium,P.S8,{position:"relative",color:c.link,whiteSpace:"nowrap"},f&&p.rootIsLarge,h&&p.rootIsTabs,a],itemContainer:{selectors:{"&[hidden]":{display:"none"}}},link:(0,o.fX)((0,o.fX)([p.link],R(e,p)),[(t={},t["&[data-is-overflowing='true']"]={display:"none"},t)]),overflowMenuButton:[p.overflowMenuButton,(n={visibility:"hidden",position:"absolute",right:0},n["."+p.link+"[data-is-overflowing='true'] ~ &"]={visibility:"visible",position:"relative"},n)],linkInMenu:(0,o.fX)((0,o.fX)([p.linkInMenu],R(e,p,!0)),[{textAlign:"left",width:"100%",height:36,lineHeight:36}]),linkIsSelected:[p.link,p.linkIsSelected,{fontWeight:P.BO.semibold,selectors:(r={":before":{backgroundColor:c.inputBackgroundChecked,selectors:(i={},i[P.up]={backgroundColor:"Highlight"},i)},":hover::before":{left:0,right:0}},r[P.up]={color:"Highlight"},r)}],linkContent:[p.linkContent,{flex:"0 1 100%",selectors:{"& > * ":{marginLeft:4},"& > *:first-child":{marginLeft:0}}}],text:[p.text,{display:"inline-block",verticalAlign:"top"}],count:[p.count,{display:"inline-block",verticalAlign:"top"}],icon:p.icon}}),void 0,{scope:"Pivot"})},61297:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var r=n(88873),o=n(69893),i=n(44121),a=n(66066);function s(e,t){if(t){switch(t){case r.x8:e.cropInteraction.mode=i.I.none,e.cropInteraction.enableZoomToCrop=!0,e.view.enableZoomToView=!1,e.view.viewFitting.mode=o.m.fitCropRectInView,e.cropInteraction.enableLeftMouseDraggingView=!0,e.view.canViewOriginal=!1,e.cropUiDisplay.areCropOverlaysVisible=!0,(0,a.A)(e);break;case r.Zc:case r.km:case r.VQ:e.cropInteraction.mode=i.I.disabled,e.cropInteraction.enableZoomToCrop=!1,e.view.enableZoomToView=!0,e.cropInteraction.enableLeftMouseDraggingView=!0,e.view.canViewOriginal=!0;break;case r.NF:case r.Nr:case r.ts:e.cropInteraction.mode=i.I.disabled,e.cropInteraction.enableZoomToCrop=!1,e.view.enableZoomToView=!0,e.cropInteraction.enableLeftMouseDraggingView=!0,e.view.viewFitting.mode=o.m.fitCropRectInView,e.view.canViewOriginal=!1;break;case r.X4:e.cropInteraction.mode=i.I.disabled,e.cropInteraction.enableZoomToCrop=!1,e.view.enableZoomToView=!1,e.cropInteraction.enableLeftMouseDraggingView=!1,e.view.viewFitting.mode=o.m.fitCropRectInView,e.view.canViewOriginal=!1;break;case r.VO:e.cropInteraction.mode=i.I.disabled,e.cropInteraction.enableZoomToCrop=!1,e.view.enableZoomToView=!0,e.cropInteraction.enableLeftMouseDraggingView=!1,e.view.canViewOriginal=!1;break;case r.io:e.cropInteraction.mode=i.I.disabled,e.cropInteraction.enableZoomToCrop=!1,e.view.enableZoomToView=!1,e.cropInteraction.enableLeftMouseDraggingView=!1,e.view.viewFitting.mode=o.m.fitCropRectInView,e.view.canViewOriginal=!0;break;case r.jp:e.cropInteraction.mode=i.I.disabled,e.cropInteraction.enableZoomToCrop=!1,e.view.enableZoomToView=!0,e.cropInteraction.enableLeftMouseDraggingView=!1,e.view.viewFitting.mode=o.m.fitCropRectInView,e.view.canViewOriginal=!1}e.view.animateViewWhenViewportIsResized=!0}}},61403:(e,t,n)=>{"use strict";n.d(t,{H:()=>l});var r=n(9950),o=n(91629),i=n(6246),a=n(81134),s=n(20369);function l(e){var t=(0,r.useContext)(a.M).textureManager,n=(0,r.useContext)(o.Z).image,l=n&&(0,i.k_)(n)?n[e]:null,u=l&&(null===t||void 0===t?void 0:t.getAlreadyLoadedTexture(l)),c=(0,s.V)();return(0,r.useEffect)((function(){if(l&&!u&&t){var e=function(){c()},n=t.getTextureId(l);return t.registerTextureLoadedCallback(n,e),function(){t.unRegisterTextureLoadedCallback(n,e)}}}),[l,u,t,e,c]),!!u}},61470:(e,t,n)=>{"use strict";var r;n.d(t,{W:()=>r}),function(e){e[e.Normal=0]="Normal",e[e.Divider=1]="Divider",e[e.Header=2]="Header",e[e.SelectAll=3]="SelectAll"}(r||(r={}))},61490:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r=n(44051),o={main:r.k.mainTextureSampler,singleTileMain:r.k.singleTileMainTextureSampler,singleTilePreSharpen:r.k.singleTilePreSharpenTextureSampler,singleTileTemp:r.k.singleTileTempTextureSampler,singleTileBackground:r.k.singleTileBackgroundTextureSampler,overlay:r.k.overlayTextureSampler,backgroundMask:r.k.backgroundMaskTextureSampler,eraseMask:r.k.eraseMaskTextureSampler,normalMap:r.k.normalMapTextureSampler,original:r.k.originalTextureSampler,objectSegmentationPreview:r.k.objectSegmentationPreviewTextureSampler};function i(e){return o[e]}},61540:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var r=n(15057),o=255;function i(e,t){var n=(0,r.n)(e);if(!n)throw new Error("Invalid color string: ".concat(e));return[n.r/o,n.g/o,n.b/o,t]}},61618:(e,t,n)=>{"use strict";function r(e){return e.texturePatch}n.d(t,{A:()=>r})},62090:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var r=n(75347);function o(e,t,n){var o=t(n);return(0,r.ZG)(o,e)}},62168:(e,t,n)=>{"use strict";var r;n.d(t,{V:()=>o,o:()=>r}),function(e){e.HarmfulInput="HarmfulInput",e.HarmfulOutput="HarmfulOutput",e.UnknownError="UnknownError",e.UnsafePrompt="UnsafePrompt"}(r||(r={}));var o="notProcessing"},62254:(e,t,n)=>{var r;!function(o,i,a,s){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=i.createElement("div"),d=Math.round,p=Math.abs,f=Date.now;function h(e,t,n){return setTimeout(_(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function v(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),e.apply(this,arguments)}}l="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Object.assign;var y=v((function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===s)&&(e[r[o]]=t[r[o]]),o++;return e}),"extend","Use `assign`."),b=v((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function x(e,t,n){var r,o=t.prototype;(r=e.prototype=Object.create(o)).constructor=e,r._super=o,n&&l(r,n)}function _(e,t){return function(){return e.apply(t,arguments)}}function C(e,t){return"function"==typeof e?e.apply(t&&t[0]||s,t):e}function w(e,t){return e===s?t:e}function S(e,t,n){g(P(t),(function(t){e.addEventListener(t,n,!1)}))}function k(e,t,n){g(P(t),(function(t){e.removeEventListener(t,n,!1)}))}function T(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function E(e,t){return e.indexOf(t)>-1}function P(e){return e.trim().split(/\s+/g)}function I(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function A(e){return Array.prototype.slice.call(e,0)}function R(e,t,n){for(var r=[],o=[],i=0;i<e.length;){var a=t?e[i][t]:e[i];I(o,a)<0&&r.push(e[i]),o[i]=a,i++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function L(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),i=0;i<u.length;){if((r=(n=u[i])?n+o:t)in e)return r;i++}return s}var M=1;function B(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||o}var O="ontouchstart"in o,F=L(o,"PointerEvent")!==s,D=O&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N="touch",U="mouse",z=24,j=["x","y"],V=["clientX","clientY"];function W(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){C(e.options.enable,[e])&&n.handler(t)},this.init()}function H(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,i=1&t&&r-o===0,a=12&t&&r-o===0;n.isFirst=!!i,n.isFinal=!!a,i&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=q(t));o>1&&!n.firstMultiple?n.firstMultiple=q(t):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,l=a?a.center:i.center,u=t.center=K(r);t.timeStamp=f(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=Y(l,u),t.distance=X(l,u),function(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},i=e.prevInput||{};1!==t.eventType&&4!==i.eventType||(o=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}(n,t),t.offsetDirection=Z(t.deltaX,t.deltaY);var c=G(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,t.scale=a?(d=a.pointers,h=r,X(h[0],h[1],V)/X(d[0],d[1],V)):1,t.rotation=a?function(e,t){return Y(t[1],t[0],V)+Y(e[1],e[0],V)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,o,i,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(l>25||a.velocity===s)){var u=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,d=G(l,u,c);r=d.x,o=d.y,n=p(d.x)>p(d.y)?d.x:d.y,i=Z(u,c),e.lastInterval=t}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=i}(n,t);var d,h;var m=e.element;T(t.srcEvent.target,m)&&(m=t.srcEvent.target);t.target=m}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function q(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:K(t),deltaX:e.deltaX,deltaY:e.deltaY}}function K(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,r=0,o=0;o<t;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:d(n/t),y:d(r/t)}}function G(e,t,n){return{x:t/e||0,y:n/e||0}}function Z(e,t){return e===t?1:p(e)>=p(t)?e<0?2:4:t<0?8:16}function X(e,t,n){n||(n=j);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function Y(e,t,n){n||(n=j);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return 180*Math.atan2(o,r)/Math.PI}W.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(B(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(B(this.element),this.evWin,this.domHandler)}};var Q={mousedown:1,mousemove:2,mouseup:4},J="mousedown",$="mousemove mouseup";function ee(){this.evEl=J,this.evWin=$,this.pressed=!1,W.apply(this,arguments)}x(ee,W,{handler:function(e){var t=Q[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:U,srcEvent:e}))}});var te={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:N,3:"pen",4:U,5:"kinect"},re="pointerdown",oe="pointermove pointerup pointercancel";function ie(){this.evEl=re,this.evWin=oe,W.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(re="MSPointerDown",oe="MSPointerMove MSPointerUp MSPointerCancel"),x(ie,W,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),o=te[r],i=ne[e.pointerType]||e.pointerType,a=i==N,s=I(t,e.pointerId,"pointerId");1&o&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&o&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(s,1))}});var ae={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function se(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,W.apply(this,arguments)}function le(e,t){var n=A(e.touches),r=A(e.changedTouches);return 12&t&&(n=R(n.concat(r),"identifier",!0)),[n,r]}x(se,W,{handler:function(e){var t=ae[e.type];if(1===t&&(this.started=!0),this.started){var n=le.call(this,e,t);12&t&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:e})}}});var ue={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ce="touchstart touchmove touchend touchcancel";function de(){this.evTarget=ce,this.targetIds={},W.apply(this,arguments)}function pe(e,t){var n=A(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=A(e.changedTouches),s=[],l=this.target;if(i=n.filter((function(e){return T(e.target,l)})),1===t)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),12&t&&delete r[a[o].identifier],o++;return s.length?[R(i.concat(s),"identifier",!0),s]:void 0}x(de,W,{handler:function(e){var t=ue[e.type],n=pe.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:e})}});function fe(){W.apply(this,arguments);var e=_(this.handler,this);this.touch=new de(this.manager,e),this.mouse=new ee(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function he(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,me.call(this,t)):12&e&&me.call(this,t)}function me(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function ge(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(t-o.x),a=Math.abs(n-o.y);if(i<=25&&a<=25)return!0}return!1}x(fe,W,{handler:function(e,t,n){var r=n.pointerType==N,o=n.pointerType==U;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)he.call(this,t,n);else if(o&&ge.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ve=L(c.style,"touchAction"),ye=ve!==s,be="compute",xe="auto",_e="manipulation",Ce="none",we="pan-x",Se="pan-y",ke=function(){if(!ye)return!1;var e={},t=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||o.CSS.supports("touch-action",n)})),e}();function Te(e,t){this.manager=e,this.set(t)}Te.prototype={set:function(e){e==be&&(e=this.compute()),ye&&this.manager.element.style&&ke[e]&&(this.manager.element.style[ve]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,(function(t){C(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(E(e,Ce))return Ce;var t=E(e,we),n=E(e,Se);if(t&&n)return Ce;if(t||n)return t?we:Se;if(E(e,_e))return _e;return xe}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,o=E(r,Ce)&&!ke[Ce],i=E(r,Se)&&!ke[Se],a=E(r,we)&&!ke[we];if(o){var s=1===e.pointers.length,l=e.distance<2,u=e.deltaTime<250;if(s&&l&&u)return}if(!a||!i)return o||i&&6&n||a&&n&z?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ee=32;function Pe(e){this.options=l({},this.defaults,e||{}),this.id=M++,this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Ie(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Ae(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Re(e,t){var n=t.manager;return n?n.get(e):e}function Le(){Pe.apply(this,arguments)}function Me(){Le.apply(this,arguments),this.pX=null,this.pY=null}function Be(){Le.apply(this,arguments)}function Oe(){Pe.apply(this,arguments),this._timer=null,this._input=null}function Fe(){Le.apply(this,arguments)}function De(){Le.apply(this,arguments)}function Ne(){Pe.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ue(e,t){return(t=t||{}).recognizers=w(t.recognizers,Ue.defaults.preset),new ze(e,t)}Pe.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Re(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)||(e=Re(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===I(t,e=Re(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=Re(e,this);var t=I(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Ie(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Ie(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Ee},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!C(this.options.enable,[this,t]))return this.reset(),void(this.state=Ee);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},x(Le,Pe,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,o=this.attrTest(e);return r&&(8&n||!o)?16|t:r||o?4&n?8|t:2&t?4|t:2:Ee}}),x(Me,Le,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Se),e&z&&t.push(we),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,o=e.direction,i=e.deltaX,a=e.deltaY;return o&t.direction||(6&t.direction?(o=0===i?1:i<0?2:4,n=i!=this.pX,r=Math.abs(e.deltaX)):(o=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=o,n&&r>t.threshold&&o&t.direction},attrTest:function(e){return Le.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Ae(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),x(Be,Le,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ce]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),x(Oe,Pe,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!o)this.reset();else if(1&e.eventType)this.reset(),this._timer=h((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return Ee},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),x(Fe,Le,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ce]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),x(De,Le,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Me.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:n&z&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&p(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Ae(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),x(Ne,Pe,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[_e]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&o&&n){if(4!=e.eventType)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||X(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&i?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=h((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Ee},failTimeout:function(){return this._timer=h((function(){this.state=Ee}),this.options.interval,this),Ee},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ue.VERSION="2.0.7",Ue.defaults={domEvents:!1,touchAction:be,enable:!0,inputTarget:null,inputClass:null,preset:[[Fe,{enable:!1}],[Be,{enable:!1},["rotate"]],[De,{direction:6}],[Me,{direction:6},["swipe"]],[Ne],[Ne,{event:"doubletap",taps:2},["tap"]],[Oe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ze(e,t){var n;this.options=l({},Ue.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(F?ie:D?de:O?fe:ee))(n,H),this.touchAction=new Te(this,this.options.touchAction),je(this,!0),g(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function je(e,t){var n,r=e.element;r.style&&(g(e.options.cssProps,(function(o,i){n=L(r.style,i),t?(e.oldCssProps[n]=r.style[n],r.style[n]=o):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}ze.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,o=t.curRecognizer;(!o||o&&8&o.state)&&(o=t.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===t.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&14&n.state&&(o=t.curRecognizer=n),i++}},get:function(e){if(e instanceof Pe)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=I(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return g(P(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return g(P(e),(function(e){t?n[e]&&n[e].splice(I(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&je(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Ue,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Ee,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:z,DIRECTION_ALL:30,Manager:ze,Input:W,TouchAction:Te,TouchInput:de,MouseInput:ee,PointerEventInput:ie,TouchMouseInput:fe,SingleTouchInput:se,Recognizer:Pe,AttrRecognizer:Le,Tap:Ne,Pan:Me,Swipe:De,Pinch:Be,Rotate:Fe,Press:Oe,on:S,off:k,each:g,merge:b,extend:y,assign:l,inherit:x,bindFn:_,prefixed:L}),("undefined"!==typeof o?o:"undefined"!==typeof self?self:{}).Hammer=Ue,(r=function(){return Ue}.call(t,n,t,e))===s||(e.exports=r)}(window,document)},62276:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/penCursorFallback.7b354f455c946fdc473f.cur"},62441:(e,t,n)=>{"use strict";n.d(t,{Y:()=>h});var r=n(37827),o=n(9950),i=n(48842),a=n(45890),s=n(70945),l=n(32e3),u=n(96042),c=n(49972),d=n(39358),p=n(25380);var f=(0,u.J9)((function(e,t,n){var o=(0,c.$)(e),i=(0,d.$)(e),a={root:{minWidth:"80px",height:"32px"},label:{fontWeight:l.BO.semibold}};return(0,l.TW)(o,a,n?function(e){var t,n,o,i,a,s,u,c,d,f=e.palette,h=e.semanticColors;return{root:{backgroundColor:h.primaryButtonBackground,border:"1px solid "+h.primaryButtonBackground,color:h.primaryButtonText,selectors:(t={},t[l.up]=(0,r.Cl)({color:"Window",backgroundColor:"WindowText",borderColor:"WindowText"},(0,l.Qg)()),t["."+p.Y2+" &:focus"]={selectors:{":after":{border:"none",outlineColor:f.white}}},t)},rootHovered:{backgroundColor:h.primaryButtonBackgroundHovered,border:"1px solid "+h.primaryButtonBackgroundHovered,color:h.primaryButtonTextHovered,selectors:(n={},n[l.up]={color:"Window",backgroundColor:"Highlight",borderColor:"Highlight"},n)},rootPressed:{backgroundColor:h.primaryButtonBackgroundPressed,border:"1px solid "+h.primaryButtonBackgroundPressed,color:h.primaryButtonTextPressed,selectors:(o={},o[l.up]=(0,r.Cl)({color:"Window",backgroundColor:"WindowText",borderColor:"WindowText"},(0,l.Qg)()),o)},rootExpanded:{backgroundColor:h.primaryButtonBackgroundPressed,color:h.primaryButtonTextPressed},rootChecked:{backgroundColor:h.primaryButtonBackgroundPressed,color:h.primaryButtonTextPressed},rootCheckedHovered:{backgroundColor:h.primaryButtonBackgroundPressed,color:h.primaryButtonTextPressed},rootDisabled:{color:h.primaryButtonTextDisabled,backgroundColor:h.primaryButtonBackgroundDisabled,selectors:(i={},i[l.up]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},i)},splitButtonContainer:{selectors:(a={},a[l.up]={border:"none"},a)},splitButtonDivider:(0,r.Cl)((0,r.Cl)({},{position:"absolute",width:1,right:31,top:8,bottom:8}),{backgroundColor:f.white,selectors:(s={},s[l.up]={backgroundColor:"Window"},s)}),splitButtonMenuButton:{backgroundColor:h.primaryButtonBackground,color:h.primaryButtonText,selectors:(u={},u[l.up]={backgroundColor:"Canvas"},u[":hover"]={backgroundColor:h.primaryButtonBackgroundHovered,selectors:(c={},c[l.up]={color:"Highlight"},c)},u)},splitButtonMenuButtonDisabled:{backgroundColor:h.primaryButtonBackgroundDisabled,selectors:{":hover":{backgroundColor:h.primaryButtonBackgroundDisabled}}},splitButtonMenuButtonChecked:{backgroundColor:h.primaryButtonBackgroundPressed,selectors:{":hover":{backgroundColor:h.primaryButtonBackgroundPressed}}},splitButtonMenuButtonExpanded:{backgroundColor:h.primaryButtonBackgroundPressed,selectors:{":hover":{backgroundColor:h.primaryButtonBackgroundPressed}}},splitButtonMenuIcon:{color:h.primaryButtonText},splitButtonMenuIconDisabled:{color:f.neutralTertiary,selectors:(d={},d[l.up]={color:"GrayText"},d)}}}(e):function(e){var t,n,o,i,a,s=e.semanticColors,u=e.palette,c=s.buttonBackground,d=s.buttonBackgroundPressed,p=s.buttonBackgroundHovered,f=s.buttonBackgroundDisabled,h=s.buttonText,m=s.buttonTextHovered,g=s.buttonTextDisabled,v=s.buttonTextChecked,y=s.buttonTextCheckedHovered;return{root:{backgroundColor:c,color:h},rootHovered:{backgroundColor:p,color:m,selectors:(t={},t[l.up]={borderColor:"Highlight",color:"Highlight"},t)},rootPressed:{backgroundColor:d,color:v},rootExpanded:{backgroundColor:d,color:v},rootChecked:{backgroundColor:d,color:v},rootCheckedHovered:{backgroundColor:d,color:y},rootDisabled:{color:g,backgroundColor:f,selectors:(n={},n[l.up]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},n)},splitButtonContainer:{selectors:(o={},o[l.up]={border:"none"},o)},splitButtonMenuButton:{color:u.white,backgroundColor:"transparent",selectors:{":hover":{backgroundColor:u.neutralLight,selectors:(i={},i[l.up]={color:"Highlight"},i)}}},splitButtonMenuButtonDisabled:{backgroundColor:s.buttonBackgroundDisabled,selectors:{":hover":{backgroundColor:s.buttonBackgroundDisabled}}},splitButtonDivider:(0,r.Cl)((0,r.Cl)({},{position:"absolute",width:1,right:31,top:8,bottom:8}),{backgroundColor:u.neutralTertiaryAlt,selectors:(a={},a[l.up]={backgroundColor:"WindowText"},a)}),splitButtonDividerDisabled:{backgroundColor:e.palette.neutralTertiaryAlt},splitButtonMenuButtonChecked:{backgroundColor:u.neutralQuaternaryAlt,selectors:{":hover":{backgroundColor:u.neutralQuaternaryAlt}}},splitButtonMenuButtonExpanded:{backgroundColor:u.neutralQuaternaryAlt,selectors:{":hover":{backgroundColor:u.neutralQuaternaryAlt}}},splitButtonMenuIcon:{color:s.buttonText},splitButtonMenuIconDisabled:{color:s.buttonTextDisabled}}}(e),i,t)})),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.C6)(t,e),t.prototype.render=function(){var e=this.props,t=e.primary,n=void 0!==t&&t,s=e.styles,l=e.theme;return o.createElement(i.S,(0,r.Cl)({},this.props,{variantClassName:n?"ms-Button--primary":"ms-Button--default",styles:f(l,s,n),onRenderDescription:a.K}))},t=(0,r.Cg)([(0,s.T)("DefaultButton",["theme","styles"],!0)],t)}(o.Component)},62832:(e,t,n)=>{"use strict";n.d(t,{k:()=>C});var r=n(69187),o=n(37827),i=n(9950),a=n(56624),s=n(96042),l=n(4526),u=(0,a.Z)(),c=n(32e3),d={root:"ms-ShimmerLine-root",topLeftCorner:"ms-ShimmerLine-topLeftCorner",topRightCorner:"ms-ShimmerLine-topRightCorner",bottomLeftCorner:"ms-ShimmerLine-bottomLeftCorner",bottomRightCorner:"ms-ShimmerLine-bottomRightCorner"};var p=(0,r.I)((function(e){var t=e.height,n=e.styles,r=e.width,o=void 0===r?"100%":r,a=e.borderStyle,s=e.theme,l=u(n,{theme:s,height:t,borderStyle:a});return i.createElement("div",{style:{width:o,minWidth:"number"===typeof o?o+"px":"auto"},className:l.root},i.createElement("svg",{width:"2",height:"2",className:l.topLeftCorner},i.createElement("path",{d:"M0 2 A 2 2, 0, 0, 1, 2 0 L 0 0 Z"})),i.createElement("svg",{width:"2",height:"2",className:l.topRightCorner},i.createElement("path",{d:"M0 0 A 2 2, 0, 0, 1, 2 2 L 2 0 Z"})),i.createElement("svg",{width:"2",height:"2",className:l.bottomRightCorner},i.createElement("path",{d:"M2 0 A 2 2, 0, 0, 1, 0 2 L 2 2 Z"})),i.createElement("svg",{width:"2",height:"2",className:l.bottomLeftCorner},i.createElement("path",{d:"M2 2 A 2 2, 0, 0, 1, 0 0 L 0 2 Z"})))}),(function(e){var t,n=e.height,r=e.borderStyle,o=e.theme,i=o.semanticColors,a=(0,c.Km)(d,o),s=r||{},l={position:"absolute",fill:i.bodyBackground};return{root:[a.root,o.fonts.medium,{height:n+"px",boxSizing:"content-box",position:"relative",borderTopStyle:"solid",borderBottomStyle:"solid",borderColor:i.bodyBackground,borderWidth:0,selectors:(t={},t[c.up]={borderColor:"Window",selectors:{"> *":{fill:"Window"}}},t)},s],topLeftCorner:[a.topLeftCorner,{top:"0",left:"0"},l],topRightCorner:[a.topRightCorner,{top:"0",right:"0"},l],bottomRightCorner:[a.bottomRightCorner,{bottom:"0",right:"0"},l],bottomLeftCorner:[a.bottomLeftCorner,{bottom:"0",left:"0"},l]}}),void 0,{scope:"ShimmerLine"}),f=(0,a.Z)(),h={root:"ms-ShimmerGap-root"};var m=(0,r.I)((function(e){var t=e.height,n=e.styles,r=e.width,o=void 0===r?"10px":r,a=e.borderStyle,s=e.theme,l=f(n,{theme:s,height:t,borderStyle:a});return i.createElement("div",{style:{width:o,minWidth:"number"===typeof o?o+"px":"auto"},className:l.root})}),(function(e){var t,n=e.height,r=e.borderStyle,o=e.theme,i=o.semanticColors,a=r||{};return{root:[(0,c.Km)(h,o).root,o.fonts.medium,{backgroundColor:i.bodyBackground,height:n+"px",boxSizing:"content-box",borderTopStyle:"solid",borderBottomStyle:"solid",borderColor:i.bodyBackground,selectors:(t={},t[c.up]={backgroundColor:"Window",borderColor:"Window"},t)},a]}}),void 0,{scope:"ShimmerGap"}),g={root:"ms-ShimmerCircle-root",svg:"ms-ShimmerCircle-svg"};var v=(0,a.Z)(),y=(0,r.I)((function(e){var t=e.height,n=e.styles,r=e.borderStyle,o=e.theme,a=v(n,{theme:o,height:t,borderStyle:r});return i.createElement("div",{className:a.root},i.createElement("svg",{viewBox:"0 0 10 10",width:t,height:t,className:a.svg},i.createElement("path",{d:"M0,0 L10,0 L10,10 L0,10 L0,0 Z M0,5 C0,7.76142375 2.23857625,10 5,10 C7.76142375,10 10,7.76142375 10,5 C10,2.23857625 7.76142375,2.22044605e-16 5,0 C2.23857625,-2.22044605e-16 0,2.23857625 0,5 L0,5 Z"})))}),(function(e){var t,n,r=e.height,o=e.borderStyle,i=e.theme,a=i.semanticColors,s=(0,c.Km)(g,i),l=o||{};return{root:[s.root,i.fonts.medium,{width:r+"px",height:r+"px",minWidth:r+"px",boxSizing:"content-box",borderTopStyle:"solid",borderBottomStyle:"solid",borderColor:a.bodyBackground,selectors:(t={},t[c.up]={borderColor:"Window"},t)},l],svg:[s.svg,{display:"block",fill:a.bodyBackground,selectors:(n={},n[c.up]={fill:"Window"},n)}]}}),void 0,{scope:"ShimmerCircle"}),b=(0,a.Z)();var x=(0,s.J9)((function(e,t,n,r,i){var a,s=i&&n?i-n:0;if(e&&"center"!==e?e&&"top"===e?a={borderBottomWidth:s+"px",borderTopWidth:"0px"}:e&&"bottom"===e&&(a={borderBottomWidth:"0px",borderTopWidth:s+"px"}):a={borderBottomWidth:(s?Math.floor(s/2):0)+"px",borderTopWidth:(s?Math.ceil(s/2):0)+"px"},r)switch(t){case l.w.circle:return{root:(0,o.Cl)((0,o.Cl)({},a),{borderColor:r}),svg:{fill:r}};case l.w.gap:return{root:(0,o.Cl)((0,o.Cl)({},a),{borderColor:r,backgroundColor:r})};case l.w.line:return{root:(0,o.Cl)((0,o.Cl)({},a),{borderColor:r}),topLeftCorner:{fill:r},topRightCorner:{fill:r},bottomLeftCorner:{fill:r},bottomRightCorner:{fill:r}}}return{root:a}}));var _={root:"ms-ShimmerElementsGroup-root"};var C=(0,r.I)((function(e){var t=e.styles,n=e.width,r=void 0===n?"auto":n,a=e.shimmerElements,s=e.rowHeight,u=void 0===s?function(e){var t=e.map((function(e){switch(e.type){case l.w.circle:e.height||(e.height=l.A.circle);break;case l.w.line:e.height||(e.height=l.A.line);break;case l.w.gap:e.height||(e.height=l.A.gap)}return e})),n=t.reduce((function(e,t){return t.height&&t.height>e?t.height:e}),0);return n}(a||[]):s,c=e.flexWrap,d=void 0!==c&&c,f=e.theme,h=e.backgroundColor,g=b(t,{theme:f,flexWrap:d});return i.createElement("div",{style:{width:r},className:g.root},function(e,t,n){var r=e?e.map((function(e,r){var a=e.type,s=(0,o.Tt)(e,["type"]),u=s.verticalAlign,c=s.height,d=x(u,a,c,t,n);switch(e.type){case l.w.circle:return i.createElement(y,(0,o.Cl)({key:r},s,{styles:d}));case l.w.gap:return i.createElement(m,(0,o.Cl)({key:r},s,{styles:d}));case l.w.line:return i.createElement(p,(0,o.Cl)({key:r},s,{styles:d}))}})):i.createElement(p,{height:l.A.line});return r}(a,h,u))}),(function(e){var t=e.flexWrap,n=e.theme;return{root:[(0,c.Km)(_,n).root,n.fonts.medium,{display:"flex",alignItems:"center",flexWrap:t?"wrap":"nowrap",position:"relative"}]}}),void 0,{scope:"ShimmerElementsGroup"})},62846:(e,t,n)=>{"use strict";n.d(t,{Kq:()=>c,ty:()=>o,Ng:()=>W});var r=n(9950),o=r.createContext(null);var i=function(e){e()},a=function(){return i};var s={notify:function(){},get:function(){return[]}};function l(e,t){var n,r=s;function o(){l.onStateChange&&l.onStateChange()}function i(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=a(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}var l={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=s)},getListeners:function(){return r}};return l}var u="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;const c=function(e){var t=e.store,n=e.context,i=e.children,a=(0,r.useMemo)((function(){var e=l(t);return{store:t,subscription:e}}),[t]),s=(0,r.useMemo)((function(){return t.getState()}),[t]);u((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,s]);var c=n||o;return r.createElement(c.Provider,{value:a},i)};function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(null,arguments)}function p(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var f=n(23876),h=n.n(f),m=n(26429),g=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],v=["reactReduxForwardedRef"],y=[],b=[null,null];function x(e,t){var n=e[1];return[t.payload,n+1]}function _(e,t,n){u((function(){return e.apply(void 0,t)}),n)}function C(e,t,n,r,o,i,a){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,a())}function w(e,t,n,r,o,i,a,s,l,u){if(e){var c=!1,d=null,p=function(){if(!c){var e,n,p=t.getState();try{e=r(p,o.current)}catch(f){n=f,d=f}n||(d=null),e===i.current?a.current||l():(i.current=e,s.current=e,a.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=p,n.trySubscribe(),p();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var S=function(){return[null,0]};function k(e,t){void 0===t&&(t={});var n=t,i=n.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,s=n.methodName,u=void 0===s?"connectAdvanced":s,c=n.renderCountProp,f=void 0===c?void 0:c,k=n.shouldHandleStateChanges,T=void 0===k||k,E=n.storeKey,P=void 0===E?"store":E,I=(n.withRef,n.forwardRef),A=void 0!==I&&I,R=n.context,L=void 0===R?o:R,M=p(n,g),B=L;return function(t){var n=t.displayName||t.name||"Component",o=a(n),i=d({},M,{getDisplayName:a,methodName:u,renderCountProp:f,shouldHandleStateChanges:T,storeKey:P,displayName:o,wrappedComponentName:n,WrappedComponent:t}),s=M.pure;var c=s?r.useMemo:function(e){return e()};function g(n){var o=(0,r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=p(n,v);return[n.context,e,t]}),[n]),a=o[0],s=o[1],u=o[2],f=(0,r.useMemo)((function(){return a&&a.Consumer&&(0,m.isContextConsumer)(r.createElement(a.Consumer,null))?a:B}),[a,B]),h=(0,r.useContext)(f),g=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var k=g?n.store:h.store,E=(0,r.useMemo)((function(){return function(t){return e(t.dispatch,i)}(k)}),[k]),P=(0,r.useMemo)((function(){if(!T)return b;var e=l(k,g?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[k,g,h]),I=P[0],A=P[1],R=(0,r.useMemo)((function(){return g?h:d({},h,{subscription:I})}),[g,h,I]),L=(0,r.useReducer)(x,y,S),M=L[0][0],O=L[1];if(M&&M.error)throw M.error;var F=(0,r.useRef)(),D=(0,r.useRef)(u),N=(0,r.useRef)(),U=(0,r.useRef)(!1),z=c((function(){return N.current&&u===D.current?N.current:E(k.getState(),u)}),[k,M,u]);_(C,[D,F,U,u,z,N,A]),_(w,[T,k,I,E,D,F,U,N,A,O],[k,I,E]);var j=(0,r.useMemo)((function(){return r.createElement(t,d({},z,{ref:s}))}),[s,t,z]);return(0,r.useMemo)((function(){return T?r.createElement(f.Provider,{value:R},j):j}),[f,j,R])}var k=s?r.memo(g):g;if(k.WrappedComponent=t,k.displayName=g.displayName=o,A){var E=r.forwardRef((function(e,t){return r.createElement(k,d({},e,{reactReduxForwardedRef:t}))}));return E.displayName=o,E.WrappedComponent=t,h()(E,t)}return h()(k,t)}}function T(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function E(e,t){if(T(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!T(e[n[o]],t[n[o]]))return!1;return!0}function P(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function I(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function A(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=I(e);var o=r(t,n);return"function"===typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=I(o),o=r(t,n)),o},r}}const R=[function(e){return"function"===typeof e?A(e):void 0},function(e){return e?void 0:P((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?P((function(t){return function(e,t){var n={},r=function(r){var o=e[r];"function"===typeof o&&(n[r]=function(){return t(o.apply(void 0,arguments))})};for(var o in e)r(o);return n}(e,t)})):void 0}];const L=[function(e){return"function"===typeof e?A(e):void 0},function(e){return e?void 0:P((function(){return{}}))}];function M(e,t,n){return d({},n,e,t)}const B=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?o&&i(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return M}}];var O=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function F(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function D(e,t,n,r,o){var i,a,s,l,u,c=o.areStatesEqual,d=o.areOwnPropsEqual,p=o.areStatePropsEqual,f=!1;function h(o,f){var h=!d(f,a),m=!c(o,i,f,a);return i=o,a=f,h&&m?(s=e(i,a),t.dependsOnOwnProps&&(l=t(r,a)),u=n(s,l,a)):h?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(l=t(r,a)),u=n(s,l,a)):m?function(){var t=e(i,a),r=!p(t,s);return s=t,r&&(u=n(s,l,a)),u}():u}return function(o,c){return f?h(o,c):(s=e(i=o,a=c),l=t(r,a),u=n(s,l,a),f=!0,u)}}function N(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=p(t,O),a=n(e,i),s=r(e,i),l=o(e,i);return(i.pure?D:F)(a,s,l,e,i)}var U=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function z(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function j(e,t){return e===t}function V(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?k:n,o=t.mapStateToPropsFactories,i=void 0===o?L:o,a=t.mapDispatchToPropsFactories,s=void 0===a?R:a,l=t.mergePropsFactories,u=void 0===l?B:l,c=t.selectorFactory,f=void 0===c?N:c;return function(e,t,n,o){void 0===o&&(o={});var a=o,l=a.pure,c=void 0===l||l,h=a.areStatesEqual,m=void 0===h?j:h,g=a.areOwnPropsEqual,v=void 0===g?E:g,y=a.areStatePropsEqual,b=void 0===y?E:y,x=a.areMergedPropsEqual,_=void 0===x?E:x,C=p(a,U),w=z(e,i,"mapStateToProps"),S=z(t,s,"mapDispatchToProps"),k=z(n,u,"mergeProps");return r(f,d({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:S,initMergeProps:k,pure:c,areStatesEqual:m,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:_},C))}}const W=V();var H,q=n(17119);H=q.unstable_batchedUpdates,i=H},62919:(e,t,n)=>{"use strict";n.d(t,{M:()=>a,u:()=>i});var r=n(34354),o=n(12617);function i(e){var t=(0,o._)(e);return(0,r.V1)(t)}function a(e){var t=(0,o.A)(e);return(0,r.V1)(t)}},62951:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(22926),o=n(69106);function i(e,t){var n,i,a;void 0===t&&(t={});var s=(0,r.h)({},e,t,{semanticColors:(0,o.B)(t.palette,t.effects,t.semanticColors,void 0===t.isInverted?e.isInverted:t.isInverted)});if((null===(n=t.palette)||void 0===n?void 0:n.themePrimary)&&!(null===(i=t.palette)||void 0===i?void 0:i.accent)&&(s.palette.accent=t.palette.themePrimary),t.defaultFontStyle)for(var l=0,u=Object.keys(s.fonts);l<u.length;l++){var c=u[l];s.fonts[c]=(0,r.h)(s.fonts[c],t.defaultFontStyle,null===(a=null===t||void 0===t?void 0:t.fonts)||void 0===a?void 0:a[c])}return s}},63010:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var r=n(9950),o=n(74029);function i(e){var t=(0,r.useContext)(o.F).getAlgorithmForRole(e);if(null===t)throw new Error("".concat(e," algorithm is missing"));return t}},63368:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(91594);function o(e,t){if((0,r.b)(e)){var n=t[e];if(!n)throw new Error("Layer image not set for layer: "+e);return n}return e.dynamicLayerId}},64189:(e,t,n)=>{"use strict";n.d(t,{$:()=>l});var r=n(98565),o=n(64267),i=n.n(o),a=n(36766),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)},l=function(e){var t=(0,r.g)(),n=[];return{updateSessionId:function(){t=(0,r.g)(),n=[]},startTimedTexturePatchEvent:function(r){return n.push(r),r.timeoutMs>0&&setTimeout((function(){var o=n.find((function(e){return e.id===r.id}));if(o){var i={name:"TexturePatchRunningLong",id:o.id,sessionId:t,isIntentional:!1,timeOut:o.timeoutMs};e(i)}}),r.timeoutMs),r.id},endTimedTexturePatchEvent:function(r,o,i){var a=n.find((function(e){return e.id===r}));if(a){var s=o.height,l=o.width,u={name:"TexturePatchApplied",id:a.id,isIntentional:!0,sessionId:t,timeConsumedInMs:Date.now()-a.startTimeMs,type:i,maskType:a.maskType,maskHeight:s,maskWidth:l};e(u)}n=n.filter((function(e){return e.id!==r}))},logEditorActivityEvent:function(n){return e(u(t,n))},logCropEvent:i()((function(n){return e(c(t,n))}),1e3),logRotateEvent:i()((function(n){return e(d(t,s(s({},n),{angle:(0,a.L)(n.angle,8)})))}),1e3),logEditResetEvent:function(n){return e(p(t,n))},logZoomEvent:i()((function(n){return e(f(t,n))}),1e3),logAspectRatioEvent:function(n){return e(h(t,n))},logFlipEvent:function(n){return e(m(t,n))},logAdjustmentEvent:i()((function(n){return e(g(t,n))}),1e3),logCancelEvent:function(n){return e(v(t,n))},logPageLoadTimeEvent:function(n){return e(y(t,n))},logSessionStatistics:function(n){return e(b(t,n))},logErrorEvent:function(n){return e(x(t,n))},logWarningEvent:function(n){return e(_(t,n))},logSaveEvent:function(n){return e(C(t,n))},logCopyToClipboardEvent:function(n){return e(w(t,n))},logFailedToGetEditedImageEvent:function(){return e(S(t))},logRecenterEvent:function(){return e(k(t))},logMaxTextureSizeEvent:function(n){return e(T(t,n))},logMarkupToolSelectEvent:i()((function(n){return e(E(t,n))}),500),logInkBrushUpdateEvent:i()((function(n){return e(P(t,n))}),1e3),logSpotFixBrushSizeSliderAdjustEvent:function(n){return e(I(t,n))},logEditorActivityChangePrepareTimeEvent:function(n){return e(A(t,n))},logClearAllMarkupEvent:function(n){return e(R(t,n))},logAutoEnhanceRequestedEvent:function(n){return e(L(t,n))},logUndoRedoEvent:function(n){return e(M(t,n))},logTexturePatchCreationError:function(n){return e(B(t,n))},logBackgroundBlurIntensitySliderAdjustEvent:function(n){return e(O(t,n))},logMaskBrushSliderAdjustEvent:function(n){return e(F(t,n))},logBrushModeChanged:function(n){return e(D(t,n))},logResetBackground:function(){return e(N(t))},logColorReplaceSelection:i()((function(n){return e(U(t,n))}),1e3),logBackgroundBrushToolToggle:function(n){return e(z(t,n))},logBackgroundOptionSelected:function(n){return e(j(t,n))},logTexturePatchCacheRetrieval:function(n){return e(V(t,n))},logAutoApplyToggle:function(n){return e(W(t,n))},logMagicEraseApplyEvent:function(n){return e(H(t,n))},logMagicEraseClearEvent:function(n){return e(q(t,n))},logAutoEnhanceEvent:function(n){return e(K(t,n))},logStylizerPromptExecuteEvent:function(n){return e(G(t,n))},logSuperResolutionSliderAdjustEvent:function(n){return e(Z(t,n))},logNameAndInputTypeEvent:function(n){return e(X(t,n))},logSuperResolutionCompleteEvent:function(n){return e(Y(t,n))},logSuperResolutionCompareSplitterMovedEvent:i()((function(n){return e(Q(t,n))}),1e3),logSuperResolutionAppliedEvent:function(n){return e(J(t,n))},logRelightLightLocationToggleEvent:function(n){return e($(t,n))},logRelightPresetChangedEvent:function(n){return e(ee(t,n))},logRelightIntensitySliderAdjustEvent:function(n){return e(te(t,n))},logRelightBrightnessSliderAdjustEvent:function(n){return e(ne(t,n))},logRelightSoftnessSliderAdjustEvent:function(n){return e(re(t,n))},logRelightOnCanvasElementMoveEvent:function(n){return e(oe(t,n))},logRelightRegenerateLightingEvent:function(n){return e(ie(t,n))}}},u=function(e,t){return s({name:"EditorActivityChange",isIntentional:!0,sessionId:e},t)},c=function(e,t){return s({name:"Crop",isIntentional:!0,sessionId:e},t)},d=function(e,t){return s({name:"Rotate",isIntentional:!0,sessionId:e},t)},p=function(e,t){return s({name:"EditReset",isIntentional:!0,sessionId:e},t)},f=function(e,t){return s({name:"Zoom",isIntentional:!0,sessionId:e},t)},h=function(e,t){return s({name:"AspectRatio",isIntentional:!0,sessionId:e},t)},m=function(e,t){return s({name:"Flip",isIntentional:!0,sessionId:e},t)},g=function(e,t){return s({name:"Adjustment",isIntentional:!0,sessionId:e},t)},v=function(e,t){return s({name:"Cancel",isIntentional:!0,sessionId:e},t)},y=function(e,t){return s({name:"PageLoadTime",isIntentional:!1,sessionId:e},t)},b=function(e,t){return s({name:"SessionStatistics",isIntentional:!1,sessionId:e},t)},x=function(e,t){return s({name:"Error",isIntentional:!1,sessionId:e},t)},_=function(e,t){return s({name:"Warning",isIntentional:!1,sessionId:e},t)},C=function(e,t){return s({name:"Save",isIntentional:!0,sessionId:e},t)},w=function(e,t){return s({name:"CopyToClipboard",isIntentional:!0,sessionId:e},t)},S=function(e){return{name:"GetEditedImageFailure",isIntentional:!1,sessionId:e}},k=function(e){return{sessionId:e,name:"Recenter",isIntentional:!0}},T=function(e,t){return s({name:"MaxTextureSize",isIntentional:!1,sessionId:e},t)},E=function(e,t){return s({name:"MarkupToolSelect",isIntentional:!0,sessionId:e},t)},P=function(e,t){return s({name:"InkBrushUpdate",isIntentional:!0,sessionId:e},t)},I=function(e,t){return s({name:"SpotFixBrushSizeSliderAdjust",isIntentional:!0,sessionId:e},t)},A=function(e,t){return s({name:"EditorActivityChangePrepareTime",isIntentional:!0,sessionId:e},t)},R=function(e,t){return s({name:"ClearAllMarkup",isIntentional:!0,sessionId:e},t)},L=function(e,t){return s({name:"AutoEnhanceRequested",isIntentional:!0,sessionId:e},t)},M=function(e,t){return s({name:"UndoRedo",isIntentional:!0,sessionId:e},t)},B=function(e,t){return s({name:"TexturePatchCreationError",isIntentional:!1,sessionId:e},t)},O=function(e,t){return s({name:"BackgroundBlurIntensitySliderAdjust",isIntentional:!0,sessionId:e},t)},F=function(e,t){return s({name:"MaskBrushSliderAdjust",isIntentional:!0,sessionId:e},t)},D=function(e,t){return s({name:"BrushModeChanged",isIntentional:!0,sessionId:e},t)},N=function(e){return{name:"ResetBackground",isIntentional:!0,sessionId:e}},U=function(e,t){return s({name:"ColorReplaceSelection",isIntentional:!0,sessionId:e},t)},z=function(e,t){return s({name:"BackgroundBrushToolToggle",isIntentional:!0,sessionId:e},t)},j=function(e,t){return s({name:"BackgroundOptionSelected",sessionId:e},t)},V=function(e,t){return s({name:"TexturePatchCacheRetrieval",isIntentional:!1,sessionId:e},t)},W=function(e,t){return s({name:"AutoApplyToggle",isIntentional:!0,sessionId:e},t)},H=function(e,t){return s({name:"MagicEraseApply",isIntentional:!0,sessionId:e},t)},q=function(e,t){return s({name:"MagicEraseClear",isIntentional:!0,sessionId:e},t)},K=function(e,t){return s({name:"AutoEnhance",isIntentional:!0,sessionId:e},t)},G=function(e,t){return s({name:"StylizerPromptExecuted",isIntentional:!0,sessionId:e},t)},Z=function(e,t){return s({name:"SuperResolutionSliderAdjust",isIntentional:!0,sessionId:e},t)},X=function(e,t){return s({isIntentional:!0,sessionId:e},t)},Y=function(e,t){return s({name:"SuperResolutionComplete",isIntentional:!0,sessionId:e},t)},Q=function(e,t){return s({name:"SuperResolutionCompareSplitterMoved",isIntentional:!0,sessionId:e},t)},J=function(e,t){return s({name:"SuperResolutionApplied",sessionId:e},t)},$=function(e,t){return s({name:"RelightLightLocationToggle",isIntentional:!0,sessionId:e},t)},ee=function(e,t){return s({name:"RelightPresetChanged",sessionId:e},t)},te=function(e,t){return s({name:"RelightIntensitySliderAdjust",isIntentional:!0,sessionId:e},t)},ne=function(e,t){return s({name:"RelightBrightnessSliderAdjust",isIntentional:!0,sessionId:e},t)},re=function(e,t){return s({name:"RelightSoftnessSliderAdjust",isIntentional:!0,sessionId:e},t)},oe=function(e,t){return s({name:"RelightOnCanvasElementMoved",isIntentional:!0,sessionId:e},t)},ie=function(e,t){return s({name:"RelightRegenerateLighting",isIntentional:!0,sessionId:e},t)}},64267:(e,t,n)=>{var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype.toString,p=Math.max,f=Math.min,h=function(){return c.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||a.test(e)?s(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,a,s,l,u=0,c=!1,d=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function b(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=i}function x(){var e=h();if(b(e))return _(e);s=setTimeout(x,function(e){var n=t-(e-l);return d?f(n,i-(e-u)):n}(e))}function _(e){return s=void 0,v&&r?y(e):(r=o=void 0,a)}function C(){var e=h(),n=b(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(x,t),c?y(e):a}(l);if(d)return s=setTimeout(x,t),y(l)}return void 0===s&&(s=setTimeout(x,t)),a}return t=g(t)||0,m(n)&&(c=!!n.leading,i=(d="maxWait"in n)?p(g(n.maxWait)||0,t):i,v="trailing"in n?!!n.trailing:v),C.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=o=s=void 0},C.flush=function(){return void 0===s?a:_(h())},C}},64570:(e,t,n)=>{"use strict";n.d(t,{C3:()=>l,Vr:()=>c,nS:()=>a,qV:()=>s});var r,o=n(35891),i=n(51315),a=.5;function s(){return Object.values(o.F)}function l(e){return c[e].iconName}function u(e,t){return{iconName:e,configuration:t||i._}}var c=((r={})[o.F.Exposure]=u("Exposure-Havana"),r[o.F.Brightness]=u("Brightness-Havana"),r[o.F.Contrast]=u("Contrast-Havana"),r[o.F.Highlights]=u("Highlights-Havana"),r[o.F.Shadows]=u("Shadows-Havana"),r[o.F.Saturation]=u("Saturation-Havana"),r[o.F.Temperature]=u("Temperature-Havana"),r[o.F.Tint]=u("Tint-Havana"),r[o.F.Vignette]=u("Vignette-Havana"),r[o.F.Sharpness]=u("Diamond"),r)},64591:(e,t,n)=>{"use strict";n.d(t,{j:()=>a});var r=n(85913),o=n(75347),i=n(40177),a=(0,r.Mz)([i.PO],(function(e){return(0,o.YD)(e)}))},64665:(e,t,n)=>{"use strict";n.d(t,{V:()=>c,h:()=>l});var r=n(32489),o=n(34745),i=n(26397),a=n(73553),s=n(37267);function l(e,t,n,l,u){var c={x:(0,a.q)(u.x,0,1),y:(0,a.q)(u.y,0,1)},d=(0,i.DI)(c,{x:n,y:l}),p=function(e,t,n){var r=e-n.x,o=n.y-t;return((Math.atan2(o,r)+Math.PI)/(2*Math.PI)+.75)%1}(e,t,d),f=function(e,t,n,i,a){var l=(0,r.w)(a,n,{x:e,y:t},i);return void 0===l||0===l?1:l<1?s.a:(0,o.Cc)(1,s.a,1/l)}(e,t,d,p,{x:n,y:l});return{directionalLightAngleAround:p,directionalLightAngleInto:f}}function u(e){return 0===e?Math.abs(e):e}function c(e,t,n,l,c){var d={x:(0,a.q)(c.x,0,1),y:(0,a.q)(c.y,0,1)},p=(0,i.DI)(d,{x:n,y:l}),f=function(e,t){var n=2*(e+.25)*Math.PI-Math.PI,r={x:Math.cos(n),y:-Math.sin(n)};return(0,i.If)({x:t.x,y:t.y},r)}(e,p),h=function(e,t,n,l,u){var c,d=e,p=t,f=null!==(c=(0,r.w)({x:u.width,y:u.height},e,{x:(0,a.q)(0,u.width,p.x),y:(0,a.q)(0,u.height,p.y)},l))&&void 0!==c?c:1,h=(0,o.U4)(1,s.a,n),m=(0,i.Bp)(p,d),g=(0,i.m1)(m,f*h);return(0,i.If)(d,g)}(p,f,t,e,{left:0,top:0,width:n,height:l});return{x:u(Math.round(h.x)),y:u(Math.round(h.y))}}},65092:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(9950),o=n(80647),i=n(59307);function a(e,t){var n=function(){var e=r.useState(0)[1];return function(){return e((function(e){return++e}))}}(),a=r.useContext(i.z).customizations,s=a.inCustomizerContext;return r.useEffect((function(){return s||o.X.observe(n),function(){s||o.X.unobserve(n)}}),[s]),o.X.getSettings(e,t,a)}},65757:(e,t,n)=>{"use strict";var r;n.d(t,{h:()=>r}),function(e){e[e.normal=0]="normal",e[e.largeHeader=1]="largeHeader",e[e.close=2]="close"}(r||(r={}))},66056:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=(0,n(9950).createContext)({enableAdjustments:!1,enableSharpness:!1,enableFilters:!1,enableAutoEnhance:!1,enableMarkup:!1,enabledRetouchModes:[],experimental_enableInPaintingDevUi:!1,enableUndoRedo:!1,enableMarkupText:!1,enableBackground:!1,enableAIRelight:!1,enableAIRelightDevUI:!1,disableWebGL2Support:!1,enableStylizer:!1,experimental_enableStylizerDevUi:!1,enableResize:!1})},66066:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(3493),o=n(44121);var i=n(38526);function a(e){var t=e.cropUiDisplay.areCropOverlaysVisible,n=function(e){return e.cropInteraction.mode===o.I.usingNineSliceCropHandles||e.cropInteraction.mode===o.I.keyboardCropping||e.cropInteraction.mode===o.I.zoomToCrop||e.cropInteraction.mode===o.I.selectingSecondCorner||e.cropInteraction.isKeyboardFocused&&e.cropInteraction.focusedHandleIndex!==r.Q.Center&&e.cropInteraction.focusedHandleIndex!==r.Q.None||!!e.rotationUi.rotationBarPointer.incrementingIdOfPointerThatIsDown||e.rotationUi.isKeyboardFocused}(e);e.cropUiDisplay.areCropOverlaysVisible=n,!n&&t&&(0,i.M)(e)}},66169:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,y:()=>l});var r=n(7668),o=n(30655),i=n(44051),a=n(8090),s="SecondaryOverlayShader",l=function(){function e(){this._overlayAlpha=1}return e.prototype.setOverlayAlpha=function(e){this._overlayAlpha=e},e.prototype.getOverlayAlpha=function(){return this._overlayAlpha},e.prototype.getName=function(){return s},e.prototype.getUniformNames=function(e){return[e(i.k.overlayTextureAlpha)]},e.prototype.getFunctions=function(){return[]},e.prototype.getHeaderCode=function(e){return e(" //SecondaryOverlay effect---\n    ".concat((0,r.A)("overlay"),"\n    uniform float ").concat(i.k.overlayTextureAlpha,";\n    "))},e.prototype.getShaderFunctionBody=function(e){var t=i.k.overlayTextureAlpha,n=(0,a.B)("overlay");return e("//SecondaryOverlay effect---\n    ".concat((0,o.J)("overlay"),"\n    {\n      if(").concat(t," > 0.){\n        vec4 overlayColor = ").concat(n,";\n        if(overlayColor.a > 0.){\n          float overlayBlendedAlpha = overlayColor.a + gl_FragColor.a * (1. - overlayColor.a);\n          vec4 overlayBlendedColor = vec4((overlayColor.rgb * overlayColor.a + gl_FragColor.rgb * gl_FragColor.a * (1. - overlayColor.a)) / overlayBlendedAlpha, overlayBlendedAlpha);\n          gl_FragColor = mix(gl_FragColor, overlayBlendedColor, ").concat(t,"*overlayTextureAlphaOverride);\n        }\n      }\n    }\n    "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setFloat(t(i.k.overlayTextureAlpha),this._overlayAlpha)},e}()},66498:(e,t,n)=>{"use strict";n.d(t,{U:()=>i,s:()=>o});var r=n(26397);function o(e,t,n){var r=t.getBoundingClientRect();return{x:Math.floor((e.x-r.left)*n),y:Math.floor((e.y-r.top)*n)}}function i(e,t,n){if(e){var o={x:e.offsetLeft*n,y:e.offsetTop*n};return(0,r.If)(t,o)}return t}},66788:(e,t,n)=>{"use strict";n.d(t,{GA:()=>a,Ql:()=>i,ci:()=>o,ec:()=>l,ov:()=>s});var r=n(34745);function o(){return{startTime:void 0,isActive:!1}}function i(){return{startTime:void 0,isActive:!0}}function a(){return{startTime:void 0,isActive:!1}}function s(e,t,n){if(e.isActive){if(void 0===e.startTime)return{startTime:t,isActive:!0};if(l(e,t,n)>=1)return{startTime:void 0,isActive:!1}}return e}function l(e,t,n){return e.isActive?void 0!==e.startTime?(0,r.U4)(e.startTime,e.startTime+n,t):0:1}},67048:(e,t,n)=>{"use strict";n.d(t,{ZJ:()=>M,vf:()=>D,F3:()=>O,iu:()=>F,OS:()=>B,Cv:()=>N});var r=n(3041),o=n(26759),i=n(31967),a=n(36386),s=n(55018);function l(e){var t=function(e,t,n){var r=e.map((function(e){return"redo"===t?e.redoPayload:e.undoPayload})).filter((function(e){return e.operation===n})),o=(0,s.e)(r.map((function(e){return e.texturePatchInfos}))).map((function(e){return e.idValue}));return new Set(o)},n=e.undoRedoStack.undoStack.concat(e.undoRedoStack.redoStack),r=t(n,"undo","add"),o=t(n,"redo","remove");e.removedTexturePatchInfos=e.removedTexturePatchInfos.filter((function(e){return r.has(e.idValue)||o.has(e.idValue)}))}function u(e,t){var n,r=e.texturePatchInfos.findIndex((function(e){return e.idValue===t.idValue}));if(r<0)throw new Error("texture patch not found in removeTexturePatch");(n=e.removedTexturePatchInfos).push.apply(n,e.texturePatchInfos.splice(r,1))}function c(e,t){var n,r=e.removedTexturePatchInfos.findIndex((function(e){return e.idValue===t.idValue}));if(r<0)throw new Error("texture patch not found in restoreTexturePatch");(n=e.texturePatchInfos).push.apply(n,e.removedTexturePatchInfos.splice(r,1))}function d(e){e.pendingTexturePatchRequests.length=0,e.texturePatchRequests.length=0}var p={undoReducer:function(e,t){d(e),t.undoPayload.texturePatchInfos.forEach((function(n){"add"===t.undoPayload.operation?u(e,n):"remove"===t.undoPayload.operation&&c(e,n)})),e.undoRedoStack.redoStack.push(t)},redoReducer:function(e,t){d(e),t.redoPayload.texturePatchInfos.forEach((function(n){"add"===t.undoPayload.operation?c(e,n):"remove"===t.undoPayload.operation&&u(e,n)})),e.undoRedoStack.undoStack.push(t)},removeItemsReducer:function(e,t){e.undoRedoStack.undoStack=t,l(e)},collapseItemsReducer:function(e,t,n){l(e)},afterClearRedoStacksReducer:function(e){l(e)}},f=n(73050),h=n(9439),m=n(87474),g=n(39124),v=n(4203),y=n(2989);function b(e){switch(e){case g.j:return y.B.spotFix;case h.u:return y.B.blur;case m.f:return y.B.maskBrush;default:return v.h}}function x(e,t){return t.filter((function(t){return-1===e.indexOf(t.idValue)}))}function _(e,t){var n,r=[],o=t.idsToKeep||[],i=new Set(o);if(e.texturePatchInfos.forEach((function(e){e.algorithmParameters.layerToPatch===t.layer&&(i.has(e.idValue)||r.push(e.idValue))})),e.texturePatchRequests=x(r,e.texturePatchRequests),e.pendingTexturePatchRequests=x(r,e.pendingTexturePatchRequests),0!==r.length){var s=new Set(r),l=e.texturePatchInfos.filter((function(e){return!s.has(e.idValue)})),u=e.texturePatchInfos.filter((function(e){return s.has(e.idValue)}));(n=e.removedTexturePatchInfos).push.apply(n,u),e.texturePatchInfos=l;var c,d={texturePatchInfos:u,operation:"remove"},p=function(e){var t=e.map((function(e){return e.algorithmParameters.algorithmId}));return t.filter((function(e,n){return t.indexOf(e)===n}))}(d.texturePatchInfos),h=1===(c=p).length?b(c[0]):v.h,m=(0,a.Cy)(h,d,d,f.Z.KeepAll,t.undoRedoGroupId);e.undoRedoStack.undoStack.push(m)}}var C=n(2339);var w=n(46081),S=n(40218);function k(e,t){var n,r;(t.maskParameters.maskType!==w.D.FromLayer||(n=t.maskParameters,r=e.texturePatchInfos,n.maskType===w.D.FromLayer&&r.some((function(e){return(0,S.n)(e.algorithmParameters.layerToPatch,n.layerToUseAsMask)}))))&&e.texturePatchRequests.push(t)}var T=n(31985);var E=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function P(e,t){0!==e.texturePatchInfos.length?(e.removedTexturePatchInfos=e.removedTexturePatchInfos.concat(E([],e.texturePatchInfos,!0).reverse()),e.texturePatchInfos=[],e.undoRedoStack=i.E.undoRedoStack):function(e){e.texturePatchRequests=i.E.texturePatchRequests,e.pendingTexturePatchRequests=i.E.pendingTexturePatchRequests,e.texturePatchInfos=i.E.texturePatchInfos,e.removedTexturePatchInfos=i.E.removedTexturePatchInfos,e.undoRedoStack=i.E.undoRedoStack}(e)}function I(e,t){var n=t.payload.texturePatch;e.texturePatchInfos=n.texturePatchInfos,e.removedTexturePatchInfos=n.removedTexturePatchInfos,e.undoRedoStack=n.undoRedoStack}var A,R=n(80559);var L=(0,r.Z0)({name:"texturePatch",initialState:i.E,reducers:{setTexturePatchRequestPending:function(e,t){!function(e,t){var n,r=e.texturePatchRequests.findIndex((function(e){return e.idValue===t}));r>=0&&(n=e.pendingTexturePatchRequests).push.apply(n,e.texturePatchRequests.splice(r,1))}(e,t.payload)},addTexturePatchInfo:function(e,t){!function(e,t){var n=t.requestId||t.idValue,r=t,o=function(e,t){return e.pendingTexturePatchRequests.find((function(e){return e.idValue===t}))}(e,n);if(o){!function(e,t){e.pendingTexturePatchRequests=e.pendingTexturePatchRequests.filter((function(e){return e.idValue!==t}))}(e,n);var i=o.undoRedoGroupId;if(t.algorithmParameters.layerToClear&&!i&&(i=(0,C.b)()),r.undoRedoGroupId=i,t.isUndoRedoable){var s={texturePatchInfos:[r],operation:"add"},l=(0,a.Cy)(b(t.algorithmParameters.algorithmId),s,s,f.Z.KeepAll,void 0,t.algorithmParameters.algorithmId);l.groupId=r.undoRedoGroupId,e.undoRedoStack.undoStack.push(l),t.algorithmParameters.layerToClear&&_(e,{layer:t.algorithmParameters.layerToClear,undoRedoGroupId:i})}e.texturePatchInfos.push(r)}}(e,t.payload)},removePendingTexturePatch:function(e,t){!function(e,t,n){var r=e.pendingTexturePatchRequests.findIndex((function(e){return e.idValue===t}));if(!(r<0)){var o=e.pendingTexturePatchRequests[r],i={texturePatchRequestId:o.idValue,isRemoveDueToError:n,algorithmParameters:{algorithmId:o.algorithmParameters.algorithmId}};e.pendingTexturePatchRequests.splice(r,1),e.removedPendingTexturePatchRequests.push(i)}}(e,t.payload.texturePatchRequestId,!!t.payload.isRemoveDueToError)},setTexturePatchChoices:function(e,t){!function(e,t){e.texturePatchChoices=t}(e,t.payload)},destroyTexturePatchUndoRedoItemsFromLayer:function(e,t){!function(e,t){var n=new Set;e.texturePatchInfos.concat(e.removedTexturePatchInfos).forEach((function(e){(0,S.n)(e.algorithmParameters.layerToPatch,t)&&n.add(e.idValue)})),e.undoRedoStack.redoStack=e.undoRedoStack.redoStack.filter((function(e){return e.redoPayload.texturePatchInfos.some((function(e){var t=e.idValue;return!n.has(t)}))})),e.undoRedoStack.undoStack=e.undoRedoStack.undoStack.filter((function(e){return e.undoPayload.texturePatchInfos.some((function(e){var t=e.idValue;return!n.has(t)}))}))}(e,t.payload)}},extraReducers:function(e){e.addCase(T.zj,P),e.addCase(T.y2,I),e.addCase(T.F6,(function(e,t){k(e,t.payload)})),e.addCase(T.Hm,(function(e,t){_(e,t.payload)})),e.addCase(R.Dx,(function(e,t){e.texturePatchRequests=[],e.pendingTexturePatchRequests=[],e.removedPendingTexturePatchRequests=[]})),e.addCase(T.sP,(function(e,t){var n,r=(0,o.ss)(e.texturePatchInfos),i={texturePatchInfos:r,operation:"remove"},s={texturePatchInfos:r,operation:"remove"},l=(0,a.Cy)("replaceImageTexturePatches",i,s,f.Z.KeepAll,t.payload.undoGroupId);e.undoRedoStack.undoStack.push(l),d(e),(n=e.removedTexturePatchInfos).push.apply(n,r),e.texturePatchInfos=[]})),(0,a.q$)(e,p)}}),M=(A=L.actions).addTexturePatchInfo,B=A.setTexturePatchRequestPending,O=A.removePendingTexturePatch,F=A.setTexturePatchChoices,D=A.destroyTexturePatchUndoRedoItemsFromLayer,N=L.reducer},67483:(e,t,n)=>{"use strict";function r(e,t,n,r,o){}n.d(t,{J:()=>r})},67825:(e,t,n)=>{"use strict";n.d(t,{E:()=>r,l:()=>o});var r,o={none:0,all:1,inputOnly:2};!function(e){e[e.vertical=0]="vertical",e[e.horizontal=1]="horizontal",e[e.bidirectional=2]="bidirectional",e[e.domOrder=3]="domOrder"}(r||(r={}))},67922:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r=(0,n(9950).createContext)({onLinkClicked:function(e){throw new Error("OpenLinkProvider not found")}})},68246:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});var r=n(70529);function o(e){(0,r.i)(e,{componentDidMount:i,componentDidUpdate:a,componentWillUnmount:s})}function i(){l(this.props.componentRef,this)}function a(e){e.componentRef!==this.props.componentRef&&(l(e.componentRef,null),l(this.props.componentRef,this))}function s(){l(this.props.componentRef,null)}function l(e,t){e&&("object"===typeof e?e.current=t:"function"===typeof e&&e(t))}},68379:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(9950),o=n(15361);function i(e,t,n,i,a,s){var l=function(e,t,n,r,i){return e===o.V.InitializationStarted?n:e===o.V.InitializationFinished&&"processed"===t?r:"failed"===t?i:null}(e,t,i,a,s);(0,r.useEffect)((function(){l&&n(l)}),[l,n])}},68415:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r="focalPoint"},68577:(e,t)=>{"use strict";var n=60103,r=60106,o=60107,i=60108,a=60114,s=60109,l=60110,u=60112,c=60113,d=60120,p=60115,f=60116,h=60121,m=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),o=b("react.fragment"),i=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),u=b("react.forward_ref"),c=b("react.suspense"),d=b("react.suspense_list"),p=b("react.memo"),f=b("react.lazy"),h=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case a:case i:case c:case d:return e;default:switch(e=e&&e.$$typeof){case l:case u:case f:case p:case s:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return x(e)===l}},68789:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var r=n(85913),o=n(18923),i=n(70011),a=n(54596),s=(0,r.Mz)([i.Fi,i.Yl,o.d,i.vP,a.IG,a.Td],(function(e,t,n,r,o,i){return!!t||!i&&!n&&"circleBrush"===o&&(e||r)}))},68988:(e,t,n)=>{"use strict";function r(e,t){return e===t||!(!e||!t)&&e.every((function(e,n){return e===t[n]}))}n.d(t,{g:()=>r})},69106:(e,t,n)=>{"use strict";n.d(t,{B:()=>i,b:()=>o});var r=n(37827);function o(e,t,n,o,a){return void 0===a&&(a=!1),function(e,t){var n="";!0===t&&(n=" /* @deprecated */");return e.listTextColor=e.listText+n,e.menuItemBackgroundChecked+=n,e.warningHighlight+=n,e.warningText=e.messageText+n,e.successText+=n,e}(i(e,t,(0,r.Cl)({primaryButtonBorder:"transparent",errorText:o?"#F1707B":"#a4262c",messageText:o?"#F3F2F1":"#323130",messageLink:o?"#6CB8F6":"#005A9E",messageLinkHovered:o?"#82C7FF":"#004578",infoIcon:o?"#C8C6C4":"#605e5c",errorIcon:o?"#F1707B":"#A80000",blockingIcon:o?"#442726":"#FDE7E9",warningIcon:o?"#C8C6C4":"#797775",severeWarningIcon:o?"#FCE100":"#D83B01",successIcon:o?"#92C353":"#107C10",infoBackground:o?"#323130":"#f3f2f1",errorBackground:o?"#442726":"#FDE7E9",blockingBackground:o?"#442726":"#FDE7E9",warningBackground:o?"#433519":"#FFF4CE",severeWarningBackground:o?"#4F2A0F":"#FED9CC",successBackground:o?"#393D1B":"#DFF6DD",warningHighlight:o?"#fff100":"#ffb900",successText:o?"#92c353":"#107C10"},n),o),a)}function i(e,t,n,o,i){void 0===i&&(i=!1);var a={},s=e||{},l=s.white,u=s.black,c=s.themePrimary,d=s.themeDark,p=s.themeDarker,f=s.themeDarkAlt,h=s.themeLighter,m=s.neutralLight,g=s.neutralLighter,v=s.neutralDark,y=s.neutralQuaternary,b=s.neutralQuaternaryAlt,x=s.neutralPrimary,_=s.neutralSecondary,C=s.neutralSecondaryAlt,w=s.neutralTertiary,S=s.neutralTertiaryAlt,k=s.neutralLighterAlt,T=s.accent;return l&&(a.bodyBackground=l,a.bodyFrameBackground=l,a.accentButtonText=l,a.buttonBackground=l,a.primaryButtonText=l,a.primaryButtonTextHovered=l,a.primaryButtonTextPressed=l,a.inputBackground=l,a.inputForegroundChecked=l,a.listBackground=l,a.menuBackground=l,a.cardStandoutBackground=l),u&&(a.bodyTextChecked=u,a.buttonTextCheckedHovered=u),c&&(a.link=c,a.primaryButtonBackground=c,a.inputBackgroundChecked=c,a.inputIcon=c,a.inputFocusBorderAlt=c,a.menuIcon=c,a.menuHeader=c,a.accentButtonBackground=c),d&&(a.primaryButtonBackgroundPressed=d,a.inputBackgroundCheckedHovered=d,a.inputIconHovered=d),p&&(a.linkHovered=p),f&&(a.primaryButtonBackgroundHovered=f),h&&(a.inputPlaceholderBackgroundChecked=h),m&&(a.bodyBackgroundChecked=m,a.bodyFrameDivider=m,a.bodyDivider=m,a.variantBorder=m,a.buttonBackgroundCheckedHovered=m,a.buttonBackgroundPressed=m,a.listItemBackgroundChecked=m,a.listHeaderBackgroundPressed=m,a.menuItemBackgroundPressed=m,a.menuItemBackgroundChecked=m),g&&(a.bodyBackgroundHovered=g,a.buttonBackgroundHovered=g,a.buttonBackgroundDisabled=g,a.buttonBorderDisabled=g,a.primaryButtonBackgroundDisabled=g,a.disabledBackground=g,a.listItemBackgroundHovered=g,a.listHeaderBackgroundHovered=g,a.menuItemBackgroundHovered=g),y&&(a.primaryButtonTextDisabled=y,a.disabledSubtext=y),b&&(a.listItemBackgroundCheckedHovered=b),w&&(a.disabledBodyText=w,a.variantBorderHovered=(null===n||void 0===n?void 0:n.variantBorderHovered)||w,a.buttonTextDisabled=w,a.inputIconDisabled=w,a.disabledText=w),x&&(a.bodyText=x,a.actionLink=x,a.buttonText=x,a.inputBorderHovered=x,a.inputText=x,a.listText=x,a.menuItemText=x),k&&(a.bodyStandoutBackground=k,a.defaultStateBackground=k),v&&(a.actionLinkHovered=v,a.buttonTextHovered=v,a.buttonTextChecked=v,a.buttonTextPressed=v,a.inputTextHovered=v,a.menuItemTextHovered=v),_&&(a.bodySubtext=_,a.focusBorder=_,a.inputBorder=_,a.smallInputBorder=_,a.inputPlaceholderText=_),C&&(a.buttonBorder=C),S&&(a.disabledBodySubtext=S,a.disabledBorder=S,a.buttonBackgroundChecked=S,a.menuDivider=S),T&&(a.accentButtonBackground=T),(null===t||void 0===t?void 0:t.elevation4)&&(a.cardShadow=t.elevation4),!o&&(null===t||void 0===t?void 0:t.elevation8)?a.cardShadowHovered=t.elevation8:a.variantBorderHovered&&(a.cardShadowHovered="0 0 1px "+a.variantBorderHovered),a=(0,r.Cl)((0,r.Cl)({},a),n)}},69148:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var r=n(75347),o=n(26397);function i(e,t){if(e[0]&&e[1]){if((0,o.zN)(e[0],e[1]))return;var n=(0,r.vo)(t,e[0]),i=(0,r.vo)(t,e[1]),a=Math.min(n.y,i.y),s=Math.min(n.x,i.x),l=Math.max(n.y,i.y);return{top:a,left:s,width:Math.max(n.x,i.x)-s,height:l-a}}}},69175:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(9950),o=n(95004);function i(e,t,n){var i=r.useState(t),a=i[0],s=i[1],l=(0,o.d)(void 0!==e),u=l?e:a,c=r.useRef(u),d=r.useRef(n);r.useEffect((function(){c.current=u,d.current=n}));var p=(0,o.d)((function(){return function(e,t){var n="function"===typeof e?e(c.current):e;d.current&&d.current(t,n),l||s(n)}}));return[u,p]}},69187:(e,t,n)=>{"use strict";n.d(t,{I:()=>l});var r=n(37827),o=n(9950),i=n(1401),a=n(65092),s=["theme","styles"];function l(e,t,n,l,u){var c=(l=l||{scope:"",fields:void 0}).scope,d=l.fields,p=void 0===d?s:d,f=o.forwardRef((function(s,l){var u=o.useRef(),d=(0,a.m)(p,c),f=d.styles,h=(d.dir,(0,r.Tt)(d,["styles","dir"])),m=n?n(s):void 0,g=u.current&&u.current.__cachedInputs__||[],v=s.styles;if(!u.current||f!==g[1]||v!==g[2]){var y=function(e){return(0,i.p)(e,t,f,v)};y.__cachedInputs__=[t,f,v],y.__noStyleOverride__=!f&&!v,u.current=y}return o.createElement(e,(0,r.Cl)({ref:l},h,m,s,{styles:u.current}))}));f.displayName="Styled".concat(e.displayName||e.name);var h=u?o.memo(f):f;return f.displayName&&(h.displayName=f.displayName),h}},69290:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var r=n(9950),o=n(66498),i=n(62254),a=n.n(i);function s(e,t,n,i,s,l){var u=(0,r.useMemo)((function(){return t?new(a())(t,{recognizers:[[a().Pinch],[a().Tap,{taps:2,event:"doubletap"}]],touchAction:"compute"}):null}),[t]);(0,r.useEffect)((function(){if(t&&u){var r=function(r){n&&n({center:(0,o.s)(r.center,t,e),scale:r.scale})},a=function(n){i&&i({center:(0,o.s)(n.center,t,e),scale:n.scale})},c=function(n){s&&s({center:(0,o.s)(n.center,t,e),scale:n.scale})},d=function(n){l&&l({center:(0,o.s)(n.center,t,e),scale:n.scale})};return u.on("pinchstart",r),u.on("pinchmove",a),u.on("pinchend",c),u.on("doubletap",d),function(){u.off("pinchstart",r),u.off("pinchmove",a),u.off("pinchend",c),u.off("doubletap",d)}}}),[t,n,i,s,l,e,u])}},69730:(e,t,n)=>{"use strict";n.d(t,{l:()=>re});var r=n(69187),o=n(37827),i=n(9950),a=n(56624),s=n(45867),l=n(65757),u=n(58608),c=n(19867),d=n(88529),p=n(21191),f=n(25262),h=n(23501),m=n(43973),g=n(32e3),v=g.cs.durationValue2,y={root:"ms-Modal",main:"ms-Dialog-main",scrollableContent:"ms-Modal-scrollableContent",isOpen:"is-open",layer:"ms-Modal-Layer"},b=n(90276),x=n(40008),_=n(38005),C=n(14771),w=n(37212),S=n(44358),k=n(610),T=(0,n(96042).J9)((function(e,t){return{root:(0,g.Zq)(e,t&&{touchAction:"none",selectors:{"& *":{userSelect:"none"}}})}})),E=n(34868),P={start:"touchstart",move:"touchmove",stop:"touchend"},I={start:"mousedown",move:"mousemove",stop:"mouseup"},A=function(e){function t(t){var n=e.call(this,t)||this;return n._currentEventType=I,n._events=[],n._onMouseDown=function(e){var t=i.Children.only(n.props.children).props.onMouseDown;return t&&t(e),n._currentEventType=I,n._onDragStart(e)},n._onMouseUp=function(e){var t=i.Children.only(n.props.children).props.onMouseUp;return t&&t(e),n._currentEventType=I,n._onDragStop(e)},n._onTouchStart=function(e){var t=i.Children.only(n.props.children).props.onTouchStart;return t&&t(e),n._currentEventType=P,n._onDragStart(e)},n._onTouchEnd=function(e){var t=i.Children.only(n.props.children).props.onTouchEnd;t&&t(e),n._currentEventType=P,n._onDragStop(e)},n._onDragStart=function(e){if("number"===typeof e.button&&0!==e.button)return!1;if(!(n.props.handleSelector&&!n._matchesSelector(e.target,n.props.handleSelector)||n.props.preventDragSelector&&n._matchesSelector(e.target,n.props.preventDragSelector))){n._touchId=n._getTouchId(e);var t=n._getControlPosition(e);if(void 0!==t){var r=n._createDragDataFromPosition(t);n.props.onStart&&n.props.onStart(e,r),n.setState({isDragging:!0,lastPosition:t}),n._events=[(0,E.on)(document.body,n._currentEventType.move,n._onDrag,!0),(0,E.on)(document.body,n._currentEventType.stop,n._onDragStop,!0)]}}},n._onDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=n._getControlPosition(e);if(t){var r=n._createUpdatedDragData(n._createDragDataFromPosition(t)),o=r.position;n.props.onDragChange&&n.props.onDragChange(e,r),n.setState({position:o,lastPosition:t})}},n._onDragStop=function(e){if(n.state.isDragging){var t=n._getControlPosition(e);if(t){var r=n._createDragDataFromPosition(t);n.setState({isDragging:!1,lastPosition:void 0}),n.props.onStop&&n.props.onStop(e,r),n.props.position&&n.setState({position:n.props.position}),n._events.forEach((function(e){return e()}))}}},n.state={isDragging:!1,position:n.props.position||{x:0,y:0},lastPosition:void 0},n}return(0,o.C6)(t,e),t.prototype.componentDidUpdate=function(e){!this.props.position||e.position&&this.props.position===e.position||this.setState({position:this.props.position})},t.prototype.componentWillUnmount=function(){this._events.forEach((function(e){return e()}))},t.prototype.render=function(){var e=i.Children.only(this.props.children),t=e.props,n=this.props.position,r=this.state,a=r.position,s=r.isDragging,l=a.x,u=a.y;return n&&!s&&(l=n.x,u=n.y),i.cloneElement(e,{style:(0,o.Cl)((0,o.Cl)({},t.style),{transform:"translate("+l+"px, "+u+"px)"}),className:T(t.className,this.state.isDragging).root,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onTouchStart:this._onTouchStart,onTouchEnd:this._onTouchEnd})},t.prototype._getControlPosition=function(e){var t=this._getActiveTouch(e);if(void 0===this._touchId||t){var n=t||e;return{x:n.clientX,y:n.clientY}}},t.prototype._getActiveTouch=function(e){return e.targetTouches&&this._findTouchInTouchList(e.targetTouches)||e.changedTouches&&this._findTouchInTouchList(e.changedTouches)},t.prototype._getTouchId=function(e){var t=e.targetTouches&&e.targetTouches[0]||e.changedTouches&&e.changedTouches[0];if(t)return t.identifier},t.prototype._matchesSelector=function(e,t){if(!e||e===document.body)return!1;var n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return!!n&&(n.call(e,t)||this._matchesSelector(e.parentElement,t))},t.prototype._findTouchInTouchList=function(e){if(void 0!==this._touchId)for(var t=0;t<e.length;t++)if(e[t].identifier===this._touchId)return e[t]},t.prototype._createDragDataFromPosition=function(e){var t=this.state.lastPosition;return void 0===t?{delta:{x:0,y:0},lastPosition:e,position:e}:{delta:{x:e.x-t.x,y:e.y-t.y},lastPosition:t,position:e}},t.prototype._createUpdatedDragData=function(e){var t=this.state.position;return{position:{x:t.x+e.delta.x,y:t.y+e.delta.y},delta:e.delta,lastPosition:t}},t}(i.Component),R=n(93781),L=n(3753),M=n(88114),B=n(34060),O=n(44535),F=n(95004),D=n(97815),N={x:0,y:0},U={isOpen:!1,isDarkOverlay:!0,className:"",containerClassName:"",enableAriaHiddenSiblings:!0},z=(0,a.Z)(),j=i.forwardRef((function(e,t){var n,r,a,s,l,g=(0,u.N)(U,e),y=g.allowTouchBodyScroll,T=g.className,E=g.children,P=g.containerClassName,I=g.scrollableContentClassName,j=g.elementToFocusOnDismiss,V=g.firstFocusableSelector,W=g.focusTrapZoneProps,H=g.forceFocusInsideTrap,q=g.disableRestoreFocus,K=void 0===q?g.ignoreExternalFocusing:q,G=g.isBlocking,Z=g.isAlert,X=g.isClickableOutsideFocusTrap,Y=g.isDarkOverlay,Q=g.onDismiss,J=g.layerProps,$=g.overlay,ee=g.isOpen,te=g.titleAriaId,ne=g.styles,re=g.subtitleAriaId,oe=g.theme,ie=g.topOffsetFixed,ae=g.responsiveMode,se=g.onLayerDidMount,le=g.isModeless,ue=g.dragOptions,ce=g.onDismissed,de=g.enableAriaHiddenSiblings,pe=g.popupProps,fe=i.useRef(null),he=i.useRef(null),me=(0,L.a)(he,null===W||void 0===W?void 0:W.componentRef),ge=i.useRef(null),ve=(0,L.a)(fe,t),ye=(0,C.z)(ve),be=(0,M.B)("ModalFocusTrapZone",null===W||void 0===W?void 0:W.id),xe=(0,R.ox)(),_e=(0,B.j)(),Ce=_e.setTimeout,we=_e.clearTimeout,Se=i.useState(ee),ke=Se[0],Te=Se[1],Ee=i.useState(ee),Pe=Ee[0],Ie=Ee[1],Ae=i.useState(N),Re=Ae[0],Le=Ae[1],Me=i.useState(),Be=Me[0],Oe=Me[1],Fe=(0,O.C)(!1),De=Fe[0],Ne=Fe[1],Ue=Ne.toggle,ze=Ne.setFalse,je=(0,F.d)((function(){return{onModalCloseTimer:0,allowTouchBodyScroll:y,scrollableContent:null,lastSetCoordinates:N,events:new c.g({})}})),Ve=(ue||{}).keepInBounds,We=null!==Z&&void 0!==Z?Z:G&&!le,He=void 0===J?"":J.className,qe=z(ne,{theme:oe,className:T,containerClassName:P,scrollableContentClassName:I,isOpen:ee,isVisible:Pe,hasBeenOpened:je.hasBeenOpened,modalRectangleTop:Be,topOffsetFixed:ie,isModeless:le,layerClassName:He,windowInnerHeight:null===xe||void 0===xe?void 0:xe.innerHeight,isDefaultDragHandle:ue&&!ue.dragHandleSelector}),Ke=(0,o.Cl)((0,o.Cl)({eventBubblingEnabled:!1},J),{onLayerDidMount:J&&J.onLayerDidMount?J.onLayerDidMount:se,insertFirst:(null===J||void 0===J?void 0:J.insertFirst)||le,className:qe.layer}),Ge=i.useCallback((function(e){e?je.allowTouchBodyScroll?(0,d.K0)(e,je.events):(0,d.c8)(e,je.events):je.events.off(je.scrollableContent),je.scrollableContent=e}),[je]),Ze=function(){var e=ge.current,t=null===e||void 0===e?void 0:e.getBoundingClientRect();t&&(ie&&Oe(t.top),Ve&&(je.minPosition={x:-t.left,y:-t.top},je.maxPosition={x:t.left,y:t.top}))},Xe=i.useCallback((function(e,t){var n=je.minPosition,r=je.maxPosition;return Ve&&n&&r&&(t=Math.max(n[e],t),t=Math.min(r[e],t)),t}),[Ve,je]),Ye=function(){var e;je.lastSetCoordinates=N,ze(),je.isInKeyboardMoveMode=!1,Te(!1),Le(N),null===(e=je.disposeOnKeyUp)||void 0===e||e.call(je),null===ce||void 0===ce||ce()},Qe=i.useCallback((function(){ze(),je.isInKeyboardMoveMode=!1}),[je,ze]),Je=i.useCallback((function(e,t){Le((function(e){return{x:Xe("x",e.x+t.delta.x),y:Xe("y",e.y+t.delta.y)}}))}),[Xe]),$e=i.useCallback((function(){he.current&&he.current.focus()}),[]);i.useEffect((function(){we(je.onModalCloseTimer),ee&&(requestAnimationFrame((function(){return Ce(Ze,0)})),Te(!0),ue&&function(){var e=function(e){e.altKey&&e.ctrlKey&&e.keyCode===p.c.space&&(0,f.s)(je.scrollableContent,e.target)&&(Ue(),e.preventDefault(),e.stopPropagation())};je.disposeOnKeyUp||(je.events.on(xe,"keyup",e,!0),je.disposeOnKeyUp=function(){je.events.off(xe,"keyup",e,!0),je.disposeOnKeyUp=void 0})}(),je.hasBeenOpened=!0,Ie(!0)),!ee&&ke&&(je.onModalCloseTimer=Ce(Ye,1e3*parseFloat(v)),Ie(!1))}),[ke,ee]),(0,D.i)((function(){je.events.dispose()})),function(e,t){i.useImperativeHandle(e.componentRef,(function(){return{focus:function(){t.current&&t.current.focus()}}}),[t])}(g,he);var et=i.createElement(m.Y,(0,o.Cl)({},W,{id:be,ref:ge,componentRef:me,className:(0,h.A)(qe.main,null===W||void 0===W?void 0:W.className),elementToFocusOnDismiss:null!==(n=null===W||void 0===W?void 0:W.elementToFocusOnDismiss)&&void 0!==n?n:j,isClickableOutsideFocusTrap:null!==(r=null===W||void 0===W?void 0:W.isClickableOutsideFocusTrap)&&void 0!==r?r:le||X||!G,disableRestoreFocus:null!==(a=null===W||void 0===W?void 0:W.disableRestoreFocus)&&void 0!==a?a:K,forceFocusInsideTrap:(null!==(s=null===W||void 0===W?void 0:W.forceFocusInsideTrap)&&void 0!==s?s:H)&&!le,firstFocusableSelector:(null===W||void 0===W?void 0:W.firstFocusableSelector)||V,focusPreviouslyFocusedInnerElement:null===(l=null===W||void 0===W?void 0:W.focusPreviouslyFocusedInnerElement)||void 0===l||l,onBlur:je.isInKeyboardMoveMode?function(e){var t,n;null===(t=null===W||void 0===W?void 0:W.onBlur)||void 0===t||t.call(W,e),je.lastSetCoordinates=N,je.isInKeyboardMoveMode=!1,null===(n=je.disposeOnKeyDown)||void 0===n||n.call(je)}:void 0}),ue&&je.isInKeyboardMoveMode&&i.createElement("div",{className:qe.keyboardMoveIconContainer},ue.keyboardMoveIconProps?i.createElement(k.I,(0,o.Cl)({},ue.keyboardMoveIconProps)):i.createElement(k.I,{iconName:"move",className:qe.keyboardMoveIcon})),i.createElement("div",{ref:Ge,className:qe.scrollableContent,"data-is-scrollable":!0},ue&&De&&i.createElement(ue.menu,{items:[{key:"move",text:ue.moveMenuItemText,onClick:function(){var e=function(e){if(e.altKey&&e.ctrlKey&&e.keyCode===p.c.space)return e.preventDefault(),void e.stopPropagation();var t=e.altKey||e.keyCode===p.c.escape;if(De&&t&&ze(),!je.isInKeyboardMoveMode||e.keyCode!==p.c.escape&&e.keyCode!==p.c.enter||(je.isInKeyboardMoveMode=!1,e.preventDefault(),e.stopPropagation()),je.isInKeyboardMoveMode){var n=!0,r=function(e){var t=10;return e.shiftKey?e.ctrlKey||(t=50):e.ctrlKey&&(t=1),t}(e);switch(e.keyCode){case p.c.escape:Le(je.lastSetCoordinates);case p.c.enter:je.lastSetCoordinates=N;break;case p.c.up:Le((function(e){return{x:e.x,y:Xe("y",e.y-r)}}));break;case p.c.down:Le((function(e){return{x:e.x,y:Xe("y",e.y+r)}}));break;case p.c.left:Le((function(e){return{x:Xe("x",e.x-r),y:e.y}}));break;case p.c.right:Le((function(e){return{x:Xe("x",e.x+r),y:e.y}}));break;default:n=!1}n&&(e.preventDefault(),e.stopPropagation())}};je.lastSetCoordinates=Re,ze(),je.isInKeyboardMoveMode=!0,je.events.on(xe,"keydown",e,!0),je.disposeOnKeyDown=function(){je.events.off(xe,"keydown",e,!0),je.disposeOnKeyDown=void 0}}},{key:"close",text:ue.closeMenuItemText,onClick:Ye}],onDismiss:ze,alignTargetEdge:!0,coverTarget:!0,directionalHint:S.A.topLeftEdge,directionalHintFixed:!0,shouldFocusOnMount:!0,target:je.scrollableContent}),E));return ke&&ye>=(ae||w.AR.small)&&i.createElement(x.W,(0,o.Cl)({ref:ve},Ke),i.createElement(_.z,(0,o.Cl)({role:We?"alertdialog":"dialog",ariaLabelledBy:te,ariaDescribedBy:re,onDismiss:Q,shouldRestoreFocus:!K,enableAriaHiddenSiblings:de,"aria-modal":!le},pe),i.createElement("div",{className:qe.root,role:le?void 0:"document"},!le&&i.createElement(b.h,(0,o.Cl)({"aria-hidden":!0,isDarkThemed:Y,onClick:G?void 0:Q,allowTouchBodyScroll:y},$)),ue?i.createElement(A,{handleSelector:ue.dragHandleSelector||"#"+be,preventDragSelector:"button",onStart:Qe,onDragChange:Je,onStop:$e,position:Re},et):et)))||null}));j.displayName="Modal";var V=(0,r.I)(j,(function(e){var t,n=e.className,r=e.containerClassName,o=e.scrollableContentClassName,i=e.isOpen,a=e.isVisible,s=e.hasBeenOpened,l=e.modalRectangleTop,u=e.theme,c=e.topOffsetFixed,d=e.isModeless,p=e.layerClassName,f=e.isDefaultDragHandle,h=e.windowInnerHeight,m=u.palette,b=u.effects,x=u.fonts,_=(0,g.Km)(y,u);return{root:[_.root,x.medium,{backgroundColor:"transparent",position:"fixed",height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,pointerEvents:"none",transition:"opacity "+v},c&&"number"===typeof l&&s&&{alignItems:"flex-start"},i&&_.isOpen,a&&{opacity:1},a&&!d&&{pointerEvents:"auto"},n],main:[_.main,{boxShadow:b.elevation64,borderRadius:b.roundedCorner2,backgroundColor:m.white,boxSizing:"border-box",position:"relative",textAlign:"left",outline:"3px solid transparent",maxHeight:"calc(100% - 32px)",maxWidth:"calc(100% - 32px)",minHeight:"176px",minWidth:"288px",overflowY:"auto",zIndex:d?g.nA.Layer:void 0},d&&{pointerEvents:"auto"},c&&"number"===typeof l&&s&&{top:l},f&&{cursor:"move"},r],scrollableContent:[_.scrollableContent,{overflowY:"auto",flexGrow:1,maxHeight:"100vh",selectors:(t={},t["@supports (-webkit-overflow-scrolling: touch)"]={maxHeight:h},t)},o],layer:d&&[p,_.layer,{pointerEvents:"none"}],keyboardMoveIconContainer:{position:"absolute",display:"flex",justifyContent:"center",width:"100%",padding:"3px 0px"},keyboardMoveIcon:{fontSize:x.xLargePlus.fontSize,width:"24px"}}}),void 0,{scope:"Modal",fields:["theme","styles","enableAriaHiddenSiblings"]});V.displayName="Modal";var W=n(68246),H=n(43960),q=n(84495),K=n(23598),G=(0,a.Z)(),Z=i.createElement(K.E,null).type,X=function(e){function t(t){var n=e.call(this,t)||this;return(0,W.f)(n),(0,H.A)("DialogContent",t,{titleId:"titleProps.id"}),n}return(0,o.C6)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.showCloseButton,r=t.className,a=t.closeButtonAriaLabel,s=t.onDismiss,u=t.subTextId,c=t.subText,d=t.titleProps,p=void 0===d?{}:d,f=t.titleId,m=t.title,g=t.type,v=t.styles,y=t.theme,b=t.draggableHeaderClassName,x=G(v,{theme:y,className:r,isLargeHeader:g===l.h.largeHeader,isClose:g===l.h.close,draggableHeaderClassName:b}),_=this._groupChildren();return c&&(e=i.createElement("p",{className:x.subText,id:u},c)),i.createElement("div",{className:x.content},i.createElement("div",{className:x.header},i.createElement("div",(0,o.Cl)({id:f,role:"heading","aria-level":1},p,{className:(0,h.A)(x.title,p.className)}),m),i.createElement("div",{className:x.topButton},this.props.topButtonsProps.map((function(e,t){return i.createElement(q.K,(0,o.Cl)({key:e.uniqueId||t},e))})),(g===l.h.close||n&&g!==l.h.largeHeader)&&i.createElement(q.K,{className:x.button,iconProps:{iconName:"Cancel"},ariaLabel:a,onClick:s}))),i.createElement("div",{className:x.inner},i.createElement("div",{className:x.innerContent},e,_.contents),_.footers))},t.prototype._groupChildren=function(){var e={footers:[],contents:[]};return i.Children.map(this.props.children,(function(t){"object"===typeof t&&null!==t&&t.type===Z?e.footers.push(t):e.contents.push(t)})),e},t.defaultProps={showCloseButton:!1,className:"",topButtonsProps:[],closeButtonAriaLabel:"Close"},t=(0,o.Cg)([w.YD],t)}(i.Component),Y={contentLgHeader:"ms-Dialog-lgHeader",close:"ms-Dialog--close",subText:"ms-Dialog-subText",header:"ms-Dialog-header",headerLg:"ms-Dialog--lgHeader",button:"ms-Dialog-button ms-Dialog-button--close",inner:"ms-Dialog-inner",content:"ms-Dialog-content",title:"ms-Dialog-title"},Q=(0,r.I)(X,(function(e){var t,n,r,o=e.className,i=e.theme,a=e.isLargeHeader,s=e.isClose,l=e.hidden,u=e.isMultiline,c=e.draggableHeaderClassName,d=i.palette,p=i.fonts,f=i.effects,h=i.semanticColors,m=(0,g.Km)(Y,i);return{content:[a&&[m.contentLgHeader,{borderTop:"4px solid "+d.themePrimary}],s&&m.close,{flexGrow:1,overflowY:"hidden"},o],subText:[m.subText,p.medium,{margin:"0 0 24px 0",color:h.bodySubtext,lineHeight:"1.5",wordWrap:"break-word",fontWeight:g.BO.regular}],header:[m.header,{position:"relative",width:"100%",boxSizing:"border-box"},s&&m.close,c&&[c,{cursor:"move"}]],button:[m.button,l&&{selectors:{".ms-Icon.ms-Icon--Cancel":{color:h.buttonText,fontSize:g.fF.medium}}}],inner:[m.inner,{padding:"0 24px 24px",selectors:(t={},t["@media (min-width: "+g.Ip+"px) and (max-width: "+g.iD+"px)"]={padding:"0 16px 16px"},t)}],innerContent:[m.content,{position:"relative",width:"100%"}],title:[m.title,p.xLarge,{color:h.bodyText,margin:"0",minHeight:p.xLarge.fontSize,padding:"16px 46px 20px 24px",lineHeight:"normal",selectors:(n={},n["@media (min-width: "+g.Ip+"px) and (max-width: "+g.iD+"px)"]={padding:"16px 46px 16px 16px"},n)},a&&{color:h.menuHeader},u&&{fontSize:p.xxLarge.fontSize}],topButton:[{display:"flex",flexDirection:"row",flexWrap:"nowrap",position:"absolute",top:"0",right:"0",padding:"15px 15px 0 0",selectors:(r={"> *":{flex:"0 0 auto"},".ms-Dialog-button":{color:h.buttonText},".ms-Dialog-button:hover":{color:h.buttonTextHovered,borderRadius:f.roundedCorner2}},r["@media (min-width: "+g.Ip+"px) and (max-width: "+g.iD+"px)"]={padding:"15px 8px 0 0"},r)}]}}),void 0,{scope:"DialogContent"}),J=(0,a.Z)(),$={isDarkOverlay:!1,isBlocking:!1,className:"",containerClassName:"",topOffsetFixed:!1,enableAriaHiddenSiblings:!0},ee={type:l.h.normal,className:"",topButtonsProps:[]},te=function(e){function t(t){var n=e.call(this,t)||this;return n._getSubTextId=function(){var e=n.props,t=e.ariaDescribedById,r=e.modalProps,o=e.dialogContentProps,i=e.subText,a=r&&r.subtitleAriaId||t;return a||(a=(o&&o.subText||i)&&n._defaultSubTextId),a},n._getTitleTextId=function(){var e=n.props,t=e.ariaLabelledById,r=e.modalProps,o=e.dialogContentProps,i=e.title,a=r&&r.titleAriaId||t;return a||(a=(o&&o.title||i)&&n._defaultTitleTextId),a},n._id=(0,s.O)("Dialog"),n._defaultTitleTextId=n._id+"-title",n._defaultSubTextId=n._id+"-subText",n}return(0,o.C6)(t,e),t.prototype.render=function(){var e,t,n,r,a,s=this.props,l=s.className,u=s.containerClassName,c=s.contentClassName,d=s.elementToFocusOnDismiss,p=s.firstFocusableSelector,f=s.forceFocusInsideTrap,h=s.styles,m=s.hidden,g=s.disableRestoreFocus,v=void 0===g?s.ignoreExternalFocusing:g,y=s.isBlocking,b=s.isClickableOutsideFocusTrap,x=s.isDarkOverlay,_=s.isOpen,C=void 0===_?!m:_,w=s.onDismiss,S=s.onDismissed,k=s.onLayerDidMount,T=s.responsiveMode,E=s.subText,P=s.theme,I=s.title,A=s.topButtonsProps,R=s.type,L=s.minWidth,M=s.maxWidth,B=s.modalProps,O=(0,o.Cl)({onLayerDidMount:k},null===B||void 0===B?void 0:B.layerProps);(null===B||void 0===B?void 0:B.dragOptions)&&!(null===(e=B.dragOptions)||void 0===e?void 0:e.dragHandleSelector)&&(r="ms-Dialog-draggable-header",(a=(0,o.Cl)({},B.dragOptions)).dragHandleSelector="."+r);var F=(0,o.Cl)((0,o.Cl)((0,o.Cl)((0,o.Cl)({},$),{elementToFocusOnDismiss:d,firstFocusableSelector:p,forceFocusInsideTrap:f,disableRestoreFocus:v,isClickableOutsideFocusTrap:b,responsiveMode:T,className:l,containerClassName:u,isBlocking:y,isDarkOverlay:x,onDismissed:S}),B),{dragOptions:a,layerProps:O,isOpen:C}),D=(0,o.Cl)((0,o.Cl)((0,o.Cl)({className:c,subText:E,title:I,topButtonsProps:A,type:R},ee),s.dialogContentProps),{draggableHeaderClassName:r,titleProps:(0,o.Cl)({id:(null===(t=s.dialogContentProps)||void 0===t?void 0:t.titleId)||this._defaultTitleTextId},null===(n=s.dialogContentProps)||void 0===n?void 0:n.titleProps)}),N=J(h,{theme:P,className:F.className,containerClassName:F.containerClassName,hidden:m,dialogDefaultMinWidth:L,dialogDefaultMaxWidth:M});return i.createElement(V,(0,o.Cl)({},F,{className:N.root,containerClassName:N.main,onDismiss:w||F.onDismiss,subtitleAriaId:this._getSubTextId(),titleAriaId:this._getTitleTextId()}),i.createElement(Q,(0,o.Cl)({subTextId:this._defaultSubTextId,showCloseButton:F.isBlocking,onDismiss:w},D),s.children))},t.defaultProps={hidden:!0},t=(0,o.Cg)([w.YD],t)}(i.Component),ne={root:"ms-Dialog"},re=(0,r.I)(te,(function(e){var t,n=e.className,r=e.containerClassName,o=e.dialogDefaultMinWidth,i=void 0===o?"288px":o,a=e.dialogDefaultMaxWidth,s=void 0===a?"340px":a,l=e.hidden,u=e.theme;return{root:[(0,g.Km)(ne,u).root,u.fonts.medium,n],main:[{width:i,outline:"3px solid transparent",selectors:(t={},t["@media (min-width: "+g.O7+"px)"]={width:"auto",maxWidth:s,minWidth:i},t)},!l&&{display:"flex"},r]}}),void 0,{scope:"Dialog"});re.displayName="Dialog"},69893:(e,t,n)=>{"use strict";var r;n.d(t,{m:()=>r}),function(e){e[e.none=0]="none",e[e.fitCropRectInView=1]="fitCropRectInView",e[e.fitImageInView=2]="fitImageInView",e[e.actualSize=3]="actualSize"}(r||(r={}))},69977:(e,t,n)=>{"use strict";n.d(t,{Kc:()=>l,Qi:()=>u,R5:()=>c,Rn:()=>p,T4:()=>f,bl:()=>d});var r=n(32e3),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},a=30,s=12;function l(e,t){var n=null!==t&&void 0!==t?t:{},l=n.colorCellSize,u=n.colorCellSVGRadius,c=i(n,["colorCellSize","colorCellSVGRadius"]),d={colorCell:{padding:"0px",borderRadius:"50%",height:"auto",width:"auto"},colorCellSVG:{border:"1px solid transparent","&:hover":{backgroundColor:e.palette.neutralQuaternary,borderRadius:"50%"},"&:active":{backgroundColor:e.palette.neutralQuaternaryAlt,borderRadius:"50%"}},colorCellSVGCircle:{strokeOpacity:"0.3",stroke:e.palette.black},colorCellSelected:{backgroundColor:e.palette.neutralQuaternaryAlt,border:"1px solid "+e.palette.neutralTertiary,borderRadius:"50%"}};return o(o({},(0,r.TW)(d,c)),{colorCellSize:null!==l&&void 0!==l?l:a,colorCellSVGRadius:null!==u&&void 0!==u?u:s})}function u(e){return{padding:"0 16px",minHeight:"170px",height:e?"auto":"217px",display:"inline-flex",flexDirection:"column",justifyContent:"space-evenly",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.14), 0px 0px 2px rgba(0, 0, 0, 0.12)"}}var c=function(e){return{display:e?"none":"block"}},d=4,p=8,f={root:{margin:"0px",padding:"0px"},tableCell:{padding:"0px",height:"40px",width:"40px",textAlign:"center",button:{margin:"0px"}}}},70011:(e,t,n)=>{"use strict";n.d(t,{AZ:()=>l,Fi:()=>o,Yl:()=>i,ZU:()=>s,vP:()=>a});var r=n(26397),o=function(e){return e.brushCursor.mouseCursorIsActive},i=function(e){return e.brushCursor.radiusIsChanging},a=function(e){return e.brushCursor.shouldShowCursorAtCenter},s=function(e){return e.brushCursor.brushByActivity[e.brushCursor.currentActivityKey].maskBrushRadiusInScreenPixels};function l(e){if(e.brushCursor.mouseCursorIsActive)return e.brushCursor.cursorScreenPosition;var t=e.brushCursor,n=t.radiusIsChanging;return t.shouldShowCursorAtCenter||n?(0,r.m1)(e.transformTools.view.viewportPixelSize,.5):e.brushCursor.cursorScreenPosition}},70104:(e,t,n)=>{"use strict";var r;n.d(t,{x:()=>r}),function(e){e.NoArrow="NoArrow",e.SingleArrow="SingleArrow",e.DoubleArrow="DoubleArrow"}(r||(r={}))},70144:(e,t,n)=>{"use strict";n.d(t,{g:()=>a,l:()=>s});var r=n(9950),o=n(2339),i=n(11667);function a(e,t,n){(0,r.useEffect)((function(){if(e)return t(e),function(){n(e.id)}}),[e,t,n])}function s(e,t,n,s,l,u,c,d){void 0===d&&(d=!0),a((0,r.useMemo)((function(){if(e){var r=(0,o.b)();return{id:(0,i.Y)(t,r),title:"",message:n,dismissButtonAriaLabel:s,shouldDismissOnAnyClickOrKeyPress:d,messageType:l,timeOrder:r}}}),[s,n,t,l,d,e]),u,c)}},70529:(e,t,n)=>{"use strict";function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.length<2?t[0]:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.forEach((function(t){return t&&t.apply(e,n)}))}}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=r(e,e[n],t[n]))}n.d(t,{i:()=>o})},70742:(e,t,n)=>{"use strict";n.d(t,{S:()=>a});var r=n(85913),o=n(38400),i=n(9439),a=(0,r.Mz)([o.bq],(function(e){return e.some((function(e){return e.algorithmParameters.algorithmId===i.u}))}))},70859:(e,t,n)=>{"use strict";function r(e,t,n){void 0===n&&(n=0);for(var r=-1,o=n;e&&o<e.length;o++)if(t(e[o],o)){r=o;break}return r}function o(e,t){return e.reduce((function(e,n,r){return r%t===0?e.push([n]):e[e.length-1].push(n),e}),[])}function i(e,t,n){var r=e.slice();return r.splice(t,0,n),r}function a(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}n.d(t,{D3:()=>o,SL:()=>r,Ty:()=>i,r1:()=>a})},70945:(e,t,n)=>{"use strict";n.d(t,{T:()=>u});var r=n(37827),o=n(9950),i=n(80647),a=n(80514),s=n(59307),l=n(99103);function u(e,t,n){return function(u){var c,d=((c=function(a){function c(e){var t=a.call(this,e)||this;return t._styleCache={},t._onSettingChanged=t._onSettingChanged.bind(t),t}return(0,r.C6)(c,a),c.prototype.componentDidMount=function(){i.X.observe(this._onSettingChanged)},c.prototype.componentWillUnmount=function(){i.X.unobserve(this._onSettingChanged)},c.prototype.render=function(){var a=this;return o.createElement(s.z.Consumer,null,(function(s){var c=i.X.getSettings(t,e,s.customizations),d=a.props;if(c.styles&&"function"===typeof c.styles&&(c.styles=c.styles((0,r.Cl)((0,r.Cl)({},c),d))),n&&c.styles){if(a._styleCache.default!==c.styles||a._styleCache.component!==d.styles){var p=(0,l.T)(c.styles,d.styles);a._styleCache.default=c.styles,a._styleCache.component=d.styles,a._styleCache.merged=p}return o.createElement(u,(0,r.Cl)({},c,d,{styles:a._styleCache.merged}))}return o.createElement(u,(0,r.Cl)({},c,d))}))},c.prototype._onSettingChanged=function(){this.forceUpdate()},c}(o.Component)).displayName="Customized"+e,c);return(0,a.D)(u,d)}}},70961:(e,t,n)=>{"use strict";n.d(t,{IL:()=>u,eY:()=>f,xD:()=>l});var r=n(34745),o=n(52569),i=n(88873),a=n(44121),s=n(16423),l=100,u=400,c=0,d=.2,p=.5;function f(e,t,n,l,u){if(u!==i.x8||l===a.I.disabled)return c;if((l===a.I.none||l===a.I.draggingView)&&1===t)return d;var f=e||(0,s.m)(l),h=f?d:p,m=f?p:d;return(0,r.Cc)(h,m,t)*function(e,t){if((0,s.m)(t))return(0,o.a)([1,1,1,1,d/p],e);return 1}(n,l)}},71198:(e,t,n)=>{"use strict";n.d(t,{YM:()=>u,J5:()=>Y,$G:()=>Q,tj:()=>c,wB:()=>pe,si:()=>a,Dl:()=>o,Rc:()=>h});var r=function(){function e(e,t){this.width=e,this.height=t}return e.prototype.toString=function(){return"{W: ".concat(this.width,", H: ").concat(this.height,"}")},e.prototype.getClassName=function(){return"Size"},e.prototype.getHashCode=function(){var e=0|this.width;return e=397*e^this.height},e.prototype.copyFrom=function(e){this.width=e.width,this.height=e.height},e.prototype.copyFromFloats=function(e,t){return this.width=e,this.height=t,this},e.prototype.set=function(e,t){return this.copyFromFloats(e,t)},e.prototype.multiplyByFloats=function(t,n){return new e(this.width*t,this.height*n)},e.prototype.clone=function(){return new e(this.width,this.height)},e.prototype.equals=function(e){return!!e&&(this.width===e.width&&this.height===e.height)},Object.defineProperty(e.prototype,"surface",{get:function(){return this.width*this.height},enumerable:!1,configurable:!0}),e.Zero=function(){return new e(0,0)},e.prototype.add=function(t){return new e(this.width+t.width,this.height+t.height)},e.prototype.subtract=function(t){return new e(this.width-t.width,this.height-t.height)},e.Lerp=function(t,n,r){return new e(t.width+(n.width-t.width)*r,t.height+(n.height-t.height)*r)},e}(),o=function(){function e(e){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=r.Zero(),this._cachedBaseSize=r.Zero(),this._initialSamplingMode=2,this._texture=e,this._texture&&(this._engine=this._texture.getEngine())}return Object.defineProperty(e.prototype,"wrapU",{get:function(){return this._wrapU},set:function(e){this._wrapU=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapV",{get:function(){return this._wrapV},set:function(e){this._wrapV=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinatesMode",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCube",{get:function(){return!!this._texture&&this._texture.isCube},set:function(e){this._texture&&(this._texture.isCube=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is3D",{get:function(){return!!this._texture&&this._texture.is3D},set:function(e){this._texture&&(this._texture.is3D=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is2DArray",{get:function(){return!!this._texture&&this._texture.is2DArray},set:function(e){this._texture&&(this._texture.is2DArray=e)},enumerable:!1,configurable:!0}),e.prototype.getClassName=function(){return"ThinTexture"},e.prototype.isReady=function(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady},e.prototype.delayLoad=function(){},e.prototype.getInternalTexture=function(){return this._texture},e.prototype.getSize=function(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize},e.prototype.getBaseSize=function(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)},Object.defineProperty(e.prototype,"samplingMode",{get:function(){return this._texture?this._texture.samplingMode:this._initialSamplingMode},enumerable:!1,configurable:!0}),e.prototype.updateSamplingMode=function(e){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(e,this._texture)},e.prototype.releaseInternalTexture=function(){this._texture&&(this._texture.dispose(),this._texture=null)},e.prototype.dispose=function(){this._texture&&(this.releaseInternalTexture(),this._engine=null)},e}(),i=n(37827),a=function(e){function t(t,n,r){var o=e.call(this,null)||this;return o._renderTarget=null,o._engine=t,o._renderTargetOptions=r,o.resize(n),o}return(0,i.C6)(t,e),Object.defineProperty(t.prototype,"renderTarget",{get:function(){return this._renderTarget},enumerable:!1,configurable:!0}),t.prototype.resize=function(e){var t;null===(t=this._renderTarget)||void 0===t||t.dispose(),this._renderTarget=null,this._texture=null,this._size=e,this._engine&&(this._renderTarget=this._engine.createRenderTargetTexture(this._size,this._renderTargetOptions)),this._texture=this.renderTarget.texture},t.prototype.getInternalTexture=function(){return this._texture},t.prototype.getClassName=function(){return"ThinRenderTargetTexture"},t.prototype.dispose=function(e){var t;void 0===e&&(e=!1),null===(t=this._renderTarget)||void 0===t||t.dispose(!0),this._renderTarget=null,e||this.dispose()},t}(o),s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},s(e,t)};var l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)},u=function(){function e(){}return e.ALPHA_COMBINE=2,e.TEXTURE_CLAMP_ADDRESSMODE=0,e.TEXTURE_DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,e.TEXTUREFORMAT_LUMINANCE=1,e.TEXTUREFORMAT_RGB=4,e.TEXTUREFORMAT_RGBA=5,e.TEXTUREFORMAT_RED=6,e.TEXTURETYPE_UNSIGNED_BYTE=0,e.TEXTURE_TRILINEAR_SAMPLINGMODE=3,e.MATERIAL_LineListDrawMode=4,e.MATERIAL_LineLoopDrawMode=5,e}(),c=function(e){function t(n,r){var o=e.call(this,null)||this;return r=l(l({},t.DefaultOptions),r),o._generateMipMaps=r.generateMipMaps,o._samplingMode=r.samplingMode,o._engine=r.engine,o.element=n,o.anisotropicFilteringLevel=1,o._createInternalTexture(),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._createInternalTexture=function(){var e,t;e=this.element.width,t=this.element.height;var n=this._engine;n&&(this._texture=n.createDynamicTexture(e,t,this._generateMipMaps,this._samplingMode)),this.update()},t.prototype.update=function(){var e=this._engine;if(null!=this._texture&&null!=e){var t=this.element;e.updateDynamicTexture(this._texture,t,!0,!1)}},t.DefaultOptions={generateMipMaps:!1,samplingMode:u.TEXTURE_TRILINEAR_SAMPLINGMODE,engine:null},t}(o),d=function(){function e(){this.references=0,this.capacity=0,this.is32Bits=!1,this.uniqueId=e._Counter++}return Object.defineProperty(e.prototype,"underlyingResource",{get:function(){return null},enumerable:!1,configurable:!0}),e._Counter=0,e}(),p=function(){function e(){}return e.Slice=function(e,t,n){return e.slice?e.slice(t,n):Array.prototype.slice.call(e,t,n)},e.SliceToArray=function(e,t,n){return Array.isArray(e)?e.slice(t,n):Array.prototype.slice.call(e,t,n)},e}(),f=function(){function e(e,t,n,r,o,i,a,s){void 0===r&&(r=0),void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===a&&(a=!1),this._isAlreadyOwned=!1,e.getScene?this._engine=e.getScene().getEngine():this._engine=e,this._updatable=n,this._instanced=i,this._divisor=s||1,t instanceof d?(this._data=null,this._buffer=t):(this._data=t,this._buffer=null),this.byteStride=a?r:r*Float32Array.BYTES_PER_ELEMENT,o||this.create()}return e.prototype.createVertexBuffer=function(e,t,n,r,o,i,a){void 0===i&&(i=!1);var s=i?t:t*Float32Array.BYTES_PER_ELEMENT,l=r?i?r:r*Float32Array.BYTES_PER_ELEMENT:this.byteStride;return new h(this._engine,this,e,this._updatable,!0,l,void 0===o?this._instanced:o,s,n,void 0,void 0,!0,this._divisor||a)},e.prototype.isUpdatable=function(){return this._updatable},e.prototype.getData=function(){return this._data},e.prototype.getBuffer=function(){return this._buffer},e.prototype.getStrideSize=function(){return this.byteStride/Float32Array.BYTES_PER_ELEMENT},e.prototype.create=function(e){void 0===e&&(e=null),!e&&this._buffer||(e=e||this._data)&&(this._buffer?this._updatable&&(this._engine.updateDynamicVertexBuffer(this._buffer,e),this._data=e):this._updatable?(this._buffer=this._engine.createDynamicVertexBuffer(e),this._data=e):this._buffer=this._engine.createVertexBuffer(e))},e.prototype._rebuild=function(){this._buffer=null,this.create(this._data)},e.prototype.update=function(e){this.create(e)},e.prototype.updateDirectly=function(e,t,n,r){void 0===r&&(r=!1),this._buffer&&this._updatable&&(this._engine.updateDynamicVertexBuffer(this._buffer,e,r?t:t*Float32Array.BYTES_PER_ELEMENT,n?n*this.byteStride:void 0),this._data=0===t&&void 0===n?e:null)},e.prototype._increaseReferences=function(){this._buffer&&(this._isAlreadyOwned?this._buffer.references++:this._isAlreadyOwned=!0)},e.prototype.dispose=function(){this._buffer&&this._engine._releaseBuffer(this._buffer)&&(this._buffer=null,this._data=null)},e}(),h=function(){function e(t,n,r,o,i,a,s,l,u,c,d,p,h,m){if(void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===h&&(h=1),void 0===m&&(m=!1),n instanceof f?(this._buffer=n,this._ownsBuffer=m):(this._buffer=new f(t,n,o,a,i,s,p),this._ownsBuffer=!0),this.uniqueId=e._Counter++,this._kind=r,void 0==c){var g=this.getData();this.type=e.FLOAT,g instanceof Int8Array?this.type=e.BYTE:g instanceof Uint8Array?this.type=e.UNSIGNED_BYTE:g instanceof Int16Array?this.type=e.SHORT:g instanceof Uint16Array?this.type=e.UNSIGNED_SHORT:g instanceof Int32Array?this.type=e.INT:g instanceof Uint32Array&&(this.type=e.UNSIGNED_INT)}else this.type=c;var v=e.GetTypeByteLength(this.type);p?(this._size=u||(a?a/v:e.DeduceStride(r)),this.byteStride=a||this._buffer.byteStride||this._size*v,this.byteOffset=l||0):(this._size=u||a||e.DeduceStride(r),this.byteStride=a?a*v:this._buffer.byteStride||this._size*v,this.byteOffset=(l||0)*v),this.normalized=d,this._instanced=void 0!==s&&s,this._instanceDivisor=s?h:0,this._computeHashCode()}return Object.defineProperty(e.prototype,"instanceDivisor",{get:function(){return this._instanceDivisor},set:function(e){this._instanceDivisor=e,this._instanced=0!=e,this._computeHashCode()},enumerable:!1,configurable:!0}),e.prototype._computeHashCode=function(){this.hashCode=(this.type-5120|0)+((this.normalized?1:0)<<3)+(this._size<<4)+((this._instanced?1:0)<<6)+(this.byteStride<<12)},e.prototype._rebuild=function(){this._buffer&&this._buffer._rebuild()},e.prototype.getKind=function(){return this._kind},e.prototype.isUpdatable=function(){return this._buffer.isUpdatable()},e.prototype.getData=function(){return this._buffer.getData()},e.prototype.getFloatData=function(t,n){var r=this.getData();if(!r)return null;var o=this.getSize()*e.GetTypeByteLength(this.type),i=t*this.getSize();if(this.type!==e.FLOAT||this.byteStride!==o){var a=new Float32Array(i);return this.forEach(i,(function(e,t){return a[t]=e})),a}if(!(r instanceof Array||r instanceof Float32Array)||0!==this.byteOffset||r.length!==i){if(r instanceof Array){var s=this.byteOffset/4;return p.Slice(r,s,s+i)}if(r instanceof ArrayBuffer)return new Float32Array(r,this.byteOffset,i);s=r.byteOffset+this.byteOffset;if(n){var l=new Float32Array(i),u=new Float32Array(r.buffer,s,i);return l.set(u),l}var c=s%4;return c&&(s=Math.max(0,s-c)),new Float32Array(r.buffer,s,i)}return n?p.Slice(r):r},e.prototype.getBuffer=function(){return this._buffer.getBuffer()},e.prototype.getStrideSize=function(){return this.byteStride/e.GetTypeByteLength(this.type)},e.prototype.getOffset=function(){return this.byteOffset/e.GetTypeByteLength(this.type)},e.prototype.getSize=function(t){return void 0===t&&(t=!1),t?this._size*e.GetTypeByteLength(this.type):this._size},e.prototype.getIsInstanced=function(){return this._instanced},e.prototype.getInstanceDivisor=function(){return this._instanceDivisor},e.prototype.create=function(e){this._buffer.create(e)},e.prototype.update=function(e){this._buffer.update(e)},e.prototype.updateDirectly=function(e,t,n){void 0===n&&(n=!1),this._buffer.updateDirectly(e,t,void 0,n)},e.prototype.dispose=function(){this._ownsBuffer&&this._buffer.dispose()},e.prototype.forEach=function(t,n){e.ForEach(this._buffer.getData(),this.byteOffset,this.byteStride,this._size,this.type,t,this.normalized,n)},e.DeduceStride=function(t){switch(t){case e.UVKind:case e.UV2Kind:case e.UV3Kind:case e.UV4Kind:case e.UV5Kind:case e.UV6Kind:return 2;case e.NormalKind:case e.PositionKind:return 3;case e.ColorKind:case e.MatricesIndicesKind:case e.MatricesIndicesExtraKind:case e.MatricesWeightsKind:case e.MatricesWeightsExtraKind:case e.TangentKind:return 4;default:throw new Error("Invalid kind '"+t+"'")}},e.GetTypeByteLength=function(t){switch(t){case e.BYTE:case e.UNSIGNED_BYTE:return 1;case e.SHORT:case e.UNSIGNED_SHORT:return 2;case e.INT:case e.UNSIGNED_INT:case e.FLOAT:return 4;default:throw new Error("Invalid type '".concat(t,"'"))}},e.ForEach=function(t,n,r,o,i,a,s,l){if(t instanceof Array)for(var u=n/4,c=r/4,d=0;d<a;d+=o){for(var p=0;p<o;p++)l(t[u+p],d+p);u+=c}else{var f=t instanceof ArrayBuffer?new DataView(t):new DataView(t.buffer,t.byteOffset,t.byteLength),h=e.GetTypeByteLength(i);for(d=0;d<a;d+=o){var m=n;for(p=0;p<o;p++){l(e._GetFloatValue(f,i,m,s),d+p),m+=h}n+=r}}},e._GetFloatValue=function(t,n,r,o){switch(n){case e.BYTE:var i=t.getInt8(r);return o&&(i=Math.max(i/127,-1)),i;case e.UNSIGNED_BYTE:i=t.getUint8(r);return o&&(i/=255),i;case e.SHORT:i=t.getInt16(r,!0);return o&&(i=Math.max(i/32767,-1)),i;case e.UNSIGNED_SHORT:i=t.getUint16(r,!0);return o&&(i/=65535),i;case e.INT:return t.getInt32(r,!0);case e.UNSIGNED_INT:return t.getUint32(r,!0);case e.FLOAT:return t.getFloat32(r,!0);default:throw new Error("Invalid component type ".concat(n))}},e._Counter=0,e.BYTE=5120,e.UNSIGNED_BYTE=5121,e.SHORT=5122,e.UNSIGNED_SHORT=5123,e.INT=5124,e.UNSIGNED_INT=5125,e.FLOAT=5126,e.PositionKind="position",e.NormalKind="normal",e.TangentKind="tangent",e.UVKind="uv",e.UV2Kind="uv2",e.UV3Kind="uv3",e.UV4Kind="uv4",e.UV5Kind="uv5",e.UV6Kind="uv6",e.ColorKind="color",e.ColorInstanceKind="instanceColor",e.MatricesIndicesKind="matricesIndices",e.MatricesWeightsKind="matricesWeights",e.MatricesIndicesExtraKind="matricesIndicesExtra",e.MatricesWeightsExtraKind="matricesWeightsExtra",e}(),m=function(){function e(e,t,n,r){this.x=e,this.y=t,this.width=n,this.height=r}return e.prototype.toGlobal=function(t,n){return new e(this.x*t,this.y*n,this.width*t,this.height*n)},e.prototype.toGlobalToRef=function(e,t,n){return n.x=this.x*e,n.y=this.y*t,n.width=this.width*e,n.height=this.height*t,this},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e}(),g=function(){function e(e,t,n,r){void 0===t&&(t=!1),this.initialize(e,t,n,r)}return e.prototype.initialize=function(e,t,n,r){return void 0===t&&(t=!1),this.mask=e,this.skipNextObservers=t,this.target=n,this.currentTarget=r,this},e}(),v=function(e,t,n){void 0===n&&(n=null),this.callback=e,this.mask=t,this.scope=n,this._willBeUnregistered=!1,this.unregisterOnNextCall=!1},y=(function(){function e(){}e.prototype.dispose=function(){if(this._observers&&this._observables)for(var e=0;e<this._observers.length;e++)this._observables[e].remove(this._observers[e]);this._observers=null,this._observables=null},e.Watch=function(t,n,r,o){void 0===r&&(r=-1),void 0===o&&(o=null);var i=new e;i._observers=new Array,i._observables=t;for(var a=0,s=t;a<s.length;a++){var l=s[a].add(n,r,!1,o);l&&i._observers.push(l)}return i}}(),function(){function e(e){this._observers=new Array,this._eventState=new g(0),e&&(this._onObserverAdded=e)}return e.FromPromise=function(t,n){var r=new e;return t.then((function(e){r.notifyObservers(e)})).catch((function(e){if(!n)throw e;n.notifyObservers(e)})),r},Object.defineProperty(e.prototype,"observers",{get:function(){return this._observers},enumerable:!1,configurable:!0}),e.prototype.add=function(e,t,n,r,o){if(void 0===t&&(t=-1),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=!1),!e)return null;var i=new v(e,t,r);return i.unregisterOnNextCall=o,n?this._observers.unshift(i):this._observers.push(i),this._onObserverAdded&&this._onObserverAdded(i),i},e.prototype.addOnce=function(e){return this.add(e,void 0,void 0,void 0,!0)},e.prototype.remove=function(e){return!!e&&(-1!==this._observers.indexOf(e)&&(this._deferUnregister(e),!0))},e.prototype.removeCallback=function(e,t){for(var n=0;n<this._observers.length;n++){var r=this._observers[n];if(!r._willBeUnregistered&&(r.callback===e&&(!t||t===r.scope)))return this._deferUnregister(r),!0}return!1},e.prototype._deferUnregister=function(e){var t=this;e.unregisterOnNextCall=!1,e._willBeUnregistered=!0,setTimeout((function(){t._remove(e)}),0)},e.prototype._remove=function(e){if(!e)return!1;var t=this._observers.indexOf(e);return-1!==t&&(this._observers.splice(t,1),!0)},e.prototype.makeObserverTopPriority=function(e){this._remove(e),this._observers.unshift(e)},e.prototype.makeObserverBottomPriority=function(e){this._remove(e),this._observers.push(e)},e.prototype.notifyObservers=function(e,t,n,r,o){if(void 0===t&&(t=-1),!this._observers.length)return!0;var i=this._eventState;i.mask=t,i.target=n,i.currentTarget=r,i.skipNextObservers=!1,i.lastReturnValue=e,i.userInfo=o;for(var a=0,s=this._observers;a<s.length;a++){var l=s[a];if(!l._willBeUnregistered&&(l.mask&t&&(l.scope?i.lastReturnValue=l.callback.apply(l.scope,[e,i]):i.lastReturnValue=l.callback(e,i),l.unregisterOnNextCall&&this._deferUnregister(l)),i.skipNextObservers))return!1}return!0},e.prototype.notifyObserversWithPromise=function(e,t,n,r,o){var i=this;void 0===t&&(t=-1);var a=Promise.resolve(e);if(!this._observers.length)return a;var s=this._eventState;return s.mask=t,s.target=n,s.currentTarget=r,s.skipNextObservers=!1,s.userInfo=o,this._observers.forEach((function(n){s.skipNextObservers||n._willBeUnregistered||n.mask&t&&(a=n.scope?a.then((function(t){return s.lastReturnValue=t,n.callback.apply(n.scope,[e,s])})):a.then((function(t){return s.lastReturnValue=t,n.callback(e,s)})),n.unregisterOnNextCall&&i._deferUnregister(n))})),a.then((function(){return e}))},e.prototype.notifyObserver=function(e,t,n){if(void 0===n&&(n=-1),!e._willBeUnregistered){var r=this._eventState;r.mask=n,r.skipNextObservers=!1,e.callback(t,r),e.unregisterOnNextCall&&this._deferUnregister(e)}},e.prototype.hasObservers=function(){return this._observers.length>0},e.prototype.clear=function(){this._observers=new Array,this._onObserverAdded=null},e.prototype.clone=function(){var t=new e;return t._observers=this._observers.slice(0),t},e.prototype.hasSpecificMask=function(e){void 0===e&&(e=-1);for(var t=0,n=this._observers;t<n.length;t++){var r=n[t];if(r.mask&e||r.mask===e)return!0}return!1},e}());function b(){return"undefined"!==typeof window}function x(){return"undefined"!==typeof navigator}function _(){return"undefined"!==typeof document}function C(e){for(var t="",n=e.firstChild;n;)3===n.nodeType&&(t+=n.textContent),n=n.nextSibling;return t}var w,S={IsWindowObjectExist:b,IsNavigatorAvailable:x,IsDocumentAvailable:_,GetDOMTextContent:C},k=function(){function e(){}return e._CheckLimit=function(t,n){var r=e._LogLimitOutputs[t];return r?r.current++:(r={limit:n,current:1},e._LogLimitOutputs[t]=r),r.current<=r.limit},e._GenerateLimitMessage=function(t,n){var r=e._LogLimitOutputs[t];if(r&&e.MessageLimitReached&&r.current===r.limit)switch(n){case 0:e.Log(e.MessageLimitReached.replace(/%LIMIT%/g,""+r.limit).replace(/%TYPE%/g,"log"));break;case 1:e.Warn(e.MessageLimitReached.replace(/%LIMIT%/g,""+r.limit).replace(/%TYPE%/g,"warning"));break;case 2:e.Error(e.MessageLimitReached.replace(/%LIMIT%/g,""+r.limit).replace(/%TYPE%/g,"error"))}},e._AddLogEntry=function(t){e._LogCache=t+e._LogCache,e.OnNewCacheEntry&&e.OnNewCacheEntry(t)},e._FormatMessage=function(e){var t=function(e){return e<10?"0"+e:""+e},n=new Date;return"["+t(n.getHours())+":"+t(n.getMinutes())+":"+t(n.getSeconds())+"]: "+e},e._LogDisabled=function(e,t){},e._LogEnabled=function(t,n){if(void 0===n||e._CheckLimit(t,n)){var r=e._FormatMessage(t);console.log("BJS - "+r);var o="<div style='color:white'>"+r+"</div><br>";e._AddLogEntry(o),e._GenerateLimitMessage(t,0)}},e._WarnDisabled=function(e,t){},e._WarnEnabled=function(t,n){if(void 0===n||e._CheckLimit(t,n)){var r=e._FormatMessage(t);console.warn("BJS - "+r);var o="<div style='color:orange'>"+t+"</div><br>";e._AddLogEntry(o),e._GenerateLimitMessage(t,1)}},e._ErrorDisabled=function(e,t){},e._ErrorEnabled=function(t,n){if(void 0===n||e._CheckLimit(t,n)){var r=e._FormatMessage(t);e.errorsCount++,console.error("BJS - "+r);var o="<div style='color:red'>"+r+"</div><br>";e._AddLogEntry(o),e._GenerateLimitMessage(t,2)}},Object.defineProperty(e,"LogCache",{get:function(){return e._LogCache},enumerable:!1,configurable:!0}),e.ClearLogCache=function(){e._LogCache="",e._LogLimitOutputs={},e.errorsCount=0},Object.defineProperty(e,"LogLevels",{set:function(t){(t&e.MessageLogLevel)===e.MessageLogLevel?e.Log=e._LogEnabled:e.Log=e._LogDisabled,(t&e.WarningLogLevel)===e.WarningLogLevel?e.Warn=e._WarnEnabled:e.Warn=e._WarnDisabled,(t&e.ErrorLogLevel)===e.ErrorLogLevel?e.Error=e._ErrorEnabled:e.Error=e._ErrorDisabled},enumerable:!1,configurable:!0}),e.NoneLogLevel=0,e.MessageLogLevel=1,e.WarningLogLevel=2,e.ErrorLogLevel=4,e.AllLogLevel=7,e.MessageLimitReached="Too many %TYPE%s (%LIMIT%), no more %TYPE%s will be reported for this message.",e._LogCache="",e._LogLimitOutputs={},e.errorsCount=0,e.Log=e._LogEnabled,e.Warn=e._WarnEnabled,e.Error=e._ErrorEnabled,e}(),T=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},E=function(e,t){return!!e&&0===e.indexOf(t)},P=function(e){for(var t,n,r,o,i,a,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0,d=ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e);c<d.length;)o=(t=d[c++])>>2,i=(3&t)<<4|(n=c<d.length?d[c++]:Number.NaN)>>4,a=(15&n)<<2|(r=c<d.length?d[c++]:Number.NaN)>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),u+=l.charAt(o)+l.charAt(i)+l.charAt(a)+l.charAt(s);return u},I=function(e){return atob(e)},A=function(e){for(var t=I(e),n=t.length,r=new Uint8Array(new ArrayBuffer(n)),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer},R=function(){function e(){this.children=[]}return e.prototype.isValid=function(e){return!0},e.prototype.process=function(e,t){var n="";if(this.line){var r=this.line,o=t.processor;if(o){if(o.lineProcessor&&(r=o.lineProcessor(r,t.isFragment,t.processingContext)),o.attributeProcessor&&E(this.line,"attribute"))r=o.attributeProcessor(this.line,e,t.processingContext);else if(o.varyingProcessor&&E(this.line,"varying"))r=o.varyingProcessor(this.line,t.isFragment,e,t.processingContext);else if(o.uniformProcessor&&o.uniformRegexp&&o.uniformRegexp.test(this.line))t.lookForClosingBracketForUniformBuffer||(r=o.uniformProcessor(this.line,t.isFragment,e,t.processingContext));else if(o.uniformBufferProcessor&&o.uniformBufferRegexp&&o.uniformBufferRegexp.test(this.line))t.lookForClosingBracketForUniformBuffer||(r=o.uniformBufferProcessor(this.line,t.isFragment,t.processingContext),t.lookForClosingBracketForUniformBuffer=!0);else if(o.textureProcessor&&o.textureRegexp&&o.textureRegexp.test(this.line))r=o.textureProcessor(this.line,t.isFragment,e,t.processingContext);else if((o.uniformProcessor||o.uniformBufferProcessor)&&E(this.line,"uniform")&&!t.lookForClosingBracketForUniformBuffer){/uniform\s+(?:(?:highp)?|(?:lowp)?)\s*(\S+)\s+(\S+)\s*;/.test(this.line)?o.uniformProcessor&&(r=o.uniformProcessor(this.line,t.isFragment,e,t.processingContext)):o.uniformBufferProcessor&&(r=o.uniformBufferProcessor(this.line,t.isFragment,t.processingContext),t.lookForClosingBracketForUniformBuffer=!0)}t.lookForClosingBracketForUniformBuffer&&-1!==this.line.indexOf("}")&&(t.lookForClosingBracketForUniformBuffer=!1,o.endOfUniformBufferProcessor&&(r=o.endOfUniformBufferProcessor(this.line,t.isFragment,t.processingContext)))}n+=r+"\r\n"}return this.children.forEach((function(r){n+=r.process(e,t)})),this.additionalDefineKey&&(e[this.additionalDefineKey]=this.additionalDefineValue||"true"),n},e}(),L=function(){function e(){}return Object.defineProperty(e.prototype,"currentLine",{get:function(){return this._lines[this.lineIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canRead",{get:function(){return this.lineIndex<this._lines.length-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lines",{set:function(e){this._lines=[];for(var t=0,n=e;t<n.length;t++){var r=n[t];if("#"!==r[0])for(var o=r.split(";"),i=0;i<o.length;i++){var a=o[i];(a=a.trim())&&this._lines.push(a+(i!==o.length-1?";":""))}else this._lines.push(r)}},enumerable:!1,configurable:!0}),e}(),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.C6)(t,e),t.prototype.process=function(e,t){for(var n=0;n<this.children.length;n++){var r=this.children[n];if(r.isValid(e))return r.process(e,t)}return""},t}(R),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.C6)(t,e),t.prototype.isValid=function(e){return this.testExpression.isTrue(e)},t}(R),O=function(){function e(){}return e.prototype.isTrue=function(e){return!0},e.postfixToInfix=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var i=o[r];if(void 0===e._OperatorPriority[i])n.push(i);else{var a=n[n.length-1],s=n[n.length-2];n.length-=2,n.push("(".concat(s).concat(i).concat(a,")"))}}return n[n.length-1]},e.infixToPostfix=function(t){for(var n=[],r=-1,o=function(){""!==(u=u.trim())&&(n.push(u),u="")},i=function(t){r<e._Stack.length-1&&(e._Stack[++r]=t)},a=function(){return e._Stack[r]},s=function(){return-1===r?"!!INVALID EXPRESSION!!":e._Stack[r--]},l=0,u="";l<t.length;){var c=t.charAt(l),d=l<t.length-1?t.substr(l,2):"";if("("===c)u="",i(c);else if(")"===c){for(o();-1!==r&&"("!==a();)n.push(s());s()}else if(e._OperatorPriority[d]>1){for(o();-1!==r&&e._OperatorPriority[a()]>=e._OperatorPriority[d];)n.push(s());i(d),l++}else u+=c;l++}for(o();-1!==r;)"("===a()?s():n.push(s());return n},e._OperatorPriority={")":0,"(":1,"||":2,"&&":3},e._Stack=["","","","","","","","","","","","","","","","","","","",""],e}(),F=function(e){function t(t,n){void 0===n&&(n=!1);var r=e.call(this)||this;return r.define=t,r.not=n,r}return(0,i.C6)(t,e),t.prototype.isTrue=function(e){var t=void 0!==e[this.define];return this.not&&(t=!t),t},t}(O),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.C6)(t,e),t.prototype.isTrue=function(e){return this.leftOperand.isTrue(e)||this.rightOperand.isTrue(e)},t}(O),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.C6)(t,e),t.prototype.isTrue=function(e){return this.leftOperand.isTrue(e)&&this.rightOperand.isTrue(e)},t}(O),U=function(e){function t(t,n,r){var o=e.call(this)||this;return o.define=t,o.operand=n,o.testValue=r,o}return(0,i.C6)(t,e),t.prototype.isTrue=function(e){var t=e[this.define];void 0===t&&(t=this.define);var n=!1,r=parseInt(t),o=parseInt(this.testValue);switch(this.operand){case">":n=r>o;break;case"<":n=r<o;break;case"<=":n=r<=o;break;case">=":n=r>=o;break;case"==":n=r===o}return n},t}(O);function z(e){return"".concat(e," needs to be imported before as it contains a side-effect required by your code.")}!function(e){e[e.GLSL=0]="GLSL",e[e.WGSL=1]="WGSL"}(w||(w={}));var j=/defined\s*?\((.+?)\)/g,V=/defined\s*?\[(.+?)\]/g,W=function(){function e(){}return e.Initialize=function(e){e.processor&&e.processor.initializeShaders&&e.processor.initializeShaders(e.processingContext)},e.Process=function(e,t,n,r){var o,i=this;(null===(o=t.processor)||void 0===o?void 0:o.preProcessShaderCode)&&(e=t.processor.preProcessShaderCode(e,t.isFragment)),this._ProcessIncludes(e,t,(function(e){t.processCodeAfterIncludes&&(e=t.processCodeAfterIncludes(t.isFragment?"fragment":"vertex",e));var o=i._ProcessShaderConversion(e,t,r);n(o)}))},e.PreProcess=function(e,t,n,r){var o,i=this;(null===(o=t.processor)||void 0===o?void 0:o.preProcessShaderCode)&&(e=t.processor.preProcessShaderCode(e,t.isFragment)),this._ProcessIncludes(e,t,(function(e){t.processCodeAfterIncludes&&(e=t.processCodeAfterIncludes(t.isFragment?"fragment":"vertex",e));var o=i._ApplyPreProcessing(e,t,r);n(o)}))},e.Finalize=function(e,t,n){return n.processor&&n.processor.finalizeShaders?n.processor.finalizeShaders(e,t,n.processingContext):{vertexCode:e,fragmentCode:t}},e._ProcessPrecision=function(e,t){var n;if(null===(n=t.processor)||void 0===n?void 0:n.noPrecision)return e;var r=t.shouldUseHighPrecisionShader;return-1===e.indexOf("precision highp float")?e=r?"precision highp float;\n"+e:"precision mediump float;\n"+e:r||(e=e.replace("precision highp float","precision mediump float")),e},e._ExtractOperation=function(e){var t=/defined\((.+)\)/.exec(e);if(t&&t.length)return new F(t[1].trim(),"!"===e[0]);for(var n="",r=0,o=0,i=["==",">=","<=","<",">"];o<i.length&&(n=i[o],!((r=e.indexOf(n))>-1));o++);if(-1===r)return new F(e);var a=e.substring(0,r).trim(),s=e.substring(r+n.length).trim();return new U(a,n,s)},e._BuildSubExpression=function(e){e=e.replace(j,"defined[$1]");for(var t=[],n=0,r=O.infixToPostfix(e);n<r.length;n++){var o=r[n];if("||"!==o&&"&&"!==o)t.push(o);else if(t.length>=2){var i=t[t.length-1],a=t[t.length-2];t.length-=2;var s="&&"==o?new N:new D;"string"===typeof i&&(i=i.replace(V,"defined($1)")),"string"===typeof a&&(a=a.replace(V,"defined($1)")),s.leftOperand="string"===typeof a?this._ExtractOperation(a):a,s.rightOperand="string"===typeof i?this._ExtractOperation(i):i,t.push(s)}}var l=t[t.length-1];return"string"===typeof l&&(l=l.replace(V,"defined($1)")),"string"===typeof l?this._ExtractOperation(l):l},e._BuildExpression=function(e,t){var n=new B,r=e.substring(0,t),o=e.substring(t);return o=o.substring(0,(o.indexOf("//")+1||o.length+1)-1).trim(),n.testExpression="#ifdef"===r?new F(o):"#ifndef"===r?new F(o,!0):this._BuildSubExpression(o),n},e._MoveCursorWithinIf=function(e,t,n){for(var r=e.currentLine;this._MoveCursor(e,n);){var o=(r=e.currentLine).substring(0,5).toLowerCase();if("#else"===o){var i=new R;return t.children.push(i),void this._MoveCursor(e,i)}if("#elif"===o){var a=this._BuildExpression(r,5);t.children.push(a),n=a}}},e._MoveCursor=function(e,t){for(;e.canRead;){e.lineIndex++;var n=e.currentLine,r=/(#ifdef)|(#else)|(#elif)|(#endif)|(#ifndef)|(#if)/.exec(n);if(r&&r.length){switch(r[0]){case"#ifdef":var o=new M;t.children.push(o);var i=this._BuildExpression(n,6);o.children.push(i),this._MoveCursorWithinIf(e,o,i);break;case"#else":case"#elif":return!0;case"#endif":return!1;case"#ifndef":o=new M;t.children.push(o);i=this._BuildExpression(n,7);o.children.push(i),this._MoveCursorWithinIf(e,o,i);break;case"#if":o=new M,i=this._BuildExpression(n,3);t.children.push(o),o.children.push(i),this._MoveCursorWithinIf(e,o,i)}}else{var a=new R;if(a.line=n,t.children.push(a),"#"===n[0]&&"d"===n[1]){var s=n.replace(";","").split(" ");a.additionalDefineKey=s[1],3===s.length&&(a.additionalDefineValue=s[2])}}}return!1},e._EvaluatePreProcessors=function(e,t,n){var r=new R,o=new L;return o.lineIndex=-1,o.lines=e.split("\n"),this._MoveCursor(o,r),r.process(t,n)},e._PreparePreProcessors=function(e,t){for(var n,r={},o=0,i=e.defines;o<i.length;o++){var a=i[o].replace("#define","").replace(";","").trim().split(" ");r[a[0]]=a.length>1?a[1]:""}return(null===(n=e.processor)||void 0===n?void 0:n.shaderLanguage)===w.GLSL&&(r.GL_ES="true"),r.__VERSION__=e.version,r[e.platformName]="true",t._getGlobalDefines(r),r},e._ProcessShaderConversion=function(e,t,n){var r=this._ProcessPrecision(e,t);if(!t.processor)return r;if(t.processor.shaderLanguage===w.GLSL&&-1!==r.indexOf("#version 3"))return r.replace("#version 300 es","");var o=t.defines,i=this._PreparePreProcessors(t,n);return t.processor.preProcessor&&(r=t.processor.preProcessor(r,o,t.isFragment,t.processingContext)),r=this._EvaluatePreProcessors(r,i,t),t.processor.postProcessor&&(r=t.processor.postProcessor(r,o,t.isFragment,t.processingContext,n)),n._features.needShaderCodeInlining&&(r=n.inlineShaderCode(r)),r},e._ApplyPreProcessing=function(e,t,n){var r,o,i=e,a=t.defines,s=this._PreparePreProcessors(t,n);return(null===(r=t.processor)||void 0===r?void 0:r.preProcessor)&&(i=t.processor.preProcessor(i,a,t.isFragment,t.processingContext)),i=this._EvaluatePreProcessors(i,s,t),(null===(o=t.processor)||void 0===o?void 0:o.postProcessor)&&(i=t.processor.postProcessor(i,a,t.isFragment,t.processingContext,n)),n._features.needShaderCodeInlining&&(i=n.inlineShaderCode(i)),i},e._ProcessIncludes=function(t,n,r){for(var o=this,i=/#include\s?<(.+)>(\((.*)\))*(\[(.*)\])*/g,a=i.exec(t),s=new String(t),l=!1,u=function(){var u=a[1];if(-1!==u.indexOf("__decl__")&&(u=u.replace(/__decl__/,""),n.supportsUniformBuffers&&(u=(u=u.replace(/Vertex/,"Ubo")).replace(/Fragment/,"Ubo")),u+="Declaration"),!n.includesShadersStore[u]){var c=n.shadersRepository+"ShadersInclude/"+u+".fx";return e._FileToolsLoadFile(c,(function(e){n.includesShadersStore[u]=e,o._ProcessIncludes(s,n,r)})),{value:void 0}}var d=n.includesShadersStore[u];if(a[2])for(var p=a[3].split(","),f=0;f<p.length;f+=2){var h=new RegExp(p[f],"g"),m=p[f+1];d=d.replace(h,m)}if(a[4]){var g=a[5];if(-1!==g.indexOf("..")){var v=g.split(".."),y=parseInt(v[0]),b=parseInt(v[1]),x=d.slice(0);d="",isNaN(b)&&(b=n.indexParameters[v[1]]);for(var _=y;_<b;_++)n.supportsUniformBuffers||(x=x.replace(/light\{X\}.(\w*)/g,(function(e,t){return t+"{X}"}))),d+=x.replace(/\{X\}/g,_.toString())+"\n"}else n.supportsUniformBuffers||(d=d.replace(/light\{X\}.(\w*)/g,(function(e,t){return t+"{X}"}))),d=d.replace(/\{X\}/g,g)}s=s.replace(a[0],d),l=l||d.indexOf("#include<")>=0||d.indexOf("#include <")>=0,a=i.exec(t)};null!=a;){var c=u();if("object"===typeof c)return c.value}l?this._ProcessIncludes(s.toString(),n,r):r(s)},e._FileToolsLoadFile=function(e,t,n,r,o,i){throw z("FileTools")},e}(),H=function(){function e(){}return e.GetShadersRepository=function(t){return void 0===t&&(t=w.GLSL),t===w.GLSL?e.ShadersRepository:e.ShadersRepositoryWGSL},e.GetShadersStore=function(t){return void 0===t&&(t=w.GLSL),t===w.GLSL?e.ShadersStore:e.ShadersStoreWGSL},e.GetIncludesShadersStore=function(t){return void 0===t&&(t=w.GLSL),t===w.GLSL?e.IncludesShadersStore:e.IncludesShadersStoreWGSL},e.ShadersRepository="src/Shaders/",e.ShadersStore={},e.IncludesShadersStore={},e.ShadersRepositoryWGSL="src/ShadersWGSL/",e.ShadersStoreWGSL={},e.IncludesShadersStoreWGSL={},e}(),q=function(){function e(t,n,r,o,i,a,s,l,u,c,d,p){void 0===o&&(o=null),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=null),void 0===u&&(u=null),void 0===d&&(d=""),void 0===p&&(p=w.GLSL);var f,h,m,g=this;this.name=null,this.defines="",this.onCompiled=null,this.onError=null,this.onBind=null,this.uniqueId=0,this.onCompileObservable=new y,this.onErrorObservable=new y,this._onBindObservable=null,this._wasPreviouslyReady=!1,this._bonesComputationForcedToCPU=!1,this._uniformBuffersNames={},this._multiTarget=!1,this._samplers={},this._isReady=!1,this._compilationError="",this._allFallbacksProcessed=!1,this._uniforms={},this._key="",this._fallbacks=null,this._vertexSourceCodeOverride="",this._fragmentSourceCodeOverride="",this._transformFeedbackVaryings=null,this._pipelineContext=null,this._vertexSourceCode="",this._fragmentSourceCode="",this._rawVertexSourceCode="",this._rawFragmentSourceCode="",this.name=t,this._key=d;var v,x,_=void 0,C=null;if(n.attributes){var S=n;if(this._engine=r,this._attributesNames=S.attributes,this._uniformsNames=S.uniformsNames.concat(S.samplers),this._samplerList=S.samplers.slice(),this.defines=S.defines,this.onError=S.onError,this.onCompiled=S.onCompiled,this._fallbacks=S.fallbacks,this._indexParameters=S.indexParameters,this._transformFeedbackVaryings=S.transformFeedbackVaryings||null,this._multiTarget=!!S.multiTarget,this._shaderLanguage=null!==(f=S.shaderLanguage)&&void 0!==f?f:w.GLSL,S.uniformBuffersNames){this._uniformBuffersNamesList=S.uniformBuffersNames.slice();for(var k=0;k<S.uniformBuffersNames.length;k++)this._uniformBuffersNames[S.uniformBuffersNames[k]]=k}C=null!==(h=S.processFinalCode)&&void 0!==h?h:null,_=null!==(m=S.processCodeAfterIncludes)&&void 0!==m?m:void 0}else this._engine=i,this.defines=null==a?"":a,this._uniformsNames=r.concat(o),this._samplerList=o?o.slice():[],this._attributesNames=n,this._uniformBuffersNamesList=[],this._shaderLanguage=p,this.onError=u,this.onCompiled=l,this._indexParameters=c,this._fallbacks=s;this._attributeLocationByName={},this.uniqueId=e._UniqueIdSeed++;var T=b()?this._engine.getHostDocument():null;t.vertexSource?v="source:"+t.vertexSource:t.vertexElement?(v=T?T.getElementById(t.vertexElement):null)||(v=t.vertexElement):v=t.vertex||t,t.fragmentSource?x="source:"+t.fragmentSource:t.fragmentElement?(x=T?T.getElementById(t.fragmentElement):null)||(x=t.fragmentElement):x=t.fragment||t,this._processingContext=this._engine._getShaderProcessingContext(this._shaderLanguage);var E={defines:this.defines.split("\n"),indexParameters:this._indexParameters,isFragment:!1,shouldUseHighPrecisionShader:this._engine._shouldUseHighPrecisionShader,processor:this._engine._getShaderProcessor(this._shaderLanguage),supportsUniformBuffers:this._engine.supportsUniformBuffers,shadersRepository:H.GetShadersRepository(this._shaderLanguage),includesShadersStore:H.GetIncludesShadersStore(this._shaderLanguage),version:(100*this._engine.version).toString(),platformName:this._engine.shaderPlatformName,processingContext:this._processingContext,isNDCHalfZRange:this._engine.isNDCHalfZRange,useReverseDepthBuffer:this._engine.useReverseDepthBuffer,processCodeAfterIncludes:_},P=[void 0,void 0],I=function(){if(P[0]&&P[1]){E.isFragment=!0;var e=P[0],n=P[1];W.Process(n,E,(function(n){C&&(n=C("fragment",n));var r=W.Finalize(e,n,E);g._useFinalCode(r.vertexCode,r.fragmentCode,t)}),g._engine)}};this._loadShader(v,"Vertex","",(function(e){W.Initialize(E),W.Process(e,E,(function(t){g._rawVertexSourceCode=e,C&&(t=C("vertex",t)),P[0]=t,I()}),g._engine)})),this._loadShader(x,"Fragment","Pixel",(function(e){g._rawFragmentSourceCode=e,P[1]=e,I()}))}return Object.defineProperty(e,"ShadersRepository",{get:function(){return H.ShadersRepository},set:function(e){H.ShadersRepository=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onBindObservable",{get:function(){return this._onBindObservable||(this._onBindObservable=new y),this._onBindObservable},enumerable:!1,configurable:!0}),e.prototype._useFinalCode=function(e,t,n){if(n){var r=n.vertexElement||n.vertex||n.spectorName||n,o=n.fragmentElement||n.fragment||n.spectorName||n;this._vertexSourceCode=(this._shaderLanguage===w.WGSL?"//":"")+"#define SHADER_NAME vertex:"+r+"\n"+e,this._fragmentSourceCode=(this._shaderLanguage===w.WGSL?"//":"")+"#define SHADER_NAME fragment:"+o+"\n"+t}else this._vertexSourceCode=e,this._fragmentSourceCode=t;this._prepareEffect()},Object.defineProperty(e.prototype,"key",{get:function(){return this._key},enumerable:!1,configurable:!0}),e.prototype.isReady=function(){try{return this._isReadyInternal()}catch(e){return!1}},e.prototype._isReadyInternal=function(){return!!this._isReady||!!this._pipelineContext&&this._pipelineContext.isReady},e.prototype.getEngine=function(){return this._engine},e.prototype.getPipelineContext=function(){return this._pipelineContext},e.prototype.getAttributesNames=function(){return this._attributesNames},e.prototype.getAttributeLocation=function(e){return this._attributes[e]},e.prototype.getAttributeLocationByName=function(e){return this._attributeLocationByName[e]},e.prototype.getAttributesCount=function(){return this._attributes.length},e.prototype.getUniformIndex=function(e){return this._uniformsNames.indexOf(e)},e.prototype.getUniform=function(e){return this._uniforms[e]},e.prototype.getSamplers=function(){return this._samplerList},e.prototype.getUniformNames=function(){return this._uniformsNames},e.prototype.getUniformBuffersNames=function(){return this._uniformBuffersNamesList},e.prototype.getIndexParameters=function(){return this._indexParameters},e.prototype.getCompilationError=function(){return this._compilationError},e.prototype.allFallbacksProcessed=function(){return this._allFallbacksProcessed},e.prototype.executeWhenCompiled=function(e){var t=this;this.isReady()?e(this):(this.onCompileObservable.add((function(t){e(t)})),this._pipelineContext&&!this._pipelineContext.isAsync||setTimeout((function(){t._checkIsReady(null)}),16))},e.prototype._checkIsReady=function(e){var t=this;try{if(this._isReadyInternal())return}catch(n){return void this._processCompilationErrors(n,e)}setTimeout((function(){t._checkIsReady(e)}),16)},e.prototype._loadShader=function(e,t,n,r){if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)return void r(C(e));if("source:"!==e.substr(0,7))if("base64:"!==e.substr(0,7)){var o,i=H.GetShadersStore(this._shaderLanguage);if(i[e+t+"Shader"])r(i[e+t+"Shader"]);else if(n&&i[e+n+"Shader"])r(i[e+n+"Shader"]);else o="."===e[0]||"/"===e[0]||e.indexOf("http")>-1?e:H.GetShadersRepository(this._shaderLanguage)+e,this._engine._loadFile(o+"."+t.toLowerCase()+".fx",r)}else{r(window.atob(e.substr(7)))}else r(e.substr(7))},Object.defineProperty(e.prototype,"vertexSourceCode",{get:function(){var e,t;return this._vertexSourceCodeOverride&&this._fragmentSourceCodeOverride?this._vertexSourceCodeOverride:null!==(t=null===(e=this._pipelineContext)||void 0===e?void 0:e._getVertexShaderCode())&&void 0!==t?t:this._vertexSourceCode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fragmentSourceCode",{get:function(){var e,t;return this._vertexSourceCodeOverride&&this._fragmentSourceCodeOverride?this._fragmentSourceCodeOverride:null!==(t=null===(e=this._pipelineContext)||void 0===e?void 0:e._getFragmentShaderCode())&&void 0!==t?t:this._fragmentSourceCode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rawVertexSourceCode",{get:function(){return this._rawVertexSourceCode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rawFragmentSourceCode",{get:function(){return this._rawFragmentSourceCode},enumerable:!1,configurable:!0}),e.prototype._rebuildProgram=function(e,t,n,r){var o=this;this._isReady=!1,this._vertexSourceCodeOverride=e,this._fragmentSourceCodeOverride=t,this.onError=function(e,t){r&&r(t)},this.onCompiled=function(){var e=o.getEngine().scenes;if(e)for(var t=0;t<e.length;t++)e[t].markAllMaterialsAsDirty(63);o._pipelineContext._handlesSpectorRebuildCallback(n)},this._fallbacks=null,this._prepareEffect()},e.prototype._prepareEffect=function(){var e=this,t=this._attributesNames,n=this.defines,r=this._pipelineContext;this._isReady=!1;try{var o=this._engine;this._pipelineContext=o.createPipelineContext(this._processingContext),this._pipelineContext._name=this._key;var i=this._rebuildProgram.bind(this);this._vertexSourceCodeOverride&&this._fragmentSourceCodeOverride?o._preparePipelineContext(this._pipelineContext,this._vertexSourceCodeOverride,this._fragmentSourceCodeOverride,!0,this._rawVertexSourceCode,this._rawFragmentSourceCode,i,null,this._transformFeedbackVaryings,this._key):o._preparePipelineContext(this._pipelineContext,this._vertexSourceCode,this._fragmentSourceCode,!1,this._rawVertexSourceCode,this._rawFragmentSourceCode,i,n,this._transformFeedbackVaryings,this._key),o._executeWhenRenderingStateIsCompiled(this._pipelineContext,(function(){if(e._attributes=[],e._pipelineContext._fillEffectInformation(e,e._uniformBuffersNames,e._uniformsNames,e._uniforms,e._samplerList,e._samplers,t,e._attributes),t)for(var n=0;n<t.length;n++){var i=t[n];e._attributeLocationByName[i]=e._attributes[n]}o.bindSamplers(e),e._compilationError="",e._isReady=!0,e.onCompiled&&e.onCompiled(e),e.onCompileObservable.notifyObservers(e),e.onCompileObservable.clear(),e._fallbacks&&e._fallbacks.unBindMesh(),r&&e.getEngine()._deletePipelineContext(r)})),this._pipelineContext.isAsync&&this._checkIsReady(r)}catch(a){this._processCompilationErrors(a,r)}},e.prototype._getShaderCodeAndErrorLine=function(e,t,n){var r=n?/FRAGMENT SHADER ERROR: 0:(\d+?):/:/VERTEX SHADER ERROR: 0:(\d+?):/,o=null;if(t&&e){var i=t.match(r);if(i&&2===i.length){var a=parseInt(i[1]),s=e.split("\n",-1);s.length>=a&&(o="Offending line [".concat(a,"] in ").concat(n?"fragment":"vertex"," code: ").concat(s[a-1]))}}return[e,o]},e.prototype._processCompilationErrors=function(t,n){var r,o,i,a,s;void 0===n&&(n=null),this._compilationError=t.message;var l=this._attributesNames,u=this._fallbacks;if(k.Error("Unable to compile effect:"),k.Error("Uniforms: "+this._uniformsNames.map((function(e){return" "+e}))),k.Error("Attributes: "+l.map((function(e){return" "+e}))),k.Error("Defines:\r\n"+this.defines),e.LogShaderCodeOnCompilationError){var c=null,d=null,p=null;(null===(i=this._pipelineContext)||void 0===i?void 0:i._getVertexShaderCode())&&(p=(r=this._getShaderCodeAndErrorLine(this._pipelineContext._getVertexShaderCode(),this._compilationError,!1))[0],c=r[1],p&&(k.Error("Vertex code:"),k.Error(p))),(null===(a=this._pipelineContext)||void 0===a?void 0:a._getFragmentShaderCode())&&(p=(o=this._getShaderCodeAndErrorLine(null===(s=this._pipelineContext)||void 0===s?void 0:s._getFragmentShaderCode(),this._compilationError,!0))[0],d=o[1],p&&(k.Error("Fragment code:"),k.Error(p))),c&&k.Error(c),d&&k.Error(d)}k.Error("Error: "+this._compilationError),n&&(this._pipelineContext=n,this._isReady=!0,this.onError&&this.onError(this,this._compilationError),this.onErrorObservable.notifyObservers(this)),u?(this._pipelineContext=null,u.hasMoreFallbacks?(this._allFallbacksProcessed=!1,k.Error("Trying next fallback."),this.defines=u.reduce(this.defines,this),this._prepareEffect()):(this._allFallbacksProcessed=!0,this.onError&&this.onError(this,this._compilationError),this.onErrorObservable.notifyObservers(this),this.onErrorObservable.clear(),this._fallbacks&&this._fallbacks.unBindMesh())):this._allFallbacksProcessed=!0},Object.defineProperty(e.prototype,"isSupported",{get:function(){return""===this._compilationError},enumerable:!1,configurable:!0}),e.prototype._bindTexture=function(e,t){this._engine._bindTexture(this._samplers[e],t,e)},e.prototype.setTexture=function(e,t){this._engine.setTexture(this._samplers[e],this._uniforms[e],t,e)},e.prototype.setDepthStencilTexture=function(e,t){this._engine.setDepthStencilTexture(this._samplers[e],this._uniforms[e],t,e)},e.prototype.setTextureArray=function(e,t){var n=e+"Ex";if(-1===this._samplerList.indexOf(n+"0")){for(var r=this._samplerList.indexOf(e),o=1;o<t.length;o++){var i=n+(o-1).toString();this._samplerList.splice(r+o,0,i)}for(var a=0,s=0,l=this._samplerList;s<l.length;s++){var u=l[s];this._samplers[u]=a,a+=1}}this._engine.setTextureArray(this._samplers[e],this._uniforms[e],t,e)},e.prototype.setTextureFromPostProcess=function(e,t){this._engine.setTextureFromPostProcess(this._samplers[e],t,e)},e.prototype.setTextureFromPostProcessOutput=function(e,t){this._engine.setTextureFromPostProcessOutput(this._samplers[e],t,e)},e.prototype.bindUniformBuffer=function(t,n){var r=this._uniformBuffersNames[n];void 0===r||e._BaseCache[r]===t&&this._engine._features.useUBOBindingCache||(e._BaseCache[r]=t,this._engine.bindUniformBufferBase(t,r,n))},e.prototype.bindUniformBlock=function(e,t){this._engine.bindUniformBlock(this._pipelineContext,e,t)},e.prototype.setInt=function(e,t){return this._pipelineContext.setInt(e,t),this},e.prototype.setInt2=function(e,t,n){return this._pipelineContext.setInt2(e,t,n),this},e.prototype.setInt3=function(e,t,n,r){return this._pipelineContext.setInt3(e,t,n,r),this},e.prototype.setInt4=function(e,t,n,r,o){return this._pipelineContext.setInt4(e,t,n,r,o),this},e.prototype.setIntArray=function(e,t){return this._pipelineContext.setIntArray(e,t),this},e.prototype.setIntArray2=function(e,t){return this._pipelineContext.setIntArray2(e,t),this},e.prototype.setIntArray3=function(e,t){return this._pipelineContext.setIntArray3(e,t),this},e.prototype.setIntArray4=function(e,t){return this._pipelineContext.setIntArray4(e,t),this},e.prototype.setFloatArray=function(e,t){return this._pipelineContext.setArray(e,t),this},e.prototype.setFloatArray2=function(e,t){return this._pipelineContext.setArray2(e,t),this},e.prototype.setFloatArray3=function(e,t){return this._pipelineContext.setArray3(e,t),this},e.prototype.setFloatArray4=function(e,t){return this._pipelineContext.setArray4(e,t),this},e.prototype.setArray=function(e,t){return this._pipelineContext.setArray(e,t),this},e.prototype.setArray2=function(e,t){return this._pipelineContext.setArray2(e,t),this},e.prototype.setArray3=function(e,t){return this._pipelineContext.setArray3(e,t),this},e.prototype.setArray4=function(e,t){return this._pipelineContext.setArray4(e,t),this},e.prototype.setMatrices=function(e,t){return this._pipelineContext.setMatrices(e,t),this},e.prototype.setMatrix=function(e,t){return this._pipelineContext.setMatrix(e,t),this},e.prototype.setMatrix3x3=function(e,t){return this._pipelineContext.setMatrix3x3(e,t),this},e.prototype.setMatrix2x2=function(e,t){return this._pipelineContext.setMatrix2x2(e,t),this},e.prototype.setFloat=function(e,t){return this._pipelineContext.setFloat(e,t),this},e.prototype.setBool=function(e,t){return this._pipelineContext.setInt(e,t?1:0),this},e.prototype.setVector2=function(e,t){return this._pipelineContext.setVector2(e,t),this},e.prototype.setFloat2=function(e,t,n){return this._pipelineContext.setFloat2(e,t,n),this},e.prototype.setVector3=function(e,t){return this._pipelineContext.setVector3(e,t),this},e.prototype.setFloat3=function(e,t,n,r){return this._pipelineContext.setFloat3(e,t,n,r),this},e.prototype.setVector4=function(e,t){return this._pipelineContext.setVector4(e,t),this},e.prototype.setFloat4=function(e,t,n,r,o){return this._pipelineContext.setFloat4(e,t,n,r,o),this},e.prototype.setColor3=function(e,t){return this._pipelineContext.setColor3(e,t),this},e.prototype.setColor4=function(e,t,n){return this._pipelineContext.setColor4(e,t,n),this},e.prototype.setDirectColor4=function(e,t){return this._pipelineContext.setDirectColor4(e,t),this},e.prototype.dispose=function(){this._pipelineContext&&this._pipelineContext.dispose(),this._engine._releaseEffect(this)},e.RegisterShader=function(e,t,n,r){void 0===r&&(r=w.GLSL),t&&(H.GetShadersStore(r)["".concat(e,"PixelShader")]=t),n&&(H.GetShadersStore(r)["".concat(e,"VertexShader")]=n)},e.ResetCache=function(){e._BaseCache={}},e.LogShaderCodeOnCompilationError=!0,e._UniqueIdSeed=0,e._BaseCache={},e.ShadersStore=H.ShadersStore,e.IncludesShadersStore=H.IncludesShadersStore,e}(),K=function(){function e(e,t){void 0===t&&(t=!0),this.effect=null,this.defines=null,this.drawContext=e.createDrawContext(),t&&(this.materialContext=e.createMaterialContext())}return e.IsWrapper=function(e){return void 0===e.getPipelineContext},e.GetEffect=function(e){return void 0===e.getPipelineContext?e.effect:e},e.prototype.setEffect=function(e,t,n){var r;void 0===n&&(n=!0),this.effect=e,void 0!==t&&(this.defines=t),n&&(null===(r=this.drawContext)||void 0===r||r.reset())},e.prototype.dispose=function(){var e;null===(e=this.drawContext)||void 0===e||e.dispose()},e}(),G="postprocessVertexShader",Z="attribute vec2 position;\nuniform vec2 scale;\nvarying vec2 vUV;\nconst vec2 madd=vec2(0.5,0.5);\n#define CUSTOM_VERTEX_DEFINITIONS\nvoid main(void) {\n#define CUSTOM_VERTEX_MAIN_BEGIN\nvUV=(position*madd+madd)*scale;\ngl_Position=vec4(position,0.0,1.0);\n#define CUSTOM_VERTEX_MAIN_END\n}";H.ShadersStore[G]=Z;var X,Y=function(){function e(t,n){var r;void 0===n&&(n=e._DefaultOptions);var o=this;this._engine=t,this._fullscreenViewport=new m(0,0,1,1),n=(0,i.Cl)((0,i.Cl)({},e._DefaultOptions),n),this._vertexBuffers=((r={})[h.PositionKind]=new h(t,n.positions,h.PositionKind,!1,!1,2),r),this._indexBuffer=t.createIndexBuffer(n.indices),this._onContextRestoredObserver=t.onContextRestoredObservable.add((function(){for(var e in o._indexBuffer=t.createIndexBuffer(n.indices),o._vertexBuffers){o._vertexBuffers[e]._rebuild()}}))}return e.prototype.setViewport=function(e){void 0===e&&(e=this._fullscreenViewport),this._engine.setViewport(e)},e.prototype.bindBuffers=function(e){this._engine.bindBuffers(this._vertexBuffers,this._indexBuffer,e)},e.prototype.applyEffectWrapper=function(e){this._engine.depthCullingState.depthTest=!1,this._engine.stencilState.stencilTest=!1,this._engine.enableEffect(e._drawWrapper),this.bindBuffers(e.effect),e.onApplyObservable.notifyObservers({})},e.prototype.restoreStates=function(){this._engine.depthCullingState.depthTest=!0,this._engine.stencilState.stencilTest=!0},e.prototype.draw=function(){this._engine.drawElementsType(0,0,6)},e.prototype._isRenderTargetTexture=function(e){return void 0!==e.renderTarget},e.prototype.render=function(e,t){if(void 0===t&&(t=null),e.effect.isReady()){this.setViewport();var n=null===t?null:this._isRenderTargetTexture(t)?t.renderTarget:t;n&&this._engine.bindFramebuffer(n),this.applyEffectWrapper(e),this.draw(),n&&this._engine.unBindFramebuffer(n),this.restoreStates()}},e.prototype.dispose=function(){var e=this._vertexBuffers[h.PositionKind];e&&(e.dispose(),delete this._vertexBuffers[h.PositionKind]),this._indexBuffer&&this._engine._releaseBuffer(this._indexBuffer),this._onContextRestoredObserver&&(this._engine.onContextRestoredObservable.remove(this._onContextRestoredObserver),this._onContextRestoredObserver=null)},e._DefaultOptions={positions:[1,1,-1,1,-1,-1,1,-1],indices:[0,1,2,0,2,3]},e}(),Q=function(){function e(e){var t,n=this;this.onApplyObservable=new y;var r=e.uniformNames||[];e.vertexShader?t={fragmentSource:e.fragmentShader,vertexSource:e.vertexShader,spectorName:e.name||"effectWrapper"}:(r.push("scale"),t={fragmentSource:e.fragmentShader,vertex:"postprocess",spectorName:e.name||"effectWrapper"},this.onApplyObservable.add((function(){n.effect.setFloat2("scale",1,1)})));var o=e.defines?e.defines.join("\n"):"";this._drawWrapper=new K(e.engine),e.useShaderStore?(t.fragment=t.fragmentSource,t.vertex||(t.vertex=t.vertexSource),delete t.fragmentSource,delete t.vertexSource,this.effect=e.engine.createEffect(t,e.attributeNames||["position"],r,e.samplerNames,o,void 0,e.onCompiled,void 0,void 0,e.shaderLanguage)):(this.effect=new q(t,e.attributeNames||["position"],r,e.samplerNames,e.engine,o,void 0,e.onCompiled,void 0,void 0,void 0,e.shaderLanguage),this._onContextRestoredObserver=e.engine.onContextRestoredObservable.add((function(){n.effect._pipelineContext=null,n.effect._wasPreviouslyReady=!1,n.effect._prepareEffect()})))}return Object.defineProperty(e.prototype,"effect",{get:function(){return this._drawWrapper.effect},set:function(e){this._drawWrapper.effect=e},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._onContextRestoredObserver&&(this.effect.getEngine().onContextRestoredObservable.remove(this._onContextRestoredObserver),this._onContextRestoredObserver=null),this.effect.dispose()},e}(),J=function(){function e(){}return Object.defineProperty(e,"LastCreatedEngine",{get:function(){return 0===this.Instances.length?null:this.Instances[this.Instances.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"LastCreatedScene",{get:function(){return this._LastCreatedScene},enumerable:!1,configurable:!0}),e.Instances=new Array,e._LastCreatedScene=null,e.UseFallbackTexture=!0,e.FallbackTexture="",e}(),$=function(){function e(e){void 0===e&&(e=!0),this._isDepthTestDirty=!1,this._isDepthMaskDirty=!1,this._isDepthFuncDirty=!1,this._isCullFaceDirty=!1,this._isCullDirty=!1,this._isZOffsetDirty=!1,this._isFrontFaceDirty=!1,e&&this.reset()}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return this._isDepthFuncDirty||this._isDepthTestDirty||this._isDepthMaskDirty||this._isCullFaceDirty||this._isCullDirty||this._isZOffsetDirty||this._isFrontFaceDirty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zOffset",{get:function(){return this._zOffset},set:function(e){this._zOffset!==e&&(this._zOffset=e,this._isZOffsetDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zOffsetUnits",{get:function(){return this._zOffsetUnits},set:function(e){this._zOffsetUnits!==e&&(this._zOffsetUnits=e,this._isZOffsetDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cullFace",{get:function(){return this._cullFace},set:function(e){this._cullFace!==e&&(this._cullFace=e,this._isCullFaceDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cull",{get:function(){return this._cull},set:function(e){this._cull!==e&&(this._cull=e,this._isCullDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthFunc",{get:function(){return this._depthFunc},set:function(e){this._depthFunc!==e&&(this._depthFunc=e,this._isDepthFuncDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return this._depthMask},set:function(e){this._depthMask!==e&&(this._depthMask=e,this._isDepthMaskDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return this._depthTest},set:function(e){this._depthTest!==e&&(this._depthTest=e,this._isDepthTestDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frontFace",{get:function(){return this._frontFace},set:function(e){this._frontFace!==e&&(this._frontFace=e,this._isFrontFaceDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._depthMask=!0,this._depthTest=!0,this._depthFunc=null,this._cullFace=null,this._cull=null,this._zOffset=0,this._zOffsetUnits=0,this._frontFace=null,this._isDepthTestDirty=!0,this._isDepthMaskDirty=!0,this._isDepthFuncDirty=!1,this._isCullFaceDirty=!1,this._isCullDirty=!1,this._isZOffsetDirty=!0,this._isFrontFaceDirty=!1},e.prototype.apply=function(e){this.isDirty&&(this._isCullDirty&&(this.cull?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this._isCullDirty=!1),this._isCullFaceDirty&&(e.cullFace(this.cullFace),this._isCullFaceDirty=!1),this._isDepthMaskDirty&&(e.depthMask(this.depthMask),this._isDepthMaskDirty=!1),this._isDepthTestDirty&&(this.depthTest?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this._isDepthTestDirty=!1),this._isDepthFuncDirty&&(e.depthFunc(this.depthFunc),this._isDepthFuncDirty=!1),this._isZOffsetDirty&&(this.zOffset||this.zOffsetUnits?(e.enable(e.POLYGON_OFFSET_FILL),e.polygonOffset(this.zOffset,this.zOffsetUnits)):e.disable(e.POLYGON_OFFSET_FILL),this._isZOffsetDirty=!1),this._isFrontFaceDirty&&(e.frontFace(this.frontFace),this._isFrontFaceDirty=!1))},e}(),ee=function(){function e(){this.reset()}return e.prototype.reset=function(){this.enabled=!1,this.mask=255,this.func=e.ALWAYS,this.funcRef=1,this.funcMask=255,this.opStencilFail=e.KEEP,this.opDepthFail=e.KEEP,this.opStencilDepthPass=e.REPLACE},Object.defineProperty(e.prototype,"stencilFunc",{get:function(){return this.func},set:function(e){this.func=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilFuncRef",{get:function(){return this.funcRef},set:function(e){this.funcRef=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilFuncMask",{get:function(){return this.funcMask},set:function(e){this.funcMask=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilOpStencilFail",{get:function(){return this.opStencilFail},set:function(e){this.opStencilFail=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilOpDepthFail",{get:function(){return this.opDepthFail},set:function(e){this.opDepthFail=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilOpStencilDepthPass",{get:function(){return this.opStencilDepthPass},set:function(e){this.opStencilDepthPass=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilMask",{get:function(){return this.mask},set:function(e){this.mask=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilTest",{get:function(){return this.enabled},set:function(e){this.enabled=e},enumerable:!1,configurable:!0}),e.ALWAYS=519,e.KEEP=7680,e.REPLACE=7681,e}(),te=function(){function e(){this._blendFunctionParameters=new Array(4),this._blendEquationParameters=new Array(2),this._blendConstants=new Array(4),this._isBlendConstantsDirty=!1,this._alphaBlend=!1,this._isAlphaBlendDirty=!1,this._isBlendFunctionParametersDirty=!1,this._isBlendEquationParametersDirty=!1,this.reset()}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return this._isAlphaBlendDirty||this._isBlendFunctionParametersDirty||this._isBlendEquationParametersDirty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alphaBlend",{get:function(){return this._alphaBlend},set:function(e){this._alphaBlend!==e&&(this._alphaBlend=e,this._isAlphaBlendDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.setAlphaBlendConstants=function(e,t,n,r){this._blendConstants[0]===e&&this._blendConstants[1]===t&&this._blendConstants[2]===n&&this._blendConstants[3]===r||(this._blendConstants[0]=e,this._blendConstants[1]=t,this._blendConstants[2]=n,this._blendConstants[3]=r,this._isBlendConstantsDirty=!0)},e.prototype.setAlphaBlendFunctionParameters=function(e,t,n,r){this._blendFunctionParameters[0]===e&&this._blendFunctionParameters[1]===t&&this._blendFunctionParameters[2]===n&&this._blendFunctionParameters[3]===r||(this._blendFunctionParameters[0]=e,this._blendFunctionParameters[1]=t,this._blendFunctionParameters[2]=n,this._blendFunctionParameters[3]=r,this._isBlendFunctionParametersDirty=!0)},e.prototype.setAlphaEquationParameters=function(e,t){this._blendEquationParameters[0]===e&&this._blendEquationParameters[1]===t||(this._blendEquationParameters[0]=e,this._blendEquationParameters[1]=t,this._isBlendEquationParametersDirty=!0)},e.prototype.reset=function(){this._alphaBlend=!1,this._blendFunctionParameters[0]=null,this._blendFunctionParameters[1]=null,this._blendFunctionParameters[2]=null,this._blendFunctionParameters[3]=null,this._blendEquationParameters[0]=null,this._blendEquationParameters[1]=null,this._blendConstants[0]=null,this._blendConstants[1]=null,this._blendConstants[2]=null,this._blendConstants[3]=null,this._isAlphaBlendDirty=!0,this._isBlendFunctionParametersDirty=!1,this._isBlendEquationParametersDirty=!1,this._isBlendConstantsDirty=!1},e.prototype.apply=function(e){this.isDirty&&(this._isAlphaBlendDirty&&(this._alphaBlend?e.enable(e.BLEND):e.disable(e.BLEND),this._isAlphaBlendDirty=!1),this._isBlendFunctionParametersDirty&&(e.blendFuncSeparate(this._blendFunctionParameters[0],this._blendFunctionParameters[1],this._blendFunctionParameters[2],this._blendFunctionParameters[3]),this._isBlendFunctionParametersDirty=!1),this._isBlendEquationParametersDirty&&(e.blendEquationSeparate(this._blendEquationParameters[0],this._blendEquationParameters[1]),this._isBlendEquationParametersDirty=!1),this._isBlendConstantsDirty&&(e.blendColor(this._blendConstants[0],this._blendConstants[1],this._blendConstants[2],this._blendConstants[3]),this._isBlendConstantsDirty=!1))},e}(),ne=function(){function e(){this.samplingMode=-1,this._useMipMaps=!0,this._cachedWrapU=null,this._cachedWrapV=null,this._cachedWrapR=null,this._cachedAnisotropicFilteringLevel=null,this._comparisonFunction=0}return Object.defineProperty(e.prototype,"wrapU",{get:function(){return this._cachedWrapU},set:function(e){this._cachedWrapU=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapV",{get:function(){return this._cachedWrapV},set:function(e){this._cachedWrapV=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapR",{get:function(){return this._cachedWrapR},set:function(e){this._cachedWrapR=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anisotropicFilteringLevel",{get:function(){return this._cachedAnisotropicFilteringLevel},set:function(e){this._cachedAnisotropicFilteringLevel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"comparisonFunction",{get:function(){return this._comparisonFunction},set:function(e){this._comparisonFunction=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useMipMaps",{get:function(){return this._useMipMaps},set:function(e){this._useMipMaps=e},enumerable:!1,configurable:!0}),e.prototype.setParameters=function(e,t,n,r,o,i){return void 0===e&&(e=1),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=2),void 0===i&&(i=0),this._cachedWrapU=e,this._cachedWrapV=t,this._cachedWrapR=n,this._cachedAnisotropicFilteringLevel=r,this.samplingMode=o,this._comparisonFunction=i,this},e.prototype.compareSampler=function(e){return this._cachedWrapU===e._cachedWrapU&&this._cachedWrapV===e._cachedWrapV&&this._cachedWrapR===e._cachedWrapR&&this._cachedAnisotropicFilteringLevel===e._cachedAnisotropicFilteringLevel&&this.samplingMode===e.samplingMode&&this._comparisonFunction===e._comparisonFunction&&this._useMipMaps===e._useMipMaps},e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Url=1]="Url",e[e.Temp=2]="Temp",e[e.Raw=3]="Raw",e[e.Dynamic=4]="Dynamic",e[e.RenderTarget=5]="RenderTarget",e[e.MultiRenderTarget=6]="MultiRenderTarget",e[e.Cube=7]="Cube",e[e.CubeRaw=8]="CubeRaw",e[e.CubePrefiltered=9]="CubePrefiltered",e[e.Raw3D=10]="Raw3D",e[e.Raw2DArray=11]="Raw2DArray",e[e.DepthStencil=12]="DepthStencil",e[e.CubeRawRGBD=13]="CubeRawRGBD",e[e.Depth=14]="Depth"}(X||(X={}));var re=function(e){function t(n,r,o){void 0===o&&(o=!1);var i=e.call(this)||this;return i.isReady=!1,i.isCube=!1,i.is3D=!1,i.is2DArray=!1,i.isMultiview=!1,i.url="",i.generateMipMaps=!1,i.samples=0,i.type=-1,i.format=-1,i.onLoadedObservable=new y,i.onErrorObservable=new y,i.onRebuildCallback=null,i.width=0,i.height=0,i.depth=0,i.baseWidth=0,i.baseHeight=0,i.baseDepth=0,i.invertY=!1,i._invertVScale=!1,i._associatedChannel=-1,i._source=X.Unknown,i._buffer=null,i._bufferView=null,i._bufferViewArray=null,i._bufferViewArrayArray=null,i._size=0,i._extension="",i._files=null,i._workingCanvas=null,i._workingContext=null,i._cachedCoordinatesMode=null,i._isDisabled=!1,i._compression=null,i._sphericalPolynomial=null,i._sphericalPolynomialPromise=null,i._sphericalPolynomialComputed=!1,i._lodGenerationScale=0,i._lodGenerationOffset=0,i._useSRGBBuffer=!1,i._lodTextureHigh=null,i._lodTextureMid=null,i._lodTextureLow=null,i._isRGBD=!1,i._linearSpecularLOD=!1,i._irradianceTexture=null,i._hardwareTexture=null,i._maxLodLevel=null,i._references=1,i._gammaSpace=null,i._engine=n,i._source=r,i._uniqueId=t._Counter++,o||(i._hardwareTexture=n._createHardwareTexture()),i}return(0,i.C6)(t,e),Object.defineProperty(t.prototype,"useMipMaps",{get:function(){return this.generateMipMaps},set:function(e){this.generateMipMaps=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uniqueId",{get:function(){return this._uniqueId},enumerable:!1,configurable:!0}),t.prototype.getEngine=function(){return this._engine},Object.defineProperty(t.prototype,"source",{get:function(){return this._source},enumerable:!1,configurable:!0}),t.prototype.incrementReferences=function(){this._references++},t.prototype.updateSize=function(e,t,n){void 0===n&&(n=1),this._engine.updateTextureDimensions(this,e,t,n),this.width=e,this.height=t,this.depth=n,this.baseWidth=e,this.baseHeight=t,this.baseDepth=n,this._size=e*t*n},t.prototype._rebuild=function(){var e,t=this;if(this.isReady=!1,this._cachedCoordinatesMode=null,this._cachedWrapU=null,this._cachedWrapV=null,this._cachedWrapR=null,this._cachedAnisotropicFilteringLevel=null,this.onRebuildCallback){var n=this.onRebuildCallback(this),r=function(e){e._swapAndDie(t,!1),t.isReady=n.isReady};n.isAsync?n.proxy.then(r):r(n.proxy)}else{var o;switch(this.source){case X.Temp:break;case X.Url:return void(o=this._engine.createTexture(null!==(e=this._originalUrl)&&void 0!==e?e:this.url,!this.generateMipMaps,this.invertY,null,this.samplingMode,(function(){o._swapAndDie(t,!1),t.isReady=!0}),null,this._buffer,void 0,this.format,this._extension,void 0,void 0,void 0,this._useSRGBBuffer));case X.Raw:(o=this._engine.createRawTexture(this._bufferView,this.baseWidth,this.baseHeight,this.format,this.generateMipMaps,this.invertY,this.samplingMode,this._compression,this.type))._swapAndDie(this,!1),this.isReady=!0;break;case X.Raw3D:(o=this._engine.createRawTexture3D(this._bufferView,this.baseWidth,this.baseHeight,this.baseDepth,this.format,this.generateMipMaps,this.invertY,this.samplingMode,this._compression,this.type))._swapAndDie(this,!1),this.isReady=!0;break;case X.Raw2DArray:(o=this._engine.createRawTexture2DArray(this._bufferView,this.baseWidth,this.baseHeight,this.baseDepth,this.format,this.generateMipMaps,this.invertY,this.samplingMode,this._compression,this.type))._swapAndDie(this,!1),this.isReady=!0;break;case X.Dynamic:(o=this._engine.createDynamicTexture(this.baseWidth,this.baseHeight,this.generateMipMaps,this.samplingMode))._swapAndDie(this,!1),this._engine.updateDynamicTexture(this,this._engine.getRenderingCanvas(),this.invertY,void 0,void 0,!0);break;case X.Cube:return void(o=this._engine.createCubeTexture(this.url,null,this._files,!this.generateMipMaps,(function(){o._swapAndDie(t,!1),t.isReady=!0}),null,this.format,this._extension,!1,0,0,null,void 0,this._useSRGBBuffer));case X.CubeRaw:(o=this._engine.createRawCubeTexture(this._bufferViewArray,this.width,this.format,this.type,this.generateMipMaps,this.invertY,this.samplingMode,this._compression))._swapAndDie(this,!1),this.isReady=!0;break;case X.CubeRawRGBD:return;case X.CubePrefiltered:return void((o=this._engine.createPrefilteredCubeTexture(this.url,null,this._lodGenerationScale,this._lodGenerationOffset,(function(e){e&&e._swapAndDie(t,!1),t.isReady=!0}),null,this.format,this._extension))._sphericalPolynomial=this._sphericalPolynomial)}}},t.prototype._swapAndDie=function(e,t){var n;void 0===t&&(t=!0),null===(n=this._hardwareTexture)||void 0===n||n.setUsage(e._source,this.generateMipMaps,this.isCube,this.width,this.height),e._hardwareTexture=this._hardwareTexture,t&&(e._isRGBD=this._isRGBD),this._lodTextureHigh&&(e._lodTextureHigh&&e._lodTextureHigh.dispose(),e._lodTextureHigh=this._lodTextureHigh),this._lodTextureMid&&(e._lodTextureMid&&e._lodTextureMid.dispose(),e._lodTextureMid=this._lodTextureMid),this._lodTextureLow&&(e._lodTextureLow&&e._lodTextureLow.dispose(),e._lodTextureLow=this._lodTextureLow),this._irradianceTexture&&(e._irradianceTexture&&e._irradianceTexture.dispose(),e._irradianceTexture=this._irradianceTexture);var r=this._engine.getLoadedTexturesCache(),o=r.indexOf(this);-1!==o&&r.splice(o,1),-1===(o=r.indexOf(e))&&r.push(e)},t.prototype.dispose=function(){this._references--,this.onLoadedObservable.clear(),this.onErrorObservable.clear(),0===this._references&&(this._engine._releaseTexture(this),this._hardwareTexture=null)},t._Counter=0,t}(ne),oe=function(){function e(){this.shaderLanguage=w.GLSL}return e.prototype.postProcessor=function(e,t,n,r,o){if(!o.getCaps().drawBuffersExtension){e=e.replace(/#extension.+GL_EXT_draw_buffers.+(enable|require)/g,"")}return e},e}(),ie=function(){function e(){this.shaderLanguage=w.GLSL}return e.prototype.attributeProcessor=function(e){return e.replace("attribute","in")},e.prototype.varyingProcessor=function(e,t){return e.replace("varying",t?"in":"out")},e.prototype.postProcessor=function(e,t,n){var r=-1!==e.search(/#extension.+GL_EXT_draw_buffers.+require/);if(e=(e=e.replace(/#extension.+(GL_OVR_multiview2|GL_OES_standard_derivatives|GL_EXT_shader_texture_lod|GL_EXT_frag_depth|GL_EXT_draw_buffers).+(enable|require)/g,"")).replace(/texture2D\s*\(/g,"texture("),n)e=(e=(e=(e=(e=(e=(e=e.replace(/texture2DLodEXT\s*\(/g,"textureLod(")).replace(/textureCubeLodEXT\s*\(/g,"textureLod(")).replace(/textureCube\s*\(/g,"texture(")).replace(/gl_FragDepthEXT/g,"gl_FragDepth")).replace(/gl_FragColor/g,"glFragColor")).replace(/gl_FragData/g,"glFragData")).replace(/void\s+?main\s*\(/g,(r?"":"out vec4 glFragColor;\n")+"void main(");else if(-1!==t.indexOf("#define MULTIVIEW"))return"#extension GL_OVR_multiview2 : require\nlayout (num_views = 2) in;\n"+e;return e},e}(),ae=function(e){function t(t){var n=e.call(this)||this;return n._buffer=t,n}return(0,i.C6)(t,e),Object.defineProperty(t.prototype,"underlyingResource",{get:function(){return this._buffer},enumerable:!1,configurable:!0}),t}(d),se=function(){function e(){this._valueCache={},this.vertexCompilationError=null,this.fragmentCompilationError=null,this.programLinkError=null,this.programValidationError=null}return Object.defineProperty(e.prototype,"isAsync",{get:function(){return this.isParallelCompiled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return!!this.program&&(!this.isParallelCompiled||this.engine._isRenderingStateCompiled(this))},enumerable:!1,configurable:!0}),e.prototype._handlesSpectorRebuildCallback=function(e){e&&this.program&&e(this.program)},e.prototype._fillEffectInformation=function(e,t,n,r,o,i,a,s){var l,u=this.engine;if(u.supportsUniformBuffers)for(var c in t)e.bindUniformBlock(c,t[c]);for(this.engine.getUniforms(this,n).forEach((function(e,t){r[n[t]]=e})),this._uniforms=r,l=0;l<o.length;l++){null==e.getUniform(o[l])&&(o.splice(l,1),l--)}o.forEach((function(e,t){i[e]=t}));for(var d=0,p=u.getAttributes(this,a);d<p.length;d++){var f=p[d];s.push(f)}},e.prototype.dispose=function(){this._uniforms={}},e.prototype._cacheMatrix=function(e,t){var n=this._valueCache[e],r=t.updateFlag;return(void 0===n||n!==r)&&(this._valueCache[e]=r,!0)},e.prototype._cacheFloat2=function(e,t,n){var r=this._valueCache[e];if(!r||2!==r.length)return r=[t,n],this._valueCache[e]=r,!0;var o=!1;return r[0]!==t&&(r[0]=t,o=!0),r[1]!==n&&(r[1]=n,o=!0),o},e.prototype._cacheFloat3=function(e,t,n,r){var o=this._valueCache[e];if(!o||3!==o.length)return o=[t,n,r],this._valueCache[e]=o,!0;var i=!1;return o[0]!==t&&(o[0]=t,i=!0),o[1]!==n&&(o[1]=n,i=!0),o[2]!==r&&(o[2]=r,i=!0),i},e.prototype._cacheFloat4=function(e,t,n,r,o){var i=this._valueCache[e];if(!i||4!==i.length)return i=[t,n,r,o],this._valueCache[e]=i,!0;var a=!1;return i[0]!==t&&(i[0]=t,a=!0),i[1]!==n&&(i[1]=n,a=!0),i[2]!==r&&(i[2]=r,a=!0),i[3]!==o&&(i[3]=o,a=!0),a},e.prototype.setInt=function(e,t){var n=this._valueCache[e];void 0!==n&&n===t||this.engine.setInt(this._uniforms[e],t)&&(this._valueCache[e]=t)},e.prototype.setInt2=function(e,t,n){this._cacheFloat2(e,t,n)&&(this.engine.setInt2(this._uniforms[e],t,n)||(this._valueCache[e]=null))},e.prototype.setInt3=function(e,t,n,r){this._cacheFloat3(e,t,n,r)&&(this.engine.setInt3(this._uniforms[e],t,n,r)||(this._valueCache[e]=null))},e.prototype.setInt4=function(e,t,n,r,o){this._cacheFloat4(e,t,n,r,o)&&(this.engine.setInt4(this._uniforms[e],t,n,r,o)||(this._valueCache[e]=null))},e.prototype.setIntArray=function(e,t){this._valueCache[e]=null,this.engine.setIntArray(this._uniforms[e],t)},e.prototype.setIntArray2=function(e,t){this._valueCache[e]=null,this.engine.setIntArray2(this._uniforms[e],t)},e.prototype.setIntArray3=function(e,t){this._valueCache[e]=null,this.engine.setIntArray3(this._uniforms[e],t)},e.prototype.setIntArray4=function(e,t){this._valueCache[e]=null,this.engine.setIntArray4(this._uniforms[e],t)},e.prototype.setArray=function(e,t){this._valueCache[e]=null,this.engine.setArray(this._uniforms[e],t)},e.prototype.setArray2=function(e,t){this._valueCache[e]=null,this.engine.setArray2(this._uniforms[e],t)},e.prototype.setArray3=function(e,t){this._valueCache[e]=null,this.engine.setArray3(this._uniforms[e],t)},e.prototype.setArray4=function(e,t){this._valueCache[e]=null,this.engine.setArray4(this._uniforms[e],t)},e.prototype.setMatrices=function(e,t){t&&(this._valueCache[e]=null,this.engine.setMatrices(this._uniforms[e],t))},e.prototype.setMatrix=function(e,t){this._cacheMatrix(e,t)&&(this.engine.setMatrices(this._uniforms[e],t.toArray())||(this._valueCache[e]=null))},e.prototype.setMatrix3x3=function(e,t){this._valueCache[e]=null,this.engine.setMatrix3x3(this._uniforms[e],t)},e.prototype.setMatrix2x2=function(e,t){this._valueCache[e]=null,this.engine.setMatrix2x2(this._uniforms[e],t)},e.prototype.setFloat=function(e,t){var n=this._valueCache[e];void 0!==n&&n===t||this.engine.setFloat(this._uniforms[e],t)&&(this._valueCache[e]=t)},e.prototype.setVector2=function(e,t){this._cacheFloat2(e,t.x,t.y)&&(this.engine.setFloat2(this._uniforms[e],t.x,t.y)||(this._valueCache[e]=null))},e.prototype.setFloat2=function(e,t,n){this._cacheFloat2(e,t,n)&&(this.engine.setFloat2(this._uniforms[e],t,n)||(this._valueCache[e]=null))},e.prototype.setVector3=function(e,t){this._cacheFloat3(e,t.x,t.y,t.z)&&(this.engine.setFloat3(this._uniforms[e],t.x,t.y,t.z)||(this._valueCache[e]=null))},e.prototype.setFloat3=function(e,t,n,r){this._cacheFloat3(e,t,n,r)&&(this.engine.setFloat3(this._uniforms[e],t,n,r)||(this._valueCache[e]=null))},e.prototype.setVector4=function(e,t){this._cacheFloat4(e,t.x,t.y,t.z,t.w)&&(this.engine.setFloat4(this._uniforms[e],t.x,t.y,t.z,t.w)||(this._valueCache[e]=null))},e.prototype.setFloat4=function(e,t,n,r,o){this._cacheFloat4(e,t,n,r,o)&&(this.engine.setFloat4(this._uniforms[e],t,n,r,o)||(this._valueCache[e]=null))},e.prototype.setColor3=function(e,t){this._cacheFloat3(e,t.r,t.g,t.b)&&(this.engine.setFloat3(this._uniforms[e],t.r,t.g,t.b)||(this._valueCache[e]=null))},e.prototype.setColor4=function(e,t,n){this._cacheFloat4(e,t.r,t.g,t.b,n)&&(this.engine.setFloat4(this._uniforms[e],t.r,t.g,t.b,n)||(this._valueCache[e]=null))},e.prototype.setDirectColor4=function(e,t){this._cacheFloat4(e,t.r,t.g,t.b,t.a)&&(this.engine.setFloat4(this._uniforms[e],t.r,t.g,t.b,t.a)||(this._valueCache[e]=null))},e.prototype._getVertexShaderCode=function(){return this.vertexShader?this.engine._getShaderSource(this.vertexShader):null},e.prototype._getFragmentShaderCode=function(){return this.fragmentShader?this.engine._getShaderSource(this.fragmentShader):null},e}(),le=function(){function e(){}return e.SetMatrixPrecision=function(t){if(e.MatrixTrackPrecisionChange=!1,t&&!e.MatrixUse64Bits&&e.MatrixTrackedMatrices)for(var n=0;n<e.MatrixTrackedMatrices.length;++n){var r=e.MatrixTrackedMatrices[n],o=r._m;r._m=new Array(16);for(var i=0;i<16;++i)r._m[i]=o[i]}e.MatrixUse64Bits=t,e.MatrixCurrentType=e.MatrixUse64Bits?Array:Float32Array,e.MatrixTrackedMatrices=null},e.MatrixUse64Bits=!1,e.MatrixTrackPrecisionChange=!0,e.MatrixCurrentType=Float32Array,e.MatrixTrackedMatrices=[],e}(),ue=function(){function e(e,t){if(void 0===e&&(e=null),this._MSAARenderBuffer=null,this._context=t,!e&&!(e=t.createTexture()))throw new Error("Unable to create webGL texture");this.set(e)}return Object.defineProperty(e.prototype,"underlyingResource",{get:function(){return this._webGLTexture},enumerable:!1,configurable:!0}),e.prototype.setUsage=function(){},e.prototype.set=function(e){this._webGLTexture=e},e.prototype.reset=function(){this._webGLTexture=null,this._MSAARenderBuffer=null},e.prototype.release=function(){this._MSAARenderBuffer&&(this._context.deleteRenderbuffer(this._MSAARenderBuffer),this._MSAARenderBuffer=null),this._webGLTexture&&this._context.deleteTexture(this._webGLTexture),this.reset()},e}(),ce=function(){function e(e){void 0===e&&(e=!0),this._isStencilTestDirty=!1,this._isStencilMaskDirty=!1,this._isStencilFuncDirty=!1,this._isStencilOpDirty=!1,this.useStencilGlobalOnly=!1,e&&this.reset()}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return this._isStencilTestDirty||this._isStencilMaskDirty||this._isStencilFuncDirty||this._isStencilOpDirty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"func",{get:function(){return this._func},set:function(e){this._func!==e&&(this._func=e,this._isStencilFuncDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"funcRef",{get:function(){return this._funcRef},set:function(e){this._funcRef!==e&&(this._funcRef=e,this._isStencilFuncDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"funcMask",{get:function(){return this._funcMask},set:function(e){this._funcMask!==e&&(this._funcMask=e,this._isStencilFuncDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"opStencilFail",{get:function(){return this._opStencilFail},set:function(e){this._opStencilFail!==e&&(this._opStencilFail=e,this._isStencilOpDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"opDepthFail",{get:function(){return this._opDepthFail},set:function(e){this._opDepthFail!==e&&(this._opDepthFail=e,this._isStencilOpDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"opStencilDepthPass",{get:function(){return this._opStencilDepthPass},set:function(e){this._opStencilDepthPass!==e&&(this._opStencilDepthPass=e,this._isStencilOpDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(e){this._mask!==e&&(this._mask=e,this._isStencilMaskDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this._isStencilTestDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.reset=function(){var e;this.stencilMaterial=void 0,null===(e=this.stencilGlobal)||void 0===e||e.reset(),this._isStencilTestDirty=!0,this._isStencilMaskDirty=!0,this._isStencilFuncDirty=!0,this._isStencilOpDirty=!0},e.prototype.apply=function(e){var t;if(e){var n=!this.useStencilGlobalOnly&&!!(null===(t=this.stencilMaterial)||void 0===t?void 0:t.enabled);this.enabled=n?this.stencilMaterial.enabled:this.stencilGlobal.enabled,this.func=n?this.stencilMaterial.func:this.stencilGlobal.func,this.funcRef=n?this.stencilMaterial.funcRef:this.stencilGlobal.funcRef,this.funcMask=n?this.stencilMaterial.funcMask:this.stencilGlobal.funcMask,this.opStencilFail=n?this.stencilMaterial.opStencilFail:this.stencilGlobal.opStencilFail,this.opDepthFail=n?this.stencilMaterial.opDepthFail:this.stencilGlobal.opDepthFail,this.opStencilDepthPass=n?this.stencilMaterial.opStencilDepthPass:this.stencilGlobal.opStencilDepthPass,this.mask=n?this.stencilMaterial.mask:this.stencilGlobal.mask,this.isDirty&&(this._isStencilTestDirty&&(this.enabled?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this._isStencilTestDirty=!1),this._isStencilMaskDirty&&(e.stencilMask(this.mask),this._isStencilMaskDirty=!1),this._isStencilFuncDirty&&(e.stencilFunc(this.func,this.funcRef,this.funcMask),this._isStencilFuncDirty=!1),this._isStencilOpDirty&&(e.stencilOp(this.opStencilFail,this.opDepthFail,this.opStencilDepthPass),this._isStencilOpDirty=!1))}},e}(),de=function(){},pe=function(){function e(t,n,r,o){var i=this;this._name="WebGL",this.forcePOTTextures=!1,this.isFullscreen=!1,this.cullBackFaces=null,this.renderEvenInBackground=!0,this.preventCacheWipeBetweenFrames=!1,this.validateShaderPrograms=!1,this._useReverseDepthBuffer=!1,this.isNDCHalfZRange=!1,this.hasOriginBottomLeft=!0,this.disableUniformBuffers=!1,this.onDisposeObservable=new y,this._frameId=0,this._uniformBuffers=new Array,this._storageBuffers=new Array,this._webGLVersion=1,this._windowIsBackground=!1,this._highPrecisionShadersAllowed=!0,this._badOS=!1,this._badDesktopOS=!1,this._renderingQueueLaunched=!1,this._activeRenderLoops=new Array,this.onContextLostObservable=new y,this.onContextRestoredObservable=new y,this._contextWasLost=!1,this._doNotHandleContextLost=!1,this.disableVertexArrayObjects=!1,this._colorWrite=!0,this._colorWriteChanged=!0,this._depthCullingState=new $,this._stencilStateComposer=new ce,this._stencilState=new ee,this._alphaState=new te,this._alphaMode=1,this._alphaEquation=0,this._internalTexturesCache=new Array,this._renderTargetWrapperCache=new Array,this._activeChannel=0,this._currentTextureChannel=-1,this._boundTexturesCache={},this._compiledEffects={},this._vertexAttribArraysEnabled=[],this._uintIndicesCurrentlySet=!1,this._currentBoundBuffer=new Array,this._currentFramebuffer=null,this._dummyFramebuffer=null,this._currentBufferPointers=new Array,this._currentInstanceLocations=new Array,this._currentInstanceBuffers=new Array,this._vaoRecordInProgress=!1,this._mustWipeVertexAttributes=!1,this._nextFreeTextureSlots=new Array,this._maxSimultaneousTextures=0,this._activeRequests=new Array,this._adaptToDeviceRatio=!1,this._transformTextureUrl=null,this.hostInformation={isMobile:!1},this.premultipliedAlpha=!0,this.onBeforeTextureInitObservable=new y,this._isWebGPU=!1,this._snapshotRenderingMode=0,this._viewportCached={x:0,y:0,z:0,w:0},this._unpackFlipYCached=null,this.enableUnpackFlipYCached=!0,this._boundUniforms={};var a=null;if(r=r||{},this._creationOptions=r,this._adaptToDeviceRatio=null!==o&&void 0!==o&&o,this._stencilStateComposer.stencilGlobal=this._stencilState,le.SetMatrixPrecision(!!r.useHighPrecisionMatrix),t){if(o=o||r.adaptToDeviceRatio||!1,t.getContext){if(a=t,this._renderingCanvas=a,void 0!==n&&(r.antialias=n),void 0===r.deterministicLockstep&&(r.deterministicLockstep=!1),void 0===r.lockstepMaxSteps&&(r.lockstepMaxSteps=4),void 0===r.timeStep&&(r.timeStep=1/60),void 0===r.preserveDrawingBuffer&&(r.preserveDrawingBuffer=!1),void 0===r.audioEngine&&(r.audioEngine=!0),void 0!==r.audioEngineOptions&&void 0!==r.audioEngineOptions.audioContext&&(this._audioContext=r.audioEngineOptions.audioContext),void 0!==r.audioEngineOptions&&void 0!==r.audioEngineOptions.audioDestination&&(this._audioDestination=r.audioEngineOptions.audioDestination),void 0===r.stencil&&(r.stencil=!0),!1===r.premultipliedAlpha&&(this.premultipliedAlpha=!1),void 0===r.xrCompatible&&(r.xrCompatible=!0),this._doNotHandleContextLost=!!r.doNotHandleContextLost,navigator&&navigator.userAgent){this._checkForMobile=function(){var e=navigator.userAgent;i.hostInformation.isMobile=-1!==e.indexOf("Mobile")||-1!==e.indexOf("Mac")&&_()&&"ontouchend"in document},this._checkForMobile(),b()&&window.addEventListener("resize",this._checkForMobile);for(var s=navigator.userAgent,l=0,u=e.ExceptionList;l<u.length;l++){var c=u[l],d=c.key,p=c.targets;if(new RegExp(d).test(s)){if(c.capture&&c.captureConstraint){var f=c.capture,h=c.captureConstraint,m=new RegExp(f).exec(s);if(m&&m.length>0)if(parseInt(m[m.length-1])>=h)continue}for(var g=0,v=p;g<v.length;g++){switch(v[g]){case"uniformBuffer":this.disableUniformBuffers=!0;break;case"vao":this.disableVertexArrayObjects=!0}}}}}if(this._doNotHandleContextLost||(this._onContextLost=function(e){e.preventDefault(),i._contextWasLost=!0,k.Warn("WebGL context lost."),i.onContextLostObservable.notifyObservers(i)},this._onContextRestored=function(){i._restoreEngineAfterContextLost(i._initGLContext.bind(i))},a.addEventListener("webglcontextlost",this._onContextLost,!1),a.addEventListener("webglcontextrestored",this._onContextRestored,!1),r.powerPreference="high-performance"),this._badDesktopOS=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this._badDesktopOS&&(r.xrCompatible=!1),!r.disableWebGL2Support)try{this._gl=a.getContext("webgl2",r)||a.getContext("experimental-webgl2",r),this._gl&&(this._webGLVersion=2,this._shaderPlatformName="WEBGL2",this._gl.deleteQuery||(this._webGLVersion=1,this._shaderPlatformName="WEBGL1"))}catch(E){}if(!this._gl){if(!a)throw new Error("The provided canvas is null or undefined.");try{this._gl=a.getContext("webgl",r)||a.getContext("experimental-webgl",r)}catch(E){throw new Error("WebGL not supported")}}if(!this._gl)throw new Error("WebGL not supported")}else{this._gl=t,this._renderingCanvas=this._gl.canvas,this._gl.renderbufferStorageMultisample?(this._webGLVersion=2,this._shaderPlatformName="WEBGL2"):this._shaderPlatformName="WEBGL1";var x=this._gl.getContextAttributes();x&&(r.stencil=x.stencil)}this._gl.pixelStorei(this._gl.UNPACK_COLORSPACE_CONVERSION_WEBGL,this._gl.NONE),void 0!==r.useHighPrecisionFloats&&(this._highPrecisionShadersAllowed=r.useHighPrecisionFloats);var C=b()&&window.devicePixelRatio||1,w=r.limitDeviceRatio||C;this._hardwareScalingLevel=o?1/Math.min(w,C):1,this.resize(),this._isStencilEnable=!!r.stencil,this._initGLContext(),this._initFeatures();for(var S=0;S<this._caps.maxVertexAttribs;S++)this._currentBufferPointers[S]=new de;this._shaderProcessor=this.webGLVersion>1?new ie:new oe,this._badOS=/iPad/i.test(navigator.userAgent)||/iPhone/i.test(navigator.userAgent);var T="Babylon.js v".concat(e.Version);console.log(T+" - ".concat(this.description)),this._renderingCanvas&&this._renderingCanvas.setAttribute&&this._renderingCanvas.setAttribute("data-engine",T)}}return Object.defineProperty(e,"NpmPackage",{get:function(){return"babylonjs@5.0.4"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Version",{get:function(){return"5.0.4"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){var e=this.name+this.webGLVersion;return this._caps.parallelShaderCompile&&(e+=" - Parallel shader compilation"),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._webGLVersion},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ShadersRepository",{get:function(){return q.ShadersRepository},set:function(e){q.ShadersRepository=e},enumerable:!1,configurable:!0}),e.prototype._getShaderProcessor=function(e){return this._shaderProcessor},Object.defineProperty(e.prototype,"useReverseDepthBuffer",{get:function(){return this._useReverseDepthBuffer},set:function(e){e!==this._useReverseDepthBuffer&&(this._useReverseDepthBuffer=e,this._depthCullingState.depthFunc=e?518:515)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frameId",{get:function(){return this._frameId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportsUniformBuffers",{get:function(){return this.webGLVersion>1&&!this.disableUniformBuffers},enumerable:!1,configurable:!0}),e.prototype.getCreationOptions=function(){return this._creationOptions},Object.defineProperty(e.prototype,"_shouldUseHighPrecisionShader",{get:function(){return!(!this._caps.highPrecisionShaderSupported||!this._highPrecisionShadersAllowed)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needPOTTextures",{get:function(){return this._webGLVersion<2||this.forcePOTTextures},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeRenderLoops",{get:function(){return this._activeRenderLoops},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doNotHandleContextLost",{get:function(){return this._doNotHandleContextLost},set:function(e){this._doNotHandleContextLost=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_supportsHardwareTextureRescaling",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"framebufferDimensionsObject",{set:function(e){this._framebufferDimensionsObject=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentViewport",{get:function(){return this._cachedViewport},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emptyTexture",{get:function(){return this._emptyTexture||(this._emptyTexture=this.createRawTexture(new Uint8Array(4),1,1,5,!1,!1,1)),this._emptyTexture},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emptyTexture3D",{get:function(){return this._emptyTexture3D||(this._emptyTexture3D=this.createRawTexture3D(new Uint8Array(4),1,1,1,5,!1,!1,1)),this._emptyTexture3D},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emptyTexture2DArray",{get:function(){return this._emptyTexture2DArray||(this._emptyTexture2DArray=this.createRawTexture2DArray(new Uint8Array(4),1,1,1,5,!1,!1,1)),this._emptyTexture2DArray},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emptyCubeTexture",{get:function(){if(!this._emptyCubeTexture){var e=new Uint8Array(4),t=[e,e,e,e,e,e];this._emptyCubeTexture=this.createRawCubeTexture(t,1,5,0,!1,!1,1)}return this._emptyCubeTexture},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWebGPU",{get:function(){return this._isWebGPU},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shaderPlatformName",{get:function(){return this._shaderPlatformName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"snapshotRendering",{get:function(){return!1},set:function(e){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"snapshotRenderingMode",{get:function(){return this._snapshotRenderingMode},set:function(e){this._snapshotRenderingMode=e},enumerable:!1,configurable:!0}),e.prototype.snapshotRenderingReset=function(){this.snapshotRendering=!1},e._CreateCanvas=function(e,t){if("undefined"===typeof document)return new OffscreenCanvas(e,t);var n=document.createElement("canvas");return n.width=e,n.height=t,n},e.prototype.createCanvas=function(t,n){return e._CreateCanvas(t,n)},e.prototype.createCanvasImage=function(){return document.createElement("img")},e.prototype._restoreEngineAfterContextLost=function(e){var t=this;setTimeout((function(){return(0,i.sH)(t,void 0,void 0,(function(){var t,n,r,o,a;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return this._dummyFramebuffer=null,t=this._depthCullingState.depthTest,n=this._depthCullingState.depthFunc,r=this._depthCullingState.depthMask,o=this._stencilState.stencilTest,[4,e()];case 1:return i.sent(),this._rebuildEffects(),null===(a=this._rebuildComputeEffects)||void 0===a||a.call(this),this._rebuildInternalTextures(),this._rebuildRenderTargetWrappers(),this._rebuildBuffers(),this.wipeCaches(!0),this._depthCullingState.depthTest=t,this._depthCullingState.depthFunc=n,this._depthCullingState.depthMask=r,this._stencilState.stencilTest=o,k.Warn(this.name+" context successfully restored."),this.onContextRestoredObservable.notifyObservers(this),this._contextWasLost=!1,[2]}}))}))}),0)},e.prototype._sharedInit=function(e,t,n){this._renderingCanvas=e},e.prototype._getShaderProcessingContext=function(e){return null},e.prototype._rebuildInternalTextures=function(){for(var e=0,t=this._internalTexturesCache.slice();e<t.length;e++){t[e]._rebuild()}},e.prototype._rebuildRenderTargetWrappers=function(){for(var e=0,t=this._renderTargetWrapperCache.slice();e<t.length;e++){t[e]._rebuild()}},e.prototype._rebuildEffects=function(){for(var e in this._compiledEffects){var t=this._compiledEffects[e];t._pipelineContext=null,t._wasPreviouslyReady=!1,t._prepareEffect()}q.ResetCache()},e.prototype.areAllEffectsReady=function(){for(var e in this._compiledEffects){if(!this._compiledEffects[e].isReady())return!1}return!0},e.prototype._rebuildBuffers=function(){for(var e=0,t=this._uniformBuffers;e<t.length;e++){t[e]._rebuild()}for(var n=0,r=this._storageBuffers;n<r.length;n++){r[n]._rebuild()}},e.prototype._initGLContext=function(){this._caps={maxTexturesImageUnits:this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS),maxCombinedTexturesImageUnits:this._gl.getParameter(this._gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),maxVertexTextureImageUnits:this._gl.getParameter(this._gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxTextureSize:this._gl.getParameter(this._gl.MAX_TEXTURE_SIZE),maxSamples:this._webGLVersion>1?this._gl.getParameter(this._gl.MAX_SAMPLES):1,maxCubemapTextureSize:this._gl.getParameter(this._gl.MAX_CUBE_MAP_TEXTURE_SIZE),maxRenderTextureSize:this._gl.getParameter(this._gl.MAX_RENDERBUFFER_SIZE),maxVertexAttribs:this._gl.getParameter(this._gl.MAX_VERTEX_ATTRIBS),maxVaryingVectors:this._gl.getParameter(this._gl.MAX_VARYING_VECTORS),maxFragmentUniformVectors:this._gl.getParameter(this._gl.MAX_FRAGMENT_UNIFORM_VECTORS),maxVertexUniformVectors:this._gl.getParameter(this._gl.MAX_VERTEX_UNIFORM_VECTORS),parallelShaderCompile:this._gl.getExtension("KHR_parallel_shader_compile")||void 0,standardDerivatives:this._webGLVersion>1||null!==this._gl.getExtension("OES_standard_derivatives"),maxAnisotropy:1,astc:this._gl.getExtension("WEBGL_compressed_texture_astc")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_astc"),bptc:this._gl.getExtension("EXT_texture_compression_bptc")||this._gl.getExtension("WEBKIT_EXT_texture_compression_bptc"),s3tc:this._gl.getExtension("WEBGL_compressed_texture_s3tc")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"),s3tc_srgb:this._gl.getExtension("WEBGL_compressed_texture_s3tc_srgb")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc_srgb"),pvrtc:this._gl.getExtension("WEBGL_compressed_texture_pvrtc")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:this._gl.getExtension("WEBGL_compressed_texture_etc1")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_etc1"),etc2:this._gl.getExtension("WEBGL_compressed_texture_etc")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_etc")||this._gl.getExtension("WEBGL_compressed_texture_es3_0"),textureAnisotropicFilterExtension:this._gl.getExtension("EXT_texture_filter_anisotropic")||this._gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this._gl.getExtension("MOZ_EXT_texture_filter_anisotropic"),uintIndices:this._webGLVersion>1||null!==this._gl.getExtension("OES_element_index_uint"),fragmentDepthSupported:this._webGLVersion>1||null!==this._gl.getExtension("EXT_frag_depth"),highPrecisionShaderSupported:!1,timerQuery:this._gl.getExtension("EXT_disjoint_timer_query_webgl2")||this._gl.getExtension("EXT_disjoint_timer_query"),supportOcclusionQuery:this._webGLVersion>1,canUseTimestampForTimerQuery:!1,drawBuffersExtension:!1,maxMSAASamples:1,colorBufferFloat:!!(this._webGLVersion>1&&this._gl.getExtension("EXT_color_buffer_float")),textureFloat:!!(this._webGLVersion>1||this._gl.getExtension("OES_texture_float")),textureHalfFloat:!!(this._webGLVersion>1||this._gl.getExtension("OES_texture_half_float")),textureHalfFloatRender:!1,textureFloatLinearFiltering:!1,textureFloatRender:!1,textureHalfFloatLinearFiltering:!1,vertexArrayObject:!1,instancedArrays:!1,textureLOD:!!(this._webGLVersion>1||this._gl.getExtension("EXT_shader_texture_lod")),blendMinMax:!1,multiview:this._gl.getExtension("OVR_multiview2"),oculusMultiview:this._gl.getExtension("OCULUS_multiview"),depthTextureExtension:!1,canUseGLInstanceID:this._webGLVersion>1,canUseGLVertexID:this._webGLVersion>1,supportComputeShaders:!1,supportSRGBBuffers:!1,supportTransformFeedbacks:this._webGLVersion>1,textureMaxLevel:this._webGLVersion>1},this._glVersion=this._gl.getParameter(this._gl.VERSION);var e=this._gl.getExtension("WEBGL_debug_renderer_info");if(null!=e&&(this._glRenderer=this._gl.getParameter(e.UNMASKED_RENDERER_WEBGL),this._glVendor=this._gl.getParameter(e.UNMASKED_VENDOR_WEBGL)),this._glVendor||(this._glVendor=this._gl.getParameter(this._gl.VENDOR)||"Unknown vendor"),this._glRenderer||(this._glRenderer=this._gl.getParameter(this._gl.RENDERER)||"Unknown renderer"),36193!==this._gl.HALF_FLOAT_OES&&(this._gl.HALF_FLOAT_OES=36193),34842!==this._gl.RGBA16F&&(this._gl.RGBA16F=34842),34836!==this._gl.RGBA32F&&(this._gl.RGBA32F=34836),35056!==this._gl.DEPTH24_STENCIL8&&(this._gl.DEPTH24_STENCIL8=35056),this._caps.timerQuery&&(1===this._webGLVersion&&(this._gl.getQuery=this._caps.timerQuery.getQueryEXT.bind(this._caps.timerQuery)),this._caps.canUseTimestampForTimerQuery=this._gl.getQuery(this._caps.timerQuery.TIMESTAMP_EXT,this._caps.timerQuery.QUERY_COUNTER_BITS_EXT)>0),this._caps.maxAnisotropy=this._caps.textureAnisotropicFilterExtension?this._gl.getParameter(this._caps.textureAnisotropicFilterExtension.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,this._caps.textureFloatLinearFiltering=!(!this._caps.textureFloat||!this._gl.getExtension("OES_texture_float_linear")),this._caps.textureFloatRender=!(!this._caps.textureFloat||!this._canRenderToFloatFramebuffer()),this._caps.textureHalfFloatLinearFiltering=!!(this._webGLVersion>1||this._caps.textureHalfFloat&&this._gl.getExtension("OES_texture_half_float_linear")),this._caps.astc&&(this._gl.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=this._caps.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR),this._caps.bptc&&(this._gl.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=this._caps.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT),this._caps.s3tc_srgb&&(this._gl.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=this._caps.s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,this._gl.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=this._caps.s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT),this._webGLVersion>1&&5131!==this._gl.HALF_FLOAT_OES&&(this._gl.HALF_FLOAT_OES=5131),this._caps.textureHalfFloatRender=this._caps.textureHalfFloat&&this._canRenderToHalfFloatFramebuffer(),this._webGLVersion>1)this._caps.drawBuffersExtension=!0,this._caps.maxMSAASamples=this._gl.getParameter(this._gl.MAX_SAMPLES);else{var t=this._gl.getExtension("WEBGL_draw_buffers");if(null!==t){this._caps.drawBuffersExtension=!0,this._gl.drawBuffers=t.drawBuffersWEBGL.bind(t),this._gl.DRAW_FRAMEBUFFER=this._gl.FRAMEBUFFER;for(var n=0;n<16;n++)this._gl["COLOR_ATTACHMENT"+n+"_WEBGL"]=t["COLOR_ATTACHMENT"+n+"_WEBGL"]}}if(this._webGLVersion>1)this._caps.depthTextureExtension=!0;else{var r=this._gl.getExtension("WEBGL_depth_texture");null!=r&&(this._caps.depthTextureExtension=!0,this._gl.UNSIGNED_INT_24_8=r.UNSIGNED_INT_24_8_WEBGL)}if(this.disableVertexArrayObjects)this._caps.vertexArrayObject=!1;else if(this._webGLVersion>1)this._caps.vertexArrayObject=!0;else{var o=this._gl.getExtension("OES_vertex_array_object");null!=o&&(this._caps.vertexArrayObject=!0,this._gl.createVertexArray=o.createVertexArrayOES.bind(o),this._gl.bindVertexArray=o.bindVertexArrayOES.bind(o),this._gl.deleteVertexArray=o.deleteVertexArrayOES.bind(o))}if(this._webGLVersion>1)this._caps.instancedArrays=!0;else{var i=this._gl.getExtension("ANGLE_instanced_arrays");null!=i?(this._caps.instancedArrays=!0,this._gl.drawArraysInstanced=i.drawArraysInstancedANGLE.bind(i),this._gl.drawElementsInstanced=i.drawElementsInstancedANGLE.bind(i),this._gl.vertexAttribDivisor=i.vertexAttribDivisorANGLE.bind(i)):this._caps.instancedArrays=!1}if(this._gl.getShaderPrecisionFormat){var a=this._gl.getShaderPrecisionFormat(this._gl.VERTEX_SHADER,this._gl.HIGH_FLOAT),s=this._gl.getShaderPrecisionFormat(this._gl.FRAGMENT_SHADER,this._gl.HIGH_FLOAT);a&&s&&(this._caps.highPrecisionShaderSupported=0!==a.precision&&0!==s.precision)}if(this._webGLVersion>1)this._caps.blendMinMax=!0;else{var l=this._gl.getExtension("EXT_blend_minmax");null!=l&&(this._caps.blendMinMax=!0,this._gl.MAX=l.MAX_EXT,this._gl.MIN=l.MIN_EXT)}if(!this._caps.supportSRGBBuffers){if(this._webGLVersion>1)this._caps.supportSRGBBuffers=!0;else{var u=this._gl.getExtension("EXT_sRGB");null!=u&&(this._caps.supportSRGBBuffers=!0,this._gl.SRGB=u.SRGB_EXT,this._gl.SRGB8=u.SRGB_ALPHA_EXT,this._gl.SRGB8_ALPHA8=u.SRGB_ALPHA_EXT)}this._caps.supportSRGBBuffers=this._caps.supportSRGBBuffers&&!(!this._creationOptions||!this._creationOptions.forceSRGBBufferSupportState)}this._depthCullingState.depthTest=!0,this._depthCullingState.depthFunc=this._gl.LEQUAL,this._depthCullingState.depthMask=!0,this._maxSimultaneousTextures=this._caps.maxCombinedTexturesImageUnits;for(var c=0;c<this._maxSimultaneousTextures;c++)this._nextFreeTextureSlots.push(c)},e.prototype._initFeatures=function(){this._features={forceBitmapOverHTMLImageElement:!1,supportRenderAndCopyToLodForFloatTextures:1!==this._webGLVersion,supportDepthStencilTexture:1!==this._webGLVersion,supportShadowSamplers:1!==this._webGLVersion,uniformBufferHardCheckMatrix:!1,allowTexturePrefiltering:1!==this._webGLVersion,trackUbosInFrame:!1,checkUbosContentBeforeUpload:!1,supportCSM:1!==this._webGLVersion,basisNeedsPOT:1===this._webGLVersion,support3DTextures:1!==this._webGLVersion,needTypeSuffixInShaderConstants:1!==this._webGLVersion,supportMSAA:1!==this._webGLVersion,supportSSAO2:1!==this._webGLVersion,supportExtendedTextureFormats:1!==this._webGLVersion,supportSwitchCaseInShader:1!==this._webGLVersion,supportSyncTextureRead:!0,needsInvertingBitmap:!0,useUBOBindingCache:!0,needShaderCodeInlining:!1,needToAlwaysBindUniformBuffers:!1,supportRenderPasses:!1,_collectUbosUpdatedInFrame:!1}},Object.defineProperty(e.prototype,"webGLVersion",{get:function(){return this._webGLVersion},enumerable:!1,configurable:!0}),e.prototype.getClassName=function(){return"ThinEngine"},Object.defineProperty(e.prototype,"isStencilEnable",{get:function(){return this._isStencilEnable},enumerable:!1,configurable:!0}),e.prototype._prepareWorkingCanvas=function(){if(!this._workingCanvas){this._workingCanvas=this.createCanvas(1,1);var e=this._workingCanvas.getContext("2d");e&&(this._workingContext=e)}},e.prototype.resetTextureCache=function(){for(var e in this._boundTexturesCache)Object.prototype.hasOwnProperty.call(this._boundTexturesCache,e)&&(this._boundTexturesCache[e]=null);this._currentTextureChannel=-1},e.prototype.getInfo=function(){return this.getGlInfo()},e.prototype.getGlInfo=function(){return{vendor:this._glVendor,renderer:this._glRenderer,version:this._glVersion}},e.prototype.setHardwareScalingLevel=function(e){this._hardwareScalingLevel=e,this.resize()},e.prototype.getHardwareScalingLevel=function(){return this._hardwareScalingLevel},e.prototype.getLoadedTexturesCache=function(){return this._internalTexturesCache},e.prototype.getCaps=function(){return this._caps},e.prototype.stopRenderLoop=function(e){if(e){var t=this._activeRenderLoops.indexOf(e);t>=0&&this._activeRenderLoops.splice(t,1)}else this._activeRenderLoops=[]},e.prototype._renderLoop=function(){if(!this._contextWasLost){var e=!0;if(!this.renderEvenInBackground&&this._windowIsBackground&&(e=!1),e){this.beginFrame();for(var t=0;t<this._activeRenderLoops.length;t++){(0,this._activeRenderLoops[t])()}this.endFrame()}}this._activeRenderLoops.length>0?this._frameHandler=this._queueNewFrame(this._boundRenderFunction,this.getHostWindow()):this._renderingQueueLaunched=!1},e.prototype.getRenderingCanvas=function(){return this._renderingCanvas},e.prototype.getAudioContext=function(){return this._audioContext},e.prototype.getAudioDestination=function(){return this._audioDestination},e.prototype.getHostWindow=function(){return b()?this._renderingCanvas&&this._renderingCanvas.ownerDocument&&this._renderingCanvas.ownerDocument.defaultView?this._renderingCanvas.ownerDocument.defaultView:window:null},e.prototype.getRenderWidth=function(e){return void 0===e&&(e=!1),!e&&this._currentRenderTarget?this._currentRenderTarget.width:this._framebufferDimensionsObject?this._framebufferDimensionsObject.framebufferWidth:this._gl.drawingBufferWidth},e.prototype.getRenderHeight=function(e){return void 0===e&&(e=!1),!e&&this._currentRenderTarget?this._currentRenderTarget.height:this._framebufferDimensionsObject?this._framebufferDimensionsObject.framebufferHeight:this._gl.drawingBufferHeight},e.prototype._queueNewFrame=function(t,n){return e.QueueNewFrame(t,n)},e.prototype.runRenderLoop=function(e){-1===this._activeRenderLoops.indexOf(e)&&(this._activeRenderLoops.push(e),this._renderingQueueLaunched||(this._renderingQueueLaunched=!0,this._boundRenderFunction=this._renderLoop.bind(this),this._frameHandler=this._queueNewFrame(this._boundRenderFunction,this.getHostWindow())))},e.prototype.clear=function(e,t,n,r){void 0===r&&(r=!1);var o=this.stencilStateComposer.useStencilGlobalOnly;this.stencilStateComposer.useStencilGlobalOnly=!0,this.applyStates(),this.stencilStateComposer.useStencilGlobalOnly=o;var i=0;t&&e&&(this._gl.clearColor(e.r,e.g,e.b,void 0!==e.a?e.a:1),i|=this._gl.COLOR_BUFFER_BIT),n&&(this.useReverseDepthBuffer?(this._depthCullingState.depthFunc=this._gl.GEQUAL,this._gl.clearDepth(0)):this._gl.clearDepth(1),i|=this._gl.DEPTH_BUFFER_BIT),r&&(this._gl.clearStencil(0),i|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(i)},e.prototype._viewport=function(e,t,n,r){e===this._viewportCached.x&&t===this._viewportCached.y&&n===this._viewportCached.z&&r===this._viewportCached.w||(this._viewportCached.x=e,this._viewportCached.y=t,this._viewportCached.z=n,this._viewportCached.w=r,this._gl.viewport(e,t,n,r))},e.prototype.setViewport=function(e,t,n){var r=t||this.getRenderWidth(),o=n||this.getRenderHeight(),i=e.x||0,a=e.y||0;this._cachedViewport=e,this._viewport(i*r,a*o,r*e.width,o*e.height)},e.prototype.beginFrame=function(){},e.prototype.endFrame=function(){this._badOS&&this.flushFramebuffer(),this._frameId++},e.prototype.resize=function(e){var t,n;if(void 0===e&&(e=!1),this._adaptToDeviceRatio){var r=b()&&window.devicePixelRatio||1,o=this._creationOptions.limitDeviceRatio||r;this._hardwareScalingLevel=this._adaptToDeviceRatio?1/Math.min(o,r):1}b()?(t=this._renderingCanvas?this._renderingCanvas.clientWidth||this._renderingCanvas.width:window.innerWidth,n=this._renderingCanvas?this._renderingCanvas.clientHeight||this._renderingCanvas.height:window.innerHeight):(t=this._renderingCanvas?this._renderingCanvas.width:100,n=this._renderingCanvas?this._renderingCanvas.height:100),this.setSize(t/this._hardwareScalingLevel,n/this._hardwareScalingLevel,e)},e.prototype.setSize=function(e,t,n){return void 0===n&&(n=!1),!!this._renderingCanvas&&(e|=0,t|=0,!(!n&&this._renderingCanvas.width===e&&this._renderingCanvas.height===t)&&(this._renderingCanvas.width=e,this._renderingCanvas.height=t,!0))},e.prototype.bindFramebuffer=function(e,t,n,r,o,i,a){var s,l,u,c,d;void 0===t&&(t=0),void 0===i&&(i=0),void 0===a&&(a=0);var p=e;this._currentRenderTarget&&this.unBindFramebuffer(this._currentRenderTarget),this._currentRenderTarget=e,this._bindUnboundFramebuffer(p._MSAAFramebuffer?p._MSAAFramebuffer:p._framebuffer);var f=this._gl;e.is2DArray?f.framebufferTextureLayer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,null===(s=e.texture._hardwareTexture)||void 0===s?void 0:s.underlyingResource,i,a):e.isCube&&f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_CUBE_MAP_POSITIVE_X+t,null===(l=e.texture._hardwareTexture)||void 0===l?void 0:l.underlyingResource,i);var h=e._depthStencilTexture;if(h){var m=e._depthStencilTextureWithStencil?f.DEPTH_STENCIL_ATTACHMENT:f.DEPTH_ATTACHMENT;e.is2DArray?f.framebufferTextureLayer(f.FRAMEBUFFER,m,null===(u=h._hardwareTexture)||void 0===u?void 0:u.underlyingResource,i,a):e.isCube?f.framebufferTexture2D(f.FRAMEBUFFER,m,f.TEXTURE_CUBE_MAP_POSITIVE_X+t,null===(c=h._hardwareTexture)||void 0===c?void 0:c.underlyingResource,i):f.framebufferTexture2D(f.FRAMEBUFFER,m,f.TEXTURE_2D,null===(d=h._hardwareTexture)||void 0===d?void 0:d.underlyingResource,i)}this._cachedViewport&&!o?this.setViewport(this._cachedViewport,n,r):(n||(n=e.width,i&&(n/=Math.pow(2,i))),r||(r=e.height,i&&(r/=Math.pow(2,i))),this._viewport(0,0,n,r)),this.wipeCaches()},e.prototype.setState=function(e,t,n,r,o,i,a){var s,l;void 0===t&&(t=0),void 0===r&&(r=!1),void 0===a&&(a=0),(this._depthCullingState.cull!==e||n)&&(this._depthCullingState.cull=e);var u=null===(l=null!==(s=this.cullBackFaces)&&void 0!==s?s:o)||void 0===l||l?this._gl.BACK:this._gl.FRONT;(this._depthCullingState.cullFace!==u||n)&&(this._depthCullingState.cullFace=u),this.setZOffset(t),this.setZOffsetUnits(a);var c=r?this._gl.CW:this._gl.CCW;(this._depthCullingState.frontFace!==c||n)&&(this._depthCullingState.frontFace=c),this._stencilStateComposer.stencilMaterial=i},e.prototype.setZOffset=function(e){this._depthCullingState.zOffset=this.useReverseDepthBuffer?-e:e},e.prototype.getZOffset=function(){var e=this._depthCullingState.zOffset;return this.useReverseDepthBuffer?-e:e},e.prototype.setZOffsetUnits=function(e){this._depthCullingState.zOffsetUnits=this.useReverseDepthBuffer?-e:e},e.prototype.getZOffsetUnits=function(){var e=this._depthCullingState.zOffsetUnits;return this.useReverseDepthBuffer?-e:e},e.prototype._bindUnboundFramebuffer=function(e){this._currentFramebuffer!==e&&(this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,e),this._currentFramebuffer=e)},e.prototype._currentFrameBufferIsDefaultFrameBuffer=function(){return null===this._currentFramebuffer},e.prototype.generateMipmaps=function(e){this._bindTextureDirectly(this._gl.TEXTURE_2D,e,!0),this._gl.generateMipmap(this._gl.TEXTURE_2D),this._bindTextureDirectly(this._gl.TEXTURE_2D,null)},e.prototype.unBindFramebuffer=function(e,t,n){var r;void 0===t&&(t=!1);var o=e;this._currentRenderTarget=null;var i=this._gl;if(o._MSAAFramebuffer){if(e.isMulti)return void this.unBindMultiColorAttachmentFramebuffer(e,t,n);i.bindFramebuffer(i.READ_FRAMEBUFFER,o._MSAAFramebuffer),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,o._framebuffer),i.blitFramebuffer(0,0,e.width,e.height,0,0,e.width,e.height,i.COLOR_BUFFER_BIT,i.NEAREST)}!(null===(r=e.texture)||void 0===r?void 0:r.generateMipMaps)||t||e.isCube||this.generateMipmaps(e.texture),n&&(o._MSAAFramebuffer&&this._bindUnboundFramebuffer(o._framebuffer),n()),this._bindUnboundFramebuffer(null)},e.prototype.flushFramebuffer=function(){this._gl.flush()},e.prototype.restoreDefaultFramebuffer=function(){this._currentRenderTarget?this.unBindFramebuffer(this._currentRenderTarget):this._bindUnboundFramebuffer(null),this._cachedViewport&&this.setViewport(this._cachedViewport),this.wipeCaches()},e.prototype._resetVertexBufferBinding=function(){this.bindArrayBuffer(null),this._cachedVertexBuffers=null},e.prototype.createVertexBuffer=function(e){return this._createVertexBuffer(e,this._gl.STATIC_DRAW)},e.prototype._createVertexBuffer=function(e,t){var n=this._gl.createBuffer();if(!n)throw new Error("Unable to create vertex buffer");var r=new ae(n);return this.bindArrayBuffer(r),e instanceof Array?this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(e),t):this._gl.bufferData(this._gl.ARRAY_BUFFER,e,t),this._resetVertexBufferBinding(),r.references=1,r},e.prototype.createDynamicVertexBuffer=function(e){return this._createVertexBuffer(e,this._gl.DYNAMIC_DRAW)},e.prototype._resetIndexBufferBinding=function(){this.bindIndexBuffer(null),this._cachedIndexBuffer=null},e.prototype.createIndexBuffer=function(e,t){var n=this._gl.createBuffer(),r=new ae(n);if(!n)throw new Error("Unable to create index buffer");this.bindIndexBuffer(r);var o=this._normalizeIndexData(e);return this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,o,t?this._gl.DYNAMIC_DRAW:this._gl.STATIC_DRAW),this._resetIndexBufferBinding(),r.references=1,r.is32Bits=4===o.BYTES_PER_ELEMENT,r},e.prototype._normalizeIndexData=function(e){if(2===e.BYTES_PER_ELEMENT)return e;if(this._caps.uintIndices){if(e instanceof Uint32Array)return e;for(var t=0;t<e.length;t++)if(e[t]>=65535)return new Uint32Array(e);return new Uint16Array(e)}return new Uint16Array(e)},e.prototype.bindArrayBuffer=function(e){this._vaoRecordInProgress||this._unbindVertexArrayObject(),this._bindBuffer(e,this._gl.ARRAY_BUFFER)},e.prototype.bindUniformBlock=function(e,t,n){var r=e.program,o=this._gl.getUniformBlockIndex(r,t);this._gl.uniformBlockBinding(r,o,n)},e.prototype.bindIndexBuffer=function(e){this._vaoRecordInProgress||this._unbindVertexArrayObject(),this._bindBuffer(e,this._gl.ELEMENT_ARRAY_BUFFER)},e.prototype._bindBuffer=function(e,t){(this._vaoRecordInProgress||this._currentBoundBuffer[t]!==e)&&(this._gl.bindBuffer(t,e?e.underlyingResource:null),this._currentBoundBuffer[t]=e)},e.prototype.updateArrayBuffer=function(e){this._gl.bufferSubData(this._gl.ARRAY_BUFFER,0,e)},e.prototype._vertexAttribPointer=function(e,t,n,r,o,i,a){var s=this._currentBufferPointers[t];if(s){var l=!1;s.active?(s.buffer!==e&&(s.buffer=e,l=!0),s.size!==n&&(s.size=n,l=!0),s.type!==r&&(s.type=r,l=!0),s.normalized!==o&&(s.normalized=o,l=!0),s.stride!==i&&(s.stride=i,l=!0),s.offset!==a&&(s.offset=a,l=!0)):(l=!0,s.active=!0,s.index=t,s.size=n,s.type=r,s.normalized=o,s.stride=i,s.offset=a,s.buffer=e),(l||this._vaoRecordInProgress)&&(this.bindArrayBuffer(e),this._gl.vertexAttribPointer(t,n,r,o,i,a))}},e.prototype._bindIndexBufferWithCache=function(e){null!=e&&this._cachedIndexBuffer!==e&&(this._cachedIndexBuffer=e,this.bindIndexBuffer(e),this._uintIndicesCurrentlySet=e.is32Bits)},e.prototype._bindVertexBuffersAttributes=function(e,t,n){var r=t.getAttributesNames();this._vaoRecordInProgress||this._unbindVertexArrayObject(),this.unbindAllAttributes();for(var o=0;o<r.length;o++){var i=t.getAttributeLocation(o);if(i>=0){var a=r[o],s=null;if(n&&(s=n[a]),s||(s=e[a]),!s)continue;this._gl.enableVertexAttribArray(i),this._vaoRecordInProgress||(this._vertexAttribArraysEnabled[i]=!0);var l=s.getBuffer();l&&(this._vertexAttribPointer(l,i,s.getSize(),s.type,s.normalized,s.byteStride,s.byteOffset),s.getIsInstanced()&&(this._gl.vertexAttribDivisor(i,s.getInstanceDivisor()),this._vaoRecordInProgress||(this._currentInstanceLocations.push(i),this._currentInstanceBuffers.push(l))))}}},e.prototype.recordVertexArrayObject=function(e,t,n,r){var o=this._gl.createVertexArray();return this._vaoRecordInProgress=!0,this._gl.bindVertexArray(o),this._mustWipeVertexAttributes=!0,this._bindVertexBuffersAttributes(e,n,r),this.bindIndexBuffer(t),this._vaoRecordInProgress=!1,this._gl.bindVertexArray(null),o},e.prototype.bindVertexArrayObject=function(e,t){this._cachedVertexArrayObject!==e&&(this._cachedVertexArrayObject=e,this._gl.bindVertexArray(e),this._cachedVertexBuffers=null,this._cachedIndexBuffer=null,this._uintIndicesCurrentlySet=null!=t&&t.is32Bits,this._mustWipeVertexAttributes=!0)},e.prototype.bindBuffersDirectly=function(e,t,n,r,o){if(this._cachedVertexBuffers!==e||this._cachedEffectForVertexBuffers!==o){this._cachedVertexBuffers=e,this._cachedEffectForVertexBuffers=o;var i=o.getAttributesCount();this._unbindVertexArrayObject(),this.unbindAllAttributes();for(var a=0,s=0;s<i;s++)if(s<n.length){var l=o.getAttributeLocation(s);l>=0&&(this._gl.enableVertexAttribArray(l),this._vertexAttribArraysEnabled[l]=!0,this._vertexAttribPointer(e,l,n[s],this._gl.FLOAT,!1,r,a)),a+=4*n[s]}}this._bindIndexBufferWithCache(t)},e.prototype._unbindVertexArrayObject=function(){this._cachedVertexArrayObject&&(this._cachedVertexArrayObject=null,this._gl.bindVertexArray(null))},e.prototype.bindBuffers=function(e,t,n,r){this._cachedVertexBuffers===e&&this._cachedEffectForVertexBuffers===n||(this._cachedVertexBuffers=e,this._cachedEffectForVertexBuffers=n,this._bindVertexBuffersAttributes(e,n,r)),this._bindIndexBufferWithCache(t)},e.prototype.unbindInstanceAttributes=function(){for(var e,t=0,n=this._currentInstanceLocations.length;t<n;t++){var r=this._currentInstanceBuffers[t];e!=r&&r.references&&(e=r,this.bindArrayBuffer(r));var o=this._currentInstanceLocations[t];this._gl.vertexAttribDivisor(o,0)}this._currentInstanceBuffers.length=0,this._currentInstanceLocations.length=0},e.prototype.releaseVertexArrayObject=function(e){this._gl.deleteVertexArray(e)},e.prototype._releaseBuffer=function(e){return e.references--,0===e.references&&(this._deleteBuffer(e),!0)},e.prototype._deleteBuffer=function(e){this._gl.deleteBuffer(e.underlyingResource)},e.prototype.updateAndBindInstancesBuffer=function(e,t,n){if(this.bindArrayBuffer(e),t&&this._gl.bufferSubData(this._gl.ARRAY_BUFFER,0,t),void 0!==n[0].index)this.bindInstancesBuffer(e,n,!0);else for(var r=0;r<4;r++){var o=n[r];this._vertexAttribArraysEnabled[o]||(this._gl.enableVertexAttribArray(o),this._vertexAttribArraysEnabled[o]=!0),this._vertexAttribPointer(e,o,4,this._gl.FLOAT,!1,64,16*r),this._gl.vertexAttribDivisor(o,1),this._currentInstanceLocations.push(o),this._currentInstanceBuffers.push(e)}},e.prototype.bindInstancesBuffer=function(e,t,n){void 0===n&&(n=!0),this.bindArrayBuffer(e);var r=0;if(n)for(var o=0;o<t.length;o++){r+=4*(i=t[o]).attributeSize}for(o=0;o<t.length;o++){var i;void 0===(i=t[o]).index&&(i.index=this._currentEffect.getAttributeLocationByName(i.attributeName)),i.index<0||(this._vertexAttribArraysEnabled[i.index]||(this._gl.enableVertexAttribArray(i.index),this._vertexAttribArraysEnabled[i.index]=!0),this._vertexAttribPointer(e,i.index,i.attributeSize,i.attributeType||this._gl.FLOAT,i.normalized||!1,r,i.offset),this._gl.vertexAttribDivisor(i.index,void 0===i.divisor?1:i.divisor),this._currentInstanceLocations.push(i.index),this._currentInstanceBuffers.push(e))}},e.prototype.disableInstanceAttributeByName=function(e){if(this._currentEffect){var t=this._currentEffect.getAttributeLocationByName(e);this.disableInstanceAttribute(t)}},e.prototype.disableInstanceAttribute=function(e){for(var t,n=!1;-1!==(t=this._currentInstanceLocations.indexOf(e));)this._currentInstanceLocations.splice(t,1),this._currentInstanceBuffers.splice(t,1),n=!0,t=this._currentInstanceLocations.indexOf(e);n&&(this._gl.vertexAttribDivisor(e,0),this.disableAttributeByIndex(e))},e.prototype.disableAttributeByIndex=function(e){this._gl.disableVertexAttribArray(e),this._vertexAttribArraysEnabled[e]=!1,this._currentBufferPointers[e].active=!1},e.prototype.draw=function(e,t,n,r){this.drawElementsType(e?0:1,t,n,r)},e.prototype.drawPointClouds=function(e,t,n){this.drawArraysType(2,e,t,n)},e.prototype.drawUnIndexed=function(e,t,n,r){this.drawArraysType(e?0:1,t,n,r)},e.prototype.drawElementsType=function(e,t,n,r){this.applyStates(),this._reportDrawCall();var o=this._drawMode(e),i=this._uintIndicesCurrentlySet?this._gl.UNSIGNED_INT:this._gl.UNSIGNED_SHORT,a=this._uintIndicesCurrentlySet?4:2;r?this._gl.drawElementsInstanced(o,n,i,t*a,r):this._gl.drawElements(o,n,i,t*a)},e.prototype.drawArraysType=function(e,t,n,r){this.applyStates(),this._reportDrawCall();var o=this._drawMode(e);r?this._gl.drawArraysInstanced(o,t,n,r):this._gl.drawArrays(o,t,n)},e.prototype._drawMode=function(e){switch(e){case 0:default:return this._gl.TRIANGLES;case 2:case 3:return this._gl.POINTS;case 1:case 4:return this._gl.LINES;case 5:return this._gl.LINE_LOOP;case 6:return this._gl.LINE_STRIP;case 7:return this._gl.TRIANGLE_STRIP;case 8:return this._gl.TRIANGLE_FAN}},e.prototype._reportDrawCall=function(){},e.prototype._releaseEffect=function(e){if(this._compiledEffects[e._key]){delete this._compiledEffects[e._key];var t=e.getPipelineContext();t&&this._deletePipelineContext(t)}},e.prototype._deletePipelineContext=function(e){var t=e;t&&t.program&&(t.program.__SPECTOR_rebuildProgram=null,this._gl.deleteProgram(t.program))},e.prototype._getGlobalDefines=function(e){if(e)return this.isNDCHalfZRange?e.IS_NDC_HALF_ZRANGE="":delete e.IS_NDC_HALF_ZRANGE,void(this.useReverseDepthBuffer?e.USE_REVERSE_DEPTHBUFFER="":delete e.USE_REVERSE_DEPTHBUFFER);var t="";return this.isNDCHalfZRange&&(t+="#define IS_NDC_HALF_ZRANGE"),this.useReverseDepthBuffer&&(t&&(t+="\n"),t+="#define USE_REVERSE_DEPTHBUFFER"),t},e.prototype.createEffect=function(e,t,n,r,o,i,a,s,l,u){var c;void 0===u&&(u=w.GLSL);var d=e.vertexElement||e.vertex||e.vertexToken||e.vertexSource||e,p=e.fragmentElement||e.fragment||e.fragmentToken||e.fragmentSource||e,f=this._getGlobalDefines(),h=null!==(c=null!==o&&void 0!==o?o:t.defines)&&void 0!==c?c:"";f&&(h+=f);var m=d+"+"+p+"@"+h;if(this._compiledEffects[m]){var g=this._compiledEffects[m];return a&&g.isReady()&&a(g),g}var v=new q(e,t,n,r,this,o,i,a,s,l,m,u);return this._compiledEffects[m]=v,v},e._ConcatenateShader=function(e,t,n){return void 0===n&&(n=""),n+(t?t+"\n":"")+e},e.prototype._compileShader=function(t,n,r,o){return this._compileRawShader(e._ConcatenateShader(t,r,o),n)},e.prototype._compileRawShader=function(e,t){var n=this._gl,r=n.createShader("vertex"===t?n.VERTEX_SHADER:n.FRAGMENT_SHADER);if(!r){for(var o=n.NO_ERROR,i=n.NO_ERROR;(i=n.getError())!==n.NO_ERROR;)o=i;throw new Error("Something went wrong while creating a gl ".concat(t," shader object. gl error=").concat(o,", gl isContextLost=").concat(n.isContextLost(),", _contextWasLost=").concat(this._contextWasLost))}return n.shaderSource(r,e),n.compileShader(r),r},e.prototype._getShaderSource=function(e){return this._gl.getShaderSource(e)},e.prototype.createRawShaderProgram=function(e,t,n,r,o){void 0===o&&(o=null),r=r||this._gl;var i=this._compileRawShader(t,"vertex"),a=this._compileRawShader(n,"fragment");return this._createShaderProgram(e,i,a,r,o)},e.prototype.createShaderProgram=function(e,t,n,r,o,i){void 0===i&&(i=null),o=o||this._gl;var a=this._webGLVersion>1?"#version 300 es\n#define WEBGL2 \n":"",s=this._compileShader(t,"vertex",r,a),l=this._compileShader(n,"fragment",r,a);return this._createShaderProgram(e,s,l,o,i)},e.prototype.inlineShaderCode=function(e){return e},e.prototype.createPipelineContext=function(e){var t=new se;return t.engine=this,this._caps.parallelShaderCompile&&(t.isParallelCompiled=!0),t},e.prototype.createMaterialContext=function(){},e.prototype.createDrawContext=function(){},e.prototype._createShaderProgram=function(e,t,n,r,o){void 0===o&&(o=null);var i=r.createProgram();if(e.program=i,!i)throw new Error("Unable to create program");return r.attachShader(i,t),r.attachShader(i,n),r.linkProgram(i),e.context=r,e.vertexShader=t,e.fragmentShader=n,e.isParallelCompiled||this._finalizePipelineContext(e),i},e.prototype._finalizePipelineContext=function(e){var t=e.context,n=e.vertexShader,r=e.fragmentShader,o=e.program;if(!t.getProgramParameter(o,t.LINK_STATUS)){var i,a;if(!this._gl.getShaderParameter(n,this._gl.COMPILE_STATUS))if(i=this._gl.getShaderInfoLog(n))throw e.vertexCompilationError=i,new Error("VERTEX SHADER "+i);if(!this._gl.getShaderParameter(r,this._gl.COMPILE_STATUS))if(i=this._gl.getShaderInfoLog(r))throw e.fragmentCompilationError=i,new Error("FRAGMENT SHADER "+i);if(a=t.getProgramInfoLog(o))throw e.programLinkError=a,new Error(a)}if(this.validateShaderPrograms&&(t.validateProgram(o),!t.getProgramParameter(o,t.VALIDATE_STATUS)&&(a=t.getProgramInfoLog(o))))throw e.programValidationError=a,new Error(a);t.deleteShader(n),t.deleteShader(r),e.vertexShader=void 0,e.fragmentShader=void 0,e.onCompiled&&(e.onCompiled(),e.onCompiled=void 0)},e.prototype._preparePipelineContext=function(e,t,n,r,o,i,a,s,l,u){var c=e;c.program=r?this.createRawShaderProgram(c,t,n,void 0,l):this.createShaderProgram(c,t,n,s,void 0,l),c.program.__SPECTOR_rebuildProgram=a},e.prototype._isRenderingStateCompiled=function(e){var t=e;return!!this._gl.getProgramParameter(t.program,this._caps.parallelShaderCompile.COMPLETION_STATUS_KHR)&&(this._finalizePipelineContext(t),!0)},e.prototype._executeWhenRenderingStateIsCompiled=function(e,t){var n=e;if(n.isParallelCompiled){var r=n.onCompiled;n.onCompiled=r?function(){r(),t()}:t}else t()},e.prototype.getUniforms=function(e,t){for(var n=new Array,r=e,o=0;o<t.length;o++)n.push(this._gl.getUniformLocation(r.program,t[o]));return n},e.prototype.getAttributes=function(e,t){for(var n=[],r=e,o=0;o<t.length;o++)try{n.push(this._gl.getAttribLocation(r.program,t[o]))}catch(i){n.push(-1)}return n},e.prototype.enableEffect=function(e){(e=null!==e&&K.IsWrapper(e)?e.effect:e)&&e!==this._currentEffect&&(this._stencilStateComposer.stencilMaterial=void 0,this.bindSamplers(e),this._currentEffect=e,e.onBind&&e.onBind(e),e._onBindObservable&&e._onBindObservable.notifyObservers(e))},e.prototype.setInt=function(e,t){return!!e&&(this._gl.uniform1i(e,t),!0)},e.prototype.setInt2=function(e,t,n){return!!e&&(this._gl.uniform2i(e,t,n),!0)},e.prototype.setInt3=function(e,t,n,r){return!!e&&(this._gl.uniform3i(e,t,n,r),!0)},e.prototype.setInt4=function(e,t,n,r,o){return!!e&&(this._gl.uniform4i(e,t,n,r,o),!0)},e.prototype.setIntArray=function(e,t){return!!e&&(this._gl.uniform1iv(e,t),!0)},e.prototype.setIntArray2=function(e,t){return!(!e||t.length%2!==0)&&(this._gl.uniform2iv(e,t),!0)},e.prototype.setIntArray3=function(e,t){return!(!e||t.length%3!==0)&&(this._gl.uniform3iv(e,t),!0)},e.prototype.setIntArray4=function(e,t){return!(!e||t.length%4!==0)&&(this._gl.uniform4iv(e,t),!0)},e.prototype.setArray=function(e,t){return!!e&&(!(t.length<1)&&(this._gl.uniform1fv(e,t),!0))},e.prototype.setArray2=function(e,t){return!(!e||t.length%2!==0)&&(this._gl.uniform2fv(e,t),!0)},e.prototype.setArray3=function(e,t){return!(!e||t.length%3!==0)&&(this._gl.uniform3fv(e,t),!0)},e.prototype.setArray4=function(e,t){return!(!e||t.length%4!==0)&&(this._gl.uniform4fv(e,t),!0)},e.prototype.setMatrices=function(e,t){return!!e&&(this._gl.uniformMatrix4fv(e,!1,t),!0)},e.prototype.setMatrix3x3=function(e,t){return!!e&&(this._gl.uniformMatrix3fv(e,!1,t),!0)},e.prototype.setMatrix2x2=function(e,t){return!!e&&(this._gl.uniformMatrix2fv(e,!1,t),!0)},e.prototype.setFloat=function(e,t){return!!e&&(this._gl.uniform1f(e,t),!0)},e.prototype.setFloat2=function(e,t,n){return!!e&&(this._gl.uniform2f(e,t,n),!0)},e.prototype.setFloat3=function(e,t,n,r){return!!e&&(this._gl.uniform3f(e,t,n,r),!0)},e.prototype.setFloat4=function(e,t,n,r,o){return!!e&&(this._gl.uniform4f(e,t,n,r,o),!0)},e.prototype.applyStates=function(){if(this._depthCullingState.apply(this._gl),this._stencilStateComposer.apply(this._gl),this._alphaState.apply(this._gl),this._colorWriteChanged){this._colorWriteChanged=!1;var e=this._colorWrite;this._gl.colorMask(e,e,e,e)}},e.prototype.setColorWrite=function(e){e!==this._colorWrite&&(this._colorWriteChanged=!0,this._colorWrite=e)},e.prototype.getColorWrite=function(){return this._colorWrite},Object.defineProperty(e.prototype,"depthCullingState",{get:function(){return this._depthCullingState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alphaState",{get:function(){return this._alphaState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilState",{get:function(){return this._stencilState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilStateComposer",{get:function(){return this._stencilStateComposer},enumerable:!1,configurable:!0}),e.prototype.clearInternalTexturesCache=function(){this._internalTexturesCache=[]},e.prototype.wipeCaches=function(e){this.preventCacheWipeBetweenFrames&&!e||(this._currentEffect=null,this._viewportCached.x=0,this._viewportCached.y=0,this._viewportCached.z=0,this._viewportCached.w=0,this._unbindVertexArrayObject(),e&&(this._currentProgram=null,this.resetTextureCache(),this._stencilStateComposer.reset(),this._depthCullingState.reset(),this._depthCullingState.depthFunc=this._gl.LEQUAL,this._alphaState.reset(),this._alphaMode=1,this._alphaEquation=0,this._colorWrite=!0,this._colorWriteChanged=!0,this._unpackFlipYCached=null,this._gl.pixelStorei(this._gl.UNPACK_COLORSPACE_CONVERSION_WEBGL,this._gl.NONE),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),this._mustWipeVertexAttributes=!0,this.unbindAllAttributes()),this._resetVertexBufferBinding(),this._cachedIndexBuffer=null,this._cachedEffectForVertexBuffers=null,this.bindIndexBuffer(null))},e.prototype._getSamplingParameters=function(e,t){var n=this._gl,r=n.NEAREST,o=n.NEAREST;switch(e){case 11:r=n.LINEAR,o=t?n.LINEAR_MIPMAP_NEAREST:n.LINEAR;break;case 3:r=n.LINEAR,o=t?n.LINEAR_MIPMAP_LINEAR:n.LINEAR;break;case 8:r=n.NEAREST,o=t?n.NEAREST_MIPMAP_LINEAR:n.NEAREST;break;case 4:r=n.NEAREST,o=t?n.NEAREST_MIPMAP_NEAREST:n.NEAREST;break;case 5:r=n.NEAREST,o=t?n.LINEAR_MIPMAP_NEAREST:n.LINEAR;break;case 6:r=n.NEAREST,o=t?n.LINEAR_MIPMAP_LINEAR:n.LINEAR;break;case 7:r=n.NEAREST,o=n.LINEAR;break;case 1:r=n.NEAREST,o=n.NEAREST;break;case 9:r=n.LINEAR,o=t?n.NEAREST_MIPMAP_NEAREST:n.NEAREST;break;case 10:r=n.LINEAR,o=t?n.NEAREST_MIPMAP_LINEAR:n.NEAREST;break;case 2:r=n.LINEAR,o=n.LINEAR;break;case 12:r=n.LINEAR,o=n.NEAREST}return{min:o,mag:r}},e.prototype._createTexture=function(){var e=this._gl.createTexture();if(!e)throw new Error("Unable to create texture");return e},e.prototype._createHardwareTexture=function(){return new ue(this._createTexture(),this._gl)},e.prototype._createInternalTexture=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=X.Unknown);var o={};void 0!==t&&"object"===typeof t?(o.generateMipMaps=t.generateMipMaps,o.type=void 0===t.type?0:t.type,o.samplingMode=void 0===t.samplingMode?3:t.samplingMode,o.format=void 0===t.format?5:t.format):(o.generateMipMaps=t,o.type=0,o.samplingMode=3,o.format=5),(1!==o.type||this._caps.textureFloatLinearFiltering)&&(2!==o.type||this._caps.textureHalfFloatLinearFiltering)||(o.samplingMode=1),1!==o.type||this._caps.textureFloat||(o.type=0,k.Warn("Float textures are not supported. Type forced to TEXTURETYPE_UNSIGNED_BYTE"));var i=this._gl,a=new re(this,r),s=e.width||e,l=e.height||e,u=e.layers||0,c=this._getSamplingParameters(o.samplingMode,!!o.generateMipMaps),d=0!==u?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D,p=this._getRGBABufferInternalSizedFormat(o.type,o.format),f=this._getInternalFormat(o.format),h=this._getWebGLTextureType(o.type);return this._bindTextureDirectly(d,a),0!==u?(a.is2DArray=!0,i.texImage3D(d,0,p,s,l,u,0,f,h,null)):i.texImage2D(d,0,p,s,l,0,f,h,null),i.texParameteri(d,i.TEXTURE_MAG_FILTER,c.mag),i.texParameteri(d,i.TEXTURE_MIN_FILTER,c.min),i.texParameteri(d,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(d,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),o.generateMipMaps&&this._gl.generateMipmap(d),this._bindTextureDirectly(d,null),a.baseWidth=s,a.baseHeight=l,a.width=s,a.height=l,a.depth=u,a.isReady=!0,a.samples=1,a.generateMipMaps=!!o.generateMipMaps,a.samplingMode=o.samplingMode,a.type=o.type,a.format=o.format,this._internalTexturesCache.push(a),a},e.prototype._getUseSRGBBuffer=function(e,t){return e&&this._caps.supportSRGBBuffers&&(this.webGLVersion>1||this.isWebGPU||t)},e.prototype._createTextureBase=function(t,n,r,o,i,a,s,l,u,c,d,p,f,h,m,g){var v=this;void 0===i&&(i=3),void 0===a&&(a=null),void 0===s&&(s=null),void 0===c&&(c=null),void 0===d&&(d=null),void 0===p&&(p=null),void 0===f&&(f=null);var y="data:"===(t=t||"").substr(0,5),b="blob:"===t.substr(0,5),x=y&&-1!==t.indexOf(";base64,"),_=d||new re(this,X.Url),C=t;!this._transformTextureUrl||x||d||c||(t=this._transformTextureUrl(t)),C!==t&&(_._originalUrl=C);var w=t.lastIndexOf("."),S=f||(w>-1?t.substring(w).toLowerCase():""),T=null;S.indexOf("?")>-1&&(S=S.split("?")[0]);for(var E=0,P=e._TextureLoaders;E<P.length;E++){var I=P[E];if(I.canLoad(S,h)){T=I;break}}o&&o._addPendingData(_),_.url=t,_.generateMipMaps=!n,_.samplingMode=i,_.invertY=r,_._useSRGBBuffer=this._getUseSRGBBuffer(!!g,n),this._doNotHandleContextLost||(_._buffer=c);var A=null;a&&!d&&(A=_.onLoadedObservable.add(a)),d||this._internalTexturesCache.push(_);var R=function(e,r){o&&o._removePendingData(_),t===C?(A&&_.onLoadedObservable.remove(A),J.UseFallbackTexture&&v._createTextureBase(J.FallbackTexture,n,_.invertY,o,i,null,s,l,u,c,_),e=(e||"Unknown error")+(J.UseFallbackTexture?" - Fallback texture was used":""),_.onErrorObservable.notifyObservers({message:e,exception:r}),s&&s(e,r)):(k.Warn("Failed to load ".concat(t,", falling back to ").concat(C)),v._createTextureBase(C,n,_.invertY,o,i,a,s,l,u,c,_,p,f,h,m,g))};if(T){var L=function(e){T.loadData(e,_,(function(e,t,n,r,a,s){s?R("TextureLoader failed to load data"):l(_,S,o,{width:e,height:t},_.invertY,!n,r,(function(){return a(),!1}),i)}),m)};c?c instanceof ArrayBuffer?L(new Uint8Array(c)):ArrayBuffer.isView(c)?L(c):s&&s("Unable to load: only ArrayBuffer or ArrayBufferView is supported",null):this._loadFile(t,(function(e){return L(new Uint8Array(e))}),void 0,o?o.offlineProvider:void 0,!0,(function(e,t){R("Unable to load "+(e&&e.responseURL,t))}))}else{var M=function(e){b&&!v._doNotHandleContextLost&&(_._buffer=e),l(_,S,o,e,_.invertY,n,!1,u,i)};!y||x?c&&("string"===typeof c.decoding||c.close)?M(c):e._FileToolsLoadImage(t,M,R,o?o.offlineProvider:null,h,_.invertY&&this._features.needsInvertingBitmap?{imageOrientation:"flipY"}:void 0):"string"===typeof c||c instanceof ArrayBuffer||ArrayBuffer.isView(c)||c instanceof Blob?e._FileToolsLoadImage(c,M,R,o?o.offlineProvider:null,h,_.invertY&&this._features.needsInvertingBitmap?{imageOrientation:"flipY"}:void 0):c&&M(c)}return _},e.prototype.createTexture=function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,h){var m=this;return void 0===o&&(o=3),void 0===i&&(i=null),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=null),void 0===u&&(u=null),void 0===c&&(c=null),this._createTextureBase(e,t,n,r,o,i,a,this._prepareWebGLTexture.bind(this),(function(e,t,n,o,i,a){var s=m._gl,l=n.width===e&&n.height===t,c=u?m._getInternalFormat(u,i._useSRGBBuffer):".jpg"!==o||i._useSRGBBuffer?i._useSRGBBuffer?s.SRGB8_ALPHA8:s.RGBA:s.RGB,d=u?m._getInternalFormat(u):".jpg"!==o||i._useSRGBBuffer?s.RGBA:s.RGB;if(i._useSRGBBuffer&&1===m.webGLVersion&&(d=c),l)return s.texImage2D(s.TEXTURE_2D,0,c,d,s.UNSIGNED_BYTE,n),!1;var p=m._caps.maxTextureSize;if(n.width>p||n.height>p||!m._supportsHardwareTextureRescaling)return m._prepareWorkingCanvas(),!(!m._workingCanvas||!m._workingContext)&&(m._workingCanvas.width=e,m._workingCanvas.height=t,m._workingContext.drawImage(n,0,0,n.width,n.height,0,0,e,t),s.texImage2D(s.TEXTURE_2D,0,c,d,s.UNSIGNED_BYTE,m._workingCanvas),i.width=e,i.height=t,!1);var f=new re(m,X.Temp);return m._bindTextureDirectly(s.TEXTURE_2D,f,!0),s.texImage2D(s.TEXTURE_2D,0,c,d,s.UNSIGNED_BYTE,n),m._rescaleTexture(f,i,r,c,(function(){m._releaseTexture(f),m._bindTextureDirectly(s.TEXTURE_2D,i,!0),a()})),!0}),s,l,u,c,d,p,h)},e._FileToolsLoadImage=function(e,t,n,r,o,i){throw z("FileTools")},e.prototype._rescaleTexture=function(e,t,n,r,o){},e.prototype.createRawTexture=function(e,t,n,r,o,i,a,s,l){throw void 0===s&&(s=null),void 0===l&&(l=0),z("Engine.RawTexture")},e.prototype.createRawCubeTexture=function(e,t,n,r,o,i,a,s){throw void 0===s&&(s=null),z("Engine.RawTexture")},e.prototype.createRawTexture3D=function(e,t,n,r,o,i,a,s,l,u){throw void 0===l&&(l=null),void 0===u&&(u=0),z("Engine.RawTexture")},e.prototype.createRawTexture2DArray=function(e,t,n,r,o,i,a,s,l,u){throw void 0===l&&(l=null),void 0===u&&(u=0),z("Engine.RawTexture")},e.prototype._unpackFlipY=function(e){this._unpackFlipYCached!==e&&(this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,e?1:0),this.enableUnpackFlipYCached&&(this._unpackFlipYCached=e))},e.prototype._getUnpackAlignement=function(){return this._gl.getParameter(this._gl.UNPACK_ALIGNMENT)},e.prototype._getTextureTarget=function(e){return e.isCube?this._gl.TEXTURE_CUBE_MAP:e.is3D?this._gl.TEXTURE_3D:e.is2DArray||e.isMultiview?this._gl.TEXTURE_2D_ARRAY:this._gl.TEXTURE_2D},e.prototype.updateTextureSamplingMode=function(e,t,n){void 0===n&&(n=!1);var r=this._getTextureTarget(t),o=this._getSamplingParameters(e,t.generateMipMaps||n);this._setTextureParameterInteger(r,this._gl.TEXTURE_MAG_FILTER,o.mag,t),this._setTextureParameterInteger(r,this._gl.TEXTURE_MIN_FILTER,o.min),n&&(t.generateMipMaps=!0,this._gl.generateMipmap(r)),this._bindTextureDirectly(r,null),t.samplingMode=e},e.prototype.updateTextureDimensions=function(e,t,n,r){void 0===r&&(r=1)},e.prototype.updateTextureWrappingMode=function(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var o=this._getTextureTarget(e);null!==t&&(this._setTextureParameterInteger(o,this._gl.TEXTURE_WRAP_S,this._getTextureWrapMode(t),e),e._cachedWrapU=t),null!==n&&(this._setTextureParameterInteger(o,this._gl.TEXTURE_WRAP_T,this._getTextureWrapMode(n),e),e._cachedWrapV=n),(e.is2DArray||e.is3D)&&null!==r&&(this._setTextureParameterInteger(o,this._gl.TEXTURE_WRAP_R,this._getTextureWrapMode(r),e),e._cachedWrapR=r),this._bindTextureDirectly(o,null)},e.prototype._setupDepthStencilTexture=function(e,t,n,r,o,i){void 0===i&&(i=1);var a=t.width||t,s=t.height||t,l=t.layers||0;e.baseWidth=a,e.baseHeight=s,e.width=a,e.height=s,e.is2DArray=l>0,e.depth=l,e.isReady=!0,e.samples=i,e.generateMipMaps=!1,e.samplingMode=r?2:1,e.type=0,e._comparisonFunction=o;var u=this._gl,c=this._getTextureTarget(e),d=this._getSamplingParameters(e.samplingMode,!1);u.texParameteri(c,u.TEXTURE_MAG_FILTER,d.mag),u.texParameteri(c,u.TEXTURE_MIN_FILTER,d.min),u.texParameteri(c,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(c,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),0===o?(u.texParameteri(c,u.TEXTURE_COMPARE_FUNC,515),u.texParameteri(c,u.TEXTURE_COMPARE_MODE,u.NONE)):(u.texParameteri(c,u.TEXTURE_COMPARE_FUNC,o),u.texParameteri(c,u.TEXTURE_COMPARE_MODE,u.COMPARE_REF_TO_TEXTURE))},e.prototype._uploadCompressedDataToTextureDirectly=function(e,t,n,r,o,i,a){void 0===i&&(i=0),void 0===a&&(a=0);var s=this._gl,l=s.TEXTURE_2D;if(e.isCube&&(l=s.TEXTURE_CUBE_MAP_POSITIVE_X+i),e._useSRGBBuffer)switch(t){case 36492:t=s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT;break;case 37808:t=s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR;break;case 33776:this._caps.s3tc_srgb?t=s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:e._useSRGBBuffer=!1;break;case 33779:this._caps.s3tc_srgb?t=s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:e._useSRGBBuffer=!1;break;default:e._useSRGBBuffer=!1}this._gl.compressedTexImage2D(l,a,t,n,r,0,o)},e.prototype._uploadDataToTextureDirectly=function(e,t,n,r,o,i){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=!1);var a=this._gl,s=this._getWebGLTextureType(e.type),l=this._getInternalFormat(e.format),u=void 0===o?this._getRGBABufferInternalSizedFormat(e.type,e.format,e._useSRGBBuffer):this._getInternalFormat(o,e._useSRGBBuffer);this._unpackFlipY(e.invertY);var c=a.TEXTURE_2D;e.isCube&&(c=a.TEXTURE_CUBE_MAP_POSITIVE_X+n);var d=Math.round(Math.log(e.width)*Math.LOG2E),p=Math.round(Math.log(e.height)*Math.LOG2E),f=i?e.width:Math.pow(2,Math.max(d-r,0)),h=i?e.height:Math.pow(2,Math.max(p-r,0));a.texImage2D(c,r,u,f,h,0,l,s,t)},e.prototype.updateTextureData=function(e,t,n,r,o,i,a,s,l){void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=!1);var u=this._gl,c=this._getWebGLTextureType(e.type),d=this._getInternalFormat(e.format);this._unpackFlipY(e.invertY);var p=u.TEXTURE_2D;e.isCube&&(p=u.TEXTURE_CUBE_MAP_POSITIVE_X+a),this._bindTextureDirectly(p,e,!0),u.texSubImage2D(p,s,n,r,o,i,d,c,t),l&&this._gl.generateMipmap(p),this._bindTextureDirectly(p,null)},e.prototype._uploadArrayBufferViewToTexture=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var o=this._gl,i=e.isCube?o.TEXTURE_CUBE_MAP:o.TEXTURE_2D;this._bindTextureDirectly(i,e,!0),this._uploadDataToTextureDirectly(e,t,n,r),this._bindTextureDirectly(i,null,!0)},e.prototype._prepareWebGLTextureContinuation=function(e,t,n,r,o){var i=this._gl;if(i){var a=this._getSamplingParameters(o,!n);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,a.mag),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,a.min),n||r||i.generateMipmap(i.TEXTURE_2D),this._bindTextureDirectly(i.TEXTURE_2D,null),t&&t._removePendingData(e),e.onLoadedObservable.notifyObservers(e),e.onLoadedObservable.clear()}},e.prototype._prepareWebGLTexture=function(t,n,r,o,i,a,s,l,u){var c=this;void 0===u&&(u=3);var d=this.getCaps().maxTextureSize,p=Math.min(d,this.needPOTTextures?e.GetExponentOfTwo(o.width,d):o.width),f=Math.min(d,this.needPOTTextures?e.GetExponentOfTwo(o.height,d):o.height),h=this._gl;h&&(t._hardwareTexture?(this._bindTextureDirectly(h.TEXTURE_2D,t,!0),this._unpackFlipY(void 0===i||!!i),t.baseWidth=o.width,t.baseHeight=o.height,t.width=p,t.height=f,t.isReady=!0,l(p,f,o,n,t,(function(){c._prepareWebGLTextureContinuation(t,r,a,s,u)}))||this._prepareWebGLTextureContinuation(t,r,a,s,u)):r&&r._removePendingData(t))},e.prototype._setupFramebufferDepthAttachments=function(e,t,n,r,o){void 0===o&&(o=1);var i=this._gl;if(e&&t)return this._createRenderBuffer(n,r,o,i.DEPTH_STENCIL,i.DEPTH24_STENCIL8,i.DEPTH_STENCIL_ATTACHMENT);if(t){var a=i.DEPTH_COMPONENT16;return this._webGLVersion>1&&(a=i.DEPTH_COMPONENT32F),this._createRenderBuffer(n,r,o,a,a,i.DEPTH_ATTACHMENT)}return e?this._createRenderBuffer(n,r,o,i.STENCIL_INDEX8,i.STENCIL_INDEX8,i.STENCIL_ATTACHMENT):null},e.prototype._createRenderBuffer=function(e,t,n,r,o,i,a){void 0===a&&(a=!0);var s=this._gl,l=s.createRenderbuffer();return s.bindRenderbuffer(s.RENDERBUFFER,l),n>1&&s.renderbufferStorageMultisample?s.renderbufferStorageMultisample(s.RENDERBUFFER,n,o,e,t):s.renderbufferStorage(s.RENDERBUFFER,r,e,t),s.framebufferRenderbuffer(s.FRAMEBUFFER,i,s.RENDERBUFFER,l),a&&s.bindRenderbuffer(s.RENDERBUFFER,null),l},e.prototype._releaseTexture=function(e){var t;this._deleteTexture(null===(t=e._hardwareTexture)||void 0===t?void 0:t.underlyingResource),this.unbindAllTextures();var n=this._internalTexturesCache.indexOf(e);-1!==n&&this._internalTexturesCache.splice(n,1),e._lodTextureHigh&&e._lodTextureHigh.dispose(),e._lodTextureMid&&e._lodTextureMid.dispose(),e._lodTextureLow&&e._lodTextureLow.dispose(),e._irradianceTexture&&e._irradianceTexture.dispose()},e.prototype._releaseRenderTargetWrapper=function(e){var t=this._renderTargetWrapperCache.indexOf(e);-1!==t&&this._renderTargetWrapperCache.splice(t,1)},e.prototype._deleteTexture=function(e){e&&this._gl.deleteTexture(e)},e.prototype._setProgram=function(e){this._currentProgram!==e&&(this._gl.useProgram(e),this._currentProgram=e)},e.prototype.bindSamplers=function(e){var t=e.getPipelineContext();this._setProgram(t.program);for(var n=e.getSamplers(),r=0;r<n.length;r++){var o=e.getUniform(n[r]);o&&(this._boundUniforms[r]=o)}this._currentEffect=null},e.prototype._activateCurrentTexture=function(){this._currentTextureChannel!==this._activeChannel&&(this._gl.activeTexture(this._gl.TEXTURE0+this._activeChannel),this._currentTextureChannel=this._activeChannel)},e.prototype._bindTextureDirectly=function(e,t,n,r){var o,i;void 0===n&&(n=!1),void 0===r&&(r=!1);var a=!1,s=t&&t._associatedChannel>-1;if(n&&s&&(this._activeChannel=t._associatedChannel),this._boundTexturesCache[this._activeChannel]!==t||r){if(this._activateCurrentTexture(),t&&t.isMultiview)throw console.error(e,t),"_bindTextureDirectly called with a multiview texture!";this._gl.bindTexture(e,null!==(i=null===(o=null===t||void 0===t?void 0:t._hardwareTexture)||void 0===o?void 0:o.underlyingResource)&&void 0!==i?i:null),this._boundTexturesCache[this._activeChannel]=t,t&&(t._associatedChannel=this._activeChannel)}else n&&(a=!0,this._activateCurrentTexture());return s&&!n&&this._bindSamplerUniformToChannel(t._associatedChannel,this._activeChannel),a},e.prototype._bindTexture=function(e,t,n){if(void 0!==e){t&&(t._associatedChannel=e),this._activeChannel=e;var r=t?this._getTextureTarget(t):this._gl.TEXTURE_2D;this._bindTextureDirectly(r,t)}},e.prototype.unbindAllTextures=function(){for(var e=0;e<this._maxSimultaneousTextures;e++)this._activeChannel=e,this._bindTextureDirectly(this._gl.TEXTURE_2D,null),this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP,null),this.webGLVersion>1&&(this._bindTextureDirectly(this._gl.TEXTURE_3D,null),this._bindTextureDirectly(this._gl.TEXTURE_2D_ARRAY,null))},e.prototype.setTexture=function(e,t,n,r){void 0!==e&&(t&&(this._boundUniforms[e]=t),this._setTexture(e,n))},e.prototype._bindSamplerUniformToChannel=function(e,t){var n=this._boundUniforms[e];n&&n._currentState!==t&&(this._gl.uniform1i(n,t),n._currentState=t)},e.prototype._getTextureWrapMode=function(e){switch(e){case 1:return this._gl.REPEAT;case 0:return this._gl.CLAMP_TO_EDGE;case 2:return this._gl.MIRRORED_REPEAT}return this._gl.REPEAT},e.prototype._setTexture=function(e,t,n,r,o){if(void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=""),!t)return null!=this._boundTexturesCache[e]&&(this._activeChannel=e,this._bindTextureDirectly(this._gl.TEXTURE_2D,null),this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP,null),this.webGLVersion>1&&(this._bindTextureDirectly(this._gl.TEXTURE_3D,null),this._bindTextureDirectly(this._gl.TEXTURE_2D_ARRAY,null))),!1;if(t.video)this._activeChannel=e,t.update();else if(4===t.delayLoadState)return t.delayLoad(),!1;var i;i=r?t.depthStencilTexture:t.isReady()?t.getInternalTexture():t.isCube?this.emptyCubeTexture:t.is3D?this.emptyTexture3D:t.is2DArray?this.emptyTexture2DArray:this.emptyTexture,!n&&i&&(i._associatedChannel=e);var a=!0;this._boundTexturesCache[e]===i&&(n||this._bindSamplerUniformToChannel(i._associatedChannel,e),a=!1),this._activeChannel=e;var s=this._getTextureTarget(i);if(a&&this._bindTextureDirectly(s,i,n),i&&!i.isMultiview){if(i.isCube&&i._cachedCoordinatesMode!==t.coordinatesMode){i._cachedCoordinatesMode=t.coordinatesMode;var l=3!==t.coordinatesMode&&5!==t.coordinatesMode?1:0;t.wrapU=l,t.wrapV=l}i._cachedWrapU!==t.wrapU&&(i._cachedWrapU=t.wrapU,this._setTextureParameterInteger(s,this._gl.TEXTURE_WRAP_S,this._getTextureWrapMode(t.wrapU),i)),i._cachedWrapV!==t.wrapV&&(i._cachedWrapV=t.wrapV,this._setTextureParameterInteger(s,this._gl.TEXTURE_WRAP_T,this._getTextureWrapMode(t.wrapV),i)),i.is3D&&i._cachedWrapR!==t.wrapR&&(i._cachedWrapR=t.wrapR,this._setTextureParameterInteger(s,this._gl.TEXTURE_WRAP_R,this._getTextureWrapMode(t.wrapR),i)),this._setAnisotropicLevel(s,i,t.anisotropicFilteringLevel)}return!0},e.prototype.setTextureArray=function(e,t,n,r){if(void 0!==e&&t){this._textureUnits&&this._textureUnits.length===n.length||(this._textureUnits=new Int32Array(n.length));for(var o=0;o<n.length;o++){var i=n[o].getInternalTexture();i?(this._textureUnits[o]=e+o,i._associatedChannel=e+o):this._textureUnits[o]=-1}this._gl.uniform1iv(t,this._textureUnits);for(var a=0;a<n.length;a++)this._setTexture(this._textureUnits[a],n[a],!0)}},e.prototype._setAnisotropicLevel=function(e,t,n){var r=this._caps.textureAnisotropicFilterExtension;11!==t.samplingMode&&3!==t.samplingMode&&2!==t.samplingMode&&(n=1),r&&t._cachedAnisotropicFilteringLevel!==n&&(this._setTextureParameterFloat(e,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(n,this._caps.maxAnisotropy),t),t._cachedAnisotropicFilteringLevel=n)},e.prototype._setTextureParameterFloat=function(e,t,n,r){this._bindTextureDirectly(e,r,!0,!0),this._gl.texParameterf(e,t,n)},e.prototype._setTextureParameterInteger=function(e,t,n,r){r&&this._bindTextureDirectly(e,r,!0,!0),this._gl.texParameteri(e,t,n)},e.prototype.unbindAllAttributes=function(){if(this._mustWipeVertexAttributes){this._mustWipeVertexAttributes=!1;for(var e=0;e<this._caps.maxVertexAttribs;e++)this.disableAttributeByIndex(e)}else{e=0;for(var t=this._vertexAttribArraysEnabled.length;e<t;e++)e>=this._caps.maxVertexAttribs||!this._vertexAttribArraysEnabled[e]||this.disableAttributeByIndex(e)}},e.prototype.releaseEffects=function(){for(var e in this._compiledEffects){var t=this._compiledEffects[e].getPipelineContext();this._deletePipelineContext(t)}this._compiledEffects={}},e.prototype.dispose=function(){var e;this.stopRenderLoop(),this.onBeforeTextureInitObservable&&this.onBeforeTextureInitObservable.clear(),this._emptyTexture&&(this._releaseTexture(this._emptyTexture),this._emptyTexture=null),this._emptyCubeTexture&&(this._releaseTexture(this._emptyCubeTexture),this._emptyCubeTexture=null),this._dummyFramebuffer&&this._gl.deleteFramebuffer(this._dummyFramebuffer),this.releaseEffects(),null===(e=this.releaseComputeEffects)||void 0===e||e.call(this),this.unbindAllAttributes(),this._boundUniforms=[],b()&&this._renderingCanvas&&(this._doNotHandleContextLost||(this._renderingCanvas.removeEventListener("webglcontextlost",this._onContextLost),this._renderingCanvas.removeEventListener("webglcontextrestored",this._onContextRestored)),window.removeEventListener("resize",this._checkForMobile)),this._workingCanvas=null,this._workingContext=null,this._currentBufferPointers=[],this._renderingCanvas=null,this._currentProgram=null,this._boundRenderFunction=null,q.ResetCache();for(var t=0,n=this._activeRequests;t<n.length;t++){n[t].abort()}this.onDisposeObservable.notifyObservers(this),this.onDisposeObservable.clear()},e.prototype.attachContextLostEvent=function(e){this._renderingCanvas&&this._renderingCanvas.addEventListener("webglcontextlost",e,!1)},e.prototype.attachContextRestoredEvent=function(e){this._renderingCanvas&&this._renderingCanvas.addEventListener("webglcontextrestored",e,!1)},e.prototype.getError=function(){return this._gl.getError()},e.prototype._canRenderToFloatFramebuffer=function(){return this._webGLVersion>1?this._caps.colorBufferFloat:this._canRenderToFramebuffer(1)},e.prototype._canRenderToHalfFloatFramebuffer=function(){return this._webGLVersion>1?this._caps.colorBufferFloat:this._canRenderToFramebuffer(2)},e.prototype._canRenderToFramebuffer=function(e){for(var t=this._gl;t.getError()!==t.NO_ERROR;);var n=!0,r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,this._getRGBABufferInternalSizedFormat(e),1,1,0,t.RGBA,this._getWebGLTextureType(e),null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST);var o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);var i=t.checkFramebufferStatus(t.FRAMEBUFFER);if((n=(n=n&&i===t.FRAMEBUFFER_COMPLETE)&&t.getError()===t.NO_ERROR)&&(t.clear(t.COLOR_BUFFER_BIT),n=n&&t.getError()===t.NO_ERROR),n){t.bindFramebuffer(t.FRAMEBUFFER,null);var a=t.RGBA,s=t.UNSIGNED_BYTE,l=new Uint8Array(4);t.readPixels(0,0,1,1,a,s,l),n=n&&t.getError()===t.NO_ERROR}for(t.deleteTexture(r),t.deleteFramebuffer(o),t.bindFramebuffer(t.FRAMEBUFFER,null);!n&&t.getError()!==t.NO_ERROR;);return n},e.prototype._getWebGLTextureType=function(e){if(1===this._webGLVersion){switch(e){case 1:return this._gl.FLOAT;case 2:return this._gl.HALF_FLOAT_OES;case 0:return this._gl.UNSIGNED_BYTE;case 8:return this._gl.UNSIGNED_SHORT_4_4_4_4;case 9:return this._gl.UNSIGNED_SHORT_5_5_5_1;case 10:return this._gl.UNSIGNED_SHORT_5_6_5}return this._gl.UNSIGNED_BYTE}switch(e){case 3:return this._gl.BYTE;case 0:return this._gl.UNSIGNED_BYTE;case 4:return this._gl.SHORT;case 5:return this._gl.UNSIGNED_SHORT;case 6:return this._gl.INT;case 7:return this._gl.UNSIGNED_INT;case 1:return this._gl.FLOAT;case 2:return this._gl.HALF_FLOAT;case 8:return this._gl.UNSIGNED_SHORT_4_4_4_4;case 9:return this._gl.UNSIGNED_SHORT_5_5_5_1;case 10:return this._gl.UNSIGNED_SHORT_5_6_5;case 11:return this._gl.UNSIGNED_INT_2_10_10_10_REV;case 12:return this._gl.UNSIGNED_INT_24_8;case 13:return this._gl.UNSIGNED_INT_10F_11F_11F_REV;case 14:return this._gl.UNSIGNED_INT_5_9_9_9_REV;case 15:return this._gl.FLOAT_32_UNSIGNED_INT_24_8_REV}return this._gl.UNSIGNED_BYTE},e.prototype._getInternalFormat=function(e,t){void 0===t&&(t=!1);var n=t?this._gl.SRGB8_ALPHA8:this._gl.RGBA;switch(e){case 0:n=this._gl.ALPHA;break;case 1:n=this._gl.LUMINANCE;break;case 2:n=this._gl.LUMINANCE_ALPHA;break;case 6:n=this._gl.RED;break;case 7:n=this._gl.RG;break;case 4:n=t?this._gl.SRGB:this._gl.RGB;break;case 5:n=t?this._gl.SRGB8_ALPHA8:this._gl.RGBA}if(this._webGLVersion>1)switch(e){case 8:n=this._gl.RED_INTEGER;break;case 9:n=this._gl.RG_INTEGER;break;case 10:n=this._gl.RGB_INTEGER;break;case 11:n=this._gl.RGBA_INTEGER}return n},e.prototype._getRGBABufferInternalSizedFormat=function(e,t,n){if(void 0===n&&(n=!1),1===this._webGLVersion){if(void 0!==t)switch(t){case 0:return this._gl.ALPHA;case 1:return this._gl.LUMINANCE;case 2:return this._gl.LUMINANCE_ALPHA;case 4:return n?this._gl.SRGB:this._gl.RGB}return this._gl.RGBA}switch(e){case 3:switch(t){case 6:return this._gl.R8_SNORM;case 7:return this._gl.RG8_SNORM;case 4:return this._gl.RGB8_SNORM;case 8:return this._gl.R8I;case 9:return this._gl.RG8I;case 10:return this._gl.RGB8I;case 11:return this._gl.RGBA8I;default:return this._gl.RGBA8_SNORM}case 0:switch(t){case 6:return this._gl.R8;case 7:return this._gl.RG8;case 4:return n?this._gl.SRGB8:this._gl.RGB8;case 5:return n?this._gl.SRGB8_ALPHA8:this._gl.RGBA8;case 8:return this._gl.R8UI;case 9:return this._gl.RG8UI;case 10:return this._gl.RGB8UI;case 11:return this._gl.RGBA8UI;case 0:return this._gl.ALPHA;case 1:return this._gl.LUMINANCE;case 2:return this._gl.LUMINANCE_ALPHA;default:return this._gl.RGBA8}case 4:switch(t){case 8:return this._gl.R16I;case 9:return this._gl.RG16I;case 10:return this._gl.RGB16I;default:return this._gl.RGBA16I}case 5:switch(t){case 8:return this._gl.R16UI;case 9:return this._gl.RG16UI;case 10:return this._gl.RGB16UI;default:return this._gl.RGBA16UI}case 6:switch(t){case 8:return this._gl.R32I;case 9:return this._gl.RG32I;case 10:return this._gl.RGB32I;default:return this._gl.RGBA32I}case 7:switch(t){case 8:return this._gl.R32UI;case 9:return this._gl.RG32UI;case 10:return this._gl.RGB32UI;default:return this._gl.RGBA32UI}case 1:switch(t){case 6:return this._gl.R32F;case 7:return this._gl.RG32F;case 4:return this._gl.RGB32F;default:return this._gl.RGBA32F}case 2:switch(t){case 6:return this._gl.R16F;case 7:return this._gl.RG16F;case 4:return this._gl.RGB16F;default:return this._gl.RGBA16F}case 10:return this._gl.RGB565;case 13:return this._gl.R11F_G11F_B10F;case 14:return this._gl.RGB9_E5;case 8:return this._gl.RGBA4;case 9:return this._gl.RGB5_A1;case 11:switch(t){case 5:default:return this._gl.RGB10_A2;case 11:return this._gl.RGB10_A2UI}}return n?this._gl.SRGB8_ALPHA8:this._gl.RGBA8},e.prototype._getRGBAMultiSampleBufferFormat=function(e){return 1===e?this._gl.RGBA32F:2===e?this._gl.RGBA16F:this._gl.RGBA8},e.prototype._loadFile=function(t,n,r,o,i,a){var s=this,l=e._FileToolsLoadFile(t,n,r,o,i,a);return this._activeRequests.push(l),l.onCompleteObservable.add((function(e){s._activeRequests.splice(s._activeRequests.indexOf(e),1)})),l},e._FileToolsLoadFile=function(e,t,n,r,o,i){throw z("FileTools")},e.prototype.readPixels=function(e,t,n,r,o,i){void 0===o&&(o=!0),void 0===i&&(i=!0);var a=o?4:3,s=o?this._gl.RGBA:this._gl.RGB,l=new Uint8Array(r*n*a);return i&&this.flushFramebuffer(),this._gl.readPixels(e,t,n,r,s,this._gl.UNSIGNED_BYTE,l),Promise.resolve(l)},Object.defineProperty(e,"IsSupportedAsync",{get:function(){return Promise.resolve(this.isSupported())},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsSupported",{get:function(){return this.isSupported()},enumerable:!1,configurable:!0}),e.isSupported=function(){if(null!==this._HasMajorPerformanceCaveat)return!this._HasMajorPerformanceCaveat;if(null===this._IsSupported)try{var e=this._CreateCanvas(1,1),t=e.getContext("webgl")||e.getContext("experimental-webgl");this._IsSupported=null!=t&&!!window.WebGLRenderingContext}catch(n){this._IsSupported=!1}return this._IsSupported},Object.defineProperty(e,"HasMajorPerformanceCaveat",{get:function(){if(null===this._HasMajorPerformanceCaveat)try{var e=this._CreateCanvas(1,1),t=e.getContext("webgl",{failIfMajorPerformanceCaveat:!0})||e.getContext("experimental-webgl",{failIfMajorPerformanceCaveat:!0});this._HasMajorPerformanceCaveat=!t}catch(n){this._HasMajorPerformanceCaveat=!1}return this._HasMajorPerformanceCaveat},enumerable:!1,configurable:!0}),e.CeilingPOT=function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},e.FloorPOT=function(e){return e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,(e|=e>>16)-(e>>1)},e.NearestPOT=function(t){var n=e.CeilingPOT(t),r=e.FloorPOT(t);return n-t>t-r?r:n},e.GetExponentOfTwo=function(t,n,r){var o;switch(void 0===r&&(r=2),r){case 1:o=e.FloorPOT(t);break;case 2:o=e.NearestPOT(t);break;default:o=e.CeilingPOT(t)}return Math.min(o,n)},e.QueueNewFrame=function(e,t){return b()?(t||(t=window),t.requestPostAnimationFrame?t.requestPostAnimationFrame(e):t.requestAnimationFrame?t.requestAnimationFrame(e):t.msRequestAnimationFrame?t.msRequestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.mozRequestAnimationFrame?t.mozRequestAnimationFrame(e):t.oRequestAnimationFrame?t.oRequestAnimationFrame(e):window.setTimeout(e,16)):"undefined"!==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e,16)},e.prototype.getHostDocument=function(){return this._renderingCanvas&&this._renderingCanvas.ownerDocument?this._renderingCanvas.ownerDocument:document},e.ExceptionList=[{key:"Chrome/63.0",capture:"63\\.0\\.3239\\.(\\d+)",captureConstraint:108,targets:["uniformBuffer"]},{key:"Firefox/58",capture:null,captureConstraint:null,targets:["uniformBuffer"]},{key:"Firefox/59",capture:null,captureConstraint:null,targets:["uniformBuffer"]},{key:"Chrome/72.+?Mobile",capture:null,captureConstraint:null,targets:["vao"]},{key:"Chrome/73.+?Mobile",capture:null,captureConstraint:null,targets:["vao"]},{key:"Chrome/74.+?Mobile",capture:null,captureConstraint:null,targets:["vao"]},{key:"Mac OS.+Chrome/71",capture:null,captureConstraint:null,targets:["vao"]},{key:"Mac OS.+Chrome/72",capture:null,captureConstraint:null,targets:["vao"]}],e._TextureLoaders=[],e.CollisionsEpsilon=.001,e._IsSupported=null,e._HasMajorPerformanceCaveat=null,e}(),fe=function(e,t){return e?e.getClassName&&"Mesh"===e.getClassName()?null:e.getClassName&&"SubMesh"===e.getClassName()?e.clone(t):e.clone?e.clone():null:null};var he=function(){function e(){}return e.DeepCopy=function(e,t,n,r){for(var o=function(e){var t=[];do{Object.getOwnPropertyNames(e).forEach((function(e){-1===t.indexOf(e)&&t.push(e)}))}while(e=Object.getPrototypeOf(e));return t}(e),i=0,a=o;i<a.length;i++){var s=a[i];if(("_"!==s[0]||r&&-1!==r.indexOf(s))&&(!T(s,"Observable")&&(!n||-1===n.indexOf(s)))){var l=e[s],u=typeof l;if("function"!==u)try{if("object"===u)if(l instanceof Array){if(t[s]=[],l.length>0)if("object"==typeof l[0])for(var c=0;c<l.length;c++){var d=fe(l[c],t);-1===t[s].indexOf(d)&&t[s].push(d)}else t[s]=l.slice(0)}else t[s]=fe(l,t);else t[s]=l}catch(p){k.Warn(p.message)}}}},e}(),me=function(){function e(){}return Object.defineProperty(e,"Now",{get:function(){return S.IsWindowObjectExist()&&window.performance&&window.performance.now?window.performance.now():Date.now()},enumerable:!1,configurable:!0}),e}();var ge=function(){function e(){this._xhr="undefined"!==typeof _native&&_native.XMLHttpRequest?new _native.XMLHttpRequest:new XMLHttpRequest}return e.prototype._injectCustomRequestHeaders=function(){for(var t in e.CustomRequestHeaders){var n=e.CustomRequestHeaders[t];n&&this._xhr.setRequestHeader(t,n)}},Object.defineProperty(e.prototype,"onprogress",{get:function(){return this._xhr.onprogress},set:function(e){this._xhr.onprogress=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._xhr.readyState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._xhr.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statusText",{get:function(){return this._xhr.statusText},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._xhr.response},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"responseURL",{get:function(){return this._xhr.responseURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"responseText",{get:function(){return this._xhr.responseText},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"responseType",{get:function(){return this._xhr.responseType},set:function(e){this._xhr.responseType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeout",{get:function(){return this._xhr.timeout},set:function(e){this._xhr.timeout=e},enumerable:!1,configurable:!0}),e.prototype.addEventListener=function(e,t,n){this._xhr.addEventListener(e,t,n)},e.prototype.removeEventListener=function(e,t,n){this._xhr.removeEventListener(e,t,n)},e.prototype.abort=function(){this._xhr.abort()},e.prototype.send=function(t){e.CustomRequestHeaders&&this._injectCustomRequestHeaders(),this._xhr.send(t)},e.prototype.open=function(t,n){for(var r=0,o=e.CustomRequestModifiers;r<o.length;r++){(0,o[r])(this._xhr,n)}return n=(n=n.replace("file:http:","http:")).replace("file:https:","https:"),this._xhr.open(t,n,!0)},e.prototype.setRequestHeader=function(e,t){this._xhr.setRequestHeader(e,t)},e.prototype.getResponseHeader=function(e){return this._xhr.getResponseHeader(e)},e.CustomRequestHeaders={},e.CustomRequestModifiers=new Array,e}(),ve=function(){function e(){}return e.FilesToLoad={},e}(),ye=function(){function e(){}return e.ExponentialBackoff=function(e,t){return void 0===e&&(e=3),void 0===t&&(t=500),function(n,r,o){return 0!==r.status||o>=e||-1!==n.indexOf("file:")?-1:Math.pow(2,o)*t}},e}(),be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.C6)(t,e),t._setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t}(Error),xe=4e3,_e=4001,Ce=4002,we=function(e){function t(n,r,o){var i=e.call(this,n)||this;return i.errorCode=r,i.innerError=o,i.name="RuntimeError",be._setPrototypeOf(i,t.prototype),i}return(0,i.C6)(t,e),t}(be),Se=function(){function e(){}return e.SetImmediate=function(e){b()&&window.setImmediate?window.setImmediate(e):setTimeout(e,1)},e}(),ke=new RegExp(/^data:([^,]+\/[^,]+)?;base64,/i),Te=function(e){function t(n,r){var o=e.call(this,n,xe)||this;return o.name="LoadFileError",be._setPrototypeOf(o,t.prototype),r instanceof ge?o.request=r:o.file=r,o}return(0,i.C6)(t,e),t}(we),Ee=function(e){function t(n,r){var o=e.call(this,n,_e)||this;return o.request=r,o.name="RequestFileError",be._setPrototypeOf(o,t.prototype),o}return(0,i.C6)(t,e),t}(we),Pe=function(e){function t(n,r){var o=e.call(this,n,Ce)||this;return o.file=r,o.name="ReadFileError",be._setPrototypeOf(o,t.prototype),o}return(0,i.C6)(t,e),t}(we),Ie={DefaultRetryStrategy:ye.ExponentialBackoff(),BaseUrl:"",CorsBehavior:"anonymous",PreprocessUrl:function(e){return e}},Ae=function(e){return e=e.replace(/#/gm,"%23")},Re=function(e,t){if((!e||0!==e.indexOf("data:"))&&Ie.CorsBehavior)if("string"===typeof Ie.CorsBehavior||Ie.CorsBehavior instanceof String)t.crossOrigin=Ie.CorsBehavior;else{var n=Ie.CorsBehavior(e);n&&(t.crossOrigin=n)}},Le=function(e,t,n,r,o,a){var s,l;void 0===o&&(o="");var u=!1;e instanceof ArrayBuffer||ArrayBuffer.isView(e)?"undefined"!==typeof Blob?(l=URL.createObjectURL(new Blob([e],{type:o})),u=!0):l="data:".concat(o,";base64,")+P(e):e instanceof Blob?(l=URL.createObjectURL(e),u=!0):(l=Ae(e),l=Ie.PreprocessUrl(e));var c=J.LastCreatedEngine,d=function(t){if(n){var r=l||e.toString();n("Error while trying to load image: ".concat(0===r.indexOf("http")||r.length<=128?r:r.slice(0,128)+"..."),t)}};if("undefined"===typeof Image||null!==(s=null===c||void 0===c?void 0:c._features.forceBitmapOverHTMLImageElement)&&void 0!==s&&s)return Be(l,(function(r){c.createImageBitmap(new Blob([r],{type:o}),(0,i.Cl)({premultiplyAlpha:"none"},a)).then((function(e){t(e),u&&URL.revokeObjectURL(l)})).catch((function(t){n&&n("Error while trying to load image: "+e,t)}))}),void 0,r||void 0,!0,(function(e,t){d(t)})),null;var p=new Image;Re(l,p);var f=function(){p.removeEventListener("load",f),p.removeEventListener("error",h),t(p),u&&p.src&&URL.revokeObjectURL(p.src)},h=function(e){p.removeEventListener("load",f),p.removeEventListener("error",h),d(e),u&&p.src&&URL.revokeObjectURL(p.src)};p.addEventListener("load",f),p.addEventListener("error",h);var m=function(){p.src=l};if("blob:"!==l.substr(0,5)&&"data:"!==l.substr(0,5)&&r&&r.enableTexturesOffline)r.open((function(){r&&r.loadImage(l,p)}),m);else{if(-1!==l.indexOf("file:")){var g=decodeURIComponent(l.substring(5).toLowerCase());if(ve.FilesToLoad[g]){try{var v=void 0;try{v=URL.createObjectURL(ve.FilesToLoad[g])}catch(y){v=URL.createObjectURL(ve.FilesToLoad[g])}p.src=v,u=!0}catch(b){p.src=""}return p}}m()}return p},Me=function(e,t,n,r,o){var i=new FileReader,a={onCompleteObservable:new y,abort:function(){return i.abort()}};return i.onloadend=function(){return a.onCompleteObservable.notifyObservers(a)},o&&(i.onerror=function(){o(new Pe("Unable to read ".concat(e.name),e))}),i.onload=function(e){t(e.target.result)},n&&(i.onprogress=n),r?i.readAsArrayBuffer(e):i.readAsText(e),a},Be=function(e,t,n,r,o,i,a){if(e.name)return Me(e,t,n,o,i?function(e){i(void 0,e)}:void 0);var s=e;if(-1!==s.indexOf("file:")){var l=decodeURIComponent(s.substring(5).toLowerCase());0===l.indexOf("./")&&(l=l.substring(2));var u=ve.FilesToLoad[l];if(u)return Me(u,t,n,o,i?function(e){return i(void 0,new Te(e.message,e.file))}:void 0)}if(De(s)){var c={onCompleteObservable:new y,abort:function(){return function(){}}};try{t(o?Ne(s):ze(s))}catch(d){i?i(void 0,d):k.Error(d.message||"Failed to parse the Data URL")}return Se.SetImmediate((function(){c.onCompleteObservable.notifyObservers(c)})),c}return Oe(s,(function(e,n){t(e,n?n.responseURL:void 0)}),n,r,o,i?function(e){i(e.request,new Te(e.message,e.request))}:void 0,a)},Oe=function(e,t,n,r,o,i,a){e=Ae(e),e=Ie.PreprocessUrl(e);var s=Ie.BaseUrl+e,l=!1,u={onCompleteObservable:new y,abort:function(){return l=!0}},c=function(){var e,r=new ge,c=null,d=function(){r&&(n&&r.removeEventListener("progress",n),e&&r.removeEventListener("readystatechange",e),r.removeEventListener("loadend",p))},p=function(){d(),u.onCompleteObservable.notifyObservers(u),u.onCompleteObservable.clear(),n=void 0,e=null,p=null,i=void 0,a=void 0,t=void 0};u.abort=function(){l=!0,p&&p(),r&&r.readyState!==(XMLHttpRequest.DONE||4)&&r.abort(),null!==c&&(clearTimeout(c),c=null),r=null};var f=function(e){var t=e.message||"Unknown error";i&&r?i(new Ee(t,r)):k.Error(t)},h=function(u){if(r){if(r.open("GET",s),a)try{a(r)}catch(m){return void f(m)}o&&(r.responseType="arraybuffer"),n&&r.addEventListener("progress",n),p&&r.addEventListener("loadend",p),e=function(){if(!l&&r&&r.readyState===(XMLHttpRequest.DONE||4)){if(e&&r.removeEventListener("readystatechange",e),r.status>=200&&r.status<300||0===r.status&&(!b()||Fe())){try{t&&t(o?r.response:r.responseText,r)}catch(m){f(m)}return}var n=Ie.DefaultRetryStrategy;if(n){var a=n(s,r,u);if(-1!==a)return d(),r=new ge,void(c=setTimeout((function(){return h(u+1)}),a))}var p=new Ee("Error status: "+r.status+" "+r.statusText+" - Unable to load "+s,r);i&&i(p)}},r.addEventListener("readystatechange",e),r.send()}};h(0)};if(r&&r.enableSceneOffline){var d=function(e){e&&e.status>400?i&&i(e):c()};r.open((function(){r&&r.loadFile(Ie.BaseUrl+e,(function(e){!l&&t&&t(e),u.onCompleteObservable.notifyObservers(u)}),n?function(e){!l&&n&&n(e)}:void 0,d,o)}),d)}else c();return u},Fe=function(){return"undefined"!==typeof location&&"file:"===location.protocol},De=function(e){return ke.test(e)};function Ne(e){return A(e.split(",")[1])}var Ue,ze=function(e){return I(e.split(",")[1])};pe._FileToolsLoadImage=Le,pe._FileToolsLoadFile=Be,W._FileToolsLoadFile=Be;var je;!function(e,t,n,r,o,i,a,s,l,u){Ue={DecodeBase64UrlToBinary:e,DecodeBase64UrlToString:t,DefaultRetryStrategy:n.DefaultRetryStrategy,BaseUrl:n.BaseUrl,CorsBehavior:n.CorsBehavior,PreprocessUrl:n.PreprocessUrl,IsBase64DataUrl:r,IsFileURL:o,LoadFile:i,LoadImage:a,ReadFile:s,RequestFile:l,SetCorsBehavior:u},Object.defineProperty(Ue,"DefaultRetryStrategy",{get:function(){return n.DefaultRetryStrategy},set:function(e){n.DefaultRetryStrategy=e}}),Object.defineProperty(Ue,"BaseUrl",{get:function(){return n.BaseUrl},set:function(e){n.BaseUrl=e}}),Object.defineProperty(Ue,"PreprocessUrl",{get:function(){return n.PreprocessUrl},set:function(e){n.PreprocessUrl=e}}),Object.defineProperty(Ue,"CorsBehavior",{get:function(){return n.CorsBehavior},set:function(e){n.CorsBehavior=e}})}(Ne,ze,Ie,De,Fe,Be,Le,Me,Oe,Re),function(e){e[e.Pending=0]="Pending",e[e.Fulfilled=1]="Fulfilled",e[e.Rejected=2]="Rejected"}(je||(je={}));var Ve=function(){this.count=0,this.target=0,this.results=[]},We=function(){function e(e){var t=this;if(this._state=je.Pending,this._children=new Array,this._rejectWasConsumed=!1,e)try{e((function(e){t._resolve(e)}),(function(e){t._reject(e)}))}catch(n){this._reject(n)}}return Object.defineProperty(e.prototype,"_result",{get:function(){return this._resultValue},set:function(e){this._resultValue=e,this._parent&&void 0===this._parent._result&&(this._parent._result=e)},enumerable:!1,configurable:!0}),e.prototype.catch=function(e){return this.then(void 0,e)},e.prototype.then=function(t,n){var r=this,o=new e;return o._onFulfilled=t,o._onRejected=n,this._children.push(o),o._parent=this,this._state!==je.Pending&&setTimeout((function(){r._state===je.Fulfilled||r._rejectWasConsumed?o._resolve(r._result):o._reject(r._reason)})),o},e.prototype._moveChildren=function(e){var t,n=this;if((t=this._children).push.apply(t,e.splice(0,e.length)),this._children.forEach((function(e){e._parent=n})),this._state===je.Fulfilled)for(var r=0,o=this._children;r<o.length;r++){o[r]._resolve(this._result)}else if(this._state===je.Rejected)for(var i=0,a=this._children;i<a.length;i++){a[i]._reject(this._reason)}},e.prototype._resolve=function(e){try{this._state=je.Fulfilled;var t=null;if(this._onFulfilled&&(t=this._onFulfilled(e)),void 0!==t&&null!==t)if(void 0!==t._state){var n=t;n._parent=this,n._moveChildren(this._children),e=n._result}else e=t;this._result=e;for(var r=0,o=this._children;r<o.length;r++){o[r]._resolve(e)}this._children.length=0,delete this._onFulfilled,delete this._onRejected}catch(i){this._reject(i,!0)}},e.prototype._reject=function(e,t){if(void 0===t&&(t=!1),this._state=je.Rejected,this._reason=e,this._onRejected&&!t)try{this._onRejected(e),this._rejectWasConsumed=!0}catch(i){e=i}for(var n=0,r=this._children;n<r.length;n++){var o=r[n];this._rejectWasConsumed?o._resolve(null):o._reject(e)}this._children.length=0,delete this._onFulfilled,delete this._onRejected},e.resolve=function(t){var n=new e;return n._resolve(t),n},e._RegisterForFulfillment=function(e,t,n){e.then((function(e){return t.results[n]=e,t.count++,t.count===t.target&&t.rootPromise._resolve(t.results),null}),(function(e){t.rootPromise._state!==je.Rejected&&t.rootPromise._reject(e)}))},e.all=function(t){var n=new e,r=new Ve;if(r.target=t.length,r.rootPromise=n,t.length)for(var o=0;o<t.length;o++)e._RegisterForFulfillment(t[o],r,o);else n._resolve([]);return n},e.race=function(t){var n=new e;if(t.length)for(var r=0,o=t;r<o.length;r++){o[r].then((function(e){return n&&(n._resolve(e),n=null),null}),(function(e){n&&(n._reject(e),n=null)}))}return n},e}(),He=function(){function e(){}return e.Apply=function(e){(void 0===e&&(e=!1),e||"undefined"===typeof Promise)&&(window.Promise=We)},e}(),qe={};var Ke=function(){function e(){}return e.Instantiate=function(e){if(this.RegisteredExternalClasses&&this.RegisteredExternalClasses[e])return this.RegisteredExternalClasses[e];var t=qe[e];if(t)return t;k.Warn(e+" not found, you may have missed an import.");for(var n=e.split("."),r=window||this,o=0,i=n.length;o<i;o++)r=r[n[o]];return"function"!==typeof r?null:r},e.RegisteredExternalClasses={},e}();function Ge(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var Ze=function(){function e(){}return Object.defineProperty(e,"BaseUrl",{get:function(){return Ie.BaseUrl},set:function(e){Ie.BaseUrl=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DefaultRetryStrategy",{get:function(){return Ie.DefaultRetryStrategy},set:function(e){Ie.DefaultRetryStrategy=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CorsBehavior",{get:function(){return Ie.CorsBehavior},set:function(e){Ie.CorsBehavior=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UseFallbackTexture",{get:function(){return J.UseFallbackTexture},set:function(e){J.UseFallbackTexture=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"RegisteredExternalClasses",{get:function(){return Ke.RegisteredExternalClasses},set:function(e){Ke.RegisteredExternalClasses=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"fallbackTexture",{get:function(){return J.FallbackTexture},set:function(e){J.FallbackTexture=e},enumerable:!1,configurable:!0}),e.FetchToRef=function(e,t,n,r,o,i){var a=4*((Math.abs(e)*n%n|0)+(Math.abs(t)*r%r|0)*n);i.r=o[a]/255,i.g=o[a+1]/255,i.b=o[a+2]/255,i.a=o[a+3]/255},e.Mix=function(e,t,n){return e*(1-n)+t*n},e.Instantiate=function(e){return Ke.Instantiate(e)},e.Slice=function(e,t,n){return p.Slice(e,t,n)},e.SliceToArray=function(e,t,n){return p.SliceToArray(e,t,n)},e.SetImmediate=function(e){Se.SetImmediate(e)},e.IsExponentOfTwo=function(e){var t=1;do{t*=2}while(t<e);return t===e},e.FloatRound=function(t){return Math.fround?Math.fround(t):(e._TmpFloatArray[0]=t,e._TmpFloatArray[0])},e.GetFilename=function(e){var t=e.lastIndexOf("/");return t<0?e:e.substring(t+1)},e.GetFolderPath=function(e,t){void 0===t&&(t=!1);var n=e.lastIndexOf("/");return n<0?t?e:"":e.substring(0,n+1)},e.ToDegrees=function(e){return 180*e/Math.PI},e.ToRadians=function(e){return e*Math.PI/180},e.MakeArray=function(e,t){return!0===t||void 0!==e&&null!=e?Array.isArray(e)?e:[e]:null},e.GetPointerPrefix=function(e){var t="pointer";return b()&&!window.PointerEvent&&(t="mouse"),!e._badDesktopOS||e._badOS||document&&"ontouchend"in document||(t="mouse"),t},e.SetCorsBehavior=function(e,t){Re(e,t)},e.CleanUrl=function(e){return e=e.replace(/#/gm,"%23")},Object.defineProperty(e,"PreprocessUrl",{get:function(){return Ie.PreprocessUrl},set:function(e){Ie.PreprocessUrl=e},enumerable:!1,configurable:!0}),e.LoadImage=function(e,t,n,r,o,i){return Le(e,t,n,r,o,i)},e.LoadFile=function(e,t,n,r,o,i){return Be(e,t,n,r,o,i)},e.LoadFileAsync=function(e,t){return void 0===t&&(t=!0),new Promise((function(n,r){Be(e,(function(e){n(e)}),void 0,void 0,t,(function(e,t){r(t)}))}))},e.LoadScript=function(e,t,n,r){if(b()){var o=document.getElementsByTagName("head")[0],i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",e),r&&(i.id=r),i.onload=function(){t&&t()},i.onerror=function(t){n&&n("Unable to load script '".concat(e,"'"),t)},o.appendChild(i)}},e.LoadScriptAsync=function(e){var t=this;return new Promise((function(n,r){t.LoadScript(e,(function(){n()}),(function(e,t){r(t)}))}))},e.ReadFileAsDataURL=function(e,t,n){var r=new FileReader,o={onCompleteObservable:new y,abort:function(){return r.abort()}};return r.onloadend=function(){o.onCompleteObservable.notifyObservers(o)},r.onload=function(e){t(e.target.result)},r.onprogress=n,r.readAsDataURL(e),o},e.ReadFile=function(e,t,n,r,o){return Me(e,t,n,r,o)},e.FileAsURL=function(e){var t=new Blob([e]);return(window.URL||window.webkitURL).createObjectURL(t)},e.Format=function(e,t){return void 0===t&&(t=2),e.toFixed(t)},e.DeepCopy=function(e,t,n,r){he.DeepCopy(e,t,n,r)},e.IsEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},e.RegisterTopRootEvents=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.addEventListener(r.name,r.handler,!1);try{window.parent&&window.parent.addEventListener(r.name,r.handler,!1)}catch(o){}}},e.UnregisterTopRootEvents=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.removeEventListener(r.name,r.handler);try{e.parent&&e.parent.removeEventListener(r.name,r.handler)}catch(o){}}},e.DumpFramebuffer=function(t,n,r,o,a,s){return void 0===a&&(a="image/png"),(0,i.sH)(this,void 0,void 0,(function(){var l,u;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,r.readPixels(0,0,t,n)];case 1:return l=i.sent(),u=new Uint8Array(l.buffer),e.DumpData(t,n,u,o,a,s,!0),[2]}}))}))},e.DumpData=function(t,n,r,o,i,a,s,l,u){void 0===i&&(i="image/png"),void 0===s&&(s=!1),void 0===l&&(l=!1),e._ScreenshotCanvas||(e._ScreenshotCanvas=document.createElement("canvas")),e._ScreenshotCanvas.width=t,e._ScreenshotCanvas.height=n;var c=e._ScreenshotCanvas.getContext("2d");if(c){if(r instanceof Float32Array){for(var d=new Uint8Array(r.length),p=r.length;p--;){var f=r[p];d[p]=f<0?0:f>1?1:Math.round(255*f)}r=d}var h=c.createImageData(t,n);h.data.set(r),c.putImageData(h,0,0);var m=e._ScreenshotCanvas;if(s){var g=document.createElement("canvas");g.width=t,g.height=n;var v=g.getContext("2d");if(!v)return;v.translate(0,n),v.scale(1,-1),v.drawImage(e._ScreenshotCanvas,0,0),m=g}l?e.ToBlob(m,(function(e){var t=new FileReader;t.onload=function(e){var t=e.target.result;o&&o(t)},t.readAsArrayBuffer(e)}),i,u):e.EncodeScreenshotCanvasData(o,i,a,m,u)}},e.DumpDataAsync=function(t,n,r,o,i,a,s,l){return void 0===o&&(o="image/png"),void 0===a&&(a=!1),void 0===s&&(s=!1),new Promise((function(u){e.DumpData(t,n,r,(function(e){return u(e)}),o,i,a,s,l)}))},e.ToBlob=function(e,t,n,r){void 0===n&&(n="image/png"),e.toBlob||(e.toBlob=function(e,t,n){var r=this;setTimeout((function(){for(var o=atob(r.toDataURL(t,n).split(",")[1]),i=o.length,a=new Uint8Array(i),s=0;s<i;s++)a[s]=o.charCodeAt(s);e(new Blob([a]))}))}),e.toBlob((function(e){t(e)}),n,r)},e.EncodeScreenshotCanvasData=function(t,n,r,o,i){(void 0===n&&(n="image/png"),t)?t((null!==o&&void 0!==o?o:e._ScreenshotCanvas).toDataURL(n,i)):this.ToBlob(null!==o&&void 0!==o?o:e._ScreenshotCanvas,(function(t){if("download"in document.createElement("a")){if(!r){var n=new Date,o=(n.getFullYear()+"-"+(n.getMonth()+1)).slice(2)+"-"+n.getDate()+"_"+n.getHours()+"-"+("0"+n.getMinutes()).slice(-2);r="screenshot_"+o+".png"}e.Download(t,r)}else if(t){var i=URL.createObjectURL(t),a=window.open("");if(!a)return;var s=a.document.createElement("img");s.onload=function(){URL.revokeObjectURL(i)},s.src=i,a.document.body.appendChild(s)}}),n,i)},e.Download=function(e,t){if(navigator&&navigator.msSaveBlob)navigator.msSaveBlob(e,t);else{var n=window.URL.createObjectURL(e),r=document.createElement("a");document.body.appendChild(r),r.style.display="none",r.href=n,r.download=t,r.addEventListener("click",(function(){r.parentElement&&r.parentElement.removeChild(r)})),r.click(),window.URL.revokeObjectURL(n)}},e.BackCompatCameraNoPreventDefault=function(e){return"boolean"===typeof e[0]?e[0]:"boolean"===typeof e[1]&&e[1]},e.CreateScreenshot=function(e,t,n,r,o){throw void 0===o&&(o="image/png"),z("ScreenshotTools")},e.CreateScreenshotAsync=function(e,t,n,r){throw void 0===r&&(r="image/png"),z("ScreenshotTools")},e.CreateScreenshotUsingRenderTarget=function(e,t,n,r,o,i,a,s){throw void 0===o&&(o="image/png"),void 0===i&&(i=1),void 0===a&&(a=!1),z("ScreenshotTools")},e.CreateScreenshotUsingRenderTargetAsync=function(e,t,n,r,o,i,a){throw void 0===r&&(r="image/png"),void 0===o&&(o=1),void 0===i&&(i=!1),z("ScreenshotTools")},e.RandomId=function(){return Ge()},e.IsBase64=function(e){return De(e)},e.DecodeBase64=function(e){return Ne(e)},Object.defineProperty(e,"errorsCount",{get:function(){return k.errorsCount},enumerable:!1,configurable:!0}),e.Log=function(e){k.Log(e)},e.Warn=function(e){k.Warn(e)},e.Error=function(e){k.Error(e)},Object.defineProperty(e,"LogCache",{get:function(){return k.LogCache},enumerable:!1,configurable:!0}),e.ClearLogCache=function(){k.ClearLogCache()},Object.defineProperty(e,"LogLevels",{set:function(e){k.LogLevels=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"PerformanceLogLevel",{set:function(t){return(t&e.PerformanceUserMarkLogLevel)===e.PerformanceUserMarkLogLevel?(e.StartPerformanceCounter=e._StartUserMark,void(e.EndPerformanceCounter=e._EndUserMark)):(t&e.PerformanceConsoleLogLevel)===e.PerformanceConsoleLogLevel?(e.StartPerformanceCounter=e._StartPerformanceConsole,void(e.EndPerformanceCounter=e._EndPerformanceConsole)):(e.StartPerformanceCounter=e._StartPerformanceCounterDisabled,void(e.EndPerformanceCounter=e._EndPerformanceCounterDisabled))},enumerable:!1,configurable:!0}),e._StartPerformanceCounterDisabled=function(e,t){},e._EndPerformanceCounterDisabled=function(e,t){},e._StartUserMark=function(t,n){if(void 0===n&&(n=!0),!e._Performance){if(!b())return;e._Performance=window.performance}n&&e._Performance.mark&&e._Performance.mark(t+"-Begin")},e._EndUserMark=function(t,n){void 0===n&&(n=!0),n&&e._Performance.mark&&(e._Performance.mark(t+"-End"),e._Performance.measure(t,t+"-Begin",t+"-End"))},e._StartPerformanceConsole=function(t,n){void 0===n&&(n=!0),n&&(e._StartUserMark(t,n),console.time&&console.time(t))},e._EndPerformanceConsole=function(t,n){void 0===n&&(n=!0),n&&(e._EndUserMark(t,n),console.timeEnd(t))},Object.defineProperty(e,"Now",{get:function(){return me.Now},enumerable:!1,configurable:!0}),e.GetClassName=function(e,t){void 0===t&&(t=!1);var n=null;if(!t&&e.getClassName)n=e.getClassName();else{if(e instanceof Object)n=(t?e:Object.getPrototypeOf(e)).constructor.__bjsclassName__;n||(n=typeof e)}return n},e.First=function(e,t){for(var n=0,r=e;n<r.length;n++){var o=r[n];if(t(o))return o}return null},e.getFullClassName=function(e,t){void 0===t&&(t=!1);var n=null,r=null;if(!t&&e.getClassName)n=e.getClassName();else{if(e instanceof Object){var o=t?e:Object.getPrototypeOf(e);n=o.constructor.__bjsclassName__,r=o.constructor.__bjsmoduleName__}n||(n=typeof e)}return n?(null!=r?r+".":"")+n:null},e.DelayAsync=function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},e.IsSafari=function(){return!!x()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},e.UseCustomRequestHeaders=!1,e.CustomRequestHeaders=ge.CustomRequestHeaders,e._TmpFloatArray=new Float32Array(1),e.GetDOMTextContent=C,e.GetAbsoluteUrl="object"===typeof document?function(e){var t=document.createElement("a");return t.href=e,t.href}:"function"===typeof URL&&"object"===typeof location?function(e){return new URL(e,location.origin).href}:function(){throw new Error("Unable to get absolute URL. Override BABYLON.Tools.GetAbsoluteUrl to a custom implementation for the current context.")},e.NoneLogLevel=k.NoneLogLevel,e.MessageLogLevel=k.MessageLogLevel,e.WarningLogLevel=k.WarningLogLevel,e.ErrorLogLevel=k.ErrorLogLevel,e.AllLogLevel=k.AllLogLevel,e.IsWindowObjectExist=b,e.PerformanceNoneLogLevel=0,e.PerformanceUserMarkLogLevel=1,e.PerformanceConsoleLogLevel=2,e.StartPerformanceCounter=e._StartPerformanceCounterDisabled,e.EndPerformanceCounter=e._EndPerformanceCounterDisabled,e}();!function(){function e(e,t,n,r){void 0===r&&(r=0),this.iterations=e,this.index=r-1,this._done=!1,this._fn=t,this._successCallback=n}e.prototype.executeNext=function(){this._done||(this.index+1<this.iterations?(++this.index,this._fn(this)):this.breakLoop())},e.prototype.breakLoop=function(){this._done=!0,this._successCallback()},e.Run=function(t,n,r,o){void 0===o&&(o=0);var i=new e(t,n,r,o);return i.executeNext(),i},e.SyncAsyncForLoop=function(t,n,r,o,i,a){return void 0===a&&(a=0),e.Run(Math.ceil(t/n),(function(e){i&&i()?e.breakLoop():setTimeout((function(){for(var o=0;o<n;++o){var a=e.index*n+o;if(a>=t)break;if(r(a),i&&i()){e.breakLoop();break}}e.executeNext()}),a)}),o)}}();function Xe(e,t,n,r){var o,i=1;1===r?o=new Float32Array(t*n*4):2===r?(o=new Uint16Array(t*n*4),i=15360):o=7===r?new Uint32Array(t*n*4):new Uint8Array(t*n*4);for(var a=0;a<t;a++)for(var s=0;s<n;s++){var l=3*(s*t+a),u=4*(s*t+a);o[u+0]=e[l+0],o[u+1]=e[l+1],o[u+2]=e[l+2],o[u+3]=i}return o}function Ye(e){return function(t,n,r,o,i,a,s,l,u,c){void 0===u&&(u=null),void 0===c&&(c=0);var d=e?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D_ARRAY,p=e?X.Raw3D:X.Raw2DArray,f=new re(this,p);f.baseWidth=n,f.baseHeight=r,f.baseDepth=o,f.width=n,f.height=r,f.depth=o,f.format=i,f.type=c,f.generateMipMaps=a,f.samplingMode=l,e?f.is3D=!0:f.is2DArray=!0,this._doNotHandleContextLost||(f._bufferView=t),e?this.updateRawTexture3D(f,t,i,s,u,c):this.updateRawTexture2DArray(f,t,i,s,u,c),this._bindTextureDirectly(d,f,!0);var h=this._getSamplingParameters(l,a);return this._gl.texParameteri(d,this._gl.TEXTURE_MAG_FILTER,h.mag),this._gl.texParameteri(d,this._gl.TEXTURE_MIN_FILTER,h.min),a&&this._gl.generateMipmap(d),this._bindTextureDirectly(d,null),this._internalTexturesCache.push(f),f}}function Qe(e){return function(t,n,r,o,i,a){void 0===i&&(i=null),void 0===a&&(a=0);var s=e?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D_ARRAY,l=this._getWebGLTextureType(a),u=this._getInternalFormat(r),c=this._getRGBABufferInternalSizedFormat(a,r);this._bindTextureDirectly(s,t,!0),this._unpackFlipY(void 0===o||!!o),this._doNotHandleContextLost||(t._bufferView=n,t.format=r,t.invertY=o,t._compression=i),t.width%4!==0&&this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,1),i&&n?this._gl.compressedTexImage3D(s,0,this.getCaps().s3tc[i],t.width,t.height,t.depth,0,n):this._gl.texImage3D(s,0,c,t.width,t.height,t.depth,0,u,l,n),t.generateMipMaps&&this._gl.generateMipmap(s),this._bindTextureDirectly(s,null),t.isReady=!0}}J.FallbackTexture="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBmRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAAQAAAATgAAAAAAAABgAAAAAQAAAGAAAAABcGFpbnQubmV0IDQuMC41AP/bAEMABAIDAwMCBAMDAwQEBAQFCQYFBQUFCwgIBgkNCw0NDQsMDA4QFBEODxMPDAwSGBITFRYXFxcOERkbGRYaFBYXFv/bAEMBBAQEBQUFCgYGChYPDA8WFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFv/AABEIAQABAAMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APH6KKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76P//Z",He.Apply(),pe.prototype.updateRawTexture=function(e,t,n,r,o,i){if(void 0===o&&(o=null),void 0===i&&(i=0),e){var a=this._getRGBABufferInternalSizedFormat(i,n),s=this._getInternalFormat(n),l=this._getWebGLTextureType(i);this._bindTextureDirectly(this._gl.TEXTURE_2D,e,!0),this._unpackFlipY(void 0===r||!!r),this._doNotHandleContextLost||(e._bufferView=t,e.format=n,e.type=i,e.invertY=r,e._compression=o),e.width%4!==0&&this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,1),o&&t?this._gl.compressedTexImage2D(this._gl.TEXTURE_2D,0,this.getCaps().s3tc[o],e.width,e.height,0,t):this._gl.texImage2D(this._gl.TEXTURE_2D,0,a,e.width,e.height,0,s,l,t),e.generateMipMaps&&this._gl.generateMipmap(this._gl.TEXTURE_2D),this._bindTextureDirectly(this._gl.TEXTURE_2D,null),e.isReady=!0}},pe.prototype.createRawTexture=function(e,t,n,r,o,i,a,s,l,u){void 0===s&&(s=null),void 0===l&&(l=0),void 0===u&&(u=0);var c=new re(this,X.Raw);c.baseWidth=t,c.baseHeight=n,c.width=t,c.height=n,c.format=r,c.generateMipMaps=o,c.samplingMode=a,c.invertY=i,c._compression=s,c.type=l,this._doNotHandleContextLost||(c._bufferView=e),this.updateRawTexture(c,e,r,i,s,l),this._bindTextureDirectly(this._gl.TEXTURE_2D,c,!0);var d=this._getSamplingParameters(a,o);return this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,d.mag),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,d.min),o&&this._gl.generateMipmap(this._gl.TEXTURE_2D),this._bindTextureDirectly(this._gl.TEXTURE_2D,null),this._internalTexturesCache.push(c),c},pe.prototype.createRawCubeTexture=function(e,t,n,r,o,i,a,s){void 0===s&&(s=null);var l=this._gl,u=new re(this,X.CubeRaw);u.isCube=!0,u.format=n,u.type=r,this._doNotHandleContextLost||(u._bufferViewArray=e);var c=this._getWebGLTextureType(r),d=this._getInternalFormat(n);d===l.RGB&&(d=l.RGBA),c!==l.FLOAT||this._caps.textureFloatLinearFiltering?c!==this._gl.HALF_FLOAT_OES||this._caps.textureHalfFloatLinearFiltering?c!==l.FLOAT||this._caps.textureFloatRender?c!==l.HALF_FLOAT||this._caps.colorBufferFloat||(o=!1,k.Warn("Render to half float textures is not supported. Mipmap generation forced to false.")):(o=!1,k.Warn("Render to float textures is not supported. Mipmap generation forced to false.")):(o=!1,a=1,k.Warn("Half float texture filtering is not supported. Mipmap generation and sampling mode are forced to false and TEXTURE_NEAREST_SAMPLINGMODE, respectively.")):(o=!1,a=1,k.Warn("Float texture filtering is not supported. Mipmap generation and sampling mode are forced to false and TEXTURE_NEAREST_SAMPLINGMODE, respectively."));var p=t,f=p;u.width=p,u.height=f,!this.needPOTTextures||Ze.IsExponentOfTwo(u.width)&&Ze.IsExponentOfTwo(u.height)||(o=!1),e&&this.updateRawCubeTexture(u,e,n,r,i,s),this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP,u,!0),e&&o&&this._gl.generateMipmap(this._gl.TEXTURE_CUBE_MAP);var h=this._getSamplingParameters(a,o);return l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_MAG_FILTER,h.mag),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_MIN_FILTER,h.min),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),this._bindTextureDirectly(l.TEXTURE_CUBE_MAP,null),u.generateMipMaps=o,u.samplingMode=a,u},pe.prototype.updateRawCubeTexture=function(e,t,n,r,o,i,a){void 0===i&&(i=null),void 0===a&&(a=0),e._bufferViewArray=t,e.format=n,e.type=r,e.invertY=o,e._compression=i;var s=this._gl,l=this._getWebGLTextureType(r),u=this._getInternalFormat(n),c=this._getRGBABufferInternalSizedFormat(r),d=!1;u===s.RGB&&(u=s.RGBA,d=!0),this._bindTextureDirectly(s.TEXTURE_CUBE_MAP,e,!0),this._unpackFlipY(void 0===o||!!o),e.width%4!==0&&s.pixelStorei(s.UNPACK_ALIGNMENT,1);for(var p=0;p<6;p++){var f=t[p];i?s.compressedTexImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+p,a,this.getCaps().s3tc[i],e.width,e.height,0,f):(d&&(f=Xe(f,e.width,e.height,r)),s.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+p,a,c,e.width,e.height,0,u,l,f))}(!this.needPOTTextures||Ze.IsExponentOfTwo(e.width)&&Ze.IsExponentOfTwo(e.height))&&e.generateMipMaps&&0===a&&this._gl.generateMipmap(this._gl.TEXTURE_CUBE_MAP),this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP,null),e.isReady=!0},pe.prototype.createRawCubeTextureFromUrl=function(e,t,n,r,o,i,a,s,l,u,c,d){var p=this;void 0===l&&(l=null),void 0===u&&(u=null),void 0===c&&(c=3),void 0===d&&(d=!1);var f=this._gl,h=this.createRawCubeTexture(null,n,r,o,!i,d,c,null);null===t||void 0===t||t._addPendingData(h),h.url=e,this._internalTexturesCache.push(h);return this._loadFile(e,(function(e){!function(e){var n=h.width,i=a(e);if(i){if(s){var u=p._getWebGLTextureType(o),c=p._getInternalFormat(r),m=p._getRGBABufferInternalSizedFormat(o),g=!1;c===f.RGB&&(c=f.RGBA,g=!0),p._bindTextureDirectly(f.TEXTURE_CUBE_MAP,h,!0),p._unpackFlipY(!1);for(var v=s(i),y=0;y<v.length;y++)for(var b=n>>y,x=0;x<6;x++){var _=v[y][x];g&&(_=Xe(_,b,b,o)),f.texImage2D(x,y,m,b,b,0,c,u,_)}p._bindTextureDirectly(f.TEXTURE_CUBE_MAP,null)}else p.updateRawCubeTexture(h,i,r,o,d);h.isReady=!0,null===t||void 0===t||t._removePendingData(h),l&&l()}}(e)}),void 0,null===t||void 0===t?void 0:t.offlineProvider,!0,(function(e,n){null===t||void 0===t||t._removePendingData(h),u&&e&&u(e.status+" "+e.statusText,n)})),h},pe.prototype.createRawTexture2DArray=Ye(!1),pe.prototype.createRawTexture3D=Ye(!0),pe.prototype.updateRawTexture2DArray=Qe(!1),pe.prototype.updateRawTexture3D=Qe(!0),pe.prototype.setAlphaConstants=function(e,t,n,r){this._alphaState.setAlphaBlendConstants(e,t,n,r)},pe.prototype.setAlphaMode=function(e,t){if(void 0===t&&(t=!1),this._alphaMode!==e){switch(e){case 0:this._alphaState.alphaBlend=!1;break;case 7:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 8:case 14:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA),this._alphaState.alphaBlend=!0;break;case 2:this._alphaState.setAlphaBlendFunctionParameters(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 6:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE,this._gl.ZERO,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 1:this._alphaState.setAlphaBlendFunctionParameters(this._gl.SRC_ALPHA,this._gl.ONE,this._gl.ZERO,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 3:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ZERO,this._gl.ONE_MINUS_SRC_COLOR,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 4:this._alphaState.setAlphaBlendFunctionParameters(this._gl.DST_COLOR,this._gl.ZERO,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 5:this._alphaState.setAlphaBlendFunctionParameters(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_COLOR,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 9:this._alphaState.setAlphaBlendFunctionParameters(this._gl.CONSTANT_COLOR,this._gl.ONE_MINUS_CONSTANT_COLOR,this._gl.CONSTANT_ALPHA,this._gl.ONE_MINUS_CONSTANT_ALPHA),this._alphaState.alphaBlend=!0;break;case 10:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE_MINUS_SRC_COLOR,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA),this._alphaState.alphaBlend=!0;break;case 11:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 12:this._alphaState.setAlphaBlendFunctionParameters(this._gl.DST_ALPHA,this._gl.ONE,this._gl.ZERO,this._gl.ZERO),this._alphaState.alphaBlend=!0;break;case 13:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE_MINUS_DST_COLOR,this._gl.ONE_MINUS_SRC_COLOR,this._gl.ONE_MINUS_DST_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._alphaState.alphaBlend=!0;break;case 15:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE,this._gl.ONE,this._gl.ZERO),this._alphaState.alphaBlend=!0;break;case 16:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE_MINUS_DST_COLOR,this._gl.ONE_MINUS_SRC_COLOR,this._gl.ZERO,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 17:this._alphaState.setAlphaBlendFunctionParameters(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA),this._alphaState.alphaBlend=!0}t||(this.depthCullingState.depthMask=0===e),this._alphaMode=e}},pe.prototype.getAlphaMode=function(){return this._alphaMode},pe.prototype.setAlphaEquation=function(e){if(this._alphaEquation!==e){switch(e){case 0:this._alphaState.setAlphaEquationParameters(32774,32774);break;case 1:this._alphaState.setAlphaEquationParameters(32778,32778);break;case 2:this._alphaState.setAlphaEquationParameters(32779,32779);break;case 3:this._alphaState.setAlphaEquationParameters(32776,32776);break;case 4:this._alphaState.setAlphaEquationParameters(32775,32775);break;case 5:this._alphaState.setAlphaEquationParameters(32775,32774)}this._alphaEquation=e}},pe.prototype.getAlphaEquation=function(){return this._alphaEquation},pe.prototype.updateDynamicIndexBuffer=function(e,t,n){var r;void 0===n&&(n=0),this._currentBoundBuffer[this._gl.ELEMENT_ARRAY_BUFFER]=null,this.bindIndexBuffer(e),r=t instanceof Uint16Array||t instanceof Uint32Array?t:e.is32Bits?new Uint32Array(t):new Uint16Array(t),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,r,this._gl.DYNAMIC_DRAW),this._resetIndexBufferBinding()},pe.prototype.updateDynamicVertexBuffer=function(e,t,n,r){this.bindArrayBuffer(e),void 0===n&&(n=0);var o=t.byteLength||t.length;void 0===r||r>=o&&0===n?t instanceof Array?this._gl.bufferSubData(this._gl.ARRAY_BUFFER,n,new Float32Array(t)):this._gl.bufferSubData(this._gl.ARRAY_BUFFER,n,t):t instanceof Array?this._gl.bufferSubData(this._gl.ARRAY_BUFFER,0,new Float32Array(t).subarray(n,n+r)):(t=t instanceof ArrayBuffer?new Uint8Array(t,n,r):new Uint8Array(t.buffer,t.byteOffset+n,r),this._gl.bufferSubData(this._gl.ARRAY_BUFFER,0,t)),this._resetVertexBufferBinding()},pe.prototype.createDynamicTexture=function(e,t,n,r){var o=new re(this,X.Dynamic);return o.baseWidth=e,o.baseHeight=t,n&&(e=this.needPOTTextures?pe.GetExponentOfTwo(e,this._caps.maxTextureSize):e,t=this.needPOTTextures?pe.GetExponentOfTwo(t,this._caps.maxTextureSize):t),o.width=e,o.height=t,o.isReady=!1,o.generateMipMaps=n,o.samplingMode=r,this.updateTextureSamplingMode(r,o),this._internalTexturesCache.push(o),o},pe.prototype.updateDynamicTexture=function(e,t,n,r,o,i,a){if(void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===a&&(a=!1),e){var s=this._gl,l=s.TEXTURE_2D,u=this._bindTextureDirectly(l,e,!0,i);this._unpackFlipY(void 0===n?e.invertY:n),r&&s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1);var c=this._getWebGLTextureType(e.type),d=this._getInternalFormat(o||e.format),p=this._getRGBABufferInternalSizedFormat(e.type,d);s.texImage2D(l,0,p,d,c,t),e.generateMipMaps&&s.generateMipmap(l),u||this._bindTextureDirectly(l,null),r&&s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),e.isReady=!0}},pe.prototype._readTexturePixelsSync=function(e,t,n,r,o,i,a,s,l,u){var c,d;void 0===r&&(r=-1),void 0===o&&(o=0),void 0===i&&(i=null),void 0===a&&(a=!0),void 0===s&&(s=!1),void 0===l&&(l=0),void 0===u&&(u=0);var p=this._gl;if(!p)throw new Error("Engine does not have gl rendering context.");if(!this._dummyFramebuffer){var f=p.createFramebuffer();if(!f)throw new Error("Unable to create dummy framebuffer");this._dummyFramebuffer=f}p.bindFramebuffer(p.FRAMEBUFFER,this._dummyFramebuffer),r>-1?p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_CUBE_MAP_POSITIVE_X+r,null===(c=e._hardwareTexture)||void 0===c?void 0:c.underlyingResource,o):p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,null===(d=e._hardwareTexture)||void 0===d?void 0:d.underlyingResource,o);var h=void 0!==e.type?this._getWebGLTextureType(e.type):p.UNSIGNED_BYTE;if(s)i||(i=function(e,t,n,r){switch(void 0===n&&(n=!1),e){case 3:var o=(ArrayBuffer,new Int8Array(t));return r&&o.set(new Int8Array(r)),o;case 0:var i=(ArrayBuffer,new Uint8Array(t));return r&&i.set(new Uint8Array(r)),i;case 4:var a=t instanceof ArrayBuffer?new Int16Array(t):new Int16Array(n?t/2:t);return r&&a.set(new Int16Array(r)),a;case 5:case 8:case 9:case 10:case 2:var s=t instanceof ArrayBuffer?new Uint16Array(t):new Uint16Array(n?t/2:t);return r&&s.set(new Uint16Array(r)),s;case 6:var l=t instanceof ArrayBuffer?new Int32Array(t):new Int32Array(n?t/4:t);return r&&l.set(new Int32Array(r)),l;case 7:case 11:case 12:case 13:case 14:case 15:var u=t instanceof ArrayBuffer?new Uint32Array(t):new Uint32Array(n?t/4:t);return r&&u.set(new Uint32Array(r)),u;case 1:var c=t instanceof ArrayBuffer?new Float32Array(t):new Float32Array(n?t/4:t);return r&&c.set(new Float32Array(r)),c}var d=(ArrayBuffer,new Uint8Array(t));return r&&d.set(new Uint8Array(r)),d}(e.type,4*t*n));else if(h===p.UNSIGNED_BYTE)i||(i=new Uint8Array(4*t*n)),h=p.UNSIGNED_BYTE;else i||(i=new Float32Array(4*t*n)),h=p.FLOAT;return a&&this.flushFramebuffer(),p.readPixels(l,u,t,n,p.RGBA,h,i),p.bindFramebuffer(p.FRAMEBUFFER,this._currentFramebuffer),i},pe.prototype._readTexturePixels=function(e,t,n,r,o,i,a,s,l,u){return void 0===r&&(r=-1),void 0===o&&(o=0),void 0===i&&(i=null),void 0===a&&(a=!0),void 0===s&&(s=!1),void 0===l&&(l=0),void 0===u&&(u=0),Promise.resolve(this._readTexturePixelsSync(e,t,n,r,o,i,a,s,l,u))};var Je=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a._framebuffer=null,a._depthStencilBuffer=null,a._MSAAFramebuffer=null,a._colorTextureArray=null,a._depthStencilTextureArray=null,a._context=i,a}return(0,i.C6)(t,e),t.prototype._cloneRenderTargetWrapper=function(){var t=null;return this._colorTextureArray&&this._depthStencilTextureArray?(t=this._engine.createMultiviewRenderTargetTexture(this.width,this.height)).texture.isReady=!0:t=e.prototype._cloneRenderTargetWrapper.call(this),t},t.prototype._swapRenderTargetWrapper=function(t){e.prototype._swapRenderTargetWrapper.call(this,t),t._framebuffer=this._framebuffer,t._depthStencilBuffer=this._depthStencilBuffer,t._MSAAFramebuffer=this._MSAAFramebuffer,t._colorTextureArray=this._colorTextureArray,t._depthStencilTextureArray=this._depthStencilTextureArray,this._framebuffer=this._depthStencilBuffer=this._MSAAFramebuffer=this._colorTextureArray=this._depthStencilTextureArray=null},t.prototype._shareDepth=function(t){e.prototype._shareDepth.call(this,t);var n=this._context,r=this._depthStencilBuffer,o=t._framebuffer;t._depthStencilBuffer&&n.deleteRenderbuffer(t._depthStencilBuffer),t._depthStencilBuffer=this._depthStencilBuffer,this._engine._bindUnboundFramebuffer(o),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,r),this._engine._bindUnboundFramebuffer(null)},t.prototype._bindTextureRenderTarget=function(e,t,n,r){if(void 0===t&&(t=0),void 0===n&&(n=-1),void 0===r&&(r=0),e._hardwareTexture){var o=this._context,i=this._framebuffer,a=this._engine._currentFramebuffer;this._engine._bindUnboundFramebuffer(i);var s=o[this._engine.webGLVersion>1?"COLOR_ATTACHMENT"+t:"COLOR_ATTACHMENT"+t+"_WEBGL"],l=-1!==n?o.TEXTURE_CUBE_MAP_POSITIVE_X+n:o.TEXTURE_2D;o.framebufferTexture2D(o.FRAMEBUFFER,s,l,e._hardwareTexture.underlyingResource,r),this._engine._bindUnboundFramebuffer(a)}},t.prototype.setTexture=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=!0),e.prototype.setTexture.call(this,t,n,r),this._bindTextureRenderTarget(t,n)},t.prototype.dispose=function(t){void 0===t&&(t=!1);var n=this._context;t||(this._colorTextureArray&&(this._context.deleteTexture(this._colorTextureArray),this._colorTextureArray=null),this._depthStencilTextureArray&&(this._context.deleteTexture(this._depthStencilTextureArray),this._depthStencilTextureArray=null)),this._framebuffer&&(n.deleteFramebuffer(this._framebuffer),this._framebuffer=null),this._depthStencilBuffer&&(n.deleteRenderbuffer(this._depthStencilBuffer),this._depthStencilBuffer=null),this._MSAAFramebuffer&&(n.deleteFramebuffer(this._MSAAFramebuffer),this._MSAAFramebuffer=null),e.prototype.dispose.call(this,t)},t}(function(){function e(e,t,n,r){this._textures=null,this._attachments=null,this._generateStencilBuffer=!1,this._generateDepthBuffer=!1,this._depthStencilTextureWithStencil=!1,this._isMulti=e,this._isCube=t,this._size=n,this._engine=r,this._depthStencilTexture=null}return Object.defineProperty(e.prototype,"depthStencilTexture",{get:function(){return this._depthStencilTexture},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthStencilTextureWithStencil",{get:function(){return this._depthStencilTextureWithStencil},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCube",{get:function(){return this._isCube},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMulti",{get:function(){return this._isMulti},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is2DArray",{get:function(){return this.layers>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._size.width||this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._size.height||this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layers",{get:function(){return this._size.layers||0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){var e,t;return null!==(t=null===(e=this._textures)||void 0===e?void 0:e[0])&&void 0!==t?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"samples",{get:function(){var e,t;return null!==(t=null===(e=this.texture)||void 0===e?void 0:e.samples)&&void 0!==t?t:1},enumerable:!1,configurable:!0}),e.prototype.setSamples=function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=!1),this.samples!==e||n?this._isMulti?this._engine.updateMultipleRenderTargetTextureSampleCount(this,e,t):this._engine.updateRenderTargetTextureSampleCount(this,e):e},e.prototype.setTextures=function(e){Array.isArray(e)?this._textures=e:this._textures=e?[e]:null},e.prototype.setTexture=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=!0),this._textures||(this._textures=[]),this._textures[t]&&n&&this._textures[t].dispose(),this._textures[t]=e},e.prototype.createDepthStencilTexture=function(e,t,n,r,o){var i;return void 0===e&&(e=0),void 0===t&&(t=!0),void 0===n&&(n=!1),void 0===r&&(r=1),void 0===o&&(o=14),null===(i=this._depthStencilTexture)||void 0===i||i.dispose(),this._depthStencilTextureWithStencil=n,this._depthStencilTexture=this._engine.createDepthStencilTexture(this._size,{bilinearFiltering:t,comparisonFunction:e,generateStencil:n,isCube:this._isCube,samples:r,depthTextureFormat:o},this),this._depthStencilTexture},e.prototype._shareDepth=function(e){this._depthStencilTexture&&(e._depthStencilTexture&&e._depthStencilTexture.dispose(),e._depthStencilTexture=this._depthStencilTexture,this._depthStencilTexture.incrementReferences())},e.prototype._swapAndDie=function(e){this.texture&&this.texture._swapAndDie(e),this._textures=null,this.dispose(!0)},e.prototype._cloneRenderTargetWrapper=function(){var e,t,n,r,o,i,a=null;if(this._isMulti){var s=this.textures;if(s&&s.length>0){var l=!1,u=s.length,c=s[s.length-1]._source;c!==X.Depth&&c!==X.DepthStencil||(l=!0,u--);for(var d=[],p=[],f=0;f<u;++f){var h=s[f];d.push(h.samplingMode),p.push(h.type)}var m={samplingModes:d,generateMipMaps:s[0].generateMipMaps,generateDepthBuffer:this._generateDepthBuffer,generateStencilBuffer:this._generateStencilBuffer,generateDepthTexture:l,types:p,textureCount:u},g={width:this.width,height:this.height};a=this._engine.createMultipleRenderTarget(g,m)}}else{var v={};if(v.generateDepthBuffer=this._generateDepthBuffer,v.generateMipMaps=null!==(t=null===(e=this.texture)||void 0===e?void 0:e.generateMipMaps)&&void 0!==t&&t,v.generateStencilBuffer=this._generateStencilBuffer,v.samplingMode=null===(n=this.texture)||void 0===n?void 0:n.samplingMode,v.type=null===(r=this.texture)||void 0===r?void 0:r.type,v.format=null===(o=this.texture)||void 0===o?void 0:o.format,this.isCube)a=this._engine.createRenderTargetCubeTexture(this.width,v);else{g={width:this.width,height:this.height,layers:this.is2DArray?null===(i=this.texture)||void 0===i?void 0:i.depth:void 0};a=this._engine.createRenderTargetTexture(g,v)}a.texture.isReady=!0}return a},e.prototype._swapRenderTargetWrapper=function(e){if(this._textures&&e._textures)for(var t=0;t<this._textures.length;++t)this._textures[t]._swapAndDie(e._textures[t],!1),e._textures[t].isReady=!0;this._depthStencilTexture&&e._depthStencilTexture&&(this._depthStencilTexture._swapAndDie(e._depthStencilTexture),e._depthStencilTexture.isReady=!0),this._textures=null,this._depthStencilTexture=null},e.prototype._rebuild=function(){var e=this._cloneRenderTargetWrapper();if(e){if(this._depthStencilTexture){var t=this._depthStencilTexture.samplingMode,n=2===t||3===t||11===t;e.createDepthStencilTexture(this._depthStencilTexture._comparisonFunction,n,this._depthStencilTextureWithStencil,this._depthStencilTexture.samples)}this.samples>1&&e.setSamples(this.samples),e._swapRenderTargetWrapper(this),e.dispose()}},e.prototype.releaseTextures=function(){var e,t;if(this._textures)for(var n=0;null!==(t=n<(null===(e=this._textures)||void 0===e?void 0:e.length))&&void 0!==t&&t;++n)this._textures[n].dispose();this._textures=null},e.prototype.dispose=function(e){var t;void 0===e&&(e=!1),e||(null===(t=this._depthStencilTexture)||void 0===t||t.dispose(),this._depthStencilTexture=null,this.releaseTextures()),this._engine._releaseRenderTargetWrapper(this)},e}());pe.prototype._createHardwareRenderTargetWrapper=function(e,t,n){var r=new Je(e,t,n,this,this._gl);return this._renderTargetWrapperCache.push(r),r},pe.prototype.createRenderTargetTexture=function(e,t){var n=this._createHardwareRenderTargetWrapper(!1,!1,e),r={};void 0!==t&&"object"===typeof t?(r.generateDepthBuffer=!!t.generateDepthBuffer,r.generateStencilBuffer=!!t.generateStencilBuffer):(r.generateDepthBuffer=!0,r.generateStencilBuffer=!1);var o=this._createInternalTexture(e,t,!0,X.RenderTarget),i=e.width||e,a=e.height||e,s=this._currentFramebuffer,l=this._gl,u=l.createFramebuffer();return this._bindUnboundFramebuffer(u),n._depthStencilBuffer=this._setupFramebufferDepthAttachments(!!r.generateStencilBuffer,r.generateDepthBuffer,i,a),o.is2DArray||l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,o._hardwareTexture.underlyingResource,0),this._bindUnboundFramebuffer(s),n._framebuffer=u,n._generateDepthBuffer=r.generateDepthBuffer,n._generateStencilBuffer=!!r.generateStencilBuffer,n.setTextures(o),n},pe.prototype.createDepthStencilTexture=function(e,t,n){if(t.isCube){var r=e.width||e;return this._createDepthStencilCubeTexture(r,t,n)}return this._createDepthStencilTexture(e,t,n)},pe.prototype._createDepthStencilTexture=function(e,t,n){var r=this._gl,o=e.layers||0,a=0!==o?r.TEXTURE_2D_ARRAY:r.TEXTURE_2D,s=new re(this,X.DepthStencil);if(!this._caps.depthTextureExtension)return k.Error("Depth texture is not supported by your browser or hardware."),s;var l=(0,i.Cl)({bilinearFiltering:!1,comparisonFunction:0,generateStencil:!1},t);this._bindTextureDirectly(a,s,!0),this._setupDepthStencilTexture(s,e,l.generateStencil,0!==l.comparisonFunction&&l.bilinearFiltering,l.comparisonFunction),s.format=l.generateStencil?13:16,n._depthStencilTexture=s,n._depthStencilTextureWithStencil=l.generateStencil;var u=l.generateStencil?r.UNSIGNED_INT_24_8:r.UNSIGNED_INT,c=l.generateStencil?r.DEPTH_STENCIL:r.DEPTH_COMPONENT,d=c;return this.webGLVersion>1&&(d=l.generateStencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24),s.is2DArray?r.texImage3D(a,0,d,s.width,s.height,o,0,c,u,null):r.texImage2D(a,0,d,s.width,s.height,0,c,u,null),this._bindTextureDirectly(a,null),this._internalTexturesCache.push(s),s},pe.prototype.updateRenderTargetTextureSampleCount=function(e,t){if(this.webGLVersion<2||!e||!e.texture)return 1;if(e.samples===t)return t;var n=this._gl;t=Math.min(t,this.getCaps().maxMSAASamples),e._depthStencilBuffer&&(n.deleteRenderbuffer(e._depthStencilBuffer),e._depthStencilBuffer=null),e._MSAAFramebuffer&&(n.deleteFramebuffer(e._MSAAFramebuffer),e._MSAAFramebuffer=null);var r=e.texture._hardwareTexture;if(r._MSAARenderBuffer&&(n.deleteRenderbuffer(r._MSAARenderBuffer),r._MSAARenderBuffer=null),t>1&&n.renderbufferStorageMultisample){var o=n.createFramebuffer();if(!o)throw new Error("Unable to create multi sampled framebuffer");e._MSAAFramebuffer=o,this._bindUnboundFramebuffer(e._MSAAFramebuffer);var i=this._createRenderBuffer(e.texture.width,e.texture.height,t,-1,this._getRGBAMultiSampleBufferFormat(e.texture.type),n.COLOR_ATTACHMENT0,!1);if(!i)throw new Error("Unable to create multi sampled framebuffer");r._MSAARenderBuffer=i}else this._bindUnboundFramebuffer(e._framebuffer);return e.texture.samples=t,e._depthStencilBuffer=this._setupFramebufferDepthAttachments(e._generateStencilBuffer,e._generateDepthBuffer,e.texture.width,e.texture.height,t),this._bindUnboundFramebuffer(null),t}},71654:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,Q:()=>a});var r=n(32e3),o=n(85655),i=n(50608);function a(e,t){var n,a,s,l,u={toolbarButton:{},activeToolbarIcon:{backgroundColor:e.palette.neutralTertiaryAlt},toolbarIcon:{width:i.mS,height:i.mS,"&:hover":(n={backgroundColor:e.palette.neutralTertiaryAlt},n[".".concat(o.s4)]={top:"-4px"},n),"&:active":(a={backgroundColor:e.palette.neutralTertiaryAlt},a[".".concat(o.s4)]={top:"-4px"},a)},toolbarIconDisabled:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"}},activeSVGIcon:(s={},s[".".concat(o.s4)]={top:"-4px"},s),SVGIcon:(l={},l[".".concat(o.s4)]={top:"5px",position:"absolute",transition:"top 0.05s ease-in-out"},l),toolbarTooltip:{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.14), 0px 0px 2px rgba(0, 0, 0, 0.12)"}};return(0,r.TW)(u,t)}function s(e,t){var n={toolbarButton:{},activeToolbarIcon:{backgroundColor:e.palette.neutralQuaternaryAlt},toolbarIcon:{width:i.mS,height:i.mS,"&:active":{backgroundColor:e.palette.neutralQuaternaryAlt},"&:hover":{backgroundColor:e.palette.neutralLight}},toolbarIconDisabled:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"}},activeSVGIcon:{},SVGIcon:{},toolbarTooltip:{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.14), 0px 0px 2px rgba(0, 0, 0, 0.12)"}};return(0,r.TW)(n,t)}},71734:(e,t,n)=>{"use strict";n.d(t,{R:()=>B});var r,o=n(37827),i=n(9950),a=n(67825),s=n(14339),l=n(6461),u=n(17559),c=n(21191),d=n(56340),p=n(68246),f=n(45867),h=n(25262),m=n(28225),g=n(23501),v=n(88529),y=n(80762),b=n(72684),x=n(77169),_=n(32e3),C="data-is-focusable",w="data-focuszone-id",S="tabindex",k="data-no-vertical-wrap",T="data-no-horizontal-wrap",E=999999999,P=-999999999;function I(e,t){var n;"function"===typeof MouseEvent?n=new MouseEvent("click",{ctrlKey:null===t||void 0===t?void 0:t.ctrlKey,metaKey:null===t||void 0===t?void 0:t.metaKey,shiftKey:null===t||void 0===t?void 0:t.shiftKey,altKey:null===t||void 0===t?void 0:t.altKey,bubbles:null===t||void 0===t?void 0:t.bubbles,cancelable:null===t||void 0===t?void 0:t.cancelable}):(n=document.createEvent("MouseEvents")).initMouseEvent("click",!!t&&t.bubbles,!!t&&t.cancelable,window,0,0,0,0,0,!!t&&t.ctrlKey,!!t&&t.altKey,!!t&&t.shiftKey,!!t&&t.metaKey,0,null),e.dispatchEvent(n)}var A={},R=new Set,L=["text","number","password","email","tel","url","search","textarea"],M=!1,B=function(e){function t(n){var r,o,h,m,g=this;(g=e.call(this,n)||this)._root=i.createRef(),g._mergedRef=(0,s.K)(),g._onFocus=function(e){if(!g._portalContainsElement(e.target)){var t,n=g.props,r=n.onActiveElementChanged,o=n.doNotAllowFocusEventToPropagate,i=n.stopFocusPropagation,a=n.onFocusNotification,s=n.onFocus,c=n.shouldFocusInnerElementWhenReceivedFocus,d=n.defaultTabbableElement,p=g._isImmediateDescendantOfZone(e.target);if(p)t=e.target;else for(var f=e.target;f&&f!==g._root.current;){if((0,l.S0)(f)&&g._isImmediateDescendantOfZone(f)){t=f;break}f=(0,u.P)(f,M)}if(c&&e.target===g._root.current){var h=d&&"function"===typeof d&&g._root.current&&d(g._root.current);h&&(0,l.S0)(h)?(t=h,h.focus()):(g.focus(!0),g._activeElement&&(t=null))}var m=!g._activeElement;t&&t!==g._activeElement&&((p||m)&&g._setFocusAlignment(t,!0,!0),g._activeElement=t,m&&g._updateTabIndexes()),r&&r(g._activeElement,e),(i||o)&&e.stopPropagation(),s?s(e):a&&a()}},g._onBlur=function(){g._setParkedFocus(!1)},g._onMouseDown=function(e){if(!g._portalContainsElement(e.target)&&!g.props.disabled){for(var t=e.target,n=[];t&&t!==g._root.current;)n.push(t),t=(0,u.P)(t,M);for(;n.length&&((t=n.pop())&&(0,l.S0)(t)&&g._setActiveElement(t,!0),!(0,l.HC)(t)););}},g._onKeyDown=function(e,t){if(!g._portalContainsElement(e.target)){var n=g.props,r=n.direction,o=n.disabled,i=n.isInnerZoneKeystroke,s=n.pagingSupportDisabled,u=n.shouldEnterInnerZone;if(!o&&(g.props.onKeyDown&&g.props.onKeyDown(e),!e.isDefaultPrevented()&&(g._getDocument().activeElement!==g._root.current||!g._isInnerZone))){if((u&&u(e)||i&&i(e))&&g._isImmediateDescendantOfZone(e.target)){var p=g._getFirstInnerZone();if(p){if(!p.focus(!0))return}else{if(!(0,l.Z5)(e.target))return;if(!g.focusElement((0,l.eX)(e.target,e.target.firstChild,!0)))return}}else{if(e.altKey)return;switch(e.which){case c.c.space:if(g._shouldRaiseClicksOnSpace&&g._tryInvokeClickForFocusable(e.target,e))break;return;case c.c.left:if(r!==a.E.vertical&&(g._preventDefaultWhenHandled(e),g._moveFocusLeft(t)))break;return;case c.c.right:if(r!==a.E.vertical&&(g._preventDefaultWhenHandled(e),g._moveFocusRight(t)))break;return;case c.c.up:if(r!==a.E.horizontal&&(g._preventDefaultWhenHandled(e),g._moveFocusUp()))break;return;case c.c.down:if(r!==a.E.horizontal&&(g._preventDefaultWhenHandled(e),g._moveFocusDown()))break;return;case c.c.pageDown:if(!s&&g._moveFocusPaging(!0))break;return;case c.c.pageUp:if(!s&&g._moveFocusPaging(!1))break;return;case c.c.tab:if(g.props.allowTabKey||g.props.handleTabKey===a.l.all||g.props.handleTabKey===a.l.inputOnly&&g._isElementInput(e.target)){var f=!1;if(g._processingTabKey=!0,r!==a.E.vertical&&g._shouldWrapFocus(g._activeElement,T))f=((0,d.jI)(t)?!e.shiftKey:e.shiftKey)?g._moveFocusLeft(t):g._moveFocusRight(t);else f=e.shiftKey?g._moveFocusUp():g._moveFocusDown();if(g._processingTabKey=!1,f)break;g.props.shouldResetActiveElementWhenTabFromZone&&(g._activeElement=null)}return;case c.c.home:if(g._isContentEditableElement(e.target)||g._isElementInput(e.target)&&!g._shouldInputLoseFocus(e.target,!1))return!1;var h=g._root.current&&g._root.current.firstChild;if(g._root.current&&h&&g.focusElement((0,l.eX)(g._root.current,h,!0)))break;return;case c.c.end:if(g._isContentEditableElement(e.target)||g._isElementInput(e.target)&&!g._shouldInputLoseFocus(e.target,!0))return!1;var m=g._root.current&&g._root.current.lastChild;if(g._root.current&&g.focusElement((0,l.yv)(g._root.current,m,!0,!0,!0)))break;return;case c.c.enter:if(g._shouldRaiseClicksOnEnter&&g._tryInvokeClickForFocusable(e.target,e))break;return;default:return}}e.preventDefault(),e.stopPropagation()}}},g._getHorizontalDistanceFromCenter=function(e,t,n){var r=g._focusAlignment.left||g._focusAlignment.x||0,o=Math.floor(n.top),i=Math.floor(t.bottom),a=Math.floor(n.bottom),s=Math.floor(t.top);return e&&o>i||!e&&a<s?r>=n.left&&r<=n.left+n.width?0:Math.abs(n.left+n.width/2-r):g._shouldWrapFocus(g._activeElement,k)?E:P},(0,p.f)(g),g._id=(0,f.O)("FocusZone"),g._focusAlignment={left:0,top:0},g._processingTabKey=!1;var v=null===(o=null!==(r=n.shouldRaiseClicks)&&void 0!==r?r:t.defaultProps.shouldRaiseClicks)||void 0===o||o;return g._shouldRaiseClicksOnEnter=null!==(h=n.shouldRaiseClicksOnEnter)&&void 0!==h?h:v,g._shouldRaiseClicksOnSpace=null!==(m=n.shouldRaiseClicksOnSpace)&&void 0!==m?m:v,g}return(0,o.C6)(t,e),t.getOuterZones=function(){return R.size},t._onKeyDownCapture=function(e){e.which===c.c.tab&&R.forEach((function(e){return e._updateTabIndexes()}))},t.prototype.componentDidMount=function(){var e=this._root.current;if(A[this._id]=this,e){for(var n=(0,u.P)(e,M);n&&n!==this._getDocument().body&&1===n.nodeType;){if((0,l.HC)(n)){this._isInnerZone=!0;break}n=(0,u.P)(n,M)}this._isInnerZone||(R.add(this),this._root.current&&this._root.current.addEventListener("keydown",t._onKeyDownCapture,!0)),this._root.current&&this._root.current.addEventListener("blur",this._onBlur,!0),this._updateTabIndexes(),this.props.defaultTabbableElement&&"string"===typeof this.props.defaultTabbableElement?this._activeElement=this._getDocument().querySelector(this.props.defaultTabbableElement):this.props.defaultActiveElement&&(this._activeElement=this._getDocument().querySelector(this.props.defaultActiveElement)),this.props.shouldFocusOnMount&&this.focus()}},t.prototype.componentDidUpdate=function(){var e=this._root.current,t=this._getDocument();if((this._activeElement&&!(0,h.s)(this._root.current,this._activeElement,M)||this._defaultFocusElement&&!(0,h.s)(this._root.current,this._defaultFocusElement,M))&&(this._activeElement=null,this._defaultFocusElement=null,this._updateTabIndexes()),!this.props.preventFocusRestoration&&t&&this._lastIndexPath&&(t.activeElement===t.body||null===t.activeElement||t.activeElement===e)){var n=(0,l.nA)(e,this._lastIndexPath);n?(this._setActiveElement(n,!0),n.focus(),this._setParkedFocus(!1)):this._setParkedFocus(!0)}},t.prototype.componentWillUnmount=function(){delete A[this._id],this._isInnerZone||(R.delete(this),this._root.current&&this._root.current.removeEventListener("keydown",t._onKeyDownCapture,!0)),this._root.current&&this._root.current.removeEventListener("blur",this._onBlur,!0),this._activeElement=null,this._defaultFocusElement=null},t.prototype.render=function(){var e=this,t=this.props,n=t.as,a=t.elementType,s=t.rootProps,l=t.ariaDescribedBy,u=t.ariaLabelledBy,c=t.className,d=(0,m.G1)(this.props,m.vt),p=n||a||"div";this._evaluateFocusBeforeRender();var f=(0,_.O4)();return i.createElement(p,(0,o.Cl)({"aria-labelledby":u,"aria-describedby":l},d,s,{className:(0,g.A)((r||(r=(0,x.Z)({selectors:{":focus":{outline:"none"}}},"ms-FocusZone")),r),c),ref:this._mergedRef(this.props.elementRef,this._root),"data-focuszone-id":this._id,onKeyDown:function(t){return e._onKeyDown(t,f)},onFocus:this._onFocus,onMouseDownCapture:this._onMouseDown}),this.props.children)},t.prototype.focus=function(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),this._root.current){if(!e&&"true"===this._root.current.getAttribute(C)&&this._isInnerZone){var n=this._getOwnerZone(this._root.current);if(n!==this._root.current){var r=A[n.getAttribute(w)];return!!r&&r.focusElement(this._root.current)}return!1}if(!e&&this._activeElement&&(0,h.s)(this._root.current,this._activeElement)&&(0,l.S0)(this._activeElement)&&(!t||(0,l.F2)(this._activeElement)))return this._activeElement.focus(),!0;var o=this._root.current.firstChild;return this.focusElement((0,l.eX)(this._root.current,o,!0,void 0,void 0,void 0,void 0,void 0,t))}return!1},t.prototype.focusLast=function(){if(this._root.current){var e=this._root.current&&this._root.current.lastChild;return this.focusElement((0,l.yv)(this._root.current,e,!0,!0,!0))}return!1},t.prototype.focusElement=function(e,t){var n=this.props,r=n.onBeforeFocus,o=n.shouldReceiveFocus;return!(o&&!o(e)||r&&!r(e))&&(!!e&&(this._setActiveElement(e,t),this._activeElement&&this._activeElement.focus(),!0))},t.prototype.setFocusAlignment=function(e){this._focusAlignment=e},Object.defineProperty(t.prototype,"defaultFocusElement",{get:function(){return this._defaultFocusElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeElement",{get:function(){return this._activeElement},enumerable:!1,configurable:!0}),t.prototype._evaluateFocusBeforeRender=function(){var e=this._root.current,t=this._getDocument();if(t){var n=t.activeElement;if(n!==e){var r=(0,h.s)(e,n,!1);this._lastIndexPath=r?(0,l.Ep)(e,n):void 0}}},t.prototype._setParkedFocus=function(e){var t=this._root.current;t&&this._isParked!==e&&(this._isParked=e,e?(this.props.allowFocusRoot||(this._parkedTabIndex=t.getAttribute("tabindex"),t.setAttribute("tabindex","-1")),t.focus()):this.props.allowFocusRoot||(this._parkedTabIndex?(t.setAttribute("tabindex",this._parkedTabIndex),this._parkedTabIndex=void 0):t.removeAttribute("tabindex")))},t.prototype._setActiveElement=function(e,t){var n=this._activeElement;this._activeElement=e,n&&((0,l.HC)(n)&&this._updateTabIndexes(n),n.tabIndex=-1),this._activeElement&&(this._focusAlignment&&!t||this._setFocusAlignment(e,!0,!0),this._activeElement.tabIndex=0)},t.prototype._preventDefaultWhenHandled=function(e){this.props.preventDefaultWhenHandled&&e.preventDefault()},t.prototype._tryInvokeClickForFocusable=function(e,t){var n=e;if(n===this._root.current)return!1;do{if("BUTTON"===n.tagName||"A"===n.tagName||"INPUT"===n.tagName||"TEXTAREA"===n.tagName||"SUMMARY"===n.tagName)return!1;if(this._isImmediateDescendantOfZone(n)&&"true"===n.getAttribute(C)&&"true"!==n.getAttribute("data-disable-click-on-enter"))return I(n,t),!0;n=(0,u.P)(n,M)}while(n!==this._root.current);return!1},t.prototype._getFirstInnerZone=function(e){if(!(e=e||this._activeElement||this._root.current))return null;if((0,l.HC)(e))return A[e.getAttribute(w)];for(var t=e.firstElementChild;t;){if((0,l.HC)(t))return A[t.getAttribute(w)];var n=this._getFirstInnerZone(t);if(n)return n;t=t.nextElementSibling}return null},t.prototype._moveFocus=function(e,t,n,r){void 0===r&&(r=!0);var o=this._activeElement,i=-1,s=void 0,u=!1,c=this.props.direction===a.E.bidirectional;if(!o||!this._root.current)return!1;if(this._isElementInput(o)&&!this._shouldInputLoseFocus(o,e))return!1;var d=c?o.getBoundingClientRect():null;do{if(o=e?(0,l.eX)(this._root.current,o):(0,l.yv)(this._root.current,o),!c){s=o;break}if(o){var p=t(d,o.getBoundingClientRect());if(-1===p&&-1===i){s=o;break}if(p>-1&&(-1===i||p<i)&&(i=p,s=o),i>=0&&p<0)break}}while(o);if(s&&s!==this._activeElement)u=!0,this.focusElement(s);else if(this.props.isCircularNavigation&&r)return e?this.focusElement((0,l.eX)(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement((0,l.yv)(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return u},t.prototype._moveFocusDown=function(){var e=this,t=-1,n=this._focusAlignment.left||this._focusAlignment.x||0;return!!this._moveFocus(!0,(function(r,o){var i=-1,a=Math.floor(o.top),s=Math.floor(r.bottom);return a<s?e._shouldWrapFocus(e._activeElement,k)?E:P:((-1===t&&a>=s||a===t)&&(t=a,i=n>=o.left&&n<=o.left+o.width?0:Math.abs(o.left+o.width/2-n)),i)}))&&(this._setFocusAlignment(this._activeElement,!1,!0),!0)},t.prototype._moveFocusUp=function(){var e=this,t=-1,n=this._focusAlignment.left||this._focusAlignment.x||0;return!!this._moveFocus(!1,(function(r,o){var i=-1,a=Math.floor(o.bottom),s=Math.floor(o.top),l=Math.floor(r.top);return a>l?e._shouldWrapFocus(e._activeElement,k)?E:P:((-1===t&&a<=l||s===t)&&(t=s,i=n>=o.left&&n<=o.left+o.width?0:Math.abs(o.left+o.width/2-n)),i)}))&&(this._setFocusAlignment(this._activeElement,!1,!0),!0)},t.prototype._moveFocusLeft=function(e){var t=this,n=this._shouldWrapFocus(this._activeElement,T);return!!this._moveFocus((0,d.jI)(e),(function(r,o){var i=-1;return((0,d.jI)(e)?parseFloat(o.top.toFixed(3))<parseFloat(r.bottom.toFixed(3)):parseFloat(o.bottom.toFixed(3))>parseFloat(r.top.toFixed(3)))&&o.right<=r.right&&t.props.direction!==a.E.vertical?i=r.right-o.right:n||(i=P),i}),void 0,n)&&(this._setFocusAlignment(this._activeElement,!0,!1),!0)},t.prototype._moveFocusRight=function(e){var t=this,n=this._shouldWrapFocus(this._activeElement,T);return!!this._moveFocus(!(0,d.jI)(e),(function(r,o){var i=-1;return((0,d.jI)(e)?parseFloat(o.bottom.toFixed(3))>parseFloat(r.top.toFixed(3)):parseFloat(o.top.toFixed(3))<parseFloat(r.bottom.toFixed(3)))&&o.left>=r.left&&t.props.direction!==a.E.vertical?i=o.left-r.left:n||(i=P),i}),void 0,n)&&(this._setFocusAlignment(this._activeElement,!0,!1),!0)},t.prototype._moveFocusPaging=function(e,t){void 0===t&&(t=!0);var n=this._activeElement;if(!n||!this._root.current)return!1;if(this._isElementInput(n)&&!this._shouldInputLoseFocus(n,e))return!1;var r=(0,v.Hc)(n);if(!r)return!1;var o=-1,i=void 0,a=-1,s=-1,u=r.clientHeight,c=n.getBoundingClientRect();do{if(n=e?(0,l.eX)(this._root.current,n):(0,l.yv)(this._root.current,n)){var d=n.getBoundingClientRect(),p=Math.floor(d.top),f=Math.floor(c.bottom),h=Math.floor(d.bottom),m=Math.floor(c.top),g=this._getHorizontalDistanceFromCenter(e,c,d);if(e&&p>f+u||!e&&h<m-u)break;g>-1&&(e&&p>a?(a=p,o=g,i=n):!e&&h<s?(s=h,o=g,i=n):(-1===o||g<=o)&&(o=g,i=n))}}while(n);var y=!1;if(i&&i!==this._activeElement)y=!0,this.focusElement(i),this._setFocusAlignment(i,!1,!0);else if(this.props.isCircularNavigation&&t)return e?this.focusElement((0,l.eX)(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement((0,l.yv)(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return y},t.prototype._setFocusAlignment=function(e,t,n){if(this.props.direction===a.E.bidirectional&&(!this._focusAlignment||t||n)){var r=e.getBoundingClientRect(),o=r.left+r.width/2,i=r.top+r.height/2;this._focusAlignment||(this._focusAlignment={left:o,top:i}),t&&(this._focusAlignment.left=o),n&&(this._focusAlignment.top=i)}},t.prototype._isImmediateDescendantOfZone=function(e){return this._getOwnerZone(e)===this._root.current},t.prototype._getOwnerZone=function(e){for(var t=(0,u.P)(e,M);t&&t!==this._root.current&&t!==this._getDocument().body;){if((0,l.HC)(t))return t;t=(0,u.P)(t,M)}return t},t.prototype._updateTabIndexes=function(e){!this._activeElement&&this.props.defaultTabbableElement&&"function"===typeof this.props.defaultTabbableElement&&(this._activeElement=this.props.defaultTabbableElement(this._root.current)),!e&&this._root.current&&(this._defaultFocusElement=null,e=this._root.current,this._activeElement&&!(0,h.s)(e,this._activeElement)&&(this._activeElement=null)),this._activeElement&&!(0,l.S0)(this._activeElement)&&(this._activeElement=null);for(var t=e&&e.children,n=0;t&&n<t.length;n++){var r=t[n];(0,l.HC)(r)?"true"===r.getAttribute(C)&&(this._isInnerZone||(this._activeElement||this._defaultFocusElement)&&this._activeElement!==r?"-1"!==r.getAttribute(S)&&r.setAttribute(S,"-1"):(this._defaultFocusElement=r,"0"!==r.getAttribute(S)&&r.setAttribute(S,"0"))):(r.getAttribute&&"false"===r.getAttribute(C)&&r.setAttribute(S,"-1"),(0,l.S0)(r)?this.props.disabled?r.setAttribute(S,"-1"):this._isInnerZone||(this._activeElement||this._defaultFocusElement)&&this._activeElement!==r?"-1"!==r.getAttribute(S)&&r.setAttribute(S,"-1"):(this._defaultFocusElement=r,"0"!==r.getAttribute(S)&&r.setAttribute(S,"0")):"svg"===r.tagName&&"false"!==r.getAttribute("focusable")&&r.setAttribute("focusable","false")),this._updateTabIndexes(r)}},t.prototype._isContentEditableElement=function(e){return e&&"true"===e.getAttribute("contenteditable")},t.prototype._isElementInput=function(e){return!(!e||!e.tagName||"input"!==e.tagName.toLowerCase()&&"textarea"!==e.tagName.toLowerCase())},t.prototype._shouldInputLoseFocus=function(e,t){if(!this._processingTabKey&&e&&e.type&&L.indexOf(e.type.toLowerCase())>-1){var n=e.selectionStart,r=n!==e.selectionEnd,o=e.value,i=e.readOnly;if(r||n>0&&!t&&!i||n!==o.length&&t&&!i||this.props.handleTabKey&&(!this.props.shouldInputLoseFocusOnArrowKey||!this.props.shouldInputLoseFocusOnArrowKey(e)))return!1}return!0},t.prototype._shouldWrapFocus=function(e,t){return!this.props.checkForNoWrap||(0,l._l)(e,t)},t.prototype._portalContainsElement=function(e){return e&&!!this._root.current&&(0,y.s)(e,this._root.current)},t.prototype._getDocument=function(){return(0,b.Y)(this._root.current)},t.defaultProps={isCircularNavigation:!1,direction:a.E.bidirectional,shouldRaiseClicks:!0},t}(i.Component)},71849:(e,t,n)=>{"use strict";n.d(t,{V:()=>o,r:()=>r});var r="data-portal-element";function o(e){e.setAttribute(r,"true")}},71898:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(9950),o=n(66498);function i(e,t,n){(0,r.useEffect)((function(){var r=function(r){if(t){var i=(0,o.s)({x:r.clientX,y:r.clientY},t,e);r.cancelable&&(r.preventDefault(),n&&n({mousePhysicalPixelPos:i,deltaY:r.deltaY,deltaMode:r.deltaMode,ctrlKey:r.ctrlKey}))}};return t&&t.addEventListener("wheel",r,{passive:!1}),function(){t&&t.removeEventListener("wheel",r)}}),[t,n,e])}},72027:(e,t,n)=>{"use strict";n.d(t,{k:()=>l});var r=n(75347),o=n(25522),i=n(93616),a=n(21925),s=n(26397);function l(e,t){var n,l=t.image._preciseUvToWorld,u=null===(n=t.cropInteraction)||void 0===n?void 0:n.uvToWorld,c={x:e.cropRectangle.left,y:e.cropRectangle.top},d=(0,r.bM)(u),p=(0,s.Bp)(c,d),f=(0,r.iQ)(p.x,p.y),h=(0,r.ft)((0,r.ZG)(f,l),(0,o.D)(e.imageTransform),i.G);return(0,r.ft)((0,r.ZG)(f,u),(0,a.Vq)(e.cropRectangle),i.G)&&h}},72036:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=0;function o(){return r++}},72079:(e,t,n)=>{"use strict";n.d(t,{T:()=>g,v:()=>m});var r=n(75347),o=n(69893),i=n(39022),a=n(53591),s=n(88741),l=n(18699),u=n(73050),c=n(4749),d=n(89078),p=n(36386),f=40,h=3,m=h-1;function g(e,t,n){var m=t.deltaY,g=t.deltaMode,v=t.mousePhysicalPixelPos,y=t.ctrlKey;if(0!==m)if(!e.cropInteraction.enableZoomToCrop||!(0,s.UZ)(v,e.view.worldToView,e.cropInteraction.uvToWorld)||e.view.viewFitting.mode===o.m.none||y&&e.view.enableZoomToView){if(e.view.enableZoomToView){var b=function(e,t,n){var o=t===WheelEvent.DOM_DELTA_PIXEL?e:e*f,i=1+.1*Math.abs(o/100),a=(0,r.YD)(n);return e>0?a/i:a*i}(m,g,e.view.worldToView);(0,i.Q)(e,b,v,n)}}else{e.mouseWheelScrollCount++,e.savedStates.savedWhenMouseWheelCroppingStart||(e.savedStates.savedWhenMouseWheelCroppingStart=(0,d.PB)(e));var x=(m<0?l.YQ:l.RL)*(m/100);if((0,a.P)(e,x,!0,n),0===(e.mouseWheelScrollCount%=h)){var _=e.savedStates.savedWhenMouseWheelCroppingStart;if((0,d.l$)(e,_)){var C=(0,d.PB)(e),w=(0,p.Cy)(c.p.zoomToCrop,_,C,u.Z.KeepAll);e.undoRedoStack.undoStack.push(w),e.savedStates.savedWhenMouseWheelCroppingStart=void 0}}}}},72138:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case i:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case g:case m:case l:return e;default:return t}}case o:return t}}}function C(e){return _(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return C(e)||_(e)===c},t.isConcurrentMode=C,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===p},t.isFragment=function(e){return _(e)===i},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===o},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===s||e===a||e===f||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===v)},t.typeOf=_},72247:(e,t,n)=>{"use strict";n.d(t,{M:()=>h});var r=n(9950),o=n(11446),i=n(54811),a=n(71654),s=n(98689),l=n(40551),u=n(66056),c=n(4341),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},d.apply(this,arguments)},p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},h=(0,r.memo)((function(e){var t=this,n=e.confirmationDialogHostId,h=e.confirmationDialogType,m=e.enableClearAllMarkup,g=e.showTooltip,v=e.styles,y=e.clearAllMarkupContent,b=e.text,x=e.setAriaAnnouncement,_=e.getIcon,C=(0,r.useContext)(o.O_),w=C.localizationStrings,S=C.onClearAllMarkupConfirmationDialog,k=(0,r.useContext)(u.u).enableUndoRedo,T=(0,s.D)(),E=(0,a.C)(T,null===v||void 0===v?void 0:v.markupToolbarTools),P=(0,c.J)(S),I=P.showConfirmationDialog,A=P.onConfirmInDialog,R=P.onCancelInDialog,L=P.isHavanaConfirmDialogVisible,M=function(){return p(t,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,I().then((function(e){"confirmed"===e&&(y(),x(w.markup_clearedAllMarkupAriaLive))})).catch((function(e){}))];case 1:return e.sent(),[2]}}))}))},B={contentTitle:w.markup_clearAllMarkupDialogTitle,contentSubText:w.markup_clearAllMarkupDialogSubText,closeButtonAriaLabel:w.markup_clearAllMarkupDialogCloseButtonAriaLabel,confirmText:w.markup_clearAllMarkupDialogConfirmButtonText,confirmAriaLabel:w.markup_clearAllMarkupDialogConfirmButtonAriaLabel,cancelText:w.markup_clearAllMarkupDialogCancelButtonText,cancelAriaLabel:w.markup_clearAllMarkupDialogCancelButtonAriaLabel};return r.createElement(r.Fragment,null,r.createElement(i.q,{text:b,markupToolbarToolsStyles:E,markupToolbarButtonStyles:null===v||void 0===v?void 0:v.markupToolbarButton,iconComponent:_(d({enabled:m},null===v||void 0===v?void 0:v.clearAllMarkupIcon)),onClick:function(){return p(t,void 0,void 0,(function(){return f(this,(function(e){return k?[2,new Promise((function(e){y(),x(w.markup_clearedAllMarkupAriaLive),e()}))]:[2,M()]}))}))},tooltipContent:g?w.markup_markupToolbarClearAllMarkupTooltip:void 0,ariaLabel:w.markup_markupToolbarClearAllMarkupAriaLabel,isToolActive:!1,disabled:!m}),m&&!k&&r.createElement(l.K,{onConfirm:A,onCancel:R,isVisible:L,hostId:n,dialogType:h,styles:null===v||void 0===v?void 0:v.confirmationDialog,dialogStrings:B}))}))},72369:(e,t,n)=>{"use strict";function r(e){return!!e&&e.width>=1&&e.height>=1}n.d(t,{I:()=>r})},72392:(e,t,n)=>{"use strict";n.d(t,{TT:()=>a,UN:()=>i,X3:()=>s,Y5:()=>r});var r,o=n(56107);function i(e){var t=function(t,n){return e>t&&e<=n};return t(-45,45)?e:t(45,135)?e-90:t(-135,-45)?e+90:t(135,180)?e-180:e+180}function a(e,t){var n=e+t;return n>180?-360+n:n<=-180?360+n:n}function s(e,t,n){switch(e){case o.y.Right:return t+n;case o.y.Left:return t-n;default:return t}}!function(e){e[e.Clockwise=0]="Clockwise",e[e.CounterClockwise=1]="CounterClockwise"}(r||(r={}))},72538:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(87210),o={main:r.st,singleTileMain:r.gc,singleTilePreSharpen:r.ec,singleTileTemp:r.PN,singleTileBackground:r.Bb,overlay:r.Je,backgroundMask:r.oX,eraseMask:r.Ih,normalMap:r.gp,original:r.cT,objectSegmentationPreview:r.Yz};function i(e){return o[e]}},72684:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var r=n(31214);function o(e){if((0,r.S)()&&"undefined"!==typeof document){var t=e;return t&&t.ownerDocument?t.ownerDocument:document}}},72930:(e,t,n)=>{"use strict";n.d(t,{g:()=>m});var r=n(85913),o=n(75347),i=n(44121),a=n(3493),s=n(69893),l=n(25382),u=n(75656),c=n(40177),d=n(89334),p=n(68789),f=n(12856),h=n(88873);var m=(0,r.Mz)([c.Wg,c.Tk,c.PO,u.T,c.An,c.Fi,d.u,c.BX,c._S,c.sO,p.D,f.po],(function(e,t,n,r,u,c,d,p,f,m,g,v){if(g)return"none";switch(e){case i.I.selectingFirstCorner:var y=(0,o.eE)((0,o.ZG)(n,r)),b=(0,o.vo)(y,c);return(0,l.Dh)(t,b)?"crosshair":"not-allowed";case i.I.selectingSecondCorner:return"crosshair";case i.I.draggingView:return"grabbing";case i.I.disabled:return m===s.m.fitCropRectInView?v===h.NF?"default":"pointer":u?"grabbing":"grab";case i.I.usingNineSliceCropHandles:default:return function(e,t,n,r){switch(e){case a.Q.TopLeft:case a.Q.BottomRight:return"nwse-resize";case a.Q.BottomLeft:case a.Q.TopRight:return"nesw-resize";case a.Q.SideLeft:case a.Q.SideRight:return"ew-resize";case a.Q.TopCenter:case a.Q.BottomCenter:return"ns-resize";case a.Q.Center:default:return n||r?t?"grabbing":"grab":"default"}}(p,u,d,f)}}))},72989:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(75347),o=n(26397);function i(e,t,n,i){var a=e,s=t,l=n,u=i,c=(0,o.Bp)(s,a),d=(0,o.Bp)(l,u),p=(0,o.Bp)(l,a),f=[c.x,d.x,0,c.y,d.y,0];if((0,r.mh)(f)){var h=(0,r.J)(f,p),m=h.x,g=h.y;if(g>=-1e-4&&g<=1.0001&&m>0)return m}}},73034:(e,t,n)=>{"use strict";n.d(t,{$:()=>P,Fu:()=>E,PT:()=>v,T8:()=>T,WD:()=>u,Yy:()=>h,bb:()=>k,cE:()=>I,db:()=>c,g4:()=>S,h9:()=>f,n:()=>_,ow:()=>A,p2:()=>g,uL:()=>m,vG:()=>x,wC:()=>b,wp:()=>C,yd:()=>w});var r=n(75795),o=n(26397),i=n(56107),a=n(3493),s=n(56340),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)},u=10,c=1,d=10,p=50,f=.1,h=1,m=5;function g(e){switch(e){case"ArrowRight":case"ArrowLeft":case"ArrowUp":case"ArrowDown":return!0;default:return!1}}function v(e){switch(e){case"ArrowRight":case"ArrowLeft":case"ArrowUp":case"ArrowDown":case"Home":case"End":return!0;default:return!1}}function y(e){return"ArrowRight"===e||"ArrowLeft"===e}function b(e){switch(e){case"Slow":return c;case"Fast":return d;case"SuperFast":return p;default:return 0}}function x(e){switch(e){case"ArrowRight":return i.y.Right;case"ArrowLeft":return i.y.Left;case"ArrowUp":return i.y.Up;case"ArrowDown":return i.y.Down;default:return i.y.None}}function _(e){return(0,o.m1)(C(e),-1)}function C(e){switch(e){case i.y.Left:return{x:-1,y:0};case i.y.Right:return{x:1,y:0};case i.y.Down:return{x:0,y:1};case i.y.Up:return{x:0,y:-1};default:return{x:0,y:0}}}function w(e,t,n,o){var s=l({},e);switch(t){case i.y.Right:n===a.Q.TopLeft||n===a.Q.BottomLeft?(s.left=e.width<o?e.left+e.width:e.left+o,s.width=e.width-o):n===a.Q.TopRight||n===a.Q.BottomRight?s.width=e.width+o:n===a.Q.Center&&(s.left=e.left+o);break;case i.y.Left:n===a.Q.TopRight||n===a.Q.BottomRight?s.width=e.width-o:n===a.Q.TopLeft||n===a.Q.BottomLeft?(s.left=e.left-o,s.width=e.width+o):n===a.Q.Center&&(s.left=e.left-o);break;case i.y.Down:n===a.Q.TopLeft||n===a.Q.TopRight?(s.top=e.height<o?e.top+e.height:e.top+o,s.height=e.height-o):n===a.Q.BottomLeft||n===a.Q.BottomRight?s.height=e.height+o:n===a.Q.Center&&(s.top=e.top+o);break;case i.y.Up:n===a.Q.BottomLeft||n===a.Q.BottomRight?s.height=e.height-o:n===a.Q.TopLeft||n===a.Q.TopRight?(s.top=e.top-o,s.height=e.height+o):n===a.Q.Center&&(s.top=e.top-o)}return s=(0,r.c4)(s)}function S(e,t){switch(t){case i.y.Up:return[a.Q.BottomLeft,a.Q.BottomCenter,a.Q.BottomRight].indexOf(e)>=0;case i.y.Left:return[a.Q.TopRight,a.Q.SideRight,a.Q.BottomRight].indexOf(e)>=0;case i.y.Down:return[a.Q.TopLeft,a.Q.TopCenter,a.Q.TopRight].indexOf(e)>=0;case i.y.Right:return[a.Q.TopLeft,a.Q.SideLeft,a.Q.BottomLeft].indexOf(e)>=0}return!1}function k(){return document.getElementsByClassName("ms-Fabric--isFocusVisible").length>0}function T(e){return e.shiftKey&&g(e.key)}function E(e){return g(e.key)||T(e)}function P(e){return e.shiftKey&&y(e.key)}function I(e){return y(e.key)||P(e)}function A(e,t){return(0,s.jI)(t)&&("ArrowLeft"===e?e="ArrowRight":"ArrowRight"===e&&(e="ArrowLeft")),e}},73050:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>r}),function(e){e[e.KeepAll=0]="KeepAll",e[e.KeepLast=1]="KeepLast"}(r||(r={}))},73553:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var r=function(e,t,n){return Math.min(Math.max(e,t),n)}},74029:(e,t,n)=>{"use strict";n.d(t,{F:()=>s,t:()=>u});var r=n(9950),o=function(){function e(e){this._algorithmsById=new Map,this._algorithmUiSettingsByAlgorithmId=new Map,this._errorToUserFacingMessageConvertersByAlgorithmId=new Map,this._texturePatchContentMonitor=e}return e.prototype.register=function(e){this._algorithmsById.set(e.id,e),e.onRegister&&e.onRegister(this._texturePatchContentMonitor)},e.prototype.ensureRegistered=function(e){this._algorithmsById.has(e.id)||this.register(e)},e.prototype.registerUisForAlgorithm=function(e,t){t.forEach((function(e){if(!e.uiComponent.displayName)throw new Error("Algorithm uiComponents must have a displayName")})),this._algorithmUiSettingsByAlgorithmId.set(e,t)},e.prototype.registerErrorToUserFacingMessageConverterForAlgorithmId=function(e,t){this._errorToUserFacingMessageConvertersByAlgorithmId.set(e,t)},e.prototype.setDefaultAlgorithm=function(e){this._defaultAlgorithmId=e},e.prototype.getDefaultTexturePatchAlgorithmParameters=function(){if(void 0===this._defaultAlgorithmId)throw new Error("No default algorithm registered! call setDefaultAlgorithm first.");return this.getDefaultParamsForAlgorithmId(this._defaultAlgorithmId)},e.prototype.getProcessorFunctionForAlgorithm=function(e){return this.getAlgorithmOrThrow(e).texturePatchProcessorFunction},e.prototype.getDefaultParamsForAlgorithmId=function(e){return this.getAlgorithmOrThrow({algorithmId:e}).getDefaultParams()},e.prototype.getConfigurationUiForComponentName=function(e){return this.getAlgorithmUis().find((function(t){return t.uiComponent.displayName===e}))},e.prototype.getAlgorithmIdForUiComponentName=function(e){var t=void 0;if(this._algorithmUiSettingsByAlgorithmId.forEach((function(n,r){n.find((function(t){return t.uiComponent.displayName===e}))&&(t=r)})),!t)throw new Error("No algorithm found for uiComponentName: "+e);return t},e.prototype.canExecuteAlgorithm=function(e){var t=this.getAlgorithmOrThrow(e);return!t.canExecuteWithParams||t.canExecuteWithParams(e)},e.prototype.getConfigurationUisForAlgorithm=function(e){return this._algorithmUiSettingsByAlgorithmId.get(e.algorithmId)},e.prototype.getRegisteredAlgorithmIds=function(){return Array.from(this._algorithmsById.keys())},e.prototype.getAlgorithmUis=function(){var e=this,t=[];return this.getRegisteredAlgorithmIds().forEach((function(n){var r=e._algorithmsById.get(n);if(!r)throw new Error("No algorithm found for id: "+n);var o=e.getConfigurationUisForAlgorithm(e.getDefaultParamsForAlgorithmId(r.id));o&&t.push.apply(t,o)})),t},e.prototype.getErrorToUserFacingMessageConverterForAlgorithmId=function(e){return this._errorToUserFacingMessageConvertersByAlgorithmId.get(e)},e.prototype.clearRegisteredUis=function(){this._algorithmUiSettingsByAlgorithmId.clear(),this._defaultAlgorithmId=void 0},e.prototype.getAlgorithmOrThrow=function(e){var t=this._algorithmsById.get(e.algorithmId);if(t)return t;throw new Error("No algorithm found for id: "+e.algorithmId)},e}(),i=["spotFix","magicErase","backgroundSegmentation","stylizer","objectSegmentation","normalMap"];var a=n(90247),s=(0,r.createContext)({getTexturePatchAlgorithmRegistry:function(){throw new Error("getTexturePatchAlgorithmRegistry not implemented")},getAlgorithmForRole:function(){throw new Error("getAlgorithmForRoleOrDefault not implemented")}}),l={spotFix:null,magicErase:null,backgroundSegmentation:null,stylizer:null,objectSegmentation:null,normalMap:null},u=r.memo((function(e){var t=e.texturePatchAlgorithmsByRole,n=void 0===t?l:t,u=e.children,c=(0,a.C)(),d=(0,r.useMemo)((function(){var e=new o(c);return function(e,t){i.forEach((function(n){var r=t[n];r&&e.ensureRegistered(r)}))}(e,n),{getTexturePatchAlgorithmRegistry:function(){return e},getAlgorithmForRole:function(e){return n[e]}}}),[n,c]);return r.createElement(s.Provider,{value:d},u)}))},74164:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(46081),o=n(28556),i=n(2339),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};var s=n(75347),l=n(26397);function u(e,t,n){var r=(0,l.DI)(e,n),o=(0,l.Bp)(r,{x:t,y:t}),i={x:2*t,y:0},a={x:0,y:2*t};return(0,s.ZG)((0,s.eE)((0,s.U3)(n.x,n.y)),(0,s.z9)(i,a,o))}var c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)};var d,p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p.apply(this,arguments)};var f=((d={})[r.D.RectangleMask]=function(e){var t=e.imageId,n=e.algorithmParameters,s=e.maskParameters,l=e.selectedUvPositions,u=e.imageUvToView,c=e.undoRedoGroupId,d=e.isUndoRedoable,p=void 0===d||d;if(s.maskType!==r.D.RectangleMask)throw new Error("unsupported mask type");var f=(0,o.h)(l,u);if(f)return{algorithmParameters:n,maskParameters:a(a({},s),{rectUvToImageUv:f}),idValue:(0,i.b)(),undoRedoGroupId:c,isUndoRedoable:p,imageId:t}},d[r.D.FromLayer]=function(e){var t=e.imageId,n=e.algorithmParameters,o=e.maskParameters,a=e.undoRedoGroupId,s=e.isUndoRedoable,l=void 0===s||s;if(o.maskType!==r.D.FromLayer)throw new Error("unsupported MaskType");return{imageId:t,algorithmParameters:n,maskParameters:o,idValue:(0,i.b)(),undoRedoGroupId:a,isUndoRedoable:l}},d[r.D.PillShapedMask]=function(e){var t=e.imageId,n=e.algorithmParameters,o=e.maskParameters,a=e.selectedUvPositions,d=e.imageSizeInPixels,p=e.undoRedoGroupId,f=e.isUndoRedoable,h=void 0===f||f;if(o.maskType!==r.D.PillShapedMask)throw new Error("unexpected mask type");var m=function(e,t,n){if(e[0]&&e[1]){if(0===(0,l.Sl)(e[0],e[1]))return u(e[0],t,n);var r=(0,l.DI)(e[0],n),o=(0,l.DI)(e[1],n),i=(0,l.hF)((0,l.Bp)(o,r)),a=(0,l.kU)(i,90),c=(0,l.m1)(i,t),d=(0,l.m1)(a,t),p=(0,l.m1)(c,-1),f=(0,l.m1)(d,-1),h=(0,l.Kw)([r,p,f]),m=(0,l.m1)(h,-1),g=(0,l.Kw)([o,c,f,m]),v=(0,l.Kw)([r,p,d,m]);return(0,s.ZG)((0,s.eE)((0,s.U3)(n.x,n.y)),(0,s.z9)(g,v,h))}}(a,o.radius,d);if(m)return{algorithmParameters:n,maskParameters:c(c({},o),{rectUvToImageUv:m}),idValue:(0,i.b)(),undoRedoGroupId:p,isUndoRedoable:h,imageId:t}},d[r.D.CircleMask]=function(e){var t=e.imageId,n=e.algorithmParameters,o=e.maskParameters,a=e.selectedUvPositions,s=e.imageSizeInPixels,l=e.undoRedoGroupId,c=e.isUndoRedoable,d=void 0===c||c;if(o.maskType!==r.D.CircleMask)throw new Error("unexpected mask type");var f=u(a[0],o.radius,s);if(f)return{imageId:t,algorithmParameters:n,maskParameters:p(p({},o),{rectUvToImageUv:f}),idValue:(0,i.b)(),undoRedoGroupId:l,isUndoRedoable:d}},d[r.D.FullImageMask]=function(e){var t=e.imageId,n=e.algorithmParameters,o=e.undoRedoGroupId,a=e.isUndoRedoable,s=void 0===a||a;return{imageId:t,algorithmParameters:n,maskParameters:{maskType:r.D.FullImageMask},idValue:(0,i.b)(),undoRedoGroupId:o,isUndoRedoable:s}},d);function h(e){return f[e]}},74439:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});var r=n(9950),o=n(63010);function i(e,t){var n=(0,o.V)(t).id;return(0,r.useMemo)((function(){return e.some((function(e){return e.algorithmParameters.algorithmId===n}))}),[e,n])}},74789:(e,t,n)=>{"use strict";function r(e,t,n){return void 0===n&&(n=0),e<n?n:e>t?t:e}n.d(t,{q:()=>r})},75234:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(24510),o=n(39124),i={id:o.j,texturePatchProcessorFunction:r.t,getDefaultParams:function(){return{algorithmId:o.j,serializedParams:"",layerToPatch:"main",layerToClear:"eraseMask"}}}},75289:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});var r=n(9950).createContext(void 0)},75340:(e,t,n)=>{"use strict";e.exports=n(31761)},75347:(e,t,n)=>{"use strict";n.d(t,{AG:()=>T,AW:()=>m,Aj:()=>N,Db:()=>O,Es:()=>j,II:()=>z,J:()=>P,Ml:()=>c,Ph:()=>F,Qt:()=>U,U3:()=>d,YD:()=>A,YH:()=>S,Z$:()=>R,ZG:()=>I,ZW:()=>W,Zv:()=>k,ao:()=>y,bM:()=>D,bi:()=>E,bq:()=>w,d1:()=>u,eE:()=>_,fJ:()=>h,ft:()=>M,iQ:()=>f,mh:()=>x,n1:()=>p,oi:()=>L,r$:()=>v,t7:()=>B,uE:()=>g,uz:()=>l,vo:()=>C,vt:()=>s,z9:()=>V});var r=n(26397),o=n(34745),i=n(16097),a=n(53360);function s(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function l(){return[1,0,0,0,1,0]}function u(e){return void 0===e&&(e=0),[-1,0,2*e,0,1,0]}function c(e){return void 0===e&&(e=0),[1,0,0,0,-1,2*e]}function d(e,t){return void 0===t&&(t=e),[e,0,0,0,t,0]}function p(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=0),[e,0,(e-1)*-n,0,t,(t-1)*-r]}function f(e,t){return[1,0,e,0,1,t]}function h(e){return[e[0],e[1],Math.round(e[2]),e[3],e[4],Math.round(e[5])]}function m(e){return[Math.round(e[0]),Math.round(e[1]),Math.round(e[2]),Math.round(e[3]),Math.round(e[4]),Math.round(e[5])]}function g(e){var t=e*Math.PI/180,n=Math.cos(t),r=Math.sin(t);return[n,-r,0,r,n,0]}function v(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),I(f(t,n),g(e),f(-t,-n))}function y(e){return(0,i.XM)(Math.atan2(e[4],e[1])*i.H-90)}function b(e){return e[0]*e[4]-e[1]*e[3]}function x(e){return 0!==b(e)}function _(e){var t=b(e);if(0===t)throw new RangeError("Invalid Matrix: determinant is zero");var n=1/t,r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5];return[s*n,-o*n,(o*l-i*s)*n,-a*n,r*n,(i*a-r*l)*n]}function C(e,t){return{x:t.x*e[0]+t.y*e[1]+e[2],y:t.x*e[3]+t.y*e[4]+e[5]}}function w(e){return{x:e[0],y:e[3]}}function S(e){return{x:e[1],y:e[4]}}function k(e){return(0,r.hF)(w(e))}function T(e){return(0,r.hF)(S(e))}function E(e){return[{x:e[2],y:e[5]},{x:e[0]+e[2],y:e[3]+e[5]},{x:e[0]+e[1]+e[2],y:e[3]+e[4]+e[5]},{x:e[1]+e[2],y:e[4]+e[5]}]}function P(e,t){return C(_(e),t)}function I(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduceRight((function(e,t){return[t[0]*e[0]+t[1]*e[3],t[0]*e[1]+t[1]*e[4],t[0]*e[2]+t[1]*e[5]+t[2],t[3]*e[0]+t[4]*e[3],t[3]*e[1]+t[4]*e[4],t[3]*e[2]+t[4]*e[5]+t[5]]}),[1,0,0,0,1,0])}function A(e){return R(e,1,1)}function R(e,t,n){if(0===t)throw new RangeError("Width cannot be 0");if(0===n)throw new RangeError("Height cannot be 0");var r=b(e=I(d(1/t,1/n),e));return Math.sqrt(Math.abs(r))}function L(e,t,n,r,o,i){void 0===o&&(o=0),void 0===i&&(i=0);var a=R(e,n,r);if(0===a)throw new RangeError("Invalid Matrix");var s=t/a;return p(s,s,o,i)}function M(e,t,n){return e.every((function(e,r){return(0,a.J)(e,t[r],n)}))}function B(e,t){return e.every((function(e,n){return e===t[n]}))}function O(e,t,n){return[(0,o.Cc)(e[0],t[0],n),(0,o.Cc)(e[1],t[1],n),(0,o.Cc)(e[2],t[2],n),(0,o.Cc)(e[3],t[3],n),(0,o.Cc)(e[4],t[4],n),(0,o.Cc)(e[5],t[5],n)]}function F(e,t){var n=y(e);return I(v(n,0,0),d(t.x,t.y),v(-n,0,0),e)}function D(e){return{x:e[2],y:e[5]}}function N(e,t){var n=w(e),o=S(e),i=D(e),a=k(e),s=T(e),l=(0,r.jR)(n),u=(l+2*t)/l,c=(0,r.m1)(n,u),d=(0,r.jR)(o),p=(d+2*t)/d,f=(0,r.m1)(o,p),h=(0,r.Bp)(i,(0,r.If)((0,r.m1)(a,t),(0,r.m1)(s,t)));return[c.x,f.x,h.x,c.y,f.y,h.y]}function U(e){if(6!==e.length)throw new TypeError("Invalid number array: must contain 6 elements");return[e[0],e[1],e[2],e[3],e[4],e[5]]}function z(e){return[e[0],e[3],e[1],e[4],e[2],e[5]]}function j(e){return[e[0],e[2],e[4],e[1],e[3],e[5]]}function V(e,t,n){return[e.x,t.x,n.x,e.y,t.y,n.y]}function W(e){return(0,r.jR)(w(e))/(0,r.jR)(S(e))}},75558:(e,t,n)=>{"use strict";function r(e,t){var n=t.cssThicknesses,r=n[e],o=n[Math.round(n.length/2)];return-1===r?o:r}function o(e,t){var n=t.cssThicknesses,r=n.indexOf(e),o=Math.round(n.length/2);return-1===r?o:r}function i(e){return function(t){var n;return e.minSliderValue+t*(null!==(n=e.step)&&void 0!==n?n:1)}}n.d(t,{Km:()=>r,VP:()=>i,nZ:()=>o})},75656:(e,t,n)=>{"use strict";n.d(t,{T:()=>s,b:()=>l});var r=n(85913),o=n(75347),i=n(21925),a=n(40177),s=(0,r.Mz)([a.NX],(function(e){return(0,o.fJ)(e)})),l=(0,r.Mz)([s],(function(e){return(0,i.tX)(e)}))},75659:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});var r=n(2169),o=n(95143),i=n(23359);function a(e){var t=o.n.getInstance(),n=(0,i.bz)((0,r.Iy)(),e);if(!t.classNameFromKey(n)){var a=t.getClassName();t.insertRule("@font-face{".concat(n,"}"),!0),t.cacheClassName(a,n,[],["font-face",n])}}},75795:(e,t,n)=>{"use strict";n.d(t,{Af:()=>p,Ej:()=>h,FR:()=>d,N8:()=>f,Qv:()=>c,VP:()=>y,WX:()=>m,c4:()=>i,ez:()=>g,pN:()=>l,qs:()=>s,uR:()=>u,yC:()=>a,yo:()=>v});var r=n(36766),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function i(e){return{top:Math.round(e.top),left:Math.round(e.left),width:Math.round(Math.max(1,e.width)),height:Math.round(Math.max(1,e.height))}}function a(e,t){return{top:Math.round(e.top),left:Math.round(e.left),width:t?Math.ceil(Math.max(1,e.width)):Math.floor(Math.max(1,e.width)),height:t?Math.ceil(Math.max(1,e.height)):Math.floor(Math.max(1,e.height))}}var s={top:0,left:0,width:1,height:1};function l(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function u(e,t){return l({x:e.left,y:e.top},t)&&l({x:e.left+e.width,y:e.top+e.height},t)}function c(e){return{x:e.left+e.width/2,y:e.top+e.height/2}}function d(e,t){var n=Math.max(e.left,t.left),r=Math.min(e.left+e.width,t.left+t.width),o=Math.max(e.top,t.top),i=Math.min(e.top+e.height,t.top+t.height);if(r>=n&&i>=o)return{left:n,top:o,width:r-n,height:i-o}}function p(e,t,n){return{height:e.height/n*2,top:2*-e.top/n+1,width:e.width/t*2,left:e.left/t*2-1}}function f(e,t,n){return void 0===n?e.top===t.top&&e.left===t.left&&e.width===t.width&&e.height===t.height:(0,r.L)(e.top,n)===(0,r.L)(t.top,n)&&(0,r.L)(e.left,n)===(0,r.L)(t.left,n)&&(0,r.L)(e.width,n)===(0,r.L)(t.width,n)&&(0,r.L)(e.height,n)===(0,r.L)(t.height,n)}function h(e,t,n){return void 0===n?e.width===t.width&&e.height===t.height:(0,r.L)(e.width,n)===(0,r.L)(t.width,n)&&(0,r.L)(e.height,n)===(0,r.L)(t.height,n)}function m(e,t){return e.width<t.width||e.height<t.height}function g(e,t,n){return o(o({},e),{top:e.top+t,left:e.left+n})}function v(e,t,n){return e.width>=t&&e.height>=(void 0===n?t:n)}function y(e,t){return{x:t.left+e.x*t.width,y:t.top+e.y*t.height}}},76131:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});var r={inkContent:"markupInkContent",textContent:"markupTextContent",eraseContent:"markupEraseInkContent",clearAllMarkupContent:"markupClearAllMarkupContent"}},76755:(e,t,n)=>{"use strict";n.d(t,{m:()=>De});var r,o=n(69187),i=n(37827),a=n(9950),s=n(56624),l=n(70859),u=n(70529),c=n(23501),d=n(72684),p=n(21191),f=n(6461),h=n(68246),m=n(45867),g=n(28225),v=n(23521),y=n(55360),b=n(40208),x=n(88659),_=n(44358),C=n(60108),w=n(61470),S=function(){function e(){this._size=0}return e.prototype.updateOptions=function(e){for(var t=[],n=[],r=0,o=0;o<e.length;o++){var a=e[o],s=a.itemType,l=a.hidden;s===w.W.Divider||s===w.W.Header?(t.push(o),n.push(o)):l?n.push(o):r++}this._size=r,this._displayOnlyOptionsCache=t,this._notSelectableOptionsCache=n,this._cachedOptions=(0,i.fX)([],e)},Object.defineProperty(e.prototype,"optionSetSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cachedOptions",{get:function(){return this._cachedOptions},enumerable:!1,configurable:!0}),e.prototype.positionInSet=function(e){if(void 0!==e){for(var t=0;e>this._notSelectableOptionsCache[t];)t++;if(this._displayOnlyOptionsCache[t]===e)throw new Error("Unexpected: Option at index "+e+" is not a selectable element.");if(this._notSelectableOptionsCache[t]!==e)return e-t+1}},e}(),k=n(71734),T=n(67825),E=n(610),P=n(51734),I=n(84495),A=n(40008),R=n(90276),L=n(38005),M=n(88529),B=n(18746),O=n(19867),F=n(43960),D=n(56340),N=n(25262),U=n(43973);!function(e){e[e.smallFluid=0]="smallFluid",e[e.smallFixedFar=1]="smallFixedFar",e[e.smallFixedNear=2]="smallFixedNear",e[e.medium=3]="medium",e[e.large=4]="large",e[e.largeFixed=5]="largeFixed",e[e.extraLarge=6]="extraLarge",e[e.custom=7]="custom",e[e.customNear=8]="customNear"}(r||(r={}));var z,j=(0,s.Z)();!function(e){e[e.closed=0]="closed",e[e.animatingOpen=1]="animatingOpen",e[e.open=2]="open",e[e.animatingClosed=3]="animatingClosed"}(z||(z={}));var V,W,H,q,K,G=function(e){function t(t){var n=e.call(this,t)||this;n._panel=a.createRef(),n._animationCallback=null,n._hasCustomNavigation=!(!n.props.onRenderNavigation&&!n.props.onRenderNavigationContent),n.dismiss=function(e){n.props.onDismiss&&n.isActive&&n.props.onDismiss(e),(!e||e&&!e.defaultPrevented)&&n.close()},n._allowScrollOnPanel=function(e){e?n._allowTouchBodyScroll?(0,M.K0)(e,n._events):(0,M.c8)(e,n._events):n._events.off(n._scrollableContent),n._scrollableContent=e},n._onRenderNavigation=function(e){if(!n.props.onRenderNavigationContent&&!n.props.onRenderNavigation&&!n.props.hasCloseButton)return null;var t=n.props.onRenderNavigationContent,r=void 0===t?n._onRenderNavigationContent:t;return a.createElement("div",{className:n._classNames.navigation},r(e,n._onRenderNavigationContent))},n._onRenderNavigationContent=function(e){var t,r=e.closeButtonAriaLabel,o=e.hasCloseButton,i=e.onRenderHeader,s=void 0===i?n._onRenderHeader:i;if(o){var l=null===(t=n._classNames.subComponentStyles)||void 0===t?void 0:t.closeButton();return a.createElement(a.Fragment,null,!n._hasCustomNavigation&&s(n.props,n._onRenderHeader,n._headerTextId),a.createElement(I.K,{styles:l,className:n._classNames.closeButton,onClick:n._onPanelClick,ariaLabel:r,title:r,"data-is-visible":!0,iconProps:{iconName:"Cancel"}}))}return null},n._onRenderHeader=function(e,t,r){var o=e.headerText,s=e.headerTextProps,l=void 0===s?{}:s;return o?a.createElement("div",{className:n._classNames.header},a.createElement("div",(0,i.Cl)({id:r,role:"heading","aria-level":1},l,{className:(0,c.A)(n._classNames.headerText,l.className)}),o)):null},n._onRenderBody=function(e){return a.createElement("div",{className:n._classNames.content},e.children)},n._onRenderFooter=function(e){var t=n.props.onRenderFooterContent,r=void 0===t?null:t;return r?a.createElement("div",{className:n._classNames.footer},a.createElement("div",{className:n._classNames.footerInner},r())):null},n._animateTo=function(e){e===z.open&&n.props.onOpen&&n.props.onOpen(),n._animationCallback=n._async.setTimeout((function(){n.setState({visibility:e}),n._onTransitionComplete()}),200)},n._clearExistingAnimationTimer=function(){null!==n._animationCallback&&n._async.clearTimeout(n._animationCallback)},n._onPanelClick=function(e){n.dismiss(e)},n._onTransitionComplete=function(){n._updateFooterPosition(),n.state.visibility===z.open&&n.props.onOpened&&n.props.onOpened(),n.state.visibility===z.closed&&n.props.onDismissed&&n.props.onDismissed()};var r=n.props.allowTouchBodyScroll,o=void 0!==r&&r;return n._allowTouchBodyScroll=o,n._async=new B.j(n),n._events=new O.g(n),(0,h.f)(n),(0,F.A)("Panel",t,{ignoreExternalFocusing:"focusTrapZoneProps",forceFocusInsideTrap:"focusTrapZoneProps",firstFocusableSelector:"focusTrapZoneProps"}),n.state={isFooterSticky:!1,visibility:z.closed,id:(0,m.O)("Panel")},n}return(0,i.C6)(t,e),t.getDerivedStateFromProps=function(e,t){return void 0===e.isOpen?null:!e.isOpen||t.visibility!==z.closed&&t.visibility!==z.animatingClosed?e.isOpen||t.visibility!==z.open&&t.visibility!==z.animatingOpen?null:{visibility:z.animatingClosed}:{visibility:z.animatingOpen}},t.prototype.componentDidMount=function(){this._events.on(window,"resize",this._updateFooterPosition),this._shouldListenForOuterClick(this.props)&&this._events.on(document.body,"mousedown",this._dismissOnOuterClick,!0),this.props.isOpen&&this.setState({visibility:z.animatingOpen})},t.prototype.componentDidUpdate=function(e,t){var n=this._shouldListenForOuterClick(this.props),r=this._shouldListenForOuterClick(e);this.state.visibility!==t.visibility&&(this._clearExistingAnimationTimer(),this.state.visibility===z.animatingOpen?this._animateTo(z.open):this.state.visibility===z.animatingClosed&&this._animateTo(z.closed)),n&&!r?this._events.on(document.body,"mousedown",this._dismissOnOuterClick,!0):!n&&r&&this._events.off(document.body,"mousedown",this._dismissOnOuterClick,!0)},t.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},t.prototype.render=function(){var e=this.props,t=e.className,n=void 0===t?"":t,o=e.elementToFocusOnDismiss,s=e.firstFocusableSelector,l=e.focusTrapZoneProps,u=e.forceFocusInsideTrap,c=e.hasCloseButton,d=e.headerText,p=e.headerClassName,f=void 0===p?"":p,h=e.ignoreExternalFocusing,m=e.isBlocking,v=e.isFooterAtBottom,y=e.isLightDismiss,b=e.isHiddenOnDismiss,x=e.layerProps,_=e.overlayProps,C=e.popupProps,w=e.type,S=e.styles,k=e.theme,T=e.customWidth,E=e.onLightDismissClick,P=void 0===E?this._onPanelClick:E,I=e.onRenderNavigation,M=void 0===I?this._onRenderNavigation:I,B=e.onRenderHeader,O=void 0===B?this._onRenderHeader:B,F=e.onRenderBody,N=void 0===F?this._onRenderBody:F,V=e.onRenderFooter,W=void 0===V?this._onRenderFooter:V,H=this.state,q=H.isFooterSticky,K=H.visibility,G=H.id,Z=w===r.smallFixedNear||w===r.customNear,X=(0,D.jI)(k)?Z:!Z,Y=w===r.custom||w===r.customNear?{width:T}:{},Q=(0,g.G1)(this.props,g.JM),J=this.isActive,$=K===z.animatingClosed||K===z.animatingOpen;if(this._headerTextId=d&&G+"-headerText",!J&&!$&&!b)return null;this._classNames=j(S,{theme:k,className:n,focusTrapZoneClassName:l?l.className:void 0,hasCloseButton:c,headerClassName:f,isAnimating:$,isFooterSticky:q,isFooterAtBottom:v,isOnRightSide:X,isOpen:J,isHiddenOnDismiss:b,type:w,hasCustomNavigation:this._hasCustomNavigation});var ee,te=this._classNames,ne=this._allowTouchBodyScroll;return m&&J&&(ee=a.createElement(R.h,(0,i.Cl)({className:te.overlay,isDarkThemed:!1,onClick:y?P:void 0,allowTouchBodyScroll:ne},_))),a.createElement(A.W,(0,i.Cl)({},x),a.createElement(L.z,(0,i.Cl)({role:"dialog","aria-modal":m?"true":void 0,ariaLabelledBy:this._headerTextId?this._headerTextId:void 0,onDismiss:this.dismiss,className:te.hiddenPanel,enableAriaHiddenSiblings:!!J},C),a.createElement("div",(0,i.Cl)({"aria-hidden":!J&&$},Q,{ref:this._panel,className:te.root}),ee,a.createElement(U.Y,(0,i.Cl)({ignoreExternalFocusing:h,forceFocusInsideTrap:!(!m||b&&!J)&&u,firstFocusableSelector:s,isClickableOutsideFocusTrap:!0},l,{className:te.main,style:Y,elementToFocusOnDismiss:o}),a.createElement("div",{className:te.contentInner},a.createElement("div",{ref:this._allowScrollOnPanel,className:te.scrollableContent,"data-is-scrollable":!0},a.createElement("div",{className:te.commands,"data-is-visible":!0},M(this.props,this._onRenderNavigation)),(this._hasCustomNavigation||!c)&&O(this.props,this._onRenderHeader,this._headerTextId),N(this.props,this._onRenderBody),W(this.props,this._onRenderFooter)))))))},t.prototype.open=function(){void 0===this.props.isOpen&&(this.isActive||this.setState({visibility:z.animatingOpen}))},t.prototype.close=function(){void 0===this.props.isOpen&&this.isActive&&this.setState({visibility:z.animatingClosed})},Object.defineProperty(t.prototype,"isActive",{get:function(){return this.state.visibility===z.open||this.state.visibility===z.animatingOpen},enumerable:!1,configurable:!0}),t.prototype._shouldListenForOuterClick=function(e){return!!e.isBlocking&&!!e.isOpen},t.prototype._updateFooterPosition=function(){var e=this._scrollableContent;if(e){var t=e.clientHeight,n=e.scrollHeight;this.setState({isFooterSticky:t<n})}},t.prototype._dismissOnOuterClick=function(e){var t=this._panel.current;this.isActive&&t&&!e.defaultPrevented&&((0,N.s)(t,e.target)||(this.props.onOuterClick?this.props.onOuterClick(e):this.dismiss(e)))},t.defaultProps={isHiddenOnDismiss:!1,isOpen:void 0,isBlocking:!0,hasCloseButton:!0,type:r.smallFixedFar},t}(a.Component),Z=n(32e3),X={root:"ms-Panel",main:"ms-Panel-main",commands:"ms-Panel-commands",contentInner:"ms-Panel-contentInner",scrollableContent:"ms-Panel-scrollableContent",navigation:"ms-Panel-navigation",closeButton:"ms-Panel-closeButton ms-PanelAction-close",header:"ms-Panel-header",headerText:"ms-Panel-headerText",content:"ms-Panel-content",footer:"ms-Panel-footer",footerInner:"ms-Panel-footerInner",isOpen:"is-open",hasCloseButton:"ms-Panel--hasCloseButton",smallFluid:"ms-Panel--smFluid",smallFixedNear:"ms-Panel--smLeft",smallFixedFar:"ms-Panel--sm",medium:"ms-Panel--md",large:"ms-Panel--lg",largeFixed:"ms-Panel--fixed",extraLarge:"ms-Panel--xl",custom:"ms-Panel--custom",customNear:"ms-Panel--customLeft"},Y="100%",Q="auto",J=272,$=340,ee=592,te=644,ne=940,re="auto",oe=0,ie=48,ae=428,se=176,le=((V={})["@media (min-width: "+Z.O7+"px)"]={width:$},V),ue=((W={})["@media (min-width: "+Z.mu+"px)"]={width:ee},W["@media (min-width: "+Z.af+"px)"]={width:te},W),ce=((H={})["@media (min-width: "+Z.c3+"px)"]={left:ie,width:Q},H["@media (min-width: "+Z.Ke+"px)"]={left:ae},H),de=((q={})["@media (min-width: "+Z.Ke+"px)"]={left:re,width:ne},q),pe=((K={})["@media (min-width: "+Z.Ke+"px)"]={left:se},K),fe=function(e){var t;switch(e){case r.smallFixedFar:t=(0,i.Cl)({},le);break;case r.medium:t=(0,i.Cl)((0,i.Cl)({},le),ue);break;case r.large:t=(0,i.Cl)((0,i.Cl)((0,i.Cl)({},le),ue),ce);break;case r.largeFixed:t=(0,i.Cl)((0,i.Cl)((0,i.Cl)((0,i.Cl)({},le),ue),ce),de);break;case r.extraLarge:t=(0,i.Cl)((0,i.Cl)((0,i.Cl)((0,i.Cl)({},le),ue),ce),pe)}return t},he={paddingLeft:"24px",paddingRight:"24px"},me=(0,o.I)(G,(function(e){var t,n,o,a,s=e.className,l=e.focusTrapZoneClassName,u=e.hasCloseButton,c=e.headerClassName,d=e.isAnimating,p=e.isFooterSticky,f=e.isFooterAtBottom,h=e.isOnRightSide,m=e.isOpen,g=e.isHiddenOnDismiss,v=e.hasCustomNavigation,y=e.theme,b=e.type,x=void 0===b?r.smallFixedFar:b,_=y.effects,C=y.fonts,w=y.semanticColors,S=(0,Z.Km)(X,y),k=x===r.custom||x===r.customNear;return{root:[S.root,y.fonts.medium,m&&S.isOpen,u&&S.hasCloseButton,{pointerEvents:"none",position:"absolute",top:0,left:0,right:0,bottom:0},k&&h&&S.custom,k&&!h&&S.customNear,s],overlay:[{pointerEvents:"auto",cursor:"pointer"},m&&d&&Z.lw.fadeIn100,!m&&d&&Z.lw.fadeOut100],hiddenPanel:[!m&&!d&&g&&{visibility:"hidden"}],main:[S.main,{backgroundColor:w.bodyBackground,boxShadow:_.elevation64,pointerEvents:"auto",position:"absolute",display:"flex",flexDirection:"column",overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",bottom:0,top:0,left:re,right:oe,width:Y,selectors:(0,i.Cl)((t={},t[Z.up]={borderLeft:"3px solid "+w.variantBorder,borderRight:"3px solid "+w.variantBorder},t),fe(x))},x===r.smallFluid&&{left:oe},x===r.smallFixedNear&&{left:oe,right:re,width:J},x===r.customNear&&{right:"auto",left:0},k&&{maxWidth:"100vw"},m&&d&&!h&&Z.lw.slideRightIn40,m&&d&&h&&Z.lw.slideLeftIn40,!m&&d&&!h&&Z.lw.slideLeftOut40,!m&&d&&h&&Z.lw.slideRightOut40,l],commands:[S.commands,{paddingTop:18,selectors:(n={},n["@media (min-height: "+Z.O7+"px)"]={position:"sticky",top:0,zIndex:1},n)},v&&{paddingTop:"inherit"},p&&{backgroundColor:w.bodyBackground}],navigation:[S.navigation,{display:"flex",justifyContent:"flex-end"},v&&{height:"44px"}],contentInner:[S.contentInner,{display:"flex",flexDirection:"column",flexGrow:1,overflowY:"hidden"}],header:[S.header,he,{alignSelf:"flex-start"},u&&!v&&{flexGrow:1},v&&{flexShrink:0}],headerText:[S.headerText,C.xLarge,{color:w.bodyText,lineHeight:"27px",overflowWrap:"break-word",wordWrap:"break-word",wordBreak:"break-word",hyphens:"auto"},c],scrollableContent:[S.scrollableContent,{overflowY:"auto"},f&&{flexGrow:1,display:"inherit",flexDirection:"inherit"}],content:[S.content,he,{paddingBottom:20},f&&{selectors:(o={},o["@media (min-height: "+Z.O7+"px)"]={flexGrow:1},o)}],footer:[S.footer,{flexShrink:0,borderTop:"1px solid transparent",transition:"opacity "+Z.cs.durationValue3+" "+Z.cs.easeFunction2,selectors:(a={},a["@media (min-height: "+Z.O7+"px)"]={position:"sticky",bottom:0},a)},p&&{backgroundColor:w.bodyBackground,borderTopColor:w.variantBorder}],footerInner:[S.footerInner,he,{paddingBottom:16,paddingTop:16}],subComponentStyles:{closeButton:{root:[S.closeButton,{marginRight:14,color:y.palette.neutralSecondary,fontSize:Z.fF.large},v&&{marginRight:0,height:"auto",width:"44px"}],rootHovered:{color:y.palette.neutralPrimary}}}}}),void 0,{scope:"Panel"}),ge=n(14771),ve=n(37212),ye=n(95261),be=n(95988),xe=n(58608),_e=n(52522),Ce=n(3753),we=(0,s.Z)(),Se={options:[]};var ke=a.forwardRef((function(e,t){var n=(0,xe.N)(Se,e),r=a.useRef(null),o=(0,Ce.a)(t,r),s=(0,ge.z)(r,n.responsiveMode),u=function(e){var t,n=e.defaultSelectedKeys,r=e.selectedKeys,o=e.defaultSelectedKey,i=e.selectedKey,s=e.options,u=e.multiSelect,c=(0,_e.Z)(s),d=a.useState([]),p=d[0],f=d[1],h=s!==c;t=u?h&&void 0!==n?n:r:h&&void 0!==o?o:i;var m=(0,_e.Z)(t);return a.useEffect((function(){var e=function(){return s.map((function(e,t){return e.selected?t:-1})).filter((function(e){return-1!==e}))},n=function(e){return(0,l.SL)(s,(function(t){return null!=e?t.key===e:!!t.selected||!!t.isSelected}))};void 0===t&&c||t===m&&!h||f(function(){if(void 0===t)return u?e():-1!==(a=n(null))?[a]:[];if(!Array.isArray(t))return-1!==(a=n(t))?[a]:[];for(var r=[],o=0,i=t;o<i.length;o++){var a,s=i[o];-1!==(a=n(s))&&r.push(a)}return r}())}),[h,u,c,m,s,t]),[p,f]}(n),c=u[0],d=u[1];return a.createElement(Ie,(0,i.Cl)({},n,{responsiveMode:s,hoisted:{rootRef:o,selectedIndices:c,setSelectedIndices:d}}))}));ke.displayName="DropdownBase";var Te,Ee,Pe,Ie=function(e){function t(t){var n=e.call(this,t)||this;n._host=a.createRef(),n._focusZone=a.createRef(),n._dropDown=a.createRef(),n._scrollIdleDelay=250,n._sizePosCache=new S,n._requestAnimationFrame=function(e){var t;return function(n){t||(t=new Set,(0,u.i)(e,{componentWillUnmount:function(){t.forEach((function(e){return cancelAnimationFrame(e)}))}}));var r=requestAnimationFrame((function(){t.delete(r),n()}));t.add(r)}}(n),n.dismissMenu=function(){n.state.isOpen&&n.setState({isOpen:!1})},n._onChange=function(e,t,r,o,a){var s=n.props,l=s.onChange,u=s.onChanged;if(l||u){var c=a?(0,i.Cl)((0,i.Cl)({},t[r]),{selected:!o}):t[r];l&&l((0,i.Cl)((0,i.Cl)({},e),{target:n._dropDown.current}),c,r),u&&u(c,r)}},n._getPlaceholder=function(){return n.props.placeholder||n.props.placeHolder},n._getTitle=function(e,t){var r=n.props.multiSelectDelimiter,o=void 0===r?", ":r;return e.map((function(e){return e.text})).join(o)},n._onRenderTitle=function(e){return a.createElement(a.Fragment,null,n._getTitle(e))},n._onRenderPlaceholder=function(e){return n._getPlaceholder()?a.createElement(a.Fragment,null,n._getPlaceholder()):null},n._onRenderContainer=function(e){var t=e.calloutProps,r=e.panelProps,o=n.props,s=o.responsiveMode,l=o.dropdownWidth,u=s<=ve.AR.medium,c={firstFocusableTarget:"#"+n._listId+"1"},d=n._classNames.subComponentStyles?n._classNames.subComponentStyles.panel:void 0,p=void 0,f=void 0;return"auto"===l?f=n._dropDown.current?n._dropDown.current.clientWidth:0:p=l||(n._dropDown.current?n._dropDown.current.clientWidth:0),u?a.createElement(me,(0,i.Cl)({closeButtonAriaLabel:"Close",focusTrapZoneProps:c,hasCloseButton:!0,isOpen:!0,isLightDismiss:!0,onDismiss:n._onDismiss,styles:d},r),n._renderFocusableList(e)):a.createElement(x.P,(0,i.Cl)({isBeakVisible:!1,gapSpace:0,doNotLayer:!1,directionalHintFixed:!1,directionalHint:_.A.bottomLeftEdge,calloutWidth:p,calloutMinWidth:f},t,{className:n._classNames.callout,target:n._dropDown.current,onDismiss:n._onDismiss,onScroll:n._onScroll,onPositioned:n._onPositioned}),n._renderFocusableList(e))},n._onRenderCaretDown=function(e){return a.createElement(E.I,{className:n._classNames.caretDown,iconName:"ChevronDown","aria-hidden":!0})},n._onRenderList=function(e){var t=e.onRenderItem,r=void 0===t?n._onRenderItem:t,o={items:[]},s=[],l=function(){var e=o.id?[a.createElement("div",{role:"group",key:o.id,"aria-labelledby":o.id},o.items)]:o.items;s=(0,i.fX)((0,i.fX)([],s),e),o={items:[]}};return e.options.forEach((function(e,t){!function(e,t){switch(e.itemType){case w.W.Header:o.items.length>0&&l();var a=n._id+e.key;o.items.push(r((0,i.Cl)((0,i.Cl)({id:a},e),{index:t}),n._onRenderItem)),o.id=a;break;case w.W.Divider:t>0&&o.items.push(r((0,i.Cl)((0,i.Cl)({},e),{index:t}),n._onRenderItem)),o.items.length>0&&l();break;default:o.items.push(r((0,i.Cl)((0,i.Cl)({},e),{index:t}),n._onRenderItem))}}(e,t)})),o.items.length>0&&l(),a.createElement(a.Fragment,null,s)},n._onRenderItem=function(e){switch(e.itemType){case w.W.Divider:return n._renderSeparator(e);case w.W.Header:return n._renderHeader(e);default:return n._renderOption(e)}},n._renderOption=function(e){var t=n.props,r=t.onRenderOption,o=void 0===r?n._onRenderOption:r,s=t.hoisted.selectedIndices,l=void 0===s?[]:s,u=!(void 0===e.index||!l)&&l.indexOf(e.index)>-1,d=e.hidden?n._classNames.dropdownItemHidden:u&&!0===e.disabled?n._classNames.dropdownItemSelectedAndDisabled:u?n._classNames.dropdownItemSelected:!0===e.disabled?n._classNames.dropdownItemDisabled:n._classNames.dropdownItem,p=e.title,f=n._classNames.subComponentStyles?n._classNames.subComponentStyles.multiSelectItem:void 0;return n.props.multiSelect?a.createElement(be.S,{id:n._listId+e.index,key:e.key,disabled:e.disabled,onChange:n._onItemClick(e),inputProps:(0,i.Cl)({"aria-selected":u,onMouseEnter:n._onItemMouseEnter.bind(n,e),onMouseLeave:n._onMouseItemLeave.bind(n,e),onMouseMove:n._onItemMouseMove.bind(n,e),role:"option"},{"data-index":e.index,"data-is-focusable":!(e.disabled||e.hidden)}),label:e.text,title:p,onRenderLabel:n._onRenderItemLabel.bind(n,e),className:(0,c.A)(d,"is-multi-select"),checked:u,styles:f,ariaPositionInSet:e.hidden?void 0:n._sizePosCache.positionInSet(e.index),ariaSetSize:e.hidden?void 0:n._sizePosCache.optionSetSize,ariaLabel:e.ariaLabel}):a.createElement(C.c,{id:n._listId+e.index,key:e.key,"data-index":e.index,"data-is-focusable":!e.disabled,disabled:e.disabled,className:d,onClick:n._onItemClick(e),onMouseEnter:n._onItemMouseEnter.bind(n,e),onMouseLeave:n._onMouseItemLeave.bind(n,e),onMouseMove:n._onItemMouseMove.bind(n,e),role:"option","aria-selected":u?"true":"false",ariaLabel:e.ariaLabel,title:p,"aria-posinset":n._sizePosCache.positionInSet(e.index),"aria-setsize":n._sizePosCache.optionSetSize},o(e,n._onRenderOption))},n._onRenderOption=function(e){return a.createElement("span",{className:n._classNames.dropdownOptionText},e.text)},n._onRenderItemLabel=function(e){var t=n.props.onRenderOption;return(void 0===t?n._onRenderOption:t)(e,n._onRenderOption)},n._onPositioned=function(e){n._focusZone.current&&n._requestAnimationFrame((function(){var e=n.props.hoisted.selectedIndices;if(n._focusZone.current)if(!n._hasBeenPositioned&&e&&e[0]&&!n.props.options[e[0]].disabled){var t=(0,d.Y)().getElementById(n._id+"-list"+e[0]);t&&n._focusZone.current.focusElement(t),n._hasBeenPositioned=!0}else n._focusZone.current.focus()})),n.state.calloutRenderEdge&&n.state.calloutRenderEdge===e.targetEdge||n.setState({calloutRenderEdge:e.targetEdge})},n._onItemClick=function(e){return function(t){e.disabled||(n.setSelectedIndex(t,e.index),n.props.multiSelect||n.setState({isOpen:!1}))}},n._onScroll=function(){n._isScrollIdle||void 0===n._scrollIdleTimeoutId?n._isScrollIdle=!1:(clearTimeout(n._scrollIdleTimeoutId),n._scrollIdleTimeoutId=void 0),n._scrollIdleTimeoutId=window.setTimeout((function(){n._isScrollIdle=!0}),n._scrollIdleDelay)},n._onMouseItemLeave=function(e,t){if(!n._shouldIgnoreMouseEvent()&&n._host.current)if(n._host.current.setActive)try{n._host.current.setActive()}catch(r){}else n._host.current.focus()},n._onDismiss=function(){n.setState({isOpen:!1})},n._onDropdownBlur=function(e){n._isDisabled()||n.state.isOpen||(n.setState({hasFocus:!1}),n.props.onBlur&&n.props.onBlur(e))},n._onDropdownKeyDown=function(e){if(!n._isDisabled()&&(n._lastKeyDownWasAltOrMeta=n._isAltOrMeta(e),!n.props.onKeyDown||(n.props.onKeyDown(e),!e.defaultPrevented))){var t,r=n.props.hoisted.selectedIndices.length?n.props.hoisted.selectedIndices[0]:-1,o=e.altKey||e.metaKey,i=n.state.isOpen;switch(e.which){case p.c.enter:n.setState({isOpen:!i});break;case p.c.escape:if(!i)return;n.setState({isOpen:!1});break;case p.c.up:if(o){if(i){n.setState({isOpen:!1});break}return}n.props.multiSelect?n.setState({isOpen:!0}):n._isDisabled()||(t=n._moveIndex(e,-1,r-1,r));break;case p.c.down:o&&(e.stopPropagation(),e.preventDefault()),o&&!i||n.props.multiSelect?n.setState({isOpen:!0}):n._isDisabled()||(t=n._moveIndex(e,1,r+1,r));break;case p.c.home:n.props.multiSelect||(t=n._moveIndex(e,1,0,r));break;case p.c.end:n.props.multiSelect||(t=n._moveIndex(e,-1,n.props.options.length-1,r));break;case p.c.space:break;default:return}t!==r&&(e.stopPropagation(),e.preventDefault())}},n._onDropdownKeyUp=function(e){if(!n._isDisabled()){var t=n._shouldHandleKeyUp(e),r=n.state.isOpen;n.props.onKeyUp&&(n.props.onKeyUp(e),e.defaultPrevented)||(e.which===p.c.space?(n.setState({isOpen:!r}),e.stopPropagation(),e.preventDefault()):t&&r&&n.setState({isOpen:!1}))}},n._onZoneKeyDown=function(e){var t,r,o;n._lastKeyDownWasAltOrMeta=n._isAltOrMeta(e);var i=e.altKey||e.metaKey;switch(e.which){case p.c.up:i?n.setState({isOpen:!1}):n._host.current&&(o=(0,f.dm)(n._host.current,n._host.current.lastChild,!0));break;case p.c.home:case p.c.end:case p.c.pageUp:case p.c.pageDown:break;case p.c.down:!i&&n._host.current&&(o=(0,f.j5)(n._host.current,n._host.current.firstChild,!0));break;case p.c.escape:n.setState({isOpen:!1});break;case p.c.tab:n.setState({isOpen:!1});var a=(0,d.Y)();a&&(e.shiftKey?null===(t=(0,f.yv)(a.body,n._dropDown.current,!1,!1,!0,!0))||void 0===t||t.focus():null===(r=(0,f.eX)(a.body,n._dropDown.current,!1,!1,!0,!0))||void 0===r||r.focus());break;default:return}o&&o.focus(),e.stopPropagation(),e.preventDefault()},n._onZoneKeyUp=function(e){n._shouldHandleKeyUp(e)&&n.state.isOpen&&(n.setState({isOpen:!1}),e.preventDefault())},n._onDropdownClick=function(e){if(!n.props.onClick||(n.props.onClick(e),!e.defaultPrevented)){var t=n.state.isOpen;n._isDisabled()||n._shouldOpenOnFocus()||n.setState({isOpen:!t}),n._isFocusedByClick=!1}},n._onDropdownMouseDown=function(){n._isFocusedByClick=!0},n._onFocus=function(e){if(!n._isDisabled()){n.props.onFocus&&n.props.onFocus(e);var t={hasFocus:!0};n._shouldOpenOnFocus()&&(t.isOpen=!0),n.setState(t)}},n._isDisabled=function(){var e=n.props.disabled,t=n.props.isDisabled;return void 0===e&&(e=t),e},n._onRenderLabel=function(e){var t=e.label,r=e.required,o=e.disabled,i=n._classNames.subComponentStyles?n._classNames.subComponentStyles.label:void 0;return t?a.createElement(P.J,{className:n._classNames.label,id:n._labelId,required:r,styles:i,disabled:o},t):null},(0,h.f)(n);t.multiSelect,t.selectedKey,t.selectedKeys,t.defaultSelectedKey,t.defaultSelectedKeys;var r=t.options;return n._id=t.id||(0,m.O)("Dropdown"),n._labelId=n._id+"-label",n._listId=n._id+"-list",n._optionId=n._id+"-option",n._isScrollIdle=!0,n._hasBeenPositioned=!1,n._sizePosCache.updateOptions(r),n.state={isOpen:!1,hasFocus:!1,calloutRenderEdge:void 0},n}return(0,i.C6)(t,e),Object.defineProperty(t.prototype,"selectedOptions",{get:function(){var e=this.props,t=e.options,n=e.hoisted.selectedIndices;return(0,ye.D)(t,n)},enumerable:!1,configurable:!0}),t.prototype.componentWillUnmount=function(){clearTimeout(this._scrollIdleTimeoutId)},t.prototype.componentDidUpdate=function(e,t){!0===t.isOpen&&!1===this.state.isOpen&&(this._gotMouseMove=!1,this._hasBeenPositioned=!1,this.props.onDismiss&&this.props.onDismiss())},t.prototype.render=function(){var e=this._id,t=this.props,n=t.className,r=t.label,o=t.options,s=t.ariaLabel,l=t.required,u=t.errorMessage,c=t.styles,d=t.theme,p=t.panelProps,f=t.calloutProps,h=t.onRenderTitle,m=void 0===h?this._getTitle:h,y=t.onRenderContainer,b=void 0===y?this._onRenderContainer:y,x=t.onRenderCaretDown,_=void 0===x?this._onRenderCaretDown:x,C=t.onRenderLabel,w=void 0===C?this._onRenderLabel:C,S=t.onRenderItem,k=void 0===S?this._onRenderItem:S,T=t.hoisted.selectedIndices,E=this.state,P=E.isOpen,I=E.calloutRenderEdge,A=E.hasFocus,R=t.onRenderPlaceholder||t.onRenderPlaceHolder||this._getPlaceholder;o!==this._sizePosCache.cachedOptions&&this._sizePosCache.updateOptions(o);var L=(0,ye.D)(o,T),M=(0,g.G1)(t,g.JM),B=this._isDisabled(),O=e+"-errorMessage";this._classNames=we(c,{theme:d,className:n,hasError:!!(u&&u.length>0),hasLabel:!!r,isOpen:P,required:l,disabled:B,isRenderingPlaceholder:!L.length,panelClassName:p?p.className:void 0,calloutClassName:f?f.className:void 0,calloutRenderEdge:I});var F=!!u&&u.length>0;return a.createElement("div",{className:this._classNames.root,ref:this.props.hoisted.rootRef,"aria-owns":P?this._listId:void 0},w(this.props,this._onRenderLabel),a.createElement("div",(0,i.Cl)({"data-is-focusable":!B,"data-ktp-target":!0,ref:this._dropDown,id:e,tabIndex:B?-1:0,role:"combobox","aria-haspopup":"listbox","aria-expanded":P?"true":"false","aria-label":s,"aria-labelledby":r&&!s?(0,v._)(this._labelId,this._optionId):void 0,"aria-describedby":F?this._id+"-errorMessage":void 0,"aria-required":l,"aria-disabled":B,"aria-controls":P?this._listId:void 0},M,{className:this._classNames.dropdown,onBlur:this._onDropdownBlur,onKeyDown:this._onDropdownKeyDown,onKeyUp:this._onDropdownKeyUp,onClick:this._onDropdownClick,onMouseDown:this._onDropdownMouseDown,onFocus:this._onFocus}),a.createElement("span",{id:this._optionId,className:this._classNames.title,"aria-live":A?"polite":void 0,"aria-atomic":!!A||void 0,"aria-invalid":F},L.length?m(L,this._onRenderTitle):R(t,this._onRenderPlaceholder)),a.createElement("span",{className:this._classNames.caretDownWrapper},_(t,this._onRenderCaretDown))),P&&b((0,i.Cl)((0,i.Cl)({},t),{onDismiss:this._onDismiss,onRenderItem:k}),this._onRenderContainer),F&&a.createElement("div",{role:"alert",id:O,className:this._classNames.errorMessage},u))},t.prototype.focus=function(e){this._dropDown.current&&(this._dropDown.current.focus(),e&&this.setState({isOpen:!0}))},t.prototype.setSelectedIndex=function(e,t){var n=this.props,r=n.options,o=n.selectedKey,i=n.selectedKeys,a=n.multiSelect,s=n.notifyOnReselect,l=n.hoisted.selectedIndices,u=void 0===l?[]:l,c=!!u&&u.indexOf(t)>-1,d=[];if(t=Math.max(0,Math.min(r.length-1,t)),void 0===o&&void 0===i){if(a||s||t!==u[0]){if(a)if(d=u?this._copyArray(u):[],c){var p=d.indexOf(t);p>-1&&d.splice(p,1)}else d.push(t);else d=[t];e.persist(),this.props.hoisted.setSelectedIndices(d),this._onChange(e,r,t,c,a)}}else this._onChange(e,r,t,c,a)},t.prototype._copyArray=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n];t.push(o)}return t},t.prototype._moveIndex=function(e,t,n,r){var o=this.props.options;if(r===n||0===o.length)return r;n>=o.length?n=0:n<0&&(n=o.length-1);for(var i=0;o[n].itemType===w.W.Header||o[n].itemType===w.W.Divider||o[n].disabled;){if(i>=o.length)return r;n+t<0?n=o.length:n+t>=o.length&&(n=-1),n+=t,i++}return this.setSelectedIndex(e,n),n},t.prototype._renderFocusableList=function(e){var t=e.onRenderList,n=void 0===t?this._onRenderList:t,r=e.label,o=e.ariaLabel,i=e.multiSelect;return a.createElement("div",{className:this._classNames.dropdownItemsWrapper,onKeyDown:this._onZoneKeyDown,onKeyUp:this._onZoneKeyUp,ref:this._host,tabIndex:0},a.createElement(k.R,{ref:this._focusZone,direction:T.E.vertical,id:this._listId,className:this._classNames.dropdownItems,role:"listbox","aria-label":o,"aria-labelledby":r&&!o?this._labelId:void 0,"aria-multiselectable":i},n(e,this._onRenderList)))},t.prototype._renderSeparator=function(e){var t=e.index,n=e.key,r=e.hidden?this._classNames.dropdownDividerHidden:this._classNames.dropdownDivider;return t>0?a.createElement("div",{role:"separator",key:n,className:r}):null},t.prototype._renderHeader=function(e){var t=this.props.onRenderOption,n=void 0===t?this._onRenderOption:t,r=e.key,o=e.id,i=e.hidden?this._classNames.dropdownItemHeaderHidden:this._classNames.dropdownItemHeader;return a.createElement("div",{id:o,key:r,className:i},n(e,this._onRenderOption))},t.prototype._onItemMouseEnter=function(e,t){this._shouldIgnoreMouseEvent()||t.currentTarget.focus()},t.prototype._onItemMouseMove=function(e,t){var n=t.currentTarget;this._gotMouseMove=!0,this._isScrollIdle&&document.activeElement!==n&&n.focus()},t.prototype._shouldIgnoreMouseEvent=function(){return!this._isScrollIdle||!this._gotMouseMove},t.prototype._isAltOrMeta=function(e){return e.which===p.c.alt||"Meta"===e.key},t.prototype._shouldHandleKeyUp=function(e){var t=this._lastKeyDownWasAltOrMeta&&this._isAltOrMeta(e);return this._lastKeyDownWasAltOrMeta=!1,!!t&&!((0,y.c)()||(0,b.u)())},t.prototype._shouldOpenOnFocus=function(){var e=this.state.hasFocus,t=this.props.openOnKeyboardFocus;return!this._isFocusedByClick&&!0===t&&!e},t.defaultProps={options:[]},t}(a.Component),Ae=n(25380),Re=n(84113),Le={root:"ms-Dropdown-container",label:"ms-Dropdown-label",dropdown:"ms-Dropdown",title:"ms-Dropdown-title",caretDownWrapper:"ms-Dropdown-caretDownWrapper",caretDown:"ms-Dropdown-caretDown",callout:"ms-Dropdown-callout",panel:"ms-Dropdown-panel",dropdownItems:"ms-Dropdown-items",dropdownItem:"ms-Dropdown-item",dropdownDivider:"ms-Dropdown-divider",dropdownOptionText:"ms-Dropdown-optionText",dropdownItemHeader:"ms-Dropdown-header",titleIsPlaceHolder:"ms-Dropdown-titleIsPlaceHolder",titleHasError:"ms-Dropdown-title--hasError"},Me=((Te={})[Z.up+", "+Z.hT.replace("@media ","")]=(0,i.Cl)({},(0,Z.Qg)()),Te),Be={selectors:(0,i.Cl)((Ee={},Ee[Z.up]={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText"},Ee),Me)},Oe={selectors:(Pe={},Pe[Z.up]={borderColor:"Highlight"},Pe)},Fe=(0,Z.L6)(0,Z.O7),De=(0,o.I)(ke,(function(e){var t,n,r,o,a,s,l,u,c,d,p,f,h=e.theme,m=e.hasError,g=e.hasLabel,v=e.className,y=e.isOpen,b=e.disabled,x=e.required,_=e.isRenderingPlaceholder,C=e.panelClassName,w=e.calloutClassName,S=e.calloutRenderEdge;if(!h)throw new Error("theme is undefined or null in base Dropdown getStyles function.");var k=(0,Z.Km)(Le,h),T=h.palette,E=h.semanticColors,P=h.effects,I=h.fonts,A={color:E.menuItemTextHovered},R={color:E.menuItemText},L={borderColor:E.errorText},M=[k.dropdownItem,{backgroundColor:"transparent",boxSizing:"border-box",cursor:"pointer",display:"flex",alignItems:"center",padding:"0 8px",width:"100%",minHeight:36,lineHeight:20,height:0,position:"relative",border:"1px solid transparent",borderRadius:0,wordWrap:"break-word",overflowWrap:"break-word",textAlign:"left",".ms-Button-flexContainer":{width:"100%"}}],B=[k.dropdownItemHeader,(0,i.Cl)((0,i.Cl)({},I.medium),{fontWeight:Z.BO.semibold,color:E.menuHeader,background:"none",backgroundColor:"transparent",border:"none",height:36,lineHeight:36,cursor:"default",padding:"0 8px",userSelect:"none",textAlign:"left",selectors:(t={},t[Z.up]=(0,i.Cl)({color:"GrayText"},(0,Z.Qg)()),t)})],O=E.menuItemBackgroundPressed,F=function(e){var t;return void 0===e&&(e=!1),{selectors:(t={"&:hover":[{color:E.menuItemTextHovered,backgroundColor:e?O:E.menuItemBackgroundHovered},Be],"&.is-multi-select:hover":[{backgroundColor:e?O:"transparent"}],"&:active:hover":[{color:E.menuItemTextHovered,backgroundColor:e?E.menuItemBackgroundHovered:E.menuItemBackgroundPressed},Be]},t["."+Ae.Y2+" &:focus:after"]={left:0,top:0,bottom:0,right:0},t[Z.up]={border:"none"},t)}},D=(0,i.fX)((0,i.fX)([],M),[{backgroundColor:O,color:E.menuItemTextHovered},F(!0),Be]),N=(0,i.fX)((0,i.fX)([],M),[{color:E.disabledText,cursor:"default",selectors:(n={},n[Z.up]={color:"GrayText",border:"none"},n)}]),U=S===Re.x.bottom?P.roundedCorner2+" "+P.roundedCorner2+" 0 0":"0 0 "+P.roundedCorner2+" "+P.roundedCorner2,z=S===Re.x.bottom?"0 0 "+P.roundedCorner2+" "+P.roundedCorner2:P.roundedCorner2+" "+P.roundedCorner2+" 0 0";return{root:[k.root,v],label:k.label,dropdown:[k.dropdown,Z.S8,I.medium,{color:E.menuItemText,borderColor:E.focusBorder,position:"relative",outline:0,userSelect:"none",selectors:(r={},r["&:hover ."+k.title]=[!b&&A,{borderColor:y?T.neutralSecondary:T.neutralPrimary},Oe],r["&:focus ."+k.title]=[!b&&A,{selectors:(o={},o[Z.up]={color:"Highlight"},o)}],r["&:focus:after"]=[{pointerEvents:"none",content:"''",position:"absolute",boxSizing:"border-box",top:"0px",left:"0px",width:"100%",height:"100%",border:b?"none":"2px solid "+T.themePrimary,borderRadius:"2px",selectors:(a={},a[Z.up]={color:"Highlight"},a)}],r["&:active ."+k.title]=[!b&&A,{borderColor:T.themePrimary},Oe],r["&:hover ."+k.caretDown]=!b&&R,r["&:focus ."+k.caretDown]=[!b&&R,{selectors:(s={},s[Z.up]={color:"Highlight"},s)}],r["&:active ."+k.caretDown]=!b&&R,r["&:hover ."+k.titleIsPlaceHolder]=!b&&R,r["&:focus ."+k.titleIsPlaceHolder]=!b&&R,r["&:active ."+k.titleIsPlaceHolder]=!b&&R,r["&:hover ."+k.titleHasError]=L,r["&:active ."+k.titleHasError]=L,r)},y&&"is-open",b&&"is-disabled",x&&"is-required",x&&!g&&{selectors:(l={":before":{content:"'*'",color:E.errorText,position:"absolute",top:-5,right:-10}},l[Z.up]={selectors:{":after":{right:-14}}},l)}],title:[k.title,Z.S8,{backgroundColor:E.inputBackground,borderWidth:1,borderStyle:"solid",borderColor:E.inputBorder,borderRadius:y?U:P.roundedCorner2,cursor:"pointer",display:"block",height:32,lineHeight:30,padding:"0 28px 0 8px",position:"relative",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},_&&[k.titleIsPlaceHolder,{color:E.inputPlaceholderText}],m&&[k.titleHasError,L],b&&{backgroundColor:E.disabledBackground,border:"none",color:E.disabledText,cursor:"default",selectors:(u={},u[Z.up]=(0,i.Cl)({border:"1px solid GrayText",color:"GrayText",backgroundColor:"Window"},(0,Z.Qg)()),u)}],caretDownWrapper:[k.caretDownWrapper,{height:32,lineHeight:30,paddingTop:1,position:"absolute",right:8,top:0},!b&&{cursor:"pointer"}],caretDown:[k.caretDown,{color:T.neutralSecondary,fontSize:I.small.fontSize,pointerEvents:"none"},b&&{color:E.disabledText,selectors:(c={},c[Z.up]=(0,i.Cl)({color:"GrayText"},(0,Z.Qg)()),c)}],errorMessage:(0,i.Cl)((0,i.Cl)({color:E.errorText},h.fonts.small),{paddingTop:5}),callout:[k.callout,{boxShadow:P.elevation8,borderRadius:z,selectors:(d={},d[".ms-Callout-main"]={borderRadius:z},d)},w],dropdownItemsWrapper:{selectors:{"&:focus":{outline:0}}},dropdownItems:[k.dropdownItems,{display:"block"}],dropdownItem:(0,i.fX)((0,i.fX)([],M),[F()]),dropdownItemSelected:D,dropdownItemDisabled:N,dropdownItemSelectedAndDisabled:[D,N,{backgroundColor:"transparent"}],dropdownItemHidden:(0,i.fX)((0,i.fX)([],M),[{display:"none"}]),dropdownDivider:[k.dropdownDivider,{height:1,backgroundColor:E.bodyDivider}],dropdownDividerHidden:[k.dropdownDivider,{display:"none"}],dropdownOptionText:[k.dropdownOptionText,{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",minWidth:0,maxWidth:"100%",wordWrap:"break-word",overflowWrap:"break-word",margin:"1px"}],dropdownItemHeader:B,dropdownItemHeaderHidden:(0,i.fX)((0,i.fX)([],B),[{display:"none"}]),subComponentStyles:{label:{root:{display:"inline-block"}},multiSelectItem:{root:{padding:0},label:{alignSelf:"stretch",padding:"0 8px",width:"100%"},input:{selectors:(p={},p["."+Ae.Y2+" &:focus + label::before"]={outlineOffset:"0px"},p)}},panel:{root:[C],main:{selectors:(f={},f[Fe]={width:272},f)},contentInner:{padding:"0 0 20px"}}}}}),void 0,{scope:"Dropdown"});De.displayName="Dropdown"},76984:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(9950),o=n(63010);function i(e){var t=(0,o.V)("magicErase").id,n=(0,o.V)("spotFix").id;return(0,r.useMemo)((function(){return e.some((function(e){var r=e.algorithmParameters.algorithmId;return r===t||r===n}))}),[e,t,n])}},77169:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,e:()=>s});var r=n(4351),o=n(2169),i=n(23359);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s(e,(0,o.Iy)())}function s(e,t){var n=e instanceof Array?e:[e],o=(0,r.h)(n),a=o.classes,s=o.objects;return s.length&&a.push((0,i.kG)(t||{},s)),a.join(" ")}},77551:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var r=n(38673),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=(0,r.C)(!1),a=o(o({},(0,r.C)(!1)),{backgroundMask:!0,eraseMask:!0,normalMap:!0,objectSegmentationPreview:!0});function s(e,t){return t?a[e]:i[e]}},77975:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});var r=n(96042);var o=(0,r.J5)((function(e){return(0,r.J5)((function(t){var n=(0,r.J5)((function(e){return function(n){return t(n,e)}}));return function(r,o){return e(r,o?n(o):t)}}))}));function i(e,t){return o(e)(t)}},77990:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var r=n(9950);function o(e){(0,r.useEffect)((function(){if(e){var t=function(e){return e.preventDefault(),!1};return e.addEventListener("contextmenu",t),function(){return e.removeEventListener("contextmenu",t)}}}),[e])}},78499:(e,t,n)=>{"use strict";n.d(t,{D:()=>u});var r=n(37827),o=n(9950),i=n(28225),a=n(23501),s=n(60108),l=n(88114),u=function(e){var t,n=(0,l.B)("gridCell"),u=e.item,c=e.id,d=void 0===c?n:c,p=e.className,f=e.selected,h=e.disabled,m=void 0!==h&&h,g=e.onRenderItem,v=e.cellDisabledStyle,y=e.cellIsSelectedStyle,b=e.index,x=e.label,_=e.getClassNames,C=e.onClick,w=e.onHover,S=e.onMouseMove,k=e.onMouseLeave,T=e.onMouseEnter,E=e.onFocus,P=(0,i.G1)(e,i.uw),I=o.useCallback((function(e){C&&!m&&C(u,e)}),[m,u,C]),A=o.useCallback((function(e){T&&T(e)||!w||m||w(u,e)}),[m,u,w,T]),R=o.useCallback((function(e){S&&S(e)||!w||m||w(u,e)}),[m,u,w,S]),L=o.useCallback((function(e){k&&k(e)||!w||m||w(void 0,e)}),[m,w,k]),M=o.useCallback((function(e){E&&!m&&E(u,e)}),[m,u,E]);return o.createElement(s.c,(0,r.Cl)({id:d,"data-index":b,"data-is-focusable":!0,"aria-selected":f,ariaLabel:x,title:x},P,{className:(0,a.A)(p,(t={},t[""+y]=f,t[""+v]=m,t)),onClick:I,onMouseEnter:A,onMouseMove:R,onMouseLeave:L,onFocus:M,getClassNames:_}),g(u))}},79268:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var r=n(85913),o=n(75347),i=n(26397),a=n(40177),s=(0,r.Mz)([a.PO,a.ln],(function(e,t){var n=(0,o.ZG)(e,t),r=(0,o.bM)(n),a=(0,i.m1)(r,-1);return(0,i.hi)(a)}))},79338:(e,t,n)=>{"use strict";function r(e,t){var n,r,o;return void 0===t&&(t={}),{cropInteraction:{aspectRatio:(null===(n=t.cropInteraction)||void 0===n?void 0:n.aspectRatio)||e.cropInteraction.aspectRatio,uvToWorld:(null===(r=t.cropInteraction)||void 0===r?void 0:r.uvToWorld)||e.cropInteraction.uvToWorld},image:{_preciseUvToWorld:(null===(o=t.image)||void 0===o?void 0:o._preciseUvToWorld)||e.image._preciseUvToWorld}}}n.d(t,{I:()=>r})},79488:(e,t,n)=>{"use strict";n.d(t,{MS:()=>i,nw:()=>a});var r=n(3936);function o(e){return[{localizedName:e.markup_colorDarkYellow,hexColor:r.Gk},{localizedName:e.markup_colorLightOrange,hexColor:r.KY},{localizedName:e.markup_colorOrange,hexColor:r.J8},{localizedName:e.markup_colorRed,hexColor:r.Iw},{localizedName:e.markup_colorDarkPurple,hexColor:r.aJ},{localizedName:e.markup_colorPurple,hexColor:r.dO},{localizedName:e.markup_colorMagenta,hexColor:r.YA},{localizedName:e.markup_colorDarkRed,hexColor:r.hl},{localizedName:e.markup_colorLightBlue,hexColor:r.Cf},{localizedName:e.markup_colorBlue,hexColor:r.Nf},{localizedName:e.markup_colorDarkBlue,hexColor:r.QD},{localizedName:e.markup_colorLightGreen,hexColor:r.Jy},{localizedName:e.markup_colorGreen,hexColor:r.Gj},{localizedName:e.markup_colorLightGray,hexColor:r.Rs},{localizedName:e.markup_colorGray,hexColor:r.uM},{localizedName:e.markup_colorBlack,hexColor:r.a9}]}function i(e){return o(e).map((function(e,t){var n=++t;return{index:n,id:n.toString(),label:e.localizedName,color:e.hexColor}}))}function a(e,t){var n=o(e).find((function(e){return e.hexColor.toLowerCase()===t.toLowerCase()}));if(!n)throw new Error("No matching color option for hex value ".concat(t));return n.localizedName}},79623:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});var r=function(){function e(){this._count=0,this._min=Number.MAX_VALUE,this._totalTime=0}return Object.defineProperty(e.prototype,"frameCount",{get:function(){return this._count},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minimumFps",{get:function(){return this._min},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageFps",{get:function(){return 1e3*this._count/this._totalTime},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._count=0,this._min=Number.MAX_VALUE,this._totalTime=0},e.prototype.reportFrame=function(e){if(this._count++,e>0){var t=1e3/e;this._min=Math.min(this.minimumFps,t),this._totalTime+=e}},e}()},79648:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(9950),o=n(8694);function i(e,t){var n=(0,o.L)();(0,r.useLayoutEffect)((function(){n.registerErrorToUserFacingMessageConverterForAlgorithmId(e,t)}),[n,e,t])}},79734:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=n(48932),o=n(74789);function i(e,t,n){return[a(e),a(t),a(n)].join("")}function a(e){var t=(e=(0,o.q)(e,r.rd)).toString(16);return 1===t.length?"0"+t:t}},79847:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});var r=function(e){return"#ffffff"===e.palette.black.toLowerCase()||"rgb(255,255,255)"===e.palette.black.toLowerCase()}},80163:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});var r=n(54986);function o(e){var t;return((t={})[r.A.RGB]=3,t[r.A.RGBA]=4,t[r.A.A]=1,t)[e]}},80514:(e,t,n)=>{"use strict";function r(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}n.d(t,{D:()=>r})},80559:(e,t,n)=>{"use strict";n.d(t,{us:()=>F,H_:()=>K,vG:()=>N,yp:()=>g,aI:()=>G,xO:()=>C,Mh:()=>z,mS:()=>x,xl:()=>D,zc:()=>P,Op:()=>b,Dx:()=>_,O:()=>I,lZ:()=>L,ak:()=>M,vh:()=>S,MS:()=>q,Xc:()=>R,b4:()=>W,pj:()=>A,ey:()=>j,dQ:()=>T,bl:()=>V,w4:()=>U,ib:()=>k,Jk:()=>y,xE:()=>B,Ao:()=>O,ov:()=>H,WP:()=>E,ed:()=>w});var r=n(3041),o=n(42610),i=n(88873),a=n(31985),s=n(33583);var l,u=n(26397),c=n(70104),d=n(13246),p=n(53471),f={activeInkBrushId:p.R,inkBrushes:p.M,activeMarkupToolType:d.Gu,previousActiveMarkupToolType:void 0,showInkStylePicker:!1,strokeShapeTipVisibilityState:"notShown",markupCursorScreenPosition:{x:0,y:0},isKeyboardInputActive:!1,linePreviewCoords:{startPoint:void 0,endPoint:void 0}},h=n(62168),m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},m.apply(this,arguments)},g={showAspectRatioOptions:!1,activeAdjustmentKey:void 0,activeEditorActivity:i.iF,activeEditorActivityInputType:"",nextEditorActivity:void 0,waitingForActiveEditorActivityToComplete:!1,waitingForMarkupOverlayTexture:!1,shouldWaitForEditorActivityToComplete:!1,numberOfResets:0,isViewingOriginal:!1,markupUiState:f,stylizerProcessingStatus:h.V,userFacingErrorMessages:[],initialBackgroundTypeToApply:void 0,hasInitialBackgroundTypeBeenApplied:!1},v=(0,r.Z0)({name:"EditorUiState",initialState:g,reducers:{setShowAspectRatioOptions:function(e,t){e.showAspectRatioOptions=t.payload},setActiveAdjustment:function(e,t){e.activeAdjustmentKey=t.payload},prepareEditorActivityChange:function(e,t){var n=t.payload,r=n.nextEditorActivity,i=n.inputType;r&&e.activeEditorActivity!==r&&(e.shouldWaitForEditorActivityToComplete&&(e.waitingForActiveEditorActivityToComplete=!0),e.nextEditorActivity=r,(0,o.yE)(),(0,o.fS)(e.nextEditorActivity)),i&&(e.activeEditorActivityInputType=i)},cancelEditorActivityChange:function(e){var t=e.nextEditorActivity;e.waitingForActiveEditorActivityToComplete=!1,e.nextEditorActivity=void 0,(0,o.Hx)(),(0,o.S0)(t)},setActiveEditorActivity:function(e,t){if(t.telemetry){var n=(0,o.By)();n&&t.payload&&t.telemetry.logEditorActivityChangePrepareTimeEvent({fromEditorActivityName:e.activeEditorActivity,prepareTimeInMs:n,toEditorActivityName:t.payload})}t.payload&&(e.activeEditorActivity=t.payload,e.isViewingOriginal=!1,e.nextEditorActivity=void 0,t.payload!==i.VO&&"showing"===e.markupUiState.strokeShapeTipVisibilityState&&(e.markupUiState.strokeShapeTipVisibilityState="alreadyShown"))},handleOverlayTextureLoaded:function(e,t){e.waitingForActiveEditorActivityToComplete=!1,e.waitingForMarkupOverlayTexture=!1,e.shouldWaitForEditorActivityToComplete=!1},setWaitingForMarkupOverlayTexture:function(e,t){e.waitingForMarkupOverlayTexture=t.payload},setDoneWaitingForActiveEditorActivityToComplete:function(e){e.waitingForActiveEditorActivityToComplete=!1,e.shouldWaitForEditorActivityToComplete=!1},setShouldWaitForEditorActivityToComplete:function(e,t){e.shouldWaitForEditorActivityToComplete=t.payload},setIsViewingOriginal:function(e,t){e.isViewingOriginal=t.payload},setActiveMarkupInkBrushId:function(e,t){e.markupUiState.activeInkBrushId=t.payload},setInkBrushes:function(e,t){e.markupUiState.inkBrushes=t.payload},setInkBrush:function(e,t){!function(e,t,n){e.markupUiState.inkBrushes[n]=t}(e,t.payload.inkBrush,t.payload.id);var n=t.payload.inkBrush,r=n.htmlColor,o=n.inkType,i=n.thicknessInCssPixels,a=n.strokeShape,s=a.lineMode,l=a.arrowMode,u=void 0===l?c.x.NoArrow:l;t.telemetry&&t.telemetry.logInkBrushUpdateEvent({color:r,inkType:o,thicknessInCssPixels:i,lineMode:s,arrowMode:u})},setInkBrushVisibility:function(e,t){e.markupUiState.inkBrushes[t.payload.inkBrushId].isInkBrushvisible=t.payload.isInkBrushVisible},setActiveMarkupToolType:function(e,t){e.markupUiState.previousActiveMarkupToolType=e.markupUiState.activeMarkupToolType,e.markupUiState.activeMarkupToolType=t.payload,t.telemetry&&t.telemetry.logMarkupToolSelectEvent({activeMarkupToolType:t.payload})},setActiveMarkupToolTypeWithoutTelemetry:function(e,t){e.markupUiState.previousActiveMarkupToolType=e.markupUiState.activeMarkupToolType,e.markupUiState.activeMarkupToolType=t.payload},setShowInkStylePicker:function(e,t){e.markupUiState.showInkStylePicker=t.payload},setUiState:function(e,t){return m(m({},e),t.payload)},resetUiState:function(e,t){return m({},g)},setStrokeShapeTipVisibilityState:function(e,t){e.markupUiState.strokeShapeTipVisibilityState=t.payload},addUserFacingMessage:function(e,t){e.userFacingErrorMessages.push(t.payload)},removeUserFacingMessage:function(e,t){e.userFacingErrorMessages=e.userFacingErrorMessages.filter((function(e){return e.id!==t.payload}))},clearUserFacingMessages:function(e){e.userFacingErrorMessages=[]},setMarkupCursorScreenPosition:function(e,t){e.markupUiState.markupCursorScreenPosition=t.payload},moveMarkupCursorScreenPositionBy:function(e,t){e.markupUiState.isKeyboardInputActive=!0;var n=t.payload;e.markupUiState.markupCursorScreenPosition=(0,u.If)(e.markupUiState.markupCursorScreenPosition,m({x:0,y:0},n))},setIsKeyboardInputActive:function(e,t){e.markupUiState.isKeyboardInputActive=t.payload},setLinePreviewCoords:function(e,t){e.markupUiState.linePreviewCoords=t.payload},setStylizerProcessingStatus:function(e,t){e.stylizerProcessingStatus=t.payload},setInitialBackgroundTypeHasBeenApplied:function(e,t){e.hasInitialBackgroundTypeBeenApplied=!0}},extraReducers:function(e){e.addCase(a.zj,(function(e,t){e.numberOfResets+=1})).addCase(a.my,(function(e,t){!t.payload.isPrimaryButtonDownOrTouchDown||e.activeEditorActivity!==i.km&&e.activeEditorActivity!==i.Zc&&e.activeEditorActivity!==i.io||(e.isViewingOriginal=!0)})).addCase(a.JI,(function(e,t){e.isViewingOriginal=!1})).addCase(s.bZ,(function(e,t){e.activeEditorActivity===i.VO&&(e.activeEditorActivity=i.km)}))}}),y=(l=v.actions).setShowAspectRatioOptions,b=l.setActiveAdjustment,x=l.prepareEditorActivityChange,_=l.setActiveEditorActivity,C=l.handleOverlayTextureLoaded,w=l.setWaitingForMarkupOverlayTexture,S=l.setDoneWaitingForActiveEditorActivityToComplete,k=l.setShouldWaitForEditorActivityToComplete,T=l.setIsViewingOriginal,E=l.setUiState,P=l.resetUiState,I=l.setActiveMarkupInkBrushId,A=l.setInkBrushes,R=l.setInkBrush,L=l.setActiveMarkupToolType,M=l.setActiveMarkupToolTypeWithoutTelemetry,B=l.setShowInkStylePicker,O=l.setStrokeShapeTipVisibilityState,F=l.addUserFacingMessage,D=l.removeUserFacingMessage,N=l.clearUserFacingMessages,U=l.setMarkupCursorScreenPosition,z=l.moveMarkupCursorScreenPositionBy,j=l.setIsKeyboardInputActive,V=l.setLinePreviewCoords,W=l.setInkBrushVisibility,H=l.setStylizerProcessingStatus,q=l.setInitialBackgroundTypeHasBeenApplied,K=l.cancelEditorActivityChange,G=v.reducer},80647:(e,t,n)=>{"use strict";n.d(t,{X:()=>l});var r=n(37827),o=n(6618),i={settings:{},scopedSettings:{},inCustomizerContext:!1},a=o.h.getValue("customizations",{settings:{},scopedSettings:{},inCustomizerContext:!1}),s=[],l=function(){function e(){}return e.reset=function(){a.settings={},a.scopedSettings={}},e.applySettings=function(t){a.settings=(0,r.Cl)((0,r.Cl)({},a.settings),t),e._raiseChange()},e.applyScopedSettings=function(t,n){a.scopedSettings[t]=(0,r.Cl)((0,r.Cl)({},a.scopedSettings[t]),n),e._raiseChange()},e.getSettings=function(e,t,n){void 0===n&&(n=i);for(var r={},o=t&&n.scopedSettings[t]||{},s=t&&a.scopedSettings[t]||{},l=0,u=e;l<u.length;l++){var c=u[l];r[c]=o[c]||n.settings[c]||s[c]||a.settings[c]}return r},e.applyBatchedUpdates=function(t,n){e._suppressUpdates=!0;try{t()}catch(r){}e._suppressUpdates=!1,n||e._raiseChange()},e.observe=function(e){s.push(e)},e.unobserve=function(e){s=s.filter((function(t){return t!==e}))},e._raiseChange=function(){e._suppressUpdates||s.forEach((function(e){return e()}))},e}()},80762:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var r=n(10032),o=n(71849);function i(e,t){var n=(0,r.w)(e,(function(e){return t===e||e.hasAttribute(o.r)}));return null!==n&&n.hasAttribute(o.r)}},81134:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var r=n(9950).createContext({canvasContextIsValid:!1,numTexturesLoaded:0})},81189:(e,t,n)=>{"use strict";n.d(t,{T:()=>s,r:()=>l});var r=n(38421),o=n(26262),i=n(45824),a=n(17755);function s(e,t){void 0===t&&(t=!1),!!e.image.loadedPixelSize||(t=!1);var n=e.pointer.pointerDowns.length>0&&(0,a.o8)(e.cropInteraction.activeHandleIndex),s=(0,o.Cp)(e.view.viewFitting.mode,(0,r.oR)(e.view.viewportPixelSize,e.device.pixelRatio,e.view.viewFitting.marginCssPixels),(0,o.jM)(n,e.cropInteraction.uvToWorld,e.cropInteraction.rectAtStartOfResize),e.image._preciseUvToWorld,e.view.worldToView);t?(e.animations.needsFrameTick=!0,e.animations.worldToView=(0,i.pG)(e.animations.worldToView,e.view.worldToView,s)):e.animations.worldToView=(0,i.PX)(),e.view.worldToView=s}function l(e){s(e,!0)}},81552:(e,t,n)=>{"use strict";n.d(t,{Bp:()=>i,dL:()=>l,dO:()=>a,mK:()=>s,yt:()=>o});var r=n(61540),o=255,i=0,a=[{color:(0,r.i)("#005EB7",.5),stopPercent:.35},{color:(0,r.i)("#60CCFE",.5),stopPercent:.7},{color:(0,r.i)("#B47CF8",.5),stopPercent:.9}],s=a[0].color,l=8},81603:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var r=n(85913),o=n(75347),i=n(21925),a=n(40177),s=(0,r.Mz)([a.A,a.PO,a.qx,a.Lp],(function(e,t,n,r){return(0,i.SM)((0,o.ZG)((0,o.U3)(1/r),n||t,e))}))},81902:(e,t,n)=>{"use strict";n.d(t,{Vr:()=>a,jG:()=>i,tM:()=>s});var r=n(66788),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function i(e,t){return void 0===e&&(e=void 0),void 0===t&&(t=(0,r.ci)()),o(o({},t),{numGridLines:e})}function a(e){return i(e,(0,r.Ql)())}function s(e,t,n){var o=(0,r.ov)(e,t,n);return o.isActive?i(e.numGridLines,o):i()}},81927:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var r={adjustment_light:"Light",adjustment_color:"Color",adjustment_lightAriaLandmark:"Light Adjustments",adjustment_colorAriaLandmark:"Color Adjustments",adjustment_brightness:"Brightness",adjustment_exposure:"Exposure",adjustment_contrast:"Contrast",adjustment_highlights:"Highlights",adjustment_shadows:"Shadows",adjustment_saturation:"Saturation",adjustment_temperature:"Warmth",adjustment_tint:"Tint",adjustment_vignette:"Vignette",adjustment_sharpness:"Sharpness",adjustment_mobileChangedAriaLive:"{0} value at {1}. Swipe down then up to access the respective value slider.",adjustment_sliderChangedAriaLive:"{0} value at {1}",adjustment_sliderAriaLabelFormatString:"{0}.{1}",adjustment_sliderTooltip:" Drag on slider or use arrow keys to change {0} value",adjustment_tileMobileTooltip:"Double tap to select then swipe down then up to select respective value slider",adjustment_tileMobileAriaLabel:"{0} value at {1}",adjustment_panelLabel:"Adjustments",aspectRatio_listTitle:"Aspect ratios",aspectRatio_freeform:"Free",aspectRatio_freeformAriaLabel:"Free aspect ratio",aspectRatio_original:"Original",aspectRatio_originalAriaLabel:"Original aspect ratio",aspectRatio_square:"Square",aspectRatio_squareAriaLabel:"Square aspect ratio",aspectRatio_ratioLabelFormatString:"{0} : {1}",aspectRatio_ratioAriaLabelFormatString:"{0} by {1} aspect ratio",aspectRatio_tooltip:"Click or select Enter to see more aspect ratio options",aspectRatio_changedAriaLive:"Changed to {0}",flip_portrait:"Flip to portrait",flip_portraitAriaLabel:"Flip to portrait",flip_landscape:"Flip to landscape",flip_landscapeAriaLabel:"Flip to landscape",aspectRatio_panelLabel:"Aspect Ratio",aspectRatio_landscapePanelLabel:"Landscape",aspectRatio_portraitPanelLabel:"Portrait",autoEnhance_name:"Auto Enhance",autoEnhance_appliedAriaLive:"Applied auto enhance with {0} intensity",autoEnhance_removedAriaLive:"Removed auto enhance",autoEnhance_intensitySliderHeader:"Intensity",autoEnhance_intensitySliderAriaLabel:"Auto Enhance intensity",autoEnhance_appliedTooltip:"Auto Enhance is applied to the image",autoEnhance_notAppliedTooltip:"Auto enhance is not applied to the image",crop_topLeftCornerAriaLabel:"Top left crop handle. Corner pixel position is {0} from the left {1} from the top.",crop_topRightCornerAriaLabel:"Top right crop handle. Corner pixel position is {0} from the left {1} from the top.",crop_bottomLeftCornerAriaLabel:"Bottom left crop handle. Corner pixel position is {0} from the left {1} from the top.",crop_bottomRightCornerAriaLabel:"Bottom right crop handle. Corner pixel position is {0} from the left {1} from the top.",crop_cornerTooltip:"Drag handle or use arrow keys to crop the image",crop_rectangleAriaLabel:"Drag the image or use the arrow keys to move image in crop region",crop_rectangleTooltip:"Drag the image or use the arrow keys to move image in crop region",crop_rectanglePositionAriaLive:"Left {0} Top {1} pixels",crop_rectangleCannotMoveInCurrentDirectionAriaLive:"Left {0} Top {1} pixels. Cannot move any further in current direction.",crop_panelLabel:"Crop and Rotate",editor_viewingOriginal:"Viewing Original",editor_viewingOriginalAriaLive:"Viewing original image",editor_zoomPercentAriaLive:"{0} percent zoom",editor_imageDimensionLabelFormatString:"{0} x {1}",editor_imageDimensionAriaLabelFormatString:"{0} by {1} pixels",editor_imageDimensionAriaLive:"Dimension is {0} by {1} pixels",editor_imageDimensionWithAspectRatioAriaLive:"{2} to {3} aspect ratio; dimension is {0} by {1} pixels",editor_title:"Image Editor",filter_listTitle:"Filters",filter_intensitySliderHeader:"Intensity",filter_intensitySliderAriaLabelFormatString:"{0} intensity.{1}",filter_nameOriginal:"Original",filter_nameBurn:"Burn",filter_nameBw:"B&W",filter_nameBwAriaLabel:"Black and White",filter_nameBwCool:"B&W Cool",filter_nameBwCoolAriaLabel:"Black and White Cool",filter_nameBwHighContrast:"B&W High Contrast",filter_nameBwHighContrastAriaLabel:"Black and White High Contrast",filter_nameBwWarm:"B&W Warm",filter_nameBwWarmAriaLabel:"Black and White Warm",filter_nameCoolLight:"Cool Light",filter_nameCalm:"Calm",filter_nameDramaticCool:"Dramatic Cool",filter_nameFilm:"Film",filter_nameGolden:"Golden",filter_namePunch:"Punch",filter_nameRadiate:"Radiate",filter_nameVintage:"Vintage",filter_nameVividCool:"Vivid Cool",filter_nameWarmContrast:"Warm Contrast",filter_changedAriaLive:"{0} filter has been applied",filter_changedAriaLiveWithIntensity:"{0} filter at {1} percent intensity has been applied",filter_mobileChangedAriaLive:"{0} filter has been applied. Swipe down then up to access the respective value slider.",filter_mobileChangedAriaLiveWithIntensity:"{0} filter at {1} percent intensity has been applied. Swipe down then up to access the respective value slider.",filter_filtersAriaLandmark:"Filters",filter_sliderTooltip:" Drag on slider or use arrow keys to change {0} value",filter_tileMobileTooltip:"Double tap to select then swipe down then up to select respective value slider",filter_tileAriaLabel:"{0} filter is in focus but not selected. {1} filter is currently selected at value of {2}",filter_tileAriaLabelWhenOriginalFilterIsSelected:"{0} filter is in focus but not selected. Original filter currently selected",filter_activeTileAriaLabel:"{0} filter is currently selected at value of {1}.",filter_activeOriginalFilterAriaLabel:"Original is selected",filter_showAllButtonText:"Show all",filter_hideButtonText:"Hide",footer_done:"Done",nonCrop_imageTooltip:"Click and hold or double tap and hold to view the original image",nonCrop_imageAriaLabelWithEdits:"Click and hold on image to view the original image. Alternatively, double tap on image then hold to view the original image",nonCrop_imageAriaLabelWithoutEdits:"No adjustments have been made or filter applied to the image",nonCrop_panViewPositionAriaLive:"Left {0} Top {1} pixels",nonCrop_imagePanAriaLabel:"Use arrow keys to pan the image. You may need to zoom in first.",pivot_crop:"Crop",pivot_adjustment:"Adjustment",pivot_filter:"Filter",pivot_markup:"Markup",pivot_retouch:"Retouch",pivot_erase:"Erase",pivot_inpaint:"Dev in-painting",pivot_background:"Background",pivot_relight:"Relight",pivot_focalpoint:"Focal point",pivot_stylizer:"Restyle image",pivot_resize:"Super resolution",pivot_cropAriaDescription:"Crop, rotate, and flip the image.",pivot_adjustmentAriaDescription:"Adjust the image light and color values.",pivot_filterAriaDescription:"Apply a filter to the image.",pivot_markupAriaDescription:"Annotate the image.",pivot_retouchAriaDescription:"Erase areas of the image.",pivot_backgroundAriaDescription:"Background blur, remove, or replace.",pivot_relightAriaDescription:"Apply AI lighting to the image.",pivot_focalpointAriaDescription:"Set the focal point of the image.",pivot_stylizerAriaDescription:"Restyle the image using AI.",pivot_resizeAriaDescription:"Enhance and upscale the image using AI.",rotate_left90:"Rotate image 90 degrees counter-clockwise",rotate_left90AriaLabel:"Rotate counter-clockwise",rotate_left90FinishedAriaLive:"Rotated 90 degrees counter-clockwise",rotate_right90:"Rotate image 90 degrees clockwise",rotate_right90AriaLabel:"Rotate clockwise",rotate_right90FinishedAriaLive:"Rotated 90 degrees clockwise",rotate_sliderAriaLabel:"Manual rotate",rotate_degree:"\xb0",rotate_sliderTooltip:"Drag or use arrow keys to rotate the image",flip_horizontal:"Flip image horizontally",flip_horizontalAriaLabel:"Flip image horizontally",flip_horizontalFinishedAriaLive:"Flipped image horizontally",flip_vertical:"Flip image vertically",flip_verticalAriaLabel:"Flip image vertically",flip_verticalFinishedAriaLive:"Flipped image vertically",toolbar_imageSaveMenu:"Save",toolbar_imageSaveMenuTooltip:"Save options for your image",toolbar_imageSave:"Save",toolbar_imageSaveAriaLabel:"Save",toolbar_saveMenuSplitButtonAriaLabel:"More save options",toolbar_imageSaveTooltip:"Image will be overwritten with the latest edits",toolbar_imageSaveTransparencyWarningTooltip:"This will save your image with a white background",toolbar_imageSaveAsCopy:"Save as copy",toolbar_imageSaveAsCopyAriaLabel:"Save as copy",toolbar_imageSaveAsCopyTooltip:"Create a new image with the applied edits",toolbar_imageSaveAsCopyTransparencyTooltip:"Use .png format to preserve background removal",toolbar_imageCopyToClipboard:"Copy to clipboard",toolbar_imageCopyToClipboardAriaLabel:"Copy to clipboard",toolbar_imageCopyToClipboardTooltip:"Copy the image to clipboard",toolbar_imageReset:"Reset",toolbar_imageResetTooltip:"Reset all edits performed on the image",toolbar_imageResetAriaLabel:"Reset",toolbar_imageResetFinishedAriaLive:"Image edits were reset",toolbar_resetConfirmDialogContentTitle:"Reset image?",toolbar_resetConfirmDialogContentSubText:"This will remove all edits made to this image.",toolbar_resetConfirmDialogCloseButtonAriaLabel:"Close",toolbar_resetConfirmDialogConfirmText:"Reset",toolbar_resetConfirmDialogConfirmAriaLabel:"Reset",toolbar_resetConfirmDialogCancelText:"Cancel",toolbar_resetConfirmDialogCancelAriaLabel:"Cancel",toolbar_zoomLevelAriaLabel:"Zoom level",toolbar_zoomInTooltip:"Zoom into the image",toolbar_zoomInAriaLabel:"Zoom in",toolbar_zoomOutTooltip:"Zoom out of the image",toolbar_zoomOutAriaLabel:"Zoom out",toolbar_done:"Done",toolbar_doneAriaLabel:"Done",toolbar_doneTooltip:"Done",toolbar_cancel:"Cancel",toolbar_cancelAriaLabel:"Cancel",toolbar_cancelTooltip:"Cancel all edits and return to previous screen",toolbar_fitToViewTooltip:"Fit to window",toolbar_viewActualSizeTooltip:"Actual size",toolbar_undo:"Undo",toolbar_undoAriaLabel:"Undo (Ctrl + Z)",toolbar_redo:"Redo",toolbar_redoAriaLabel:"Redo (Ctrl + Y)",undoRedo_colorAdjustmentsAriaLive:"{0} {1} color adjustment",undoRedo_autoEnhanceAriaLive:"{0} auto enhance",undoRedo_filterAriaLive:"{0} {1} filter",undoRedo_markupInkContentAriaLive:"{0} ink stroke",undoRedo_markupEraseContentAriaLive:"{0} erase ink stroke",undoRedo_markupClearAllMarkupContentAriaLive:"{0} clear all markup",undoRedo_transformCropAriaLive:"{0} cropping operation on the image",undoRedo_transformAspectRatioAriaLive:"{0} aspect ratio change on the image",undoRedo_transformMirrorImageAriaLive:"{0} flip",undoRedo_transformRotationAriaLive:"{0} rotation",undoRedo_spotFixAriaLive:"{0} a spot fix",undoRedo_maskBrushAriaLive:"{0} a mask brush",undoRedo_blurAriaLive:"{0} a blur",undoRedo_imageBackgroundAriaLive:"{0} an image background",undoRedo_focalPointAriaLive:"{0} the focal point",undoRedo_previewSuperResolutionAriaLive:"{0} the super resolution preview",undoRedo_appliedSuperResolutionAriaLive:"{0} the super resolution",spotFix_toastText:" Tap on a spot or blemish to fix it.",spotFix_calloutHeaderText:"Spot fix",spotFix_calloutMainText:"Left mouse click or tap on a spot or blemish to fix it. To navigate around the image hold right mouse click then drag.",spotFix_header:"Spot fix",spotFix_sizeSliderTooltip:"Drag on slider or use arrow keys to change size",spotFix_sizeSliderHeader:"Size",spotFix_sizeSliderAriaLabel:"Spot fix size",spotFix_sizeChangedAriaAnnouncement:"Spot fix size is at {0}",magicErase_GenerativeEraseLabel:"Generative Erase",magicErase_autoApplyLabel:"Auto apply",magicErase_autoApplyToggleOn:"On",magicErase_autoApplyToggleOff:"Off",magicErase_autoApplyToggleAriaLabel:"Auto apply",magicErase_autoApplyToggleAriaDescriptionWhenOn:"Remove area after each brush stroke. Disable auto apply to show brush tool options.",magicErase_autoApplyToggleAriaDescriptionWhenOff:"Use erase button to remove the area. Enable auto apply to hide brush tool options.",magicErase_maskBrushPickerAddToSelectionAriaLabel:"Add mask",magicErase_maskBrushPickerAddToSelectionAriaDescription:"Brush areas of the photo to add mask to the erase operation.",magicErase_maskBrushPickerRemoveFromSelectionAriaLabel:"Remove mask",magicErase_maskBrushPickerRemoveFromSelectionAriaDescription:"Brush areas of the photo to remove masks from the erase operation.",magicErase_maskBrushPickerEraseText:"Erase",magicErase_maskBrushPickerEraseAriaDescription:"Select to erase the brushed areas.",magicErase_maskBrushPickerClearText:"Clear",magicErase_maskBrushPickerClearAriaDescription:"Select to clear all selected areas.",magicErase_notificationMagicEraseStillProcessing:"Erasing area or object in the selection...",magicErase_notificationMagicEraseProcessingCompleted:"Area or object erased.",magicErase_toastDismissButtonAriaLabel:"Dismiss notification message.",magicErase_notificationMagicEraseProcessingFailed:"An error occurred. Please try again later.",magicErase_canvasAriaLabelWithNoPreviousEraseOperation:"Original photo in view. Select areas on the photo to remove.",magicErase_canvasAriaLabelWithUnappliedBrushedMasksToggleOn:"Unapplied selected area in view. Erase is being applied.",magicErase_canvasAriaLabelWithUnappliedBrushedMasksToggleOff:"Unapplied selected areas in view. Select more areas on the photo to remove. Select the erase button to erase the selected areas from the photo.",magicErase_canvasAriaLabelWithAppliedBrushedMasks:"Applied erased area in view. Select more areas on the photo to remove.",background_resetButtonText:"Reset background",background_resetButtonAriaLabel:"Reset background",background_resetButtonTooltip:"Reset the background to its original state",background_resetButtonAriaDescription:"Select to reset the background to its original state",background_blurIntensitySliderLabel:"Blur intensity",background_blurIntensitySliderArialLabel:"Blur intensity",background_blurIntensitySliderChangedAriaAnnouncementFormat:"Blur intensity is at {0}",background_blurIntensitySliderTitle:" Drag on slider or use arrow keys to change the blur intensity value",background_notificationBackgroundSegmentationCompleted:"Success! We found the background of your image and selected it for you.",background_notificationBackgroundSegmentationProcessing:"Finding the background of the image...",background_ariaAnnounceSegmentationProcessing:"Please wait a moment while we are finding the background of this image for you.",background_backgroundSegmentationFailed:"We're sorry, we couldn't find the background of your image. You can use the brush tool to select the area where you'd like to apply the chosen background effect.",background_backgroundSegmentationFailedDismissButtonAriaLabel:"We're sorry, background detection is currently unavailable. You can try again later, or use the brush tool to select the area where you'd like to apply the chosen background effect. Press enter key to dismiss this notification message",background_notificationBackgroundBlurProcessing:"Applying background blur on the image...",background_ariaAnnounceSegmentationCompletion:"Success! We found the background of your image and selected it for you. Select either blur, remove, or replace option to view the new background.",background_segmentationCompleteToastDismissButtonAriaLabel:"Dismiss found background message",background_segmentationCompleteToastDismissButtonAriaDescription:"The background of this image is found and selected for you. Press enter key to dismiss this notification message",background_blurTitleText:"Blur",background_blurTitleAriaLabelWhenOptionIsSelected:"Blur background",background_blurTitleAriaLabelWhenOptionIsNotSelected:"Blur background, Press enter to apply the new background and to access more options",background_blurTitleTooltip:"Blur the selected background area",background_removeTitleText:"Remove",background_removeTitleAriaLabelWhenOptionIsSelected:"Remove background",background_removeTitleAriaLabelWhenOptionIsNotSelected:"Remove background, Press enter to remove the current background",background_removeTitleTooltip:"Remove the selected background area",background_replaceTitleText:"Replace",background_replaceColorPickerAriaLabel:"Background color picker",background_replaceColorPickerChangedAriaAnnouncementFormat:"Background color changed to red {0} green {1} blue {2}",background_replaceTitleAriaLabelWhenOptionIsSelected:"Replace background",background_replaceTitleAriaLabelWhenOptionIsNotSelected:"Replace background, Press enter to replace the background with a color and to access more options",background_replaceTitleTooltip:"Replace the selected background area",background_ariaAnnounceAppliedReset:"Reverted background image to original",background_canvasAriaLabelWhenNoBackgroundOption:"original background in view",background_canvasAriaLabelWhenBackgroundOptionApplied:"applied background in view",maskBrushPicker_addToSelection:"Add mask",maskBrushPicker_addToSelectionAriaLabel:"Add mask brush",maskBrushPicker_addToSelectionAriaDescription:"Select areas of the image that will be affected by the background operation",maskBrushPicker_removeFromSelection:"Remove mask",maskBrushPicker_removeFromSelectionAriaLabel:"Remove mask brush",maskBrushPicker_removeFromSelectionAriaDescription:"Select areas of the image to restore regions affected by the background operation",maskBrushPicker_size:"Brush size",maskBrushPicker_sizeChangedAriaAnnouncement:"Brush size has changed to {0}",maskBrushPicker_sizeAriaLabel:"Brush size",maskBrushPicker_sizeAriaDescription:"Drag on slider or use arrow keys to change the brush size",maskBrushPicker_softness:"Brush softness",maskBrushPicker_ariaAnnounceSoftnessChanged:"Brush softness has changed to {0}",maskBrushPicker_softnessAriaLabel:"Brush softness",maskBrushPicker_softnessAriaDescription:"Drag on slider or use arrow keys to change the brush softness",maskBrushPicker_title:"Background brush tool",maskBrushPicker_showSelectionToggleAriaLabelWhenOn:"Background brush tool, Press enter to disable the brush tool and hide all tool options",maskBrushPicker_showSelectionToggleAriaLabelWhenOff:"Background brush tool, Press enter to enable the brush tool and access to the tool options",maskBrushPicker_showSelectionToggleOn:"On",maskBrushPicker_showSelectionToggleOff:"Off",maskBrushPicker_showSelectionToggleTooltip:"Background brush tool",maskBrushPicker_ariaAnnounceShowSelectionIsOff:"The selected background area is now hidden and brush pointer is disabled.",maskBrushPicker_ariaAnnounceShowSelectionIsOn:"The selected background area is now indicated with the gradient color semi-transparent layer on the image. You can begin using the brush pointer to alter the selected area.",maskBrushPicker_ariaAnnounceAreaPainted:"Added new brushed region",maskBrushPicker_ariaAnnounceAreaErased:"Removed brushed region",maskBrushPicker_ariaAnnounceAdditiveBrushSelected:"Painting on image will add to selected area.",maskBrushPicker_ariaAnnounceSubtractiveBrushSelected:"Painting on image with brush pointer will remove selection area.",maskBrushPicker_additiveOrSubtractiveToggleAriaLabel:"Selection brush tool select or deselect mode",maskBrushPicker_additiveOrSubtractiveToggleAriaDescription:"Press enter to switch the selection brush tool to {0}",colorPicker_redLabel:"Red",colorPicker_greenLabel:"Green",colorPicker_blueLabel:"Blue",colorPicker_hexLabel:"Hex",colorPicker_hueSliderAriaLabel:"Hue slider thumb, press left and right arrow keys to adjust the color hue.",colorPicker_svAriaValueFormat:"Saturation {0} Brightness {1}. Press left and right arrow keys to adjust the color saturation and up and down arrow keys to adjust the color brightness",colorPicker_hexError:"Hex values must be between 3 and 6 characters long",colorPicker_redError:"Red must be between 0 and 255",colorPicker_greenError:"Green must be between 0 and 255",colorPicker_blueError:"Blue must be between 0 and 255",focalPoint_handleAriaLabel:"Focal point handle",focalPoint_handleDescription:"Drag handle or use arrow keys to set a focal point",focalPoint_positionFormatString:"Focal point set at {0} percent from left and {1} percent from top.",focalPoint_previewTitle:"Preview",focalPoint_previewDescription:"See how the focal point affects the way your readers view your image across different screen sizes and aspect ratios.",focalPoint_previewAspectRatioFormatString:"{0}:{1}",focalPoint_previewImageAltFormatString:"Shows how the image will be viewed for the {0} to {1} aspect ratio.",magicErase_calloutHeaderText:"Remove distractions",magicErase_calloutMainText:"Brush over the entire area you want removed from your photo. This feature uses AI to infill the removed area and may not be perfect or what you expect. If you find the results to be unexpected, please send us feedback.",magicErase_calloutSendFeedbackLinkText:"Send feedback",stylizerTextPrompt_title:"Describe what style you'd like to apply",stylizerTextPrompt_placeholder:"Try 'An abstract expressionist art style, characterized by spontaneous, gestural brushwork'",stylizerTextPrompt_example:"An abstract expressionist art style, characterized by spontaneous, gestural brushwork",stylizerTextPrompt_wordsCount:"{0} / 70 words",stylizerTeachingTip_title:"How Restyle image works",stylizerTeachingTip_mainTextWithSendFeedbackLink:"Restyle image is powered by an AI system that generates realistic images based on your text description and creative vision. It may create things you don't expect\u2014if you find a creation to be offensive, please %HL%send us feedback.%HL%",stylizerTeachingTip_MicrosoftServicesAgreementAndThirdPartyLinks:"By using Restyle image, you agree that you are responsible for compliance with our Code of Conduct in the %HL%Microsoft Services Agreement%HL% and these %HL%Third-Party Apps and Services%HL% terms.",networkOffline_title:"No internet connection",networkOffline_description:"To use this tool, make sure you are connected to the internet.",networkOfflineImage_alt:"An icon for displaying network offline status",msaSignedOut_title:"Microsoft account is required",msaSignedOut_description:"Transform your photos using AI. Sign in with your Microsoft account to get started.",msaSignedOut_learnMore:"When you're signed in, Microsoft will collect information about your interaction with Restyle image for AI safety and security purposes. %HL%Learn more%HL%",msaBlocked_title:"Microsoft account blocked",msaBlocked_description:"You've been blocked from this service because of inappropriate usage. %HL%Learn more%HL%",msaBlockedImage_alt:"An icon for displaying MSA blocked status",msaBanned_title:"Microsoft account banned",msaBanned_description:"You've been banned from this service because of inappropriate usage. %HL%Click here%HL% to submit an appeal.",msaBannedImage_alt:"An icon for displaying MSA banned status",loginButton_title:"Sign in",loginImage_alt:"An icon for displaying MSA signed out status",loginButton_ariaAnnouncement:"Microsoft account sign-in button",stylizerTextPrompt_buttonAriaLabel:"Submit",restyleDropdown_allLabel:"Restyle all",restyleDropdown_backgroundOnlyLabel:"Background only",restyleDropdown_foregroundOnlyLabel:"Foreground only",restyleDropdown_ariaLabel:"Restyle options",creativitySlider_calloutHeaderText:"How Creativity Works",creativitySlider_calloutMainText:"A lower creativity value creates an image closer to your original drawing. A higher value increased AI input on the generated image.",creativitySlider_calloutButtonAriaLabel:"Click to learn about how creativity works",creativitySlider_label:"Creativity",downloadModel_title:"AI model required",downloadModel_description:"An AI model is required to use this feature. Download the latest AI model in Microsoft Store.",downloadModel_button:"Download",downloadModel_buttonAriaLabel:"Download AI model",downloadModel_imageAlt:"An icon for displaying AI model download status",initializeModel_title:"Preparing the AI model",initializeModel_description:"This might take a few minutes.",initializeModel_imageAlt:"An icon for displaying AI model initialization status",stylizer_modelFailureDescription:"There was an issue setting up the AI model. Please try again later.",stylizer_modelFailureImageAlt:"An icon for displaying AI model failure",stylizer_modelFailureTitle:"Something went wrong",foregroundDisabledAlert_title:"This style is applied to the background only",foregroundDisabledAlert_description:"We can only apply this style to the background of the image to prevent AI from distorting facial features in images.",faceDetectionTeachingTip_title:"How AI uses face detection",faceDetectionTeachingTip_mainText:"We use face detection AI technology to analyze your photos for better results. Your privacy and security are important to us.",faceDetectionTeachingTip_LearnMoreLinkText:"Learn more about AI and face detection",faceDetectionTeachingTip_DismissLinkText:"Dismiss",contentWarning_title:"Content warning",contentWarning_description:"Could not generate high-quality content. Please change your description and try again.",stylizer_titleBarTeachingTipTitle:"Restyle your images",stylizer_titleBarTeachingTipDescription:"Customize your image effortlessly by applying suggested unique styles, or by describing your own style.",stylizer_titleBarTeachingTipButtonText:"Try now",stylizer_msaSignedInReminderWithLearnMoreLink:"You're signed in, Microsoft will collect information about your interaction with Restyle image for AI safety and security purposes. %HL%Learn more%HL%",stylizer_genericErrorTitle:"Something's wrong on our end.",stylizer_genericErrorDescription:"Please try again later.",stylizer_harmfulInputTitle:"Content warning",stylizer_harmfulInputDescription:"Could not generate high-quality content. Choose a different photo and try again.",stylizer_harmfulOutputTitle:"Content warning",stylizer_harmfulOutputDescription:"Could not generate high-quality content. Please change your photo and/or description and try again.",stylizer_notificationDismissButtonAriaLabel:"Dismiss notification message.",stylizer_presetsNameFantasy:"Fantasy",stylizer_presetsNameAnime:"Anime",stylizer_presetsNameCyberpunk:"Cyberpunk",stylizer_presetsNameSurrealism:"Surrealism",stylizer_presetsNameImpressionist:"Impressionist",stylizer_presetsNameRenaissance:"Renaissance",stylizer_presetsNameWatercolor:"Watercolor",stylizer_presetsNamePapercraft:"Papercraft",stylizer_presetsNamePixelArt:"Pixel Art",stylizer_presetsPromptFantasy:"Apply Fantasy art style, mystical look and feel.",stylizer_presetsPromptAnime:"Apply a Japanese Anime art style with simplified backgrounds, bold colors and vibrant personalities. Incorporate typical Anime features, such as speed lines for action and dramatic lighting to highlight emotions.",stylizer_presetsPromptSurrealism:"Apply a surrealist style and with a look and feel of dreamlike scenes and ideas, reflecting both the unconscious mind to express itself with elements of whimsy, and a balance of logic and illogical undertones, with analogous darker color palette, paired with warm pastel colors, playful patterns.",stylizer_presetsPromptImpressionist:"Apply an impressionism art style, characterized by small, thin yet visible brushstrokes. Depicts the passage of time and accurate depiction of light in its changing qualities. Incorporate a natural color palette of blues, greens and warm sun or clear night.",stylizer_presetsPromptCyberpunk:"Apply a cyberpunk style with neon glowing edges, characterized by casting a surreal glow over a night time scene, incorporating a sense futuristic science fiction elements, virtual reality, and grit.",stylizer_presetsPromptRenaissance:"Apply a Renaissance art style, dramatic lighting like chiaroscuro, sfumato, capturing the opulence of classical.",stylizer_presetsPromptWatercolor:"Apply a watercolor style, characterized by its transparent and luminous quality, delicate washes, blending colors to achieve gradients, subtle transitions, a sense of depth, fluidity.",stylizer_presetsPromptPapercraft:"Apply a paper cut out style and with a look and feel of retro and contemporary elements, reflecting both nostalgia and modern sensibilities. incorporates elements of whimsy, and a balance of masculine and feminist undertones, with analogous pink color palette, paired with warm vibrant and pastel colors, playful patterns.",stylizer_presetsPromptPixelArt:"Apply a pixel art style with highly impressionistic shapes yet a bit abstract, using limited colours, use bold analogous and complimentary colors. Use a grid structure with retro aesthetics reminiscent of older video game graphics and it's blocky appearance.",stylizer_presetPromptProcessing:"Applying {0} style on the image",stylizer_presetPromptProcessed:"{0} style has been applied",stylizer_presetsChangedAriaLive:"{0} style has been applied",stylizer_presetsTileAriaLabel:"{0} style is in focus but not selected. {1} style is currently selected",stylizer_presetsTileAriaLabelWhenNoneSelected:"{0} style is in focus but not selected",stylizer_presetsActiveTileAriaLabel:"{0} style is currently selected",stylizer_presetsGroupAriaLabel:"Styles",notification_dismissButtonAriaLabel:"Dismiss notification message.",notification_outOfMemory:"We're sorry, we cannot complete the operation. Out of memory.",relight_teachingTipTitle:"How Relight works",relight_teachingTipMainText:"Relight lets you adjust how lighting appears in your photo by changing its direction, color, position, and intensity to explore different moods and styles.",relight_teachingTipSendFeedbackLink:"Send feedback",relight_learnMoreLink:"Learn more",relight_presetsChangedAriaLive:"{0} style has been applied",relight_presetsTileAriaLabel:"{0} style is in focus but not selected. {1} style is currently selected",relight_presetsTileAriaLabelWhenNoneSelected:"{0} style is in focus but not selected",relight_presetsActiveTileAriaLabel:"{0} style is currently selected",relight_presetsGroupAriaLabel:"Lighting presets",relight_showLightsLabel:"Light location",relight_showLightsAriaLabel:"Light location",relight_showLightsToggleTooltipWhenOn:"Hide the light location on the image",relight_showLightsToggleTooltipWhenOff:"Show the light location on the image",relight_showLightsToggleOnAriaAnnouncement:"Lights are shown on the image",relight_showLightsToggleOffAriaAnnouncement:"Lights are not shown on the image but they still affect the image",relight_isLightOnToggleDirectionalAriaLabel:"Toggle whether light {0} is on or off",relight_isLightOnToggleAmbientAriaLabel:"Toggle whether ambient light is on or off",relight_isLightOnToggleDirectionalTooltipWhenOn:"Turn off light {0}",relight_isLightOnToggleDirectionalTooltipWhenOff:"Turn on light {0}",relight_isLightOnToggleAmbientTooltipWhenOn:"Turn off ambient light",relight_isLightOnToggleAmbientTooltipWhenOff:"Turn on ambient light",relight_isLightOnToggleDirectionalOnAriaAnnouncement:"Light {0} is on",relight_isLightOnToggleDirectionalOffAriaAnnouncement:"Light {0} is off",relight_isLightOnToggleAmbientOnAriaAnnouncement:"Ambient light is on",relight_isLightOnToggleAmbientOffAriaAnnouncement:"Ambient light is off",relight_ambientLightLabel:"Ambient",relight_lightAccordionOpenCloseButtonAriaLabel:"Expand or collapse the light settings",relight_lightAccordionDirectionalCollapsedAriaAnnouncement:"Collapsed light {0} settings",relight_lightAccordionDirectionalExpandedAriaAnnouncement:"Expanded light {0} settings",relight_lightAccordionAmbientCollapsedAriaAnnouncement:"Collapsed ambient light settings",relight_lightAccordionAmbientExpandedAriaAnnouncement:"Expanded ambient light settings",relight_globalIntensity:"Intensity",relight_globalIntensitySliderAriaDescription:"Drag on slider or use arrow keys to change the overall preset intensity",relight_globalIntensityChangedAriaAnnouncement:"Intensity changed to {0}",relight_brightness:"Brightness",relight_brightnessTooltip:"Adjust light brightness",relight_brightnessAriaAnnouncement:"Brightness set to {0}",relight_softness:"Softness",relight_softnessTooltip:"Adjust light softness",relight_softnessAriaAnnouncement:"Softness set to {0}",relight_normalMapProcessing:"Processing your image...",relight_normalMapProcessingDismissButtonAriaLabel:"Dismiss processing your image message.",relight_normalMapFailed:"We're sorry, we could not process your image. Please try again.",relight_normalMapFailedRangeError:"We're sorry, we could not process your image. Out of memory.",relight_normalMapFailedDismissButtonAriaLabel:"Dismiss failed to process image message.",relight_normalMapCompleted:"Success! Try out some lighting presets, move lights, and change their colors.",relight_normalMapRegenerationCompleted:"Success! The lighting has been regenerated.",relight_normalMapCompletedDismissButtonAriaLabel:"Dismiss success message.",relight_ariaAnnounceNormalMapProcessing:"Processing your image. Please wait.",relight_ariaAnnounceNormalMapSucceeded:"Successfully processed your image.",relight_ariaAnnounceNormalMapFailed:"We're sorry, we could not process your image. Please try again.",relight_disabledNeedsRegeneratingTitle:"Relight has been turned off due to these changes.",relight_disabledNeedsRegeneratingMessage:"Would you like to regenerate the lighting?",relight_regenerateButton:"Regenerate",relight_regenerateButtonAriaLabel:"Regenerate lighting",relight_regenerateButtonTooltip:"Regenerate lighting",relight_disabledNeedsRegeneratingDismissButtonAriaLabel:"Dismiss relighting disabled message.",relight_colorPickerAriaLabel:"Light color picker",relight_colorChangedAriaAnnouncementFormat:"Light color changed to red {0} green {1} blue {2}",relight_original:"Original",relight_softbox:"Softbox",relight_classicPortrait:"Classic Portrait",relight_dramatic:"Dramatic",relight_goldenHour:"Golden Hour",relight_cyberpunk:"Cyberpunk",relight_ariaAnnounceMovedLight:"Moved light {0} to x: {1} y: {2}",relight_ariaAnnounceMovedLightTarget:"Moved light target to x: {0} y: {1}",relight_ariaAnnounceCannotMoveLightFarther:"Cannot move light {0} any farther",relight_ariaAnnounceCannotMoveLightTargetFarther:"Cannot move light target any farther",relight_lightAriaLabel:"Light {0}",relight_lightTargetAriaLabel:"Light target",resize_upscaleSliderAriaLabel:"Scale factor for upscaling the image",resize_upscaleSliderTooltip:"Slide to change the scale factor",resize_scaleLabel:"Scale",resize_scaleTeachingTipTitle:"Pick the best scale for your image",resize_scaleTeachingTipMainText:"Smaller upscales are great for everyday use, while higher upscales are ideal for large-format printing. Options may be limited for images that are already very large.",resize_upscaleSliderResizeFactorLabel:"{0}x",resize_upscaleSliderAriaValueText:"{0}x. New image size will be {1} by {2} pixels",resize_upscaleSlider1xAriaValueText:"1x. No image upscale.",resize_currentImageLabel:"Current:",resize_newImageLabel:"New:",resize_teachingTipTitle:"How super resolution works",resize_teachingTipMainText:"Super resolution is a feature that makes low-resolution images clearer and more detailed. It uses advanced AI technology to enhance and enlarge images, giving you high-quality results from lower-quality originals. Perfect for printing large photos or improving old pictures.",resize_teachingTipSendFeedbackLink:"Send feedback",resize_learnMoreLink:"Learn more",resize_applyButton:"Apply",resize_applyButtonAriaLabel:"Apply super resolution",resize_cancelButton:"Cancel",resize_cancelButtonAriaLabel:"Cancel the current upscale process",resize_cancelAriaLive:"Canceled the upscale. Scale factor is reset back to 1x with current image size of {0} by {1} pixels",resize_discardButton:"Discard",resize_discardButtonAriaLabel:"Discard the super resolution result",resize_discardAriaLive:"Discarded the upscaled image. Scale factor is reset back to 1x with current image size of {0} by {1} pixels",resize_imageTooBigWarning:"This image is too large for super resolution. Try cropping it or using a smaller image.",resize_applyUpscaleConfirmDialogContentTitle:"Apply super resolution before proceeding?",resize_applyUpscaleConfirmDialogContentSubText:"Your super resolution and all previous edits will be applied. You can still undo them later.",resize_applyUpscaleConfirmDialogCloseButtonAriaLabel:"Close",resize_applyUpscaleConfirmDialogConfirmText:"Apply",resize_applyUpscaleConfirmDialogConfirmAriaLabel:"Apply super resolution and all previous edits",resize_applyUpscaleConfirmDialogCancelText:"Discard",resize_applyUpscaleConfirmDialogCancelAriaLabel:"Discard super resolution and proceed without applying",resize_notificationUpscaleInProgress:"Image enhancement and upscaling in progress...",resize_notificationUpscaleSuccessfullyCompletedFormatString:"Success! We have enhanced and upscaled your image to {0} by {1} pixels",resize_notificationUpscaleFailed:"There was an error upscaling your image. Please try again.",resize_splitterAriaLabel:"Use arrow keys to compare the before and after images side by side",resize_splitterTooltip:"Use arrow keys to move the comparison splitter",resize_splitterMovedAriaLive:"Moved splitter to position {0}",resize_splitterCannotMoveFurtherAriaLive:"Cannot move splitter any farther"}},82085:(e,t,n)=>{"use strict";n.d(t,{Rh:()=>r,i0:()=>s,q1:()=>a,sR:()=>o,u2:()=>i});var r=.01171875,o=10,i=0,a=1,s=.5},82208:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(85913),o=n(38400),i=n(40177),a=(0,r.Mz)([o.n9,i.Wi],(function(e,t){return t?e:[]}))},82258:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});var r=n(9950),o=n(56164),i=function(){return(0,r.useContext)(o.Bf)}},82909:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(9950),o=n(64189),i=n(79623),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},s=(0,r.createContext)(a(a({},(0,o.$)((function(e){}))),{sessionFrameStats:new i.r}))},83285:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var r=n(48486),o=n(40218);function i(e,t){var n=e.filter((function(e){return(0,o.n)(e.algorithmParameters.layerToPatch,t)})).map((function(e){return e.pixelBoundsRectInFullImage}));return(0,r.r)(n)}},83458:(e,t,n)=>{"use strict";n.d(t,{A1:()=>p,G1:()=>c,Ho:()=>u,U9:()=>l,Yz:()=>d});var r=n(85913),o=n(75347),i=n(21925),a=n(26397),s=n(40177),l=(0,r.Mz)([s.ln],(function(e){var t=(0,a.Md)((0,i.NV)(e));return{width:t.x,height:t.y}})),u=(0,r.Mz)([l],(function(e){return e.width})),c=(0,r.Mz)([l],(function(e){return e.height})),d=(0,r.Mz)([l],(function(e){return Math.max(e.width,e.height)})),p=(0,r.Mz)([s.ln,s.PO],(function(e,t){return(0,i.SM)((0,o.ZG)(t,e))}))},83601:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var r=n(9950),o=function(e){var t=e.numRepeatsToSwitchToFast,n=e.keyboardEventTarget,o=e.handleKeyboardDown,i=e.isFastDirectionKey,a=e.handleKeyboardUp,s=(0,r.useRef)(new Map);(0,r.useEffect)((function(){if(n){var e=function(e){if(e instanceof KeyboardEvent){var n=s.current.get(e.key)||0;s.current.set(e.key,n),i(e)?o(e,"SuperFast"):n<t?(s.current.set(e.key,n+1),o(e,"Slow")):o(e,"Fast")}},r=function(e){e instanceof KeyboardEvent&&(s.current.set(e.key,0),null===a||void 0===a||a(e))};return n.addEventListener("keydown",e),n.addEventListener("keyup",r),function(){n.removeEventListener("keydown",e),n.removeEventListener("keyup",r)}}}),[n,s,t,i,o,a])}},83716:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});var r=n(85913),o=n(34354),i=n(40177),a=(0,r.Mz)([i.NC,i.hM],(function(e,t){return(0,o.V1)(t)?{x:e.y,y:e.x}:e}))},84113:(e,t,n)=>{"use strict";var r,o;n.d(t,{x:()=>r,y:()=>o}),function(e){e[e.top=1]="top",e[e.bottom=-1]="bottom",e[e.left=2]="left",e[e.right=-2]="right"}(r||(r={})),function(e){e[e.top=0]="top",e[e.bottom=1]="bottom",e[e.start=2]="start",e[e.end=3]="end"}(o||(o={}))},84473:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var r=n(9950),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=r.lazy((function(){return n.e(25).then(n.bind(n,92735))})),a=function(e){return r.createElement(r.Suspense,{fallback:null},r.createElement(i,o({},e)))}},84495:(e,t,n)=>{"use strict";n.d(t,{K:()=>f});var r=n(37827),o=n(9950),i=n(48842),a=n(45890),s=n(70945),l=n(32e3),u=n(96042),c=n(49972),d=n(39358),p=(0,u.J9)((function(e,t){var n,r=(0,c.$)(e),o=(0,d.$)(e),i=e.palette,a={root:{padding:"0 4px",width:"32px",height:"32px",backgroundColor:"transparent",border:"none",color:e.semanticColors.link},rootHovered:{color:i.themeDarkAlt,backgroundColor:i.neutralLighter,selectors:(n={},n[l.up]={borderColor:"Highlight",color:"Highlight"},n)},rootHasMenu:{width:"auto"},rootPressed:{color:i.themeDark,backgroundColor:i.neutralLight},rootExpanded:{color:i.themeDark,backgroundColor:i.neutralLight},rootChecked:{color:i.themeDark,backgroundColor:i.neutralLight},rootCheckedHovered:{color:i.themeDark,backgroundColor:i.neutralQuaternaryAlt},rootDisabled:{color:i.neutralTertiaryAlt}};return(0,l.TW)(r,a,o,t)})),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.C6)(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.theme;return o.createElement(i.S,(0,r.Cl)({},this.props,{variantClassName:"ms-Button--icon",styles:p(n,t),onRenderText:a.K,onRenderDescription:a.K}))},t=(0,r.Cg)([(0,s.T)("IconButton",["theme","styles"],!0)],t)}(o.Component)},85180:(e,t,n)=>{"use strict";n.d(t,{o:()=>l});var r=n(14030),o=n(79847),i=".".concat(r._.msButtonIcon);function a(e,t){switch(t){case"info":return e?"rgba(96, 205, 255, 1)":"rgba(0, 95, 183, 1)";case"warning":return e?"#FCE100":"#9D5D00"}}function s(e,t){switch(t){case"info":return e?"rgba(255, 255, 255, 0.03)":"#d9d9d9";case"warning":return e?"#443519":"#FFF4CE"}}function l(e,t){var n,r=(0,o.g)(e),l=r?"rgba(255, 255, 255, 1)":"rgba(0, 0, 0, 0.9)";return{icon:{color:a(r,t)},content:{lineHeight:"20px"},root:{background:s(r,t),width:"auto",borderRadius:"7px",color:l,backdropFilter:"blur(120px)",marginBottom:"16px"},dismissal:(n={},n[i]={color:e.palette.black},n),innerText:{lineHeight:"20px"}}}},85599:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var r=n(86354),o=function(e,t){var n=void 0,o=(0,r.v)(e);return o&&(n=o.getOverlayAlpha(),o.setOverlayAlpha(t)),function(){o&&o.setOverlayAlpha(null!==n&&void 0!==n?n:0)}}},85655:(e,t,n)=>{"use strict";n.d(t,{s4:()=>r});var r="inkTool"},85913:(e,t,n)=>{"use strict";n.d(t,{Mz:()=>s});var r="NOT_FOUND";var o=function(e,t){return e===t};function i(e,t){var n="object"===typeof t?t:{equalityCheck:t},i=n.equalityCheck,a=void 0===i?o:i,s=n.maxSize,l=void 0===s?1:s,u=n.resultEqualityCheck,c=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}(a),d=1===l?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:r},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(c):function(e,t){var n=[];function o(e){var o=n.findIndex((function(n){return t(e,n.key)}));if(o>-1){var i=n[o];return o>0&&(n.splice(o,1),n.unshift(i)),i.value}return r}return{get:o,put:function(t,i){o(t)===r&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(l,c);function p(){var t=d.get(arguments);if(t===r){if(t=e.apply(null,arguments),u){var n=d.getEntries().find((function(e){return u(e.value,t)}));n&&(t=n.value)}d.put(arguments,t)}return t}return p.clearCache=function(){return d.clear()},p}function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i,a=0,s={memoizeOptions:void 0},l=r.pop();if("object"===typeof l&&(s=l,l=r.pop()),"function"!==typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var u=s.memoizeOptions,c=void 0===u?n:u,d=Array.isArray(c)?c:[c],p=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),f=e.apply(void 0,[function(){return a++,l.apply(null,arguments)}].concat(d)),h=e((function(){for(var e=[],t=p.length,n=0;n<t;n++)e.push(p[n].apply(null,arguments));return i=f.apply(null,e)}));return Object.assign(h,{resultFunc:l,memoizedResultFunc:f,dependencies:p,lastResult:function(){return i},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),h}}var s=a(i)},85952:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});var r=n(45784),o=n(15361),i=n(82085),a={backgroundsByType:{OriginalBackground:{type:"OriginalBackground"},ColorRGBABackground:{type:"ColorRGBABackground",color:r.Xn},TransparentBackground:{type:"TransparentBackground"},BlurredBackground:{type:"BlurredBackground",blurLevel:i.i0}},backgroundType:"OriginalBackground",activeBackgroundUiMode:o.V.Uninitialized,undoRedoStack:{undoStack:[],redoStack:[],id:"imageBackgroundUndoRedoStack"},backgroundOptionsTeachingTipVisibilityState:"notShown",hasBackgroundTypeBeenChangedThisActivitySession:!1}},86033:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.d(t,{Tw:()=>y,zH:()=>g,HY:()=>h,Zz:()=>v,y$:()=>f});var u="function"===typeof Symbol&&Symbol.observable||"@@observable",c=function(){return Math.random().toString(36).substring(7).split("").join(".")},d={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function p(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function f(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(l(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(l(1));return n(f)(e,t)}if("function"!==typeof e)throw new Error(l(2));var o=e,i=t,a=[],s=a,c=!1;function h(){s===a&&(s=a.slice())}function m(){if(c)throw new Error(l(3));return i}function g(e){if("function"!==typeof e)throw new Error(l(4));if(c)throw new Error(l(5));var t=!0;return h(),s.push(e),function(){if(t){if(c)throw new Error(l(6));t=!1,h();var n=s.indexOf(e);s.splice(n,1),a=null}}}function v(e){if(!p(e))throw new Error(l(7));if("undefined"===typeof e.type)throw new Error(l(8));if(c)throw new Error(l(9));try{c=!0,i=o(i,e)}finally{c=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return v({type:d.INIT}),(r={dispatch:v,subscribe:g,getState:m,replaceReducer:function(e){if("function"!==typeof e)throw new Error(l(10));o=e,v({type:d.REPLACE})}})[u]=function(){var e,t=g;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(l(11));function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[u]=function(){return this},e},r}function h(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"===typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:d.INIT}))throw new Error(l(12));if("undefined"===typeof n(void 0,{type:d.PROBE_UNKNOWN_ACTION()}))throw new Error(l(13))}))}(n)}catch(s){i=s}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var u=a[s],c=n[u],d=e[u],p=c(d,t);if("undefined"===typeof p){t&&t.type;throw new Error(l(14))}o[u]=p,r=r||p!==d}return(r=r||a.length!==Object.keys(e).length)?o:e}}function m(e,t){return function(){return t(e.apply(this,arguments))}}function g(e,t){if("function"===typeof e)return m(e,t);if("object"!==typeof e||null===e)throw new Error(l(16));var n={};for(var r in e){var o=e[r];"function"===typeof o&&(n[r]=m(o,t))}return n}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(l(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return r=v.apply(void 0,i)(n.dispatch),s(s({},n),{},{dispatch:r})}}}},86354:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n(66169);function o(e){return e.getEffects().find((function(e){return e.getName()===r.A}))}},86685:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,S:()=>i});var r=n(95673);function o(e){var t=null;try{var n=(0,r.z)();t=n?n.sessionStorage.getItem(e):null}catch(o){}return t}function i(e,t){var n;try{null===(n=(0,r.z)())||void 0===n||n.sessionStorage.setItem(e,t)}catch(o){}}},86752:(e,t,n)=>{"use strict";n.d(t,{A:()=>r}),(0,n(97150).hN)([{rawString:".ms-Fabric--isFocusVisible .nonCropUI_cef8bc5b:focus{visibility:visible;outline-width:3px;outline-style:solid;outline-offset:-3px}.ms-Fabric--isFocusHidden .nonCropUI_cef8bc5b{outline:0}.nonCropUI_cef8bc5b{position:absolute;width:100%;height:100%;top:0}"}]);const r={"ms-Fabric--isFocusVisible":"ms-Fabric--isFocusVisible",nonCropUI:"nonCropUI_cef8bc5b","ms-Fabric--isFocusHidden":"ms-Fabric--isFocusHidden"}},87210:(e,t,n)=>{"use strict";n.d(t,{Bb:()=>s,Ih:()=>c,Je:()=>l,PN:()=>a,Yz:()=>m,cT:()=>p,ec:()=>o,gc:()=>i,gp:()=>d,oX:()=>u,st:()=>r,t$:()=>h,wO:()=>f});var r="ENABLE_MAIN_TEXTURE",o="ENABLE_SINGLE_TILE_PRE_SHARPEN_TEXTURE",i="ENABLE_SINGLE_TILE_MAIN_TEXTURE",a="ENABLE_SINGLE_TILE_TEMP_TEXTURE",s="ENABLE_SINGLE_TILE_BACKGROUND_TEXTURE",l="ENABLE_OVERLAY_LAYER",u="ENABLE_BACKGROUND_MASK_LAYER",c="ENABLE_ERASE_MASK_LAYER",d="ENABLE_NORMAL_LAYER",p="ENABLE_ORIGINAL_LAYER",f="DISABLE_INITIAL_MAIN_TEXTURE_SAMPLING",h="ENABLE_FAKE_MIP_MAPS_EFFECT",m="ENABLE_SEGMENTATION_PREVIEW_LAYER"},87474:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var r="colorReplacement"},87595:(e,t,n)=>{"use strict";n.d(t,{O:()=>s,K:()=>l});var r=n(9950),o=n(17514),i=n(55873),a=function(){function e(){var e=this;this.layerToCallbackMap=new Map,o.N.forEach((function(t){e.layerToCallbackMap.set(t,new i.J)}))}return e.prototype.cleanUp=function(){this.layerToCallbackMap.forEach((function(e){e.removeAllListeners()}))},e.prototype.subscribeToHashChanges=function(e,t){var n=this.layerToCallbackMap.get(e);n&&n.addListener(t)},e.prototype.unsubscribeFromHashChanges=function(e,t){var n=this.layerToCallbackMap.get(e);n&&n.removeListener(t)},e.prototype.notifyContentHashChanged=function(e,t,n,r){var o=this.layerToCallbackMap.get(e);o&&o.notifyListeners({contentHash:t,image:n,textureManager:r})},e}(),s=(0,r.createContext)({getTexturePatchContentMonitor:function(){throw new Error("getTexturePatchContentMonitor not implemented")}}),l=r.memo((function(e){var t=e.children,n=(0,r.useMemo)((function(){var e=new a;return{getTexturePatchContentMonitor:function(){return e}}}),[]);return r.createElement(s.Provider,{value:n},t)}))},87692:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(9950),o=function(e){var t=e.enterCondition,n=e.exitCondition,o=e.reverseEnterCondition,i=e.reverseExitCondition,a=e.elmBeforeEnter,s=e.elmAfterEnter,l=e.elmBeforeExit,u=e.elmAfterExit,c=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=function(e){var r;t&&"Tab"===e.key&&!1===e.shiftKey&&null!==document.activeElement?(e.preventDefault(),c.current=document.activeElement,null===s||void 0===s||s.focus()):n&&"Tab"===e.key&&!1===e.shiftKey&&document.activeElement===l?(e.preventDefault(),u&&u.focus()):o&&"Tab"===e.key&&!0===e.shiftKey&&document.activeElement===u?(e.preventDefault(),null===l||void 0===l||l.focus()):i&&"Tab"===e.key&&!0===e.shiftKey&&document.activeElement===s&&(e.preventDefault(),c.current?null===(r=c.current)||void 0===r||r.focus():null===a||void 0===a||a.focus())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[a,s,u,l,t,n,o,i])}},87840:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r={},o=void 0;try{o=window}catch(a){}function i(e,t){if("undefined"!==typeof o){var n=o.__packages__=o.__packages__||{};if(!n[e]||!r[e])r[e]=t,(n[e]=n[e]||[]).push(t)}}i("@fluentui/set-version","6.0.0")},88105:(e,t,n)=>{"use strict";var r;n.d(t,{y:()=>r}),function(e){e.FreeHand="FreeHand",e.StraightLine="StraightLine"}(r||(r={}))},88114:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});var r=n(9950),o=n(45867);function i(e,t){var n=r.useRef(t);return n.current||(n.current=(0,o.O)(e)),n.current}},88307:(e,t,n)=>{"use strict";n.d(t,{s:()=>g});var r=n(9950),o=n(88114),i=n(50608),a=n(85655),s=(0,r.memo)((function(e){var t=e.styles,n="EraserIcon",s=(0,o.B)(n),l=(0,o.B)(n),u=(0,o.B)(n),c=(0,o.B)(n),d=(0,o.B)(n),p=(0,o.B)(n),f=(0,o.B)(n),h=(0,o.B)(n),m=(0,o.B)(n),g=(0,o.B)(n),v=(0,o.B)(n);return r.createElement("svg",{className:a.s4,width:i.vt.width+"px",height:i.vt.height+"px",viewBox:i.JP,fill:i.Kl,style:t},r.createElement("g",{clipPath:"url(#".concat(v,")")},r.createElement("g",{opacity:"0.3",filter:"url(#".concat(s,")")},r.createElement("path",{d:"M69.2524 93V39H26.0524V93H69.2524Z",fill:"black"})),r.createElement("path",{d:"M71.6523 117V29.4C71.6523 26.749 69.5033 24.6 66.8523 24.6H28.4523C25.8014 24.6 23.6523 26.749 23.6523 29.4V117H71.6523Z",fill:"url(#".concat(f,")")}),r.createElement("path",{d:"M71.6523 117V29.4C71.6523 26.749 69.5033 24.6 66.8523 24.6H28.4523C25.8014 24.6 23.6523 26.749 23.6523 29.4V117H71.6523Z",fill:"url(#".concat(h,")")}),r.createElement("g",{opacity:"0.3",filter:"url(#".concat(l,")")},r.createElement("path",{d:"M71.6523 117V29.4C71.6523 26.749 69.5033 24.6 66.8523 24.6H28.4523C25.8014 24.6 23.6523 26.749 23.6523 29.4V117H71.6523Z",fill:"black",fillOpacity:"0.01"})),r.createElement("g",{filter:"url(#".concat(u,")")},r.createElement("path",{d:"M71.6523 117V29.4C71.6523 26.749 69.5033 24.6 66.8523 24.6H28.4523C25.8014 24.6 23.6523 26.749 23.6523 29.4V117H71.6523Z",fill:"black",fillOpacity:"0.01"})),r.createElement("g",{filter:"url(#".concat(c,")")},r.createElement("path",{d:"M71.6523 117V29.4C71.6523 26.749 69.5033 24.6 66.8523 24.6H28.4523C25.8014 24.6 23.6523 26.749 23.6523 29.4V117H71.6523Z",fill:"black",fillOpacity:"0.01"})),r.createElement("path",{opacity:"0.08",d:"M23.6523 29.4C23.6523 26.749 25.8014 24.6 28.4523 24.6H66.8523C69.5033 24.6 71.6523 26.749 71.6523 29.4V53.4H23.6523V29.4Z",fill:"black"}),r.createElement("path",{d:"M28.4523 12.6C28.4523 7.29807 32.7504 3 38.0523 3H57.2523C62.5543 3 66.8523 7.29807 66.8523 12.6V24.6H28.4523V12.6Z",fill:"url(#".concat(m,")")}),r.createElement("path",{d:"M28.7523 12.6C28.7523 7.46376 32.9161 3.3 38.0523 3.3H57.2523C62.3886 3.3 66.5523 7.46375 66.5523 12.6V24.3H28.7523V12.6Z",stroke:"url(#".concat(g,")"),strokeOpacity:"0.16",strokeWidth:"0.6"}),r.createElement("g",{opacity:"0.6",filter:"url(#".concat(d,")")},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M57.2524 10.8H42.8524V7.19998H57.2524C60.8974 7.19998 63.8523 10.1549 63.8523 13.8V24.6H60.2523V13.8C60.2523 12.1431 58.9092 10.8 57.2524 10.8Z",fill:"white"})),r.createElement("path",{opacity:"0.12",fillRule:"evenodd",clipRule:"evenodd",d:"M71.6523 54.6H23.6523V53.4H71.6523V54.6Z",fill:"white"}),r.createElement("g",{opacity:"0.1",filter:"url(#".concat(p,")")},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M55.818 111V36.6H58.218V111H55.818Z",fill:"white"}))),r.createElement("defs",null,r.createElement("filter",{id:s,x:"18.8524",y:"31.8",width:"57.6",height:"68.4",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feGaussianBlur",{stdDeviation:"3.6",result:"effect1_foregroundBlur"})),r.createElement("filter",{id:l,x:"23.6523",y:"24.6",width:"56.4",height:"92.4",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dx:"8.4"}),r.createElement("feGaussianBlur",{stdDeviation:"4.8"}),r.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.2 0 0 0 0 0.2 0 0 0 0 0.2 0 0 0 1 0"}),r.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow"})),r.createElement("filter",{id:u,x:"23.6523",y:"24.6",width:"50.4",height:"92.4",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dx:"2.4"}),r.createElement("feGaussianBlur",{stdDeviation:"3.6"}),r.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.225634 0"}),r.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow"})),r.createElement("filter",{id:c,x:"23.6523",y:"24.6",width:"49.2",height:"92.4",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dx:"1.2"}),r.createElement("feGaussianBlur",{stdDeviation:"4.2"}),r.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),r.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow"})),r.createElement("filter",{id:d,x:"30.8524",y:"-4.80002",width:"45",height:"41.4",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feGaussianBlur",{stdDeviation:"6",result:"effect1_foregroundBlur"})),r.createElement("filter",{id:p,x:"46.218",y:"27",width:"21.6",height:"93.6",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feGaussianBlur",{stdDeviation:"4.8",result:"effect1_foregroundBlur"})),r.createElement("linearGradient",{id:f,x1:"27.2523",y1:"39.6",x2:"71.191",y2:"44.1024",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#333333"}),r.createElement("stop",{offset:"0.792969",stopColor:"#605A5D"})),r.createElement("linearGradient",{id:h,x1:"28.4523",y1:"45.6",x2:"47.4937",y2:"47.3382",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#333333"}),r.createElement("stop",{offset:"1",stopColor:"#605A5D",stopOpacity:"0"})),r.createElement("linearGradient",{id:m,x1:"47.6523",y1:"3",x2:"47.6523",y2:"24.6",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#EA9FAA"}),r.createElement("stop",{offset:"1",stopColor:"#FA7E90"})),r.createElement("linearGradient",{id:g,x1:"47.6523",y1:"3",x2:"47.6523",y2:"24.6",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"white"}),r.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),r.createElement("clipPath",{id:v},r.createElement("rect",{width:"96",height:"126",fill:"white",transform:"translate(-0.347656 -9)"}))))})),l=n(53471),u=(0,r.memo)((function(e){var t=e.styles,n=e.inkBrushColor,s="InkPenIcon",l=(0,o.B)(s),u=(0,o.B)(s),c=(0,o.B)(s),d=(0,o.B)(s),p=(0,o.B)(s),f=(0,o.B)(s),h=(0,o.B)(s);return r.createElement("svg",{className:a.s4,width:i.vt.width+"px",height:i.vt.height+"px",viewBox:i.JP,fill:i.Kl,style:t},r.createElement("g",{clipPath:"url(#".concat(l,")")},r.createElement("g",{opacity:"0.4",filter:"url(#".concat(u,")")},r.createElement("path",{d:"M69.6 116V60.8H26.4V116H69.6Z",fill:"black"})),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48.0003 3.1998C43.5003 3.1998 40.8003 17.5998 40.8003 17.5998H55.2003C55.2003 17.5998 52.5003 3.1998 48.0003 3.1998ZM25.9449 60.7998H70.0551C71.346 68.851 72 77.0143 72 85.2142V116H24V85.2142C24 77.0143 24.6539 68.851 25.9449 60.7998Z",fill:n}),r.createElement("path",{d:"M41.5543 17.6H54.4456C55.6388 17.6 56.725 18.2883 57.2345 19.3672C63.456 32.5422 67.7611 46.4942 70.055 60.8H25.9449C28.2388 46.4942 32.5439 32.5422 38.7654 19.3672C39.2749 18.2882 40.3611 17.6 41.5543 17.6Z",fill:"url(#".concat(d,")")}),r.createElement("path",{d:"M41.5543 17.6H54.4456C55.6388 17.6 56.725 18.2883 57.2345 19.3672C63.456 32.5422 67.7611 46.4942 70.055 60.8H25.9449C28.2388 46.4942 32.5439 32.5422 38.7654 19.3672C39.2749 18.2882 40.3611 17.6 41.5543 17.6Z",fill:"url(#".concat(p,")")}),r.createElement("path",{opacity:"0.2",d:"M70.0551 60.8L25.9449 60.8C24.6539 68.8512 24 77.0145 24 85.2144V116H72V85.2144C72 77.0145 71.346 68.8512 70.0551 60.8Z",fill:"url(#".concat(f,")")}),r.createElement("path",{opacity:"0.12",d:"M25.9448 60.8H70.0549C70.119 61.1997 70.1815 61.5997 70.2425 62H25.7572C25.8182 61.5997 25.8807 61.1997 25.9448 60.8Z",fill:"white"}),r.createElement("path",{opacity:"0.32",d:"M40.8 17.6C40.8 17.6 43.5 3.2 48 3.2C52.5 3.2 55.2 17.6 55.2 17.6H40.8Z",fill:"url(#".concat(h,")")}),r.createElement("g",{opacity:"0.4",filter:"url(#".concat(c,")")},r.createElement("path",{d:"M49.1994 21.2C49.1994 21.2 61.8773 51.2 61.8773 72.5941C61.8773 78.807 61.8773 126.104 61.8773 126.104",stroke:"white",strokeWidth:"1.2"}))),r.createElement("defs",null,r.createElement("filter",{id:u,x:"19.2",y:"53.6",width:"57.6",height:"69.6",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feGaussianBlur",{stdDeviation:"3.6",result:"effect1_foregroundBlur"})),r.createElement("filter",{id:c,x:"41.4468",y:"13.7669",width:"28.2305",height:"119.537",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feGaussianBlur",{stdDeviation:"3.6",result:"effect1_foregroundBlur"})),r.createElement("linearGradient",{id:d,x1:"27.6002",y1:"35.6",x2:"70.8002",y2:"48.8",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#333333"}),r.createElement("stop",{offset:"0.792969",stopColor:"#605A5D"})),r.createElement("linearGradient",{id:p,x1:"28.8002",y1:"42.8",x2:"46.8002",y2:"47.6",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#333333"}),r.createElement("stop",{offset:"1",stopColor:"#605A5D",stopOpacity:"0"})),r.createElement("linearGradient",{id:f,x1:"24",y1:"70.4",x2:"58.8",y2:"70.4",gradientUnits:"userSpaceOnUse"},r.createElement("stop",null),r.createElement("stop",{offset:"1",stopOpacity:"0"})),r.createElement("linearGradient",{id:h,x1:"56",y1:"3.2",x2:"48",y2:"17.6",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"white"}),r.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),r.createElement("clipPath",{id:l},r.createElement("rect",{width:"96",height:"120",fill:"white"}))))})),c=(0,r.memo)((function(e){var t=e.styles,n=e.inkBrushColor,s="HighlighterIcon",l=(0,o.B)(s),u=(0,o.B)(s),c=(0,o.B)(s),d=(0,o.B)(s),p=(0,o.B)(s),f=(0,o.B)(s),h=(0,o.B)(s),m=(0,o.B)(s),g=(0,o.B)(s),v=(0,o.B)(s);return r.createElement("svg",{className:a.s4,width:i.vt.width+"px",height:i.vt.height+"px",viewBox:i.JP,fill:i.Kl,style:t},r.createElement("g",{clipPath:"url(#".concat(l,")")},r.createElement("g",{opacity:"0.4",filter:"url(#".concat(u,")")},r.createElement("path",{d:"M76.8 117V59.4H19.2V117H76.8Z",fill:"black"})),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.8 42.6L30.7255 25.2699C30.9956 22.8391 33.0504 21 35.4962 21H60.5038C62.9496 21 65.0043 22.8391 65.2744 25.2699L67.2 42.6L73.7956 47.8765C77.2115 50.6092 79.2 54.7465 79.2 59.121V95.4H16.8V59.121C16.8 54.7465 18.7885 50.6092 22.2044 47.8765L28.8 42.6Z",fill:"url(#".concat(p,")")}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.8 42.6L30.7255 25.2699C30.9956 22.8391 33.0504 21 35.4962 21H60.5038C62.9496 21 65.0043 22.8391 65.2744 25.2699L67.2 42.6L73.7956 47.8765C77.2115 50.6092 79.2 54.7465 79.2 59.121V95.4H16.8V59.121C16.8 54.7465 18.7885 50.6092 22.2044 47.8765L28.8 42.6Z",fill:"url(#".concat(f,")")}),r.createElement("g",{opacity:"0.2",filter:"url(#".concat(c,")")},r.createElement("path",{d:"M55.2002 27L60.2197 57.3868L73.2 63V117",stroke:"white",strokeWidth:"1.2"})),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36 21.0002V12.6002C36 11.062 36.9773 9.6937 38.4324 9.19482L56.8216 2.88996C58.3794 2.35587 60 3.51345 60 5.16022V21.0002H36ZM79.2 61.8002H16.8V117H79.2V61.8002Z",fill:n}),r.createElement("rect",{opacity:"0.2",x:"16.8",y:"61.8",width:"26.4",height:"55.2",fill:"url(#".concat(h,")")}),r.createElement("rect",{opacity:"0.06",width:"26.4",height:"55.2",transform:"matrix(-1 0 0 1 79.2 61.8)",fill:"url(#".concat(m,")")}),r.createElement("path",{opacity:"0.3",d:"M36 12.6V21H60V5.15999C60 3.51321 58.3794 2.35563 56.8216 2.88972L38.4324 9.19458C36.9773 9.69347 36 11.0618 36 12.6Z",fill:"url(#".concat(g,")")}),r.createElement("path",{d:"M59.7 20.7H36.3V12.6C36.3 11.1899 37.1959 9.93568 38.5297 9.47837L56.9189 3.1735C58.282 2.70617 59.7 3.71906 59.7 5.15999V20.7Z",stroke:"url(#".concat(v,")"),strokeOpacity:"0.3",strokeWidth:"0.6"}),r.createElement("g",{opacity:"0.4",filter:"url(#".concat(d,")")},r.createElement("path",{d:"M73.2 117V59.4",stroke:"white",strokeWidth:"1.2"})),r.createElement("line",{opacity:"0.12",x1:"16.8",y1:"62.4",x2:"79.2",y2:"62.4",stroke:"white",strokeWidth:"1.2"})),r.createElement("defs",null,r.createElement("filter",{id:u,x:"12",y:"52.2",width:"72",height:"72",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feGaussianBlur",{stdDeviation:"3.6",result:"effect1_foregroundBlur"})),r.createElement("filter",{id:c,x:"47.4082",y:"19.7022",width:"33.5918",height:"104.498",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feGaussianBlur",{stdDeviation:"3.6",result:"effect1_foregroundBlur"})),r.createElement("filter",{id:d,x:"63",y:"49.8",width:"20.4",height:"76.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.createElement("feGaussianBlur",{stdDeviation:"4.8",result:"effect1_foregroundBlur"})),r.createElement("linearGradient",{id:p,x1:"17.4",y1:"36.5",x2:"72.6093",y2:"65.8856",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#333333"}),r.createElement("stop",{offset:"0.792969",stopColor:"#605A5D"})),r.createElement("linearGradient",{id:f,x1:"19.2",y1:"42.7",x2:"44.1733",y2:"55.8611",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#333333"}),r.createElement("stop",{offset:"1",stopColor:"#605A5D",stopOpacity:"0"})),r.createElement("linearGradient",{id:h,x1:"16.8",y1:"78.7846",x2:"35.94",y2:"78.7846",gradientUnits:"userSpaceOnUse"},r.createElement("stop",null),r.createElement("stop",{offset:"1",stopOpacity:"0"})),r.createElement("linearGradient",{id:m,x1:"-9.02706e-08",y1:"16.9846",x2:"19.14",y2:"16.9846",gradientUnits:"userSpaceOnUse"},r.createElement("stop",null),r.createElement("stop",{offset:"1",stopOpacity:"0"})),r.createElement("linearGradient",{id:g,x1:"44.9143",y1:"-1.25961",x2:"47.3195",y2:"23.1916",gradientUnits:"userSpaceOnUse"},r.createElement("stop",null),r.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),r.createElement("linearGradient",{id:v,x1:"48",y1:"-1.25961",x2:"48",y2:"18.774",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"white"}),r.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),r.createElement("clipPath",{id:l},r.createElement("rect",{width:"96",height:"120",fill:"white",transform:"translate(0 -3)"}))))})),d=n(98689),p=n(32e3),f=(0,r.memo)((function(e){var t=e.enabled,n=e.enabledColor,o=e.disabledColor,i=e.styles,a=(0,d.D)(),s=null!==n&&void 0!==n?n:a.palette.black,l=null!==o&&void 0!==o?o:a.palette.neutralTertiary,u=(0,p.Zq)({fill:t?s:l}),c="0 0 ".concat(24," ").concat(24);return r.createElement("svg",{width:24,height:24,viewBox:c,fill:"none",style:i},r.createElement("g",{className:u},r.createElement("path",{d:"M2 6.75C2 5.23122 3.23122 4 4.75 4L19.25 4C20.7688 4 22 5.23122 22 6.75V12.5356L21.1991 11.7347C20.9899 11.5255 20.7529 11.3612 20.5 11.2416V6.75C20.5 6.05964 19.9404 5.5 19.25 5.5L4.75 5.5C4.05964 5.5 3.5 6.05964 3.5 6.75L3.5 17.25C3.5 17.9404 4.05964 18.5 4.75 18.5H12.0149C12.0319 19.0338 12.2189 19.5632 12.576 20H4.75C3.23122 20 2 18.7688 2 17.25L2 6.75Z"}),r.createElement("path",{d:"M20.4919 12.4418C19.9062 11.856 18.9564 11.856 18.3706 12.4417L15.26 15.5524L19.4671 19.7595L22.5777 16.6489C23.1635 16.0631 23.1635 15.1133 22.5777 14.5275L20.4919 12.4418Z"}),r.createElement("path",{d:"M13.453 17.3593L14.5529 16.2595L18.76 20.4666L17.6601 21.5665C17.0743 22.1522 16.1246 22.1522 15.5388 21.5665L13.453 19.4807C12.8672 18.8949 12.8672 17.9451 13.453 17.3593Z"})))})),h=n(610),m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},m.apply(this,arguments)},g={activeInkBrushId:"pen1",brushes:[{inkBrushId:"pen1",getIcon:function(e){var t;return r.createElement(u,{styles:null===e||void 0===e?void 0:e.styles,inkBrushColor:null!==(t=null===e||void 0===e?void 0:e.inkBrushColor)&&void 0!==t?t:l.M.pen1.htmlColor})}},{inkBrushId:"pen2",getIcon:function(e){var t;return r.createElement(u,{styles:null===e||void 0===e?void 0:e.styles,inkBrushColor:null!==(t=null===e||void 0===e?void 0:e.inkBrushColor)&&void 0!==t?t:l.M.pen2.htmlColor})}},{inkBrushId:"highlighter",getIcon:function(e){var t;return r.createElement(c,{styles:null===e||void 0===e?void 0:e.styles,inkBrushColor:null!==(t=null===e||void 0===e?void 0:e.inkBrushColor)&&void 0!==t?t:l.M.highlighter.htmlColor})}}],eraser:{getIcon:function(e){return r.createElement(s,{styles:null===e||void 0===e?void 0:e.styles})}},text:{getIcon:function(){return r.createElement(h.I,{iconName:"HalfAlpha",styles:{root:{fontSize:21}}})}},clearAllMarkup:{getIcon:function(e){return r.createElement(f,m({},e))}}}},88328:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var r=n(79847);function o(e){var t=(0,r.g)(e)?"#282828":"#F3F2F1";return{calloutMain:{beak:{backgroundColor:t},beakCurtain:{backgroundColor:t},calloutMain:{backgroundColor:t},root:{maxWidth:"320px",padding:"9px 12px 11px 12px",lineHeight:"20px"}},calloutHeader:{fontWeight:600,marginBottom:"12px"},calloutDismissIcon:{root:{color:e.palette.black,width:"16px",height:"16px"}}}}},88358:(e,t,n)=>{"use strict";n.d(t,{A:()=>k});var r=n(69187),o=n(37827),i=n(9950),a=n(35606),s=n(51734),l=n(34060),u=n(69175),c=n(95004),d=n(88114),p=n(56624),f=n(56340),h=n(21191),m=n(34868),g=n(23501),v=n(28225),y=(0,p.Z)(),b=function(e){return function(t){var n;return(n={})[e]=t+"%",n}},x=function(e,t,n){return n===t?0:(e-t)/(n-t)*100},_=function(e,t){var n=e.step,r=void 0===n?1:n,a=e.className,s=e.disabled,p=void 0!==s&&s,_=e.label,C=e.max,w=void 0===C?10:C,S=e.min,k=void 0===S?0:S,T=e.showValue,E=void 0===T||T,P=e.buttonProps,I=void 0===P?{}:P,A=e.vertical,R=void 0!==A&&A,L=e.snapToStep,M=e.valueFormat,B=e.styles,O=e.theme,F=e.originFromZero,D=e["aria-labelledby"],N=e.ariaLabel,U=void 0===N?e["aria-label"]:N,z=e.ranged,j=e.onChange,V=e.onChanged,W=i.useRef([]),H=(0,l.j)(),q=H.setTimeout,K=H.clearTimeout,G=i.useRef(null),Z=(0,u.k)(e.value,e.defaultValue,(function(e,t){return null===j||void 0===j?void 0:j(t,z?[ne.latestLowerValue,t]:void 0,e)})),X=Z[0],Y=Z[1],Q=(0,u.k)(e.lowerValue,e.defaultLowerValue,(function(e,t){return null===j||void 0===j?void 0:j(ne.latestValue,[t,ne.latestValue],e)})),J=Q[0],$=Q[1],ee=Math.max(k,Math.min(w,X||0)),te=Math.max(k,Math.min(ee,J||0)),ne=(0,c.d)({onKeyDownTimer:-1,isAdjustingLowerValue:!1,latestValue:ee,latestLowerValue:te});ne.latestValue=ee,ne.latestLowerValue=te;var re=(0,d.B)("Slider",e.id||(null===I||void 0===I?void 0:I.id)),oe=y(B,{className:a,disabled:p,vertical:R,showTransitions:!L&&!ne.isBetweenSteps,showValue:E,ranged:z,theme:O}),ie=(w-k)/r,ae=function(){K(ne.onKeyDownTimer),ne.onKeyDownTimer=-1},se=function(e){ae(),V&&(ne.onKeyDownTimer=q((function(){V(e,ne.latestValue,z?[ne.latestLowerValue,ne.latestValue]:void 0)}),1e3))},le=function(t){var n=e.ariaValueText;if(void 0!==t)return n?n(t):t.toString()},ue=function(e,t,n){t=Math.min(w,Math.max(k,t)),n=void 0!==n?Math.min(w,Math.max(k,n)):void 0;var o=0;if(isFinite(r))for(;Math.round(r*Math.pow(10,o))/Math.pow(10,o)!==r;)o++;var i=parseFloat(t.toFixed(o));ne.isBetweenSteps=void 0!==n&&n!==i,z?ne.isAdjustingLowerValue&&(F?i<=0:i<=ne.latestValue)?$(i,e):!ne.isAdjustingLowerValue&&(F?i>=0:i>=ne.latestLowerValue)&&Y(i,e):Y(i,e)},ce=function(e,t){var n=0;switch(e.type){case"mousedown":case"mousemove":n=t?e.clientY:e.clientX;break;case"touchstart":case"touchmove":n=t?e.touches[0].clientY:e.touches[0].clientX}return n},de=function(t){var n,r=G.current.getBoundingClientRect(),o=(e.vertical?r.height:r.width)/ie;if(e.vertical){var i=ce(t,e.vertical);n=(r.bottom-i)/o}else{var a=ce(t,e.vertical);n=((0,f.jI)(e.theme)?r.right-a:a-r.left)/o}return n},pe=function(e,t){var n=de(e),o=k+r*n,i=k+r*Math.round(n);ue(e,i,o),t||(e.preventDefault(),e.stopPropagation())},fe=function(e){if(z){var t=de(e),n=k+r*t;ne.isAdjustingLowerValue=n<=ne.latestLowerValue||n-ne.latestLowerValue<=ne.latestValue-n}"mousedown"===e.type?W.current.push((0,m.on)(window,"mousemove",pe,!0),(0,m.on)(window,"mouseup",he,!0)):"touchstart"===e.type&&W.current.push((0,m.on)(window,"touchmove",pe,!0),(0,m.on)(window,"touchend",he,!0)),pe(e,!0)},he=function(e){ne.isBetweenSteps=void 0,null===V||void 0===V||V(e,ne.latestValue,z?[ne.latestLowerValue,ne.latestValue]:void 0),me()},me=i.useCallback((function(){W.current.forEach((function(e){return e()})),W.current=[]}),[]);i.useEffect((function(){return me}),[me]);var ge=i.useRef(null),ve=i.useRef(null);!function(e,t,n,r){i.useImperativeHandle(e.componentRef,(function(){return{get value(){return n},get range(){return r},focus:function(){t.current&&t.current.focus()}}}),[t,n,r])}(e,z&&!R?ge:ve,ee,z?[te,ee]:void 0);var ye=b(R?"bottom":(0,f.jI)(e.theme)?"right":"left"),be=b(R?"height":"width"),xe=F?0:k,_e=x(ee,k,w),Ce=x(te,k,w),we=x(xe,k,w),Se=z?_e-Ce:Math.abs(we-_e),ke=Math.min(100-_e,100-we),Te=z?Ce:Math.min(_e,we),Ee={className:oe.root,ref:t},Pe={className:oe.titleLabel,children:_,disabled:p,htmlFor:U?void 0:re},Ie=E?{className:oe.valueLabel,children:M?M(ee):ee,disabled:p,htmlFor:p?re:void 0}:void 0,Ae=z&&E?{className:oe.valueLabel,children:M?M(te):te,disabled:p}:void 0,Re=F?{className:oe.zeroTick,style:ye(we)}:void 0,Le={className:(0,g.A)(oe.lineContainer,oe.activeSection),style:be(Se)},Me={className:(0,g.A)(oe.lineContainer,oe.inactiveSection),style:be(ke)},Be={className:(0,g.A)(oe.lineContainer,oe.inactiveSection),style:be(Te)},Oe=(0,o.Cl)({"aria-disabled":p,role:"slider",tabIndex:p?void 0:0},{"data-is-focusable":!p}),Fe=(0,o.Cl)((0,o.Cl)((0,o.Cl)({id:re,className:(0,g.A)(oe.slideBox,I.className)},!p&&{onMouseDown:fe,onTouchStart:fe,onKeyDown:function(t){var n=ne.isAdjustingLowerValue?ne.latestLowerValue:ne.latestValue,o=0;switch(t.which){case(0,f.SM)(h.c.left,e.theme):case h.c.down:o=-r,ae(),se(t);break;case(0,f.SM)(h.c.right,e.theme):case h.c.up:o=r,ae(),se(t);break;case h.c.home:n=k,ae(),se(t);break;case h.c.end:n=w,ae(),se(t);break;default:return}ue(t,n+o),t.preventDefault(),t.stopPropagation()}}),I&&(0,v.G1)(I,v.JM,["id","className"])),!z&&(0,o.Cl)((0,o.Cl)({},Oe),{"aria-valuemin":k,"aria-valuemax":w,"aria-valuenow":ee,"aria-valuetext":le(ee),"aria-label":U||_,"aria-labelledby":D})),De=p?{}:{onFocus:function(e){ne.isAdjustingLowerValue=e.target===ge.current}},Ne=(0,o.Cl)({ref:ve,className:oe.thumb,style:ye(_e)},z&&(0,o.Cl)((0,o.Cl)((0,o.Cl)({},Oe),De),{id:"max-"+re,"aria-valuemin":te,"aria-valuemax":w,"aria-valuenow":ee,"aria-valuetext":le(ee),"aria-label":"max "+(U||_)})),Ue=z?(0,o.Cl)((0,o.Cl)((0,o.Cl)({ref:ge,className:oe.thumb,style:ye(Ce)},Oe),De),{id:"min-"+re,"aria-valuemin":k,"aria-valuemax":ee,"aria-valuenow":te,"aria-valuetext":le(te),"aria-label":"min "+(U||_)}):void 0;return{root:Ee,label:Pe,sliderBox:Fe,container:{className:oe.container},valueLabel:Ie,lowerValueLabel:Ae,thumb:Ne,lowerValueThumb:Ue,zeroTick:Re,activeTrack:Le,topInactiveTrack:Me,bottomInactiveTrack:Be,sliderLine:{ref:G,className:oe.line}}},C=i.forwardRef((function(e,t){var n=_(e,t);return i.createElement("div",(0,o.Cl)({},n.root),n&&i.createElement(s.J,(0,o.Cl)({},n.label)),i.createElement("div",(0,o.Cl)({},n.container),e.ranged&&(e.vertical?n.valueLabel&&i.createElement(s.J,(0,o.Cl)({},n.valueLabel)):n.lowerValueLabel&&i.createElement(s.J,(0,o.Cl)({},n.lowerValueLabel))),i.createElement("div",(0,o.Cl)({},n.sliderBox),i.createElement("div",(0,o.Cl)({},n.sliderLine),e.ranged&&i.createElement("span",(0,o.Cl)({},n.lowerValueThumb)),i.createElement("span",(0,o.Cl)({},n.thumb)),n.zeroTick&&i.createElement("span",(0,o.Cl)({},n.zeroTick)),i.createElement("span",(0,o.Cl)({},n.bottomInactiveTrack)),i.createElement("span",(0,o.Cl)({},n.activeTrack)),i.createElement("span",(0,o.Cl)({},n.topInactiveTrack)))),e.ranged&&e.vertical?n.lowerValueLabel&&i.createElement(s.J,(0,o.Cl)({},n.lowerValueLabel)):n.valueLabel&&i.createElement(s.J,(0,o.Cl)({},n.valueLabel))),i.createElement(a.MO,null))}));C.displayName="SliderBase";var w=n(32e3),S={root:"ms-Slider",enabled:"ms-Slider-enabled",disabled:"ms-Slider-disabled",row:"ms-Slider-row",column:"ms-Slider-column",container:"ms-Slider-container",slideBox:"ms-Slider-slideBox",line:"ms-Slider-line",thumb:"ms-Slider-thumb",activeSection:"ms-Slider-active",inactiveSection:"ms-Slider-inactive",valueLabel:"ms-Slider-value",showValue:"ms-Slider-showValue",showTransitions:"ms-Slider-showTransitions",zeroTick:"ms-Slider-zeroTick"},k=(0,r.I)(C,(function(e){var t,n,r,i,a,s,l,u,c,d,p,h,m,g=e.className,v=e.titleLabelClassName,y=e.theme,b=e.vertical,x=e.disabled,_=e.showTransitions,C=e.showValue,k=e.ranged,T=y.semanticColors,E=y.palette,P=(0,w.Km)(S,y),I=T.inputBackgroundCheckedHovered,A=T.inputBackgroundChecked,R=E.neutralSecondaryAlt,L=E.neutralPrimary,M=E.neutralSecondaryAlt,B=T.disabledText,O=T.disabledBackground,F=T.inputBackground,D=T.smallInputBorder,N=T.disabledBorder,U=!x&&{backgroundColor:I,selectors:(t={},t[w.up]={backgroundColor:"Highlight"},t)},z=!x&&{backgroundColor:R,selectors:(n={},n[w.up]={borderColor:"Highlight"},n)},j=!x&&{backgroundColor:A,selectors:(r={},r[w.up]={backgroundColor:"Highlight"},r)},V=!x&&{border:"2px solid "+I,selectors:(i={},i[w.up]={borderColor:"Highlight"},i)},W=!e.disabled&&{backgroundColor:T.inputPlaceholderBackgroundChecked,selectors:(a={},a[w.up]={backgroundColor:"Highlight"},a)};return{root:(0,o.fX)((0,o.fX)((0,o.fX)((0,o.fX)((0,o.fX)([P.root,y.fonts.medium,{userSelect:"none"},b&&{marginRight:8}],[x?void 0:P.enabled]),[x?P.disabled:void 0]),[b?void 0:P.row]),[b?P.column:void 0]),[g]),titleLabel:[{padding:0},v],container:[P.container,{display:"flex",flexWrap:"nowrap",alignItems:"center"},b&&{flexDirection:"column",height:"100%",textAlign:"center",margin:"8px 0"}],slideBox:(0,o.fX)((0,o.fX)([P.slideBox,!k&&(0,w.gm)(y),{background:"transparent",border:"none",flexGrow:1,lineHeight:28,display:"flex",alignItems:"center",selectors:(s={},s[":active ."+P.activeSection]=U,s[":hover ."+P.activeSection]=j,s[":active ."+P.inactiveSection]=z,s[":hover ."+P.inactiveSection]=z,s[":active ."+P.thumb]=V,s[":hover ."+P.thumb]=V,s[":active ."+P.zeroTick]=W,s[":hover ."+P.zeroTick]=W,s[w.up]={forcedColorAdjust:"none"},s)},b?{height:"100%",width:28,padding:"8px 0"}:{height:28,width:"auto",padding:"0 8px"}],[C?P.showValue:void 0]),[_?P.showTransitions:void 0]),thumb:[P.thumb,k&&(0,w.gm)(y,{inset:-4}),{borderWidth:2,borderStyle:"solid",borderColor:D,borderRadius:10,boxSizing:"border-box",background:F,display:"block",width:16,height:16,position:"absolute"},b?{left:-6,margin:"0 auto",transform:"translateY(8px)"}:{top:-6,transform:(0,f.jI)(y)?"translateX(50%)":"translateX(-50%)"},_&&{transition:"left "+w.cs.durationValue3+" "+w.cs.easeFunction1},x&&{borderColor:N,selectors:(l={},l[w.up]={borderColor:"GrayText"},l)}],line:[P.line,{display:"flex",position:"relative"},b?{height:"100%",width:4,margin:"0 auto",flexDirection:"column-reverse"}:{width:"100%"}],lineContainer:[{borderRadius:4,boxSizing:"border-box"},b?{width:4,height:"100%"}:{height:4,width:"100%"}],activeSection:[P.activeSection,{background:L,selectors:(u={},u[w.up]={backgroundColor:"WindowText"},u)},_&&{transition:"width "+w.cs.durationValue3+" "+w.cs.easeFunction1},x&&{background:B,selectors:(c={},c[w.up]={backgroundColor:"GrayText",borderColor:"GrayText"},c)}],inactiveSection:[P.inactiveSection,{background:M,selectors:(d={},d[w.up]={border:"1px solid WindowText"},d)},_&&{transition:"width "+w.cs.durationValue3+" "+w.cs.easeFunction1},x&&{background:O,selectors:(p={},p[w.up]={borderColor:"GrayText"},p)}],zeroTick:[P.zeroTick,{position:"absolute",background:T.disabledBorder,selectors:(h={},h[w.up]={backgroundColor:"WindowText"},h)},e.disabled&&{background:T.disabledBackground,selectors:(m={},m[w.up]={backgroundColor:"GrayText"},m)},e.vertical?{width:"16px",height:"1px",transform:(0,f.jI)(y)?"translateX(6px)":"translateX(-6px)"}:{width:"1px",height:"16px",transform:"translateY(-6px)"}],valueLabel:[P.valueLabel,{flexShrink:1,width:30,lineHeight:"1"},b?{margin:"0 auto",whiteSpace:"nowrap",width:40}:{margin:"0 8px",whiteSpace:"nowrap",width:40}]}}),void 0,{scope:"Slider"})},88400:(e,t,n)=>{"use strict";n.d(t,{Fd:()=>a,jM:()=>v});var r=n(44051),o=n(72538),i=n(99145),a="AIRelightingShader",s={none:0,ambient:1,directional:2},l="uLightType@",u="uLightVector@",c="uLightIntensity@",d="uLightColor@",p="uRoughness@",f="uLightSoftness@",h="uIncidenceMultiplier@",m="uGlobalIntensity@",g="uDisplayNormalMap@",v=function(){function e(){this._lightSources=[{lightType:"ambient",lightColor:[1,1,1,1],lightIntensity:1,directionalLightAngleAround:.5,directionalLightAngleInto:.5,surfaceRoughness:0,lightSoftness:.5,isOn:!1,label:"Ambient"}],this._globalIntensity=1,this._displayNormalMap=!1}return e.prototype.setLightSources=function(e){this._lightSources=e},e.prototype.getLightSources=function(){return this._lightSources},e.prototype.setGlobalIntensity=function(e){this._globalIntensity=e},e.prototype.getGlobalIntensity=function(){return this._globalIntensity},e.prototype.setDisplayNormalMap=function(e){this._displayNormalMap=e},e.prototype.getName=function(){return a},e.prototype.getUniformNames=function(e){return[e(l),e(c),e(u),e(d),e(p),e(f),e(h),e(m),e(g)]},e.prototype.getFunctions=function(e){return[]},e.prototype.getHeaderCode=function(e){return e("\n    //".concat(a,"---\n    #ifndef ").concat((0,o.T)("normalMap"),"\n        #define ").concat((0,o.T)("normalMap"),"\n    #endif\n    uniform int ").concat(l,"[").concat(i.b,"];\n    uniform float ").concat(c,"[").concat(i.b,"];\n    uniform vec4 ").concat(d,"[").concat(i.b,"];\n    uniform vec3 ").concat(u,"[").concat(i.b,"];\n    uniform float ").concat(p,"[").concat(i.b,"];\n    uniform float ").concat(f,"[").concat(i.b,"];\n    uniform float ").concat(h,"[").concat(i.b,"];\n    uniform float ").concat(m,";\n    uniform float ").concat(g,";\n    "))},e.prototype.getShaderFunctionBody=function(e){var t=r.k.normalMapTextureSampler,n=r.k.uv;return e("\n    //".concat(this.getName(),"---\n    {\n      // Store original color for lerping\n      vec4 originalColor = gl_FragColor;\n      \n      // Remap normal's x and y values from [0,1] to [-1,1], and then re-normalize the vector\n      vec4 normalFromMap = texture2D(").concat(t,", ").concat(n,".xy);\n      vec3 normal = (normalFromMap.xyz*2.)-1.;\n      normal = normalize(normal); \n\n      vec4 newLitColor = vec4(0.,0.,0.,gl_FragColor.a);\n\n      for(int i = 0; i < ").concat(i.b,"; ++i)\n      {\n        switch(").concat(l,"[i])\n        {\n          case 0: // Disabled\n            break;\n          case 1: // Ambient\n            newLitColor.rgb += ").concat(c,"[i] * ").concat(d,"[i].rgb * gl_FragColor.rgb;\n            break;\n          case 2: // Directional\n            float dpBooster = ").concat(f,"[i];                 // Increase the range of normals affected by the light by artificially increasing dot product\n            float incidenceMultiplier = ").concat(h,"[i]; // Scale down the incidence amount so that a value with true dot product of 1 still gets an incidenceAmt of 1.\n            float roughness = ").concat(p,"[i];                     // Higher roughness means less plasticky\n            float incidenceAmt = max(dot(normal, ").concat(u,"[i]) + dpBooster, 0.) * incidenceMultiplier;\n            float diffuseAmt = pow(incidenceAmt , 1.0001 - (roughness * .5)) * .5 * (1.5 - (roughness * .5));\n            newLitColor.rgb += diffuseAmt * ").concat(c,"[i] * ").concat(d,"[i].rgb * gl_FragColor.rgb;\n            break;\n        }\n      }\n\n      // Apply global intensity as a lerp between original and new lit color\n      gl_FragColor = vec4(mix(originalColor.rgb, newLitColor.rgb, ").concat(m,"), originalColor.a);\n      // Use normal map color if displayNormalMap is true\n      gl_FragColor = mix(gl_FragColor, normalFromMap, ").concat(g,");\n    }\n    "))},e.prototype.onBeforeBabylonRender=function(e,t){for(var n=Math.min(this._lightSources.length,i.b),r=new Int32Array(n),o=[],a=[],v=[],y=[],b=[],x=[],_=0;_<n;++_){var C=this._lightSources[_];r[_]=C.isOn?s[C.lightType]:s.none;var w=C.lightColor,S=C.lightIntensity;o.push(S),a.push(w[0],w[1],w[2],w[3]);var k=(C.directionalLightAngleInto-.5)*Math.PI,T=Math.cos(k),E=Math.sin(k),P=2*(C.directionalLightAngleAround+.75)*Math.PI,I=Math.cos(P)*T,A=Math.sin(P)*T;v.push(I,A,E),y.push(C.surfaceRoughness),b.push(C.lightSoftness),x.push(1/(1+C.lightSoftness))}e.setIntArray(t(l),r),e.setFloatArray(t(c),o),e.setFloatArray4(t(d),a),e.setFloatArray3(t(u),v),e.setFloatArray(t(p),y),e.setFloatArray(t(f),b),e.setFloatArray(t(h),x),e.setFloat(t(m),this._globalIntensity),e.setFloat(t(g),this._displayNormalMap?1:0)},e}()},88403:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var r=n(85913),o=n(61618),i=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},a=(0,r.Mz)([o.A],(function(e){return i(i([],e.texturePatchRequests,!0),e.pendingTexturePatchRequests,!0)}))},88529:(e,t,n)=>{"use strict";n.d(t,{Hc:()=>g,K0:()=>d,XJ:()=>m,c8:()=>c,fY:()=>h,mh:()=>f});var r,o=n(72684),i=n(77169),a=n(95673),s=0,l=(0,i.Z)({overflow:"hidden !important"}),u="data-is-scrollable",c=function(e,t){if(e){var n=0,r=null;t.on(e,"touchstart",(function(e){1===e.targetTouches.length&&(n=e.targetTouches[0].clientY)}),{passive:!1}),t.on(e,"touchmove",(function(e){if(1===e.targetTouches.length&&(e.stopPropagation(),r)){var t=e.targetTouches[0].clientY-n,o=g(e.target);o&&(r=o),0===r.scrollTop&&t>0&&e.preventDefault(),r.scrollHeight-Math.ceil(r.scrollTop)<=r.clientHeight&&t<0&&e.preventDefault()}}),{passive:!1}),r=e}},d=function(e,t){if(e){t.on(e,"touchmove",(function(e){e.stopPropagation()}),{passive:!1})}},p=function(e){e.preventDefault()};function f(){var e=(0,o.Y)();e&&e.body&&!s&&(e.body.classList.add(l),e.body.addEventListener("touchmove",p,{passive:!1,capture:!1})),s++}function h(){if(s>0){var e=(0,o.Y)();e&&e.body&&1===s&&(e.body.classList.remove(l),e.body.removeEventListener("touchmove",p)),s--}}function m(){if(void 0===r){var e=document.createElement("div");e.style.setProperty("width","100px"),e.style.setProperty("height","100px"),e.style.setProperty("overflow","scroll"),e.style.setProperty("position","absolute"),e.style.setProperty("top","-9999px"),document.body.appendChild(e),r=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return r}function g(e){for(var t=e,n=(0,o.Y)(e);t&&t!==n.body;){if("true"===t.getAttribute(u))return t;t=t.parentElement}for(t=e;t&&t!==n.body;){if("false"!==t.getAttribute(u)){var r=getComputedStyle(t),i=r?r.getPropertyValue("overflow-y"):"";if(i&&("scroll"===i||"auto"===i))return t}t=t.parentElement}return t&&t!==n.body||(t=(0,a.z)(e)),t}},88659:(e,t,n)=>{"use strict";n.d(t,{P:()=>Ce});var r,o=n(37827),i=n(9950),a=n(69187),s=n(44358),l=n(6461),u=n(25262),c=n(34868),d=n(58608),p=n(28225),f=n(23501),h=n(3691),m=n(84113),g=n(56340),v=n(88529),y=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.top=n,this.bottom=r,this.left=e,this.right=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!1,configurable:!0}),e.prototype.equals=function(e){return parseFloat(this.top.toFixed(4))===parseFloat(e.top.toFixed(4))&&parseFloat(this.bottom.toFixed(4))===parseFloat(e.bottom.toFixed(4))&&parseFloat(this.left.toFixed(4))===parseFloat(e.left.toFixed(4))&&parseFloat(this.right.toFixed(4))===parseFloat(e.right.toFixed(4))},e}();function b(e,t,n){return{targetEdge:e,alignmentEdge:t,isAuto:n}}var x=((r={})[s.A.topLeftEdge]=b(m.x.top,m.x.left),r[s.A.topCenter]=b(m.x.top),r[s.A.topRightEdge]=b(m.x.top,m.x.right),r[s.A.topAutoEdge]=b(m.x.top,void 0,!0),r[s.A.bottomLeftEdge]=b(m.x.bottom,m.x.left),r[s.A.bottomCenter]=b(m.x.bottom),r[s.A.bottomRightEdge]=b(m.x.bottom,m.x.right),r[s.A.bottomAutoEdge]=b(m.x.bottom,void 0,!0),r[s.A.leftTopEdge]=b(m.x.left,m.x.top),r[s.A.leftCenter]=b(m.x.left),r[s.A.leftBottomEdge]=b(m.x.left,m.x.bottom),r[s.A.rightTopEdge]=b(m.x.right,m.x.top),r[s.A.rightCenter]=b(m.x.right),r[s.A.rightBottomEdge]=b(m.x.right,m.x.bottom),r);function _(e,t){return!(e.top<t.top)&&(!(e.bottom>t.bottom)&&(!(e.left<t.left)&&!(e.right>t.right)))}function C(e,t){var n=[];return e.top<t.top&&n.push(m.x.top),e.bottom>t.bottom&&n.push(m.x.bottom),e.left<t.left&&n.push(m.x.left),e.right>t.right&&n.push(m.x.right),n}function w(e,t){return e[m.x[t]]}function S(e,t,n){return e[m.x[t]]=n,e}function k(e,t){var n=D(t);return(w(e,n.positiveEdge)+w(e,n.negativeEdge))/2}function T(e,t){return e>0?t:-1*t}function E(e,t){return T(e,w(t,e))}function P(e,t,n){return T(n,w(e,n)-w(t,n))}function I(e,t,n,r){void 0===r&&(r=!0);var o=w(e,t)-n,i=S(e,t,n);return r&&(i=S(e,-1*t,w(e,-1*t)-o)),i}function A(e,t,n,r){return void 0===r&&(r=0),I(e,n,w(t,n)+T(n,r))}function R(e,t,n){return E(n,e)>E(n,t)}function L(e,t){for(var n=0,r=0,o=C(e,t);r<o.length;r++){var i=o[r];n+=Math.pow(P(e,t,i),2)}return n}function M(e,t,n,r,o,i,a){void 0===o&&(o=0);var s=r.alignmentEdge,l=r.alignTargetEdge,u={elementRectangle:e,targetEdge:r.targetEdge,alignmentEdge:s};i||a||(u=function(e,t,n,r,o){void 0===o&&(o=0);var i=[m.x.left,m.x.right,m.x.bottom,m.x.top];(0,g.jI)()&&(i[0]*=-1,i[1]*=-1);for(var a,s=e,l=r.targetEdge,u=r.alignmentEdge,c=l,d=u,p=0;p<4;p++){if(R(s,n,l))return{elementRectangle:s,targetEdge:l,alignmentEdge:u};var f=L(s,n);(!a||f<a)&&(a=f,c=l,d=u),i.splice(i.indexOf(l),1),i.length>0&&(i.indexOf(-1*l)>-1?l*=-1:(u=l,l=i.slice(-1)[0]),s=F(e,t,{targetEdge:l,alignmentEdge:u},o))}return{elementRectangle:s=F(e,t,{targetEdge:c,alignmentEdge:d},o),targetEdge:c,alignmentEdge:d}}(e,t,n,r,o));var c=C(u.elementRectangle,n),d=i?-u.targetEdge:void 0;if(c.length>0)if(l)if(u.alignmentEdge&&c.indexOf(-1*u.alignmentEdge)>-1){var p=function(e,t,n,r){var o=e.alignmentEdge,i=e.targetEdge,a=-1*o;return{elementRectangle:F(e.elementRectangle,t,{targetEdge:i,alignmentEdge:a},n,r),targetEdge:i,alignmentEdge:a}}(u,t,o,a);if(_(p.elementRectangle,n))return p;u=B(C(p.elementRectangle,n),u,n,d)}else u=B(c,u,n,d);else u=B(c,u,n,d);return u}function B(e,t,n,r){for(var o=0,i=e;o<i.length;o++){var a=i[o],s=void 0;if(r&&r===-1*a)s=I(t.elementRectangle,a,w(n,a),!1),t.forcedInBounds=!0;else R(s=A(t.elementRectangle,n,a),n,-1*a)||(s=I(s,-1*a,w(n,-1*a),!1),t.forcedInBounds=!0);t.elementRectangle=s}return t}function O(e,t,n){var r=D(t).positiveEdge;return I(e,r,n-(k(e,t)-w(e,r)))}function F(e,t,n,r,o){void 0===r&&(r=0);var i=new y(e.left,e.right,e.top,e.bottom),a=n.alignmentEdge,s=n.targetEdge,l=o?s:-1*s;(i=o?A(i,t,s,r):function(e,t,n,r){void 0===r&&(r=0);var o=T(-1*n,r);return I(e,-1*n,w(t,n)+o)}(i,t,s,r),a)?i=A(i,t,a):i=O(i,l,k(t,s));return i}function D(e){return e===m.x.top||e===m.x.bottom?{positiveEdge:m.x.left,negativeEdge:m.x.right}:{positiveEdge:m.x.top,negativeEdge:m.x.bottom}}function N(e,t,n){return n&&Math.abs(P(e,n,t))>Math.abs(P(e,n,-1*t))?-1*t:t}function U(e,t,n,r,o,i,a,s){var l,u={},c=K(t),d=i?n:-1*n,p=o||D(n).positiveEdge;return a&&!function(e,t,n){return void 0!==n&&w(e,t)===w(n,t)}(e,(l=p,-1*l),r)||(p=N(e,p,r)),u[m.x[d]]=P(e,c,d),u[m.x[p]]=P(e,c,p),s&&(u[m.x[-1*d]]=P(e,c,-1*d),u[m.x[-1*p]]=P(e,c,-1*p)),u}function z(e){return Math.sqrt(e*e*2)}function j(e,t,n){if(void 0===e&&(e=s.A.bottomAutoEdge),n)return{alignmentEdge:n.alignmentEdge,isAuto:n.isAuto,targetEdge:n.targetEdge};var r=(0,o.Cl)({},x[e]);return(0,g.jI)()?(r.alignmentEdge&&r.alignmentEdge%2===0&&(r.alignmentEdge=-1*r.alignmentEdge),void 0!==t?x[t]:r):r}function V(e,t,n){var r=k(t,e),o=k(n,e),i=D(e),a=i.positiveEdge,s=i.negativeEdge;return r<=o?a:s}function W(e,t,n,r,o,i,a){var s=F(e,t,r,o,a);return _(s,n)?{elementRectangle:s,targetEdge:r.targetEdge,alignmentEdge:r.alignmentEdge}:M(s,t,n,r,o,i,a)}function H(e,t,n){var r=-1*e.targetEdge,i=new y(0,e.elementRectangle.width,0,e.elementRectangle.height),a={},s=N(e.elementRectangle,e.alignmentEdge?e.alignmentEdge:D(r).positiveEdge,n),l=P(e.elementRectangle,e.targetRectangle,r)>Math.abs(w(t,r));return a[m.x[r]]=w(t,r),a[m.x[s]]=P(t,i,s),{elementPosition:(0,o.Cl)({},a),closestEdge:V(e.targetEdge,t,i),targetEdge:r,hideBeak:!l}}function q(e,t){var n=t.targetRectangle,r=D(t.targetEdge),o=r.positiveEdge,i=r.negativeEdge,a=k(n,t.targetEdge),s=new y(e/2,t.elementRectangle.width-e/2,e/2,t.elementRectangle.height-e/2),l=new y(0,e,0,e);return R(l=O(l=I(l,-1*t.targetEdge,-e/2),-1*t.targetEdge,a-E(o,t.elementRectangle)),s,o)?R(l,s,i)||(l=A(l,s,i)):l=A(l,s,o),l}function K(e){var t=e.getBoundingClientRect();return new y(t.left,t.right,t.top,t.bottom)}function G(e){return new y(e.left,e.right,e.top,e.bottom)}function Z(e,t,n,r){var i=e.gapSpace?e.gapSpace:0,a=function(e,t){var n;if(t){if(t.preventDefault){var r=t;n=new y(r.clientX,r.clientX,r.clientY,r.clientY)}else if(t.getBoundingClientRect)n=K(t);else{var o=t,i=o.left||o.x,a=o.top||o.y,s=o.right||i,l=o.bottom||a;n=new y(i,s,a,l)}if(!_(n,e))for(var u=0,c=C(n,e);u<c.length;u++){var d=c[u];n[m.x[d]]=e[m.x[d]]}}else n=new y(0,0,0,0);return n}(n,e.target),s=function(e,t,n,r,o){return e.isAuto&&(e.alignmentEdge=V(e.targetEdge,t,n)),e.alignTargetEdge=o,e}(j(e.directionalHint,e.directionalHintForRTL,r),a,n,e.coverTarget,e.alignTargetEdge),l=W(K(t),a,n,s,i,e.directionalHintFixed,e.coverTarget);return(0,o.Cl)((0,o.Cl)({},l),{targetRectangle:a})}function X(e,t,n,r,o){return{elementPosition:U(e.elementRectangle,t,e.targetEdge,n,e.alignmentEdge,r,o,e.forcedInBounds),targetEdge:e.targetEdge,alignmentEdge:e.alignmentEdge}}function Y(e,t,n,r,i){var a=e.isBeakVisible&&e.beakWidth||0,s=z(a)/2+(e.gapSpace?e.gapSpace:0),l=e;l.gapSpace=s;var u=e.bounds?G(e.bounds):new y(0,window.innerWidth-(0,v.XJ)(),0,window.innerHeight),c=Z(l,n,u,r),d=H(c,q(a,c),u);return(0,o.Cl)((0,o.Cl)({},X(c,t,u,e.coverTarget,i)),{beakPosition:d})}function Q(e,t,n,r){return function(e,t,n,r){return Y(e,t,n,r,!0)}(e,t,n,r)}var J,$=n(38005),ee=n(56624),te=n(32e3),ne=n(53247),re=n(98140),oe=n(95004),ie=n(3753),ae=n(59366),se=((J={})[m.x.top]=te.lw.slideUpIn10,J[m.x.bottom]=te.lw.slideDownIn10,J[m.x.left]=te.lw.slideLeftIn10,J[m.x.right]=te.lw.slideRightIn10,J),le=0,ue=0,ce={opacity:0,filter:"opacity(0)",pointerEvents:"none"},de=["role","aria-roledescription"],pe={preventDismissOnLostFocus:!1,preventDismissOnScroll:!1,preventDismissOnResize:!1,isBeakVisible:!0,beakWidth:16,gapSpace:0,minPagePadding:8,directionalHint:s.A.bottomAutoEdge},fe=(0,ee.Z)({disableCaching:!0});function he(e,t,n,r,a){var s=i.useState(),l=s[0],u=s[1],c=i.useRef(0),d=i.useRef(),p=(0,ne.Y)(),f=e.hidden,h=e.target,m=e.finalHeight,g=e.calloutMaxHeight,v=e.onPositioned,y=e.directionalHint;return i.useEffect((function(){if(!f){var i=p.requestAnimationFrame((function(){var i,s,p,f;if(t.current&&n){var y=(0,o.Cl)((0,o.Cl)({},e),{target:r.current,bounds:a()}),b=n.cloneNode(!0);b.style.maxHeight=g?""+g:"",b.style.visibility="hidden",null===(i=n.parentElement)||void 0===i||i.appendChild(b);var x=d.current===h?l:void 0,_=m?Q(y,t.current,b,x):function(e,t,n,r){return Y(e,t,n,r)}(y,t.current,b,x);null===(s=n.parentElement)||void 0===s||s.removeChild(b),!l&&_||l&&_&&(f=_,!ve((p=l).elementPosition,f.elementPosition)||!ve(p.beakPosition.elementPosition,f.beakPosition.elementPosition))&&c.current<5?(c.current++,u(_)):c.current>0&&(c.current=0,null===v||void 0===v||v(l))}}),n);return d.current=h,function(){p.cancelAnimationFrame(i),d.current=void 0}}u(void 0),c.current=0}),[f,y,p,n,g,t,r,m,a,v,l,e,h]),l}var me=i.memo(i.forwardRef((function(e,t){var n=(0,d.N)(pe,e),r=n.styles,a=n.style,s=n.ariaLabel,h=n.ariaDescribedBy,m=n.ariaLabelledBy,g=n.className,v=n.isBeakVisible,y=n.children,b=n.beakWidth,x=n.calloutWidth,_=n.calloutMaxWidth,C=n.calloutMinWidth,w=n.doNotLayer,S=n.finalHeight,k=n.hideOverflow,T=void 0===k?!!S:k,E=n.backgroundColor,P=n.calloutMaxHeight,I=n.onScroll,A=n.shouldRestoreFocus,R=void 0===A||A,L=n.target,M=n.hidden,B=n.onLayerMounted,O=n.popupProps,F=i.useRef(null),D=i.useState(null),N=D[0],U=D[1],z=i.useCallback((function(e){U(e)}),[]),j=(0,ie.a)(F,t),V=(0,ae.P)(n.target,{current:N}),W=V[0],H=V[1],q=function(e,t,n){var r=e.bounds,o=e.minPagePadding,a=void 0===o?pe.minPagePadding:o,s=e.target,l=i.useState(!1),u=l[0],c=l[1],d=i.useRef(),p=i.useCallback((function(){if(!d.current||u){var e="function"===typeof r?n?r(s,n):void 0:r;!e&&n&&(e=function(e,t){return function(e,t){var n=void 0;if(t.getWindowSegments&&(n=t.getWindowSegments()),void 0===n||n.length<=1)return{top:0,left:0,right:t.innerWidth,bottom:t.innerHeight,width:t.innerWidth,height:t.innerHeight};var r=0,o=0;if(null!==e&&e.getBoundingClientRect){var i=e.getBoundingClientRect();r=(i.left+i.right)/2,o=(i.top+i.bottom)/2}else null!==e&&(r=e.left||e.x,o=e.top||e.y);for(var a={top:0,left:0,right:0,bottom:0,width:0,height:0},s=0,l=n;s<l.length;s++){var u=l[s];r&&u.left<=r&&u.right>=r&&o&&u.top<=o&&u.bottom>=o&&(a={top:u.top,left:u.left,right:u.right,bottom:u.bottom,width:u.width,height:u.height})}return a}(e,t)}(t.current,n),e={top:e.top+a,left:e.left+a,right:e.right-a,bottom:e.bottom-a,width:e.width-2*a,height:e.height-2*a}),d.current=e,u&&c(!1)}return d.current}),[r,a,s,t,n,u]),f=(0,ne.Y)();return(0,re.x)(n,"resize",f.debounce((function(){c(!0)}),500,{leading:!0})),p}(n,W,H),K=he(n,F,N,W,q),G=function(e,t,n){var r,o=e.calloutMaxHeight,a=e.finalHeight,s=e.directionalHint,l=e.directionalHintFixed,u=e.hidden,c=i.useState(),d=c[0],p=c[1],f=null!==(r=null===n||void 0===n?void 0:n.elementPosition)&&void 0!==r?r:{},h=f.top,m=f.bottom;return i.useEffect((function(){var e,n=null!==(e=t())&&void 0!==e?e:{},r=n.top,i=n.bottom;o||u?p(o||void 0):"number"===typeof h&&i?p(i-h):"number"===typeof m&&"number"===typeof r&&i&&p(i-r-m)}),[m,o,a,s,l,t,u,n,h]),d}(n,q,K),Z=function(e,t,n,r,o){var a=e.hidden,s=e.onDismiss,l=e.preventDismissOnScroll,d=e.preventDismissOnResize,p=e.preventDismissOnLostFocus,f=e.dismissOnTargetClick,h=e.shouldDismissOnWindowFocus,m=e.preventDismissOnEvent,g=i.useRef(!1),v=(0,ne.Y)(),y=(0,oe.d)([function(){g.current=!0},function(){g.current=!1}]),b=!!t;return i.useEffect((function(){var e=function(e){b&&!l&&y(e)},t=function(e){d||m&&m(e)||null===s||void 0===s||s(e)},i=function(e){p||y(e)},y=function(e){var t=e.composedPath?e.composedPath():[],i=t.length>0?t[0]:e.target,a=n.current&&!(0,u.s)(n.current,i);if(a&&g.current)g.current=!1;else if(!r.current&&a||e.target!==o&&a&&(!r.current||"stopPropagation"in r.current||f||i!==r.current&&!(0,u.s)(r.current,i))){if(m&&m(e))return;null===s||void 0===s||s(e)}},x=function(e){h&&((!m||m(e))&&(m||p)||(null===o||void 0===o?void 0:o.document.hasFocus())||null!==e.relatedTarget||null===s||void 0===s||s(e))},_=new Promise((function(n){v.setTimeout((function(){if(!a&&o){var r=[(0,c.on)(o,"scroll",e,!0),(0,c.on)(o,"resize",t,!0),(0,c.on)(o.document.documentElement,"focus",i,!0),(0,c.on)(o.document.documentElement,"click",i,!0),(0,c.on)(o,"blur",x,!0)];n((function(){r.forEach((function(e){return e()}))}))}}),0)}));return function(){_.then((function(e){return e()}))}}),[a,v,n,r,o,s,h,f,p,d,l,b,m]),y}(n,K,F,W,H),X=Z[0],Y=Z[1],Q=(null===K||void 0===K?void 0:K.elementPosition.top)&&(null===K||void 0===K?void 0:K.elementPosition.bottom),J=(0,o.Cl)((0,o.Cl)({},null===K||void 0===K?void 0:K.elementPosition),{maxHeight:G});if(Q&&(J.bottom=void 0),function(e,t,n){var r=e.hidden,o=e.setInitialFocus,a=(0,ne.Y)(),s=!!t;i.useEffect((function(){if(!r&&o&&s&&n){var e=a.requestAnimationFrame((function(){return(0,l.vO)(n)}),n);return function(){return a.cancelAnimationFrame(e)}}}),[r,s,a,n,o])}(n,K,N),i.useEffect((function(){M||null===B||void 0===B||B()}),[M]),!H)return null;var ee=T,te=v&&!!L,le=fe(r,{theme:n.theme,className:g,overflowYHidden:ee,calloutWidth:x,positions:K,beakWidth:b,backgroundColor:E,calloutMaxWidth:_,calloutMinWidth:C,doNotLayer:w}),ue=(0,o.Cl)((0,o.Cl)({maxHeight:P||"100%"},a),ee&&{overflowY:"hidden"}),me=n.hidden?{visibility:"hidden"}:void 0;return i.createElement("div",{ref:j,className:le.container,style:me},i.createElement("div",(0,o.Cl)({},(0,p.G1)(n,p.JM,de),{className:(0,f.A)(le.root,K&&K.targetEdge&&se[K.targetEdge]),style:K?(0,o.Cl)({},J):ce,tabIndex:-1,ref:z}),te&&i.createElement("div",{className:le.beak,style:ge(K)}),te&&i.createElement("div",{className:le.beakCurtain}),i.createElement($.z,(0,o.Cl)({role:n.role,"aria-roledescription":n["aria-roledescription"],ariaDescribedBy:h,ariaLabel:s,ariaLabelledBy:m,className:le.calloutMain,onDismiss:n.onDismiss,onMouseDown:X,onMouseUp:Y,onRestoreFocus:n.onRestoreFocus,onScroll:I,shouldRestoreFocus:R,style:ue},O),y)))})),(function(e,t){return!(t.shouldUpdateWhenHidden||!e.hidden||!t.hidden)||(0,h.ab)(e,t)}));function ge(e){var t,n,r=(0,o.Cl)((0,o.Cl)({},null===(t=null===e||void 0===e?void 0:e.beakPosition)||void 0===t?void 0:t.elementPosition),{display:(null===(n=null===e||void 0===e?void 0:e.beakPosition)||void 0===n?void 0:n.hideBeak)?"none":void 0});return r.top||r.bottom||r.left||r.right||(r.left=ue,r.top=le),r}function ve(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=e[n],o=t[n];if(void 0===r||void 0===o)return!1;if(r.toFixed(2)!==o.toFixed(2))return!1}return!0}function ye(e){return{height:e,width:e}}me.displayName="CalloutContentBase";var be={container:"ms-Callout-container",root:"ms-Callout",beak:"ms-Callout-beak",beakCurtain:"ms-Callout-beakCurtain",calloutMain:"ms-Callout-main"},xe=(0,a.I)(me,(function(e){var t,n=e.theme,r=e.className,o=e.overflowYHidden,i=e.calloutWidth,a=e.beakWidth,s=e.backgroundColor,l=e.calloutMaxWidth,u=e.calloutMinWidth,c=e.doNotLayer,d=(0,te.Km)(be,n),p=n.semanticColors,f=n.effects;return{container:[d.container,{position:"relative"}],root:[d.root,n.fonts.medium,{position:"absolute",display:"flex",zIndex:c?te.nA.Layer:void 0,boxSizing:"border-box",borderRadius:f.roundedCorner2,boxShadow:f.elevation16,selectors:(t={},t[te.up]={borderWidth:1,borderStyle:"solid",borderColor:"WindowText"},t)},(0,te.QN)(),r,!!i&&{width:i},!!l&&{maxWidth:l},!!u&&{minWidth:u}],beak:[d.beak,{position:"absolute",backgroundColor:p.menuBackground,boxShadow:"inherit",border:"inherit",boxSizing:"border-box",transform:"rotate(45deg)"},ye(a),s&&{backgroundColor:s}],beakCurtain:[d.beakCurtain,{position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:p.menuBackground,borderRadius:f.roundedCorner2}],calloutMain:[d.calloutMain,{backgroundColor:p.menuBackground,overflowX:"hidden",overflowY:"auto",position:"relative",width:"100%",borderRadius:f.roundedCorner2},o&&{overflowY:"hidden"},s&&{backgroundColor:s}]}}),void 0,{scope:"CalloutContent"}),_e=n(40008),Ce=i.forwardRef((function(e,t){var n=e.layerProps,r=e.doNotLayer,a=(0,o.Tt)(e,["layerProps","doNotLayer"]),s=i.createElement(xe,(0,o.Cl)({},a,{doNotLayer:r,ref:t}));return r?s:i.createElement(_e.W,(0,o.Cl)({},n),s)}));Ce.displayName="Callout"},88741:(e,t,n)=>{"use strict";n.d(t,{UZ:()=>p,Xs:()=>h,_2:()=>d,hJ:()=>m,qY:()=>f});var r=n(75347),o=n(75795),i=n(21925),a=n(46837),s=n(48678),l=n(2171),u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},u.apply(this,arguments)},c=4;function d(e,t,n,r,i,a,c,d){if(-1===n)return e;var p=u({},e),f=r.x,h=r.y,m=(0,l.nM)(n),g=(0,l.nz)(n);if(0===g&&0===m){f=Math.max(t.left+e.width/2,f),f=Math.min(t.left+t.width-e.width/2,f),h=Math.max(t.top+e.height/2,h),h=Math.min(t.top+t.height-e.height/2,h);var v=f-(e.left+e.width/2),y=h-(e.top+e.height/2);p.left+=v,p.top+=y}else f=Math.max(t.left,f),f=Math.min(t.left+t.width,f),h=Math.max(t.top,h),h=Math.min(t.top+t.height,h),f-=e.left,h-=e.top,-1===g?(f=Math.min(f,p.width-a),p.left=f+e.left,p.width=p.width-f):1===g&&(f=Math.max(f,a),p.width=f),-1===m?(h=Math.min(h,p.height-a),p.top=h+e.top,p.height=p.height-h):1===m&&(h=Math.max(h,a),p.height=h),p=d?(0,s.dh)(p,d,n):(0,s.Do)(e,p,t,i,r,-1===g,-1===m,c);var b=(0,o.c4)(p);return(0,o.yo)(b,a)?b:e}function p(e,t,n){if(0===(0,r.YD)(t))return!1;var i=(0,a.o)(e,t,n);return(0,o.pN)(i,o.qs)}function f(e,t,n){var a=(0,o.c4)((0,i.SM)((0,r.ZG)(t,n)));return a.top+a.height>e.top+e.height}function h(e,t){return(3*e+2*c)/t}function m(e,t){return h(e,(0,r.YD)(t))}},88873:(e,t,n)=>{"use strict";n.d(t,{NF:()=>l,Nr:()=>p,VO:()=>s,VQ:()=>d,X4:()=>a,Zc:()=>i,iF:()=>h,io:()=>f,jp:()=>u,km:()=>o,ts:()=>c,w1:()=>m,x8:()=>r});var r="Crop",o="Adjustment",i="Filter",a="Markup",s="Retouch",l="Background",u="FocalPoint",c="Stylizer",d="SuperResolution",p="InPaint",f="Relight",h=r;function m(e){return e===r||e===o||e===i||e===a||e===s||e===l||e===u||e===c||e===d||e===p||e===f}},89078:(e,t,n)=>{"use strict";n.d(t,{NU:()=>m,hJ:()=>f,PB:()=>p,IA:()=>d,l$:()=>h});var r=n(72027),o=n(25522),i=n(21925);function a(e,t){var n={};for(var r in e)-1===t.indexOf(r)&&e.hasOwnProperty(r)&&(n[r]=e[r]);return n}var s=n(53042),l=n(36386),u=n(73050),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)};function d(e,t){"SameImage"===t.payloadScenario?function(e,t){e.image._preciseUvToWorld=t.image._preciseUvToWorld,e.cropInteraction.uvToWorld=t.cropInteraction.uvToWorld,e.cropInteraction._uvToWorldBeforeRotate=t.cropInteraction._uvToWorldBeforeRotate,e.cropInteraction._uvToWorldBeforeZoomToCrop=t.cropInteraction._uvToWorldBeforeZoomToCrop,e.cropInteraction._lastUvToWorldNotSetByAspectRatioChange=t.cropInteraction._lastUvToWorldNotSetByAspectRatioChange,e.cropInteraction.aspectRatio=t.cropInteraction.aspectRatio,e.cropInteraction.shouldInvertOriginalAspectRatio=t.cropInteraction.shouldInvertOriginalAspectRatio,e.cropInteraction.rectTopLeftInImageUv=t.cropInteraction.rectTopLeftInImageUv,e.cropInteraction.rectBottomRightInImageUv=t.cropInteraction.rectBottomRightInImageUv}(e,t):function(e,t){e.image._preciseUvToWorld=t.image._preciseUvToWorld,e.image.exifOrientation=t.image.exifOrientation,e.image.loadedPixelSize=t.image.loadedPixelSize,e.image.originalPixelSize=t.image.originalPixelSize,e.cropInteraction.uvToWorld=t.cropInteraction.uvToWorld,e.cropInteraction._uvToWorldBeforeRotate=t.cropInteraction._uvToWorldBeforeRotate,e.cropInteraction._uvToWorldBeforeZoomToCrop=t.cropInteraction._uvToWorldBeforeZoomToCrop,e.cropInteraction._lastUvToWorldNotSetByAspectRatioChange=t.cropInteraction._lastUvToWorldNotSetByAspectRatioChange,e.cropInteraction.aspectRatio=t.cropInteraction.aspectRatio,e.cropInteraction.shouldInvertOriginalAspectRatio=t.cropInteraction.shouldInvertOriginalAspectRatio,e.cropInteraction.rectTopLeftInImageUv=t.cropInteraction.rectTopLeftInImageUv,e.cropInteraction.rectBottomRightInImageUv=t.cropInteraction.rectBottomRightInImageUv,e.cropInteraction.rectAtStartOfResize=t.cropInteraction.rectAtStartOfResize,e.savedStates=t.savedStates}(e,t)}function p(e){return{image:{_preciseUvToWorld:e.image._preciseUvToWorld},cropInteraction:{uvToWorld:e.cropInteraction.uvToWorld,_uvToWorldBeforeRotate:e.cropInteraction._uvToWorldBeforeRotate,_uvToWorldBeforeZoomToCrop:e.cropInteraction._uvToWorldBeforeZoomToCrop,_lastUvToWorldNotSetByAspectRatioChange:e.cropInteraction._lastUvToWorldNotSetByAspectRatioChange,aspectRatio:e.cropInteraction.aspectRatio,shouldInvertOriginalAspectRatio:e.cropInteraction.shouldInvertOriginalAspectRatio,rectTopLeftInImageUv:e.cropInteraction.rectTopLeftInImageUv,rectBottomRightInImageUv:e.cropInteraction.rectBottomRightInImageUv},rotationUi:{rotationBarPointer:{incrementingIdOfPointerThatIsDown:e.rotationUi.rotationBarPointer.incrementingIdOfPointerThatIsDown}},payloadScenario:"SameImage"}}function f(e){return{image:{_preciseUvToWorld:e.image._preciseUvToWorld,exifOrientation:e.image.exifOrientation,loadedPixelSize:e.image.loadedPixelSize,originalPixelSize:e.image.originalPixelSize},cropInteraction:{uvToWorld:e.cropInteraction.uvToWorld,_uvToWorldBeforeRotate:e.cropInteraction._uvToWorldBeforeRotate,_uvToWorldBeforeZoomToCrop:e.cropInteraction._uvToWorldBeforeZoomToCrop,_lastUvToWorldNotSetByAspectRatioChange:e.cropInteraction._lastUvToWorldNotSetByAspectRatioChange,aspectRatio:e.cropInteraction.aspectRatio,shouldInvertOriginalAspectRatio:e.cropInteraction.shouldInvertOriginalAspectRatio,rectTopLeftInImageUv:e.cropInteraction.rectTopLeftInImageUv,rectBottomRightInImageUv:e.cropInteraction.rectBottomRightInImageUv,rectAtStartOfResize:e.cropInteraction.rectAtStartOfResize},savedStates:e.savedStates,payloadScenario:"ReplaceImage"}}function h(e,t){if(!t)return!1;if(!function(e,t){var n=c({},t),r=c({},p(e));return n.image=a(n.image,["_preciseUvToWorld"]),r.image=a(r.image,["_preciseUvToWorld"]),(0,s.G)(n,r)}(e,t))return!1;var n,l={cropInteraction:{aspectRatio:(n=t).cropInteraction.aspectRatio,uvToWorld:n.cropInteraction.uvToWorld},image:{_preciseUvToWorld:n.image._preciseUvToWorld}},u=function(e){return{imageTransform:(0,o.H)(e.image._preciseUvToWorld),cropRectangle:(0,i.SM)(e.cropInteraction.uvToWorld)}}(e);return!(0,r.k)(u,l)}function m(e,t,n){if(h(e,t)){var r=p(e),o=(0,l.Cy)(n,t,r,u.Z.KeepAll);e.undoRedoStack.undoStack.push(o)}}},89334:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});var r=n(85913),o=n(88741),i=n(75656),a=n(40177),s=(0,r.Mz)([a.Fi,a.PO,i.T],(function(e,t,n){return(0,o.UZ)(e,t,n)}))},89390:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var r=n(37827),o=n(9950),i=n(68246),a=n(43960),s=n(28225),l=function(e){function t(t){var n=e.call(this,t)||this;return(0,i.f)(n),(0,a.A)("PivotItem",t,{linkText:"headerText"}),n}return(0,r.C6)(t,e),t.prototype.render=function(){return o.createElement("div",(0,r.Cl)({},(0,s.G1)(this.props,s.JM)),this.props.children)},t}(o.Component)},90154:(e,t,n)=>{"use strict";function r(e){return e&&!!e._virtual}n.d(t,{q:()=>r})},90245:(e,t,n)=>{"use strict";n.d(t,{u:()=>a,x:()=>s});var r=n(9950),o=n(81927),i=n(22956),a=function(e){var t=e.strings,n=e.locales;return{strings:t,localizeNumber:function(e){return(0,i.$4)(e,n)},localizeNumberDecimalSeparatorOnly:function(e,t){return(0,i.N7)(e,n,t)},delocalizeNumberDecimalSeparatorOnly:function(e){return(0,i.sv)(e,n)},getDecimalSeparator:function(){return(0,i.FI)(n)},isPercentSignLeading:function(){return(0,i.dt)(n)},localizePercentage:function(e,t){return(0,i.MC)(e,n,t)}}},s=(0,r.createContext)(a({strings:o.b,locales:void 0}))},90247:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});var r=n(9950),o=n(87595);function i(){return(0,r.useContext)(o.O).getTexturePatchContentMonitor()}},90276:(e,t,n)=>{"use strict";n.d(t,{h:()=>h});var r=n(69187),o=n(37827),i=n(9950),a=n(56624),s=n(68246),l=n(88529),u=n(28225),c=(0,a.Z)(),d=function(e){function t(t){var n=e.call(this,t)||this;(0,s.f)(n);var r=n.props.allowTouchBodyScroll,o=void 0!==r&&r;return n._allowTouchBodyScroll=o,n}return(0,o.C6)(t,e),t.prototype.componentDidMount=function(){!this._allowTouchBodyScroll&&(0,l.mh)()},t.prototype.componentWillUnmount=function(){!this._allowTouchBodyScroll&&(0,l.fY)()},t.prototype.render=function(){var e=this.props,t=e.isDarkThemed,n=e.className,r=e.theme,a=e.styles,s=(0,u.G1)(this.props,u.JM),l=c(a,{theme:r,className:n,isDark:t});return i.createElement("div",(0,o.Cl)({},s,{className:l.root}))},t}(i.Component),p=n(32e3),f={root:"ms-Overlay",rootDark:"ms-Overlay--dark"},h=(0,r.I)(d,(function(e){var t,n=e.className,r=e.theme,o=e.isNone,i=e.isDark,a=r.palette,s=(0,p.Km)(f,r);return{root:[s.root,r.fonts.medium,{backgroundColor:a.whiteTranslucent40,top:0,right:0,bottom:0,left:0,position:"absolute",selectors:(t={},t[p.up]={border:"1px solid WindowText",opacity:0},t)},o&&{visibility:"hidden"},i&&[s.rootDark,{backgroundColor:a.blackTranslucent40}],n]}}),void 0,{scope:"Overlay"})},90839:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var r=n(35361),o=n(14586),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e){var t=(0,o.t)(e);return i(i({},(0,r.I)(t)),{normalMap:!1})}},91594:(e,t,n)=>{"use strict";function r(e){return"string"===typeof e}n.d(t,{b:()=>r})},91629:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9950),o=n(6246),i=(0,r.createContext)({image:(0,o.$o)(),isExpectingThumbnailThenFullImage:!1,setImage:function(e){},setImageLayer:function(){},offscreenRenderer:null,setOffscreenRenderer:function(){}})},91949:(e,t,n)=>{"use strict";n.d(t,{FA:()=>Yr});var r={};n.r(r),n.d(r,{aboveNameplate:()=>_r,activity:()=>Sr,background:()=>br,backgroundHide:()=>xr,check:()=>gr,content:()=>Cr,description:()=>dr,disabled:()=>Br,foreground:()=>fr,foregroundHide:()=>hr,hasBackground:()=>Rr,hasBackgroundFrame:()=>lr,hasForegroundFrame:()=>mr,invokable:()=>ur,isFluentStyling:()=>ar,isLarge:()=>Ir,isSmall:()=>Ar,label:()=>cr,lifecycleSignal:()=>Pr,link:()=>pr,name:()=>sr,nameplate:()=>wr,onlyOnHover:()=>Lr,selectable:()=>or,selected:()=>ir,showBackground:()=>Mr,showCheck:()=>yr,signal:()=>kr,socialSignal:()=>Er,storageSignal:()=>Tr,tile:()=>rr,uninvokable:()=>vr});var o={};n.r(o),n.d(o,{dark:()=>Fr,selected:()=>Dr,signal:()=>Or});var i={};n.r(i),n.d(i,{check:()=>zr,checkHost:()=>jr,circle:()=>Vr,root:()=>Nr,rootIsChecked:()=>Ur});var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},a(e,t)};var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};var l=n(9950);var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},u.apply(this,arguments)};var c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)};function d(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e&&1===e.length&&e[0]&&!e[0].subComponentStyles)return e[0];for(var n={},r={},o=0,i=e;o<i.length;o++){var a=i[o];if(a)for(var s in a)if(a.hasOwnProperty(s)){if("subComponentStyles"===s&&void 0!==a.subComponentStyles){var l=a.subComponentStyles;for(var u in l)l.hasOwnProperty(u)&&(r.hasOwnProperty(u)?r[u].push(l[u]):r[u]=[l[u]]);continue}var c=n[s],f=a[s];n[s]=void 0===c?f:d(Array.isArray(c)?c:[c],Array.isArray(f)?f:[f])}}if(Object.keys(r).length>0){n.subComponentStyles={};var h=n.subComponentStyles,m=function(e){if(r.hasOwnProperty(e)){var t=r[e];h[e]=function(e){return p.apply(void 0,t.map((function(t){return"function"===typeof t?t(e):t})))}}};for(var u in r)m(u)}return n}var f=!1;var h=void 0;try{h=window}catch(Jr){}function m(e){if(!f&&"undefined"!==typeof h){var t=e;return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:h}}var g="__globalSettings__",v="__callbacks__",y=0,b=function(){function e(){}return e.getValue=function(e,t){var n=x();return void 0===n[e]&&(n[e]="function"===typeof t?t():t),n[e]},e.setValue=function(e,t){var n=x(),r=n[v],o=n[e];if(t!==o){n[e]=t;var i={oldValue:o,value:t,key:e};for(var a in r)r.hasOwnProperty(a)&&r[a](i)}return t},e.addChangeListener=function(e){var t=e.__id__,n=_();t||(t=e.__id__=String(y++)),n[t]=e},e.removeChangeListener=function(e){delete _()[e.__id__]},e}();function x(){var e,t=m()||{};return t[g]||(t[g]=((e={})[v]={},e)),t[g]}function _(){return x()[v]}var C={settings:{},scopedSettings:{},inCustomizerContext:!1},w=b.getValue("customizations",{settings:{},scopedSettings:{},inCustomizerContext:!1}),S=[],k=function(){function e(){}return e.reset=function(){w.settings={},w.scopedSettings={}},e.applySettings=function(t){w.settings=u(u({},w.settings),t),e._raiseChange()},e.applyScopedSettings=function(t,n){w.scopedSettings[t]=u(u({},w.scopedSettings[t]),n),e._raiseChange()},e.getSettings=function(e,t,n){void 0===n&&(n=C);for(var r={},o=t&&n.scopedSettings[t]||{},i=t&&w.scopedSettings[t]||{},a=0,s=e;a<s.length;a++){var l=s[a];r[l]=o[l]||n.settings[l]||i[l]||w.settings[l]}return r},e.applyBatchedUpdates=function(t,n){e._suppressUpdates=!0;try{t()}catch(Q){}e._suppressUpdates=!1,n||e._raiseChange()},e.observe=function(e){S.push(e)},e.unobserve=function(e){S=S.filter((function(t){return t!==e}))},e._raiseChange=function(){e._suppressUpdates||S.forEach((function(e){return e()}))},e}(),T=l.createContext({customizations:{inCustomizerContext:!1,settings:{},scopedSettings:{}}});function E(e,t){var n=function(){var e=l.useState(0),t=e[1];return function(){return t((function(e){return++e}))}}(),r=l.useContext(T).customizations,o=r.inCustomizerContext;return l.useEffect((function(){return o||k.observe(n),function(){o||k.unobserve(n)}}),[o]),k.getSettings(e,t,r)}var P=["theme","styles"];function I(e,t,n,r,o){var i=(r=r||{scope:"",fields:void 0}).scope,a=r.fields,s=void 0===a?P:a,c=l.forwardRef((function(r,o){var a=l.useRef(),c=E(s,i),d=c.styles,f=(c.dir,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(c,["styles","dir"])),h=n?n(r):void 0,m=a.current&&a.current.__cachedInputs__||[];if(!a.current||d!==m[1]||r.styles!==m[2]){var g=function(e){return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=[],o=0,i=t;o<i.length;o++){var a=i[o];a&&r.push("function"===typeof a?a(e):a)}return 1===r.length?r[0]:r.length?p.apply(void 0,r):{}}(e,t,d,r.styles)};g.__cachedInputs__=[t,d,r.styles],g.__noStyleOverride__=!d&&!r.styles,a.current=g}return l.createElement(e,u({ref:o},f,h,r,{styles:a.current}))}));c.displayName="Styled"+(e.displayName||e.name);var d=o?l.memo(c):c;return c.displayName&&(d.displayName=c.displayName),d}var A=function(e,t){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},A(e,t)};function R(e,t){function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var L=function(){return L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},L.apply(this,arguments)};var M,B=0,O=1,F=2,D="__stylesheet__",N="undefined"!==typeof navigator&&/rv:11.0/.test(navigator.userAgent),U={};try{U=window}catch(Q){}var z,j=function(){function e(e){this._rules=[],this._preservedRules=[],this._rulesToInsert=[],this._counter=0,this._keyToClassName={},this._onResetCallbacks=[],this._classNameToArgs={},this._config=c({injectionMode:O,defaultPrefix:"css",namespace:void 0,cspSettings:void 0},e),this._keyToClassName=this._config.classNameCache||{}}return e.getInstance=function(){var t;if(!(M=U[D])||M._lastStyleElement&&M._lastStyleElement.ownerDocument!==document){var n=(null===(t=U)||void 0===t?void 0:t.FabricConfig)||{};M=U[D]=new e(n.mergeStyles)}return M},e.prototype.setConfig=function(e){this._config=c(c({},this._config),e)},e.prototype.onReset=function(e){this._onResetCallbacks.push(e)},e.prototype.getClassName=function(e){var t=this._config.namespace;return(t?t+"-":"")+(e||this._config.defaultPrefix)+"-"+this._counter++},e.prototype.cacheClassName=function(e,t,n,r){this._keyToClassName[t]=e,this._classNameToArgs[e]={args:n,rules:r}},e.prototype.classNameFromKey=function(e){return this._keyToClassName[e]},e.prototype.getClassNameCache=function(){return this._keyToClassName},e.prototype.argsFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.args},e.prototype.insertedRulesFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.rules},e.prototype.insertRule=function(e,t){var n=this._config.injectionMode!==B?this._getStyleElement():void 0;if(t&&this._preservedRules.push(e),n)switch(this._config.injectionMode){case O:var r=n.sheet;try{r.insertRule(e,r.cssRules.length)}catch(Jr){}break;case F:n.appendChild(document.createTextNode(e))}else this._rules.push(e);this._config.onInsertRule&&this._config.onInsertRule(e)},e.prototype.getRules=function(e){return(e?this._preservedRules.join(""):"")+this._rules.join("")+this._rulesToInsert.join("")},e.prototype.reset=function(){this._rules=[],this._rulesToInsert=[],this._counter=0,this._classNameToArgs={},this._keyToClassName={},this._onResetCallbacks.forEach((function(e){return e()}))},e.prototype.resetKeys=function(){this._keyToClassName={}},e.prototype._getStyleElement=function(){var e=this;return this._styleElement||"undefined"===typeof document||(this._styleElement=this._createStyleElement(),N||window.requestAnimationFrame((function(){e._styleElement=void 0}))),this._styleElement},e.prototype._createStyleElement=function(){var e=document.head,t=document.createElement("style"),n=null;t.setAttribute("data-merge-styles","true");var r=this._config.cspSettings;if(r&&r.nonce&&t.setAttribute("nonce",r.nonce),this._lastStyleElement)n=this._lastStyleElement.nextElementSibling;else{var o=this._findPlaceholderStyleTag();n=o?o.nextElementSibling:e.childNodes[0]}return e.insertBefore(t,e.contains(n)?n:null),this._lastStyleElement=t,t},e.prototype._findPlaceholderStyleTag=function(){var e=document.head;return e?e.querySelector("style[data-merge-styles]"):null},e}();function V(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[],r=[],o=j.getInstance();return function e(t){for(var i=0,a=t;i<a.length;i++){var s=a[i];if(s)if("string"===typeof s)if(s.indexOf(" ")>=0)e(s.split(" "));else{var l=o.argsFromClassName(s);l?e(l):-1===n.indexOf(s)&&n.push(s)}else Array.isArray(s)?e(s):"object"===typeof s&&r.push(s)}}(e),{classes:n,objects:r}}function W(e){z!==e&&(z=e)}function H(){return void 0===z&&(z="undefined"!==typeof document&&!!document.documentElement&&"rtl"===document.documentElement.getAttribute("dir")),z}function q(){return{rtl:H()}}z=H();var K,G={};function Z(e,t){var n=e[t];"-"!==n.charAt(0)&&(e[t]=G[n]=G[n]||n.replace(/([A-Z])/g,"-$1").toLowerCase())}var X={"user-select":1};function Y(e,t){var n=function(){var e,t;if(!K){var n="undefined"!==typeof document?document:void 0,r="undefined"!==typeof navigator?navigator:void 0,o=null===(t=null===(e=r)||void 0===e?void 0:e.userAgent)||void 0===t?void 0:t.toLowerCase();K=n?{isWebkit:!(!n||!("WebkitAppearance"in n.documentElement.style)),isMoz:!!(o&&o.indexOf("firefox")>-1),isOpera:!!(o&&o.indexOf("opera")>-1),isMs:!(!r||!/rv:11.0/i.test(r.userAgent)&&!/Edge\/\d./i.test(navigator.userAgent))}:{isWebkit:!0,isMoz:!0,isOpera:!0,isMs:!0}}return K}(),r=e[t];if(X[r]){var o=e[t+1];X[r]&&(n.isWebkit&&e.push("-webkit-"+r,o),n.isMoz&&e.push("-moz-"+r,o),n.isMs&&e.push("-ms-"+r,o),n.isOpera&&e.push("-o-"+r,o))}}var Q,J=["column-count","font-weight","flex","flex-grow","flex-shrink","fill-opacity","opacity","order","z-index","zoom"];function $(e,t){var n=e[t],r=e[t+1];if("number"===typeof r){var o=J.indexOf(n)>-1,i=n.indexOf("--")>-1,a=o||i?"":"px";e[t+1]=""+r+a}}var ee="left",te="right",ne=((Q={})[ee]=te,Q[te]=ee,Q),re={"w-resize":"e-resize","sw-resize":"se-resize","nw-resize":"ne-resize"};function oe(e,t,n){if(e.rtl){var r=t[n];if(!r)return;var o=t[n+1];if("string"===typeof o&&o.indexOf("@noflip")>=0)t[n+1]=o.replace(/\s*(?:\/\*\s*)?\@noflip\b(?:\s*\*\/)?\s*?/g,"");else if(r.indexOf(ee)>=0)t[n]=r.replace(ee,te);else if(r.indexOf(te)>=0)t[n]=r.replace(te,ee);else if(String(o).indexOf(ee)>=0)t[n+1]=o.replace(ee,te);else if(String(o).indexOf(te)>=0)t[n+1]=o.replace(te,ee);else if(ne[r])t[n]=ne[r];else if(re[o])t[n+1]=re[o];else switch(r){case"margin":case"padding":t[n+1]=function(e){if("string"===typeof e){var t=e.split(" ");if(4===t.length)return t[0]+" "+t[3]+" "+t[2]+" "+t[1]}return e}(o);break;case"box-shadow":t[n+1]=function(e,t){var n=e.split(" "),r=parseInt(n[t],10);return n[0]=n[0].replace(String(r),String(-1*r)),n.join(" ")}(o,0)}}}var ie=/\:global\((.+?)\)/g;function ae(e,t){return e.indexOf(":global(")>=0?e.replace(ie,"$1"):0===e.indexOf(":")?t+e:e.indexOf("&")<0?t+" "+e:e}function se(e,t,n,r){void 0===t&&(t={__order:[]}),0===n.indexOf("@")?le([r],t,n=n+"{"+e):n.indexOf(",")>-1?function(e){if(!ie.test(e))return e;for(var t=[],n=/\:global\((.+?)\)/g,r=null;r=n.exec(e);)r[1].indexOf(",")>-1&&t.push([r.index,r.index+r[0].length,r[1].split(",").map((function(e){return":global("+e.trim()+")"})).join(", ")]);return t.reverse().reduce((function(e,t){var n=t[0],r=t[1],o=t[2];return e.slice(0,n)+o+e.slice(r)}),e)}(n).split(",").map((function(e){return e.trim()})).forEach((function(n){return le([r],t,ae(n,e))})):le([r],t,ae(n,e))}function le(e,t,n){void 0===t&&(t={__order:[]}),void 0===n&&(n="&");var r=j.getInstance(),o=t[n];o||(o={},t[n]=o,t.__order.push(n));for(var i=0,a=e;i<a.length;i++){var s=a[i];if("string"===typeof s){var l=r.argsFromClassName(s);l&&le(l,t,n)}else if(Array.isArray(s))le(s,t,n);else for(var u in s)if(s.hasOwnProperty(u)){var c=s[u];if("selectors"===u){var d=s.selectors;for(var p in d)d.hasOwnProperty(p)&&se(n,t,p,d[p])}else"object"===typeof c?null!==c&&se(n,t,u,c):void 0!==c&&("margin"===u||"padding"===u?ue(o,u,c):o[u]=c)}}return t}function ue(e,t,n){var r="string"===typeof n?n.split(" "):[n];e[t+"Top"]=r[0],e[t+"Right"]=r[1]||r[0],e[t+"Bottom"]=r[2]||r[0],e[t+"Left"]=r[3]||r[1]||r[0]}function ce(e,t){return t<=0?"":1===t?e:e+ce(e,t-1)}function de(e,t){if(!t)return"";var n=[];for(var r in t)t.hasOwnProperty(r)&&"displayName"!==r&&void 0!==t[r]&&n.push(r,t[r]);for(var o=0;o<n.length;o+=2)Z(n,o),$(n,o),oe(e,n,o),Y(n,o);for(o=1;o<n.length;o+=4)n.splice(o,1,":",n[o],";");return n.join("")}function pe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=le(t),o=function(e,t){for(var n=[e.rtl?"rtl":"ltr"],r=!1,o=0,i=t.__order;o<i.length;o++){var a=i[o];n.push(a);var s=t[a];for(var l in s)s.hasOwnProperty(l)&&void 0!==s[l]&&(r=!0,n.push(l,s[l]))}return r?n.join(""):void 0}(e,r);if(o){var i=j.getInstance(),a={className:i.classNameFromKey(o),key:o,args:t};if(!a.className){a.className=i.getClassName(function(e){var t=e&&e["&"];return t?t.displayName:void 0}(r));for(var s=[],l=0,u=r.__order;l<u.length;l++){var c=u[l];s.push(c,de(e,r[c]))}a.rulesToInsert=s}return a}}function fe(e,t){void 0===t&&(t=1);var n=j.getInstance(),r=e.className,o=e.key,i=e.args,a=e.rulesToInsert;if(a){for(var s=0;s<a.length;s+=2){var l=a[s+1];if(l){var u=a[s],c=(u=u.replace(/&/g,ce("."+e.className,t)))+"{"+l+"}"+(0===u.indexOf("@")?"}":"");n.insertRule(c)}}n.cacheClassName(r,o,i,a)}}function he(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e,t){var n=e instanceof Array?e:[e],r=V(n),o=r.classes,i=r.objects;i.length&&o.push(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=pe.apply(void 0,d([e],t));return r?(fe(r,e.specificityMultiplier),r.className):""}(t||{},i));return o.join(" ")}(e,q())}function me(e){var t=j.getInstance(),n=t.getClassName(),r=[];for(var o in e)e.hasOwnProperty(o)&&r.push(o,"{",de(q(),e[o]),"}");var i=r.join("");return t.insertRule("@keyframes "+n+"{"+i+"}",!0),t.cacheClassName(n,i,[],["keyframes",i]),n}var ge="cubic-bezier(.1,.9,.2,1)",ve="cubic-bezier(.1,.25,.75,.9)",ye="0.167s",be="0.267s",xe="0.367s",_e="0.467s",Ce=me({from:{opacity:0},to:{opacity:1}}),we=me({from:{opacity:1},to:{opacity:0,visibility:"hidden"}}),Se=tt(-10),ke=tt(-20),Te=tt(-40),Ee=tt(-400),Pe=tt(10),Ie=tt(20),Ae=tt(40),Re=tt(400),Le=nt(10),Me=nt(20),Be=nt(-10),Oe=nt(-20),Fe=rt(10),De=rt(20),Ne=rt(40),Ue=rt(400),ze=rt(-10),je=rt(-20),Ve=rt(-40),We=rt(-400),He=ot(-10),qe=ot(-20),Ke=ot(10),Ge=ot(20),Ze=me({from:{transform:"scale3d(.98,.98,1)"},to:{transform:"scale3d(1,1,1)"}}),Xe=me({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(.98,.98,1)"}}),Ye=me({from:{transform:"scale3d(1.03,1.03,1)"},to:{transform:"scale3d(1,1,1)"}}),Qe=me({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(1.03,1.03,1)"}}),Je=me({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(90deg)"}}),$e=me({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(-90deg)"}});function et(e,t,n){return{animationName:e,animationDuration:t,animationTimingFunction:n,animationFillMode:"both"}}function tt(e){return me({from:{transform:"translate3d("+e+"px,0,0)",pointerEvents:"none"},to:{transform:"translate3d(0,0,0)",pointerEvents:"auto"}})}function nt(e){return me({from:{transform:"translate3d(0,"+e+"px,0)",pointerEvents:"none"},to:{transform:"translate3d(0,0,0)",pointerEvents:"auto"}})}function rt(e){return me({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d("+e+"px,0,0)"}})}function ot(e){return me({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(0,"+e+"px,0)"}})}var it,at,st,lt,ut,ct=function(e){var t={},n=function(n){var r;e.hasOwnProperty(n)&&Object.defineProperty(t,n,{get:function(){return void 0===r&&(r=he(e[n]).toString()),r},enumerable:!0,configurable:!0})};for(var r in e)n(r);return t}({slideRightIn10:et(Ce+","+Se,xe,ge),slideRightIn20:et(Ce+","+ke,xe,ge),slideRightIn40:et(Ce+","+Te,xe,ge),slideRightIn400:et(Ce+","+Ee,xe,ge),slideLeftIn10:et(Ce+","+Pe,xe,ge),slideLeftIn20:et(Ce+","+Ie,xe,ge),slideLeftIn40:et(Ce+","+Ae,xe,ge),slideLeftIn400:et(Ce+","+Re,xe,ge),slideUpIn10:et(Ce+","+Le,xe,ge),slideUpIn20:et(Ce+","+Me,xe,ge),slideDownIn10:et(Ce+","+Be,xe,ge),slideDownIn20:et(Ce+","+Oe,xe,ge),slideRightOut10:et(we+","+Fe,xe,ge),slideRightOut20:et(we+","+De,xe,ge),slideRightOut40:et(we+","+Ne,xe,ge),slideRightOut400:et(we+","+Ue,xe,ge),slideLeftOut10:et(we+","+ze,xe,ge),slideLeftOut20:et(we+","+je,xe,ge),slideLeftOut40:et(we+","+Ve,xe,ge),slideLeftOut400:et(we+","+We,xe,ge),slideUpOut10:et(we+","+He,xe,ge),slideUpOut20:et(we+","+qe,xe,ge),slideDownOut10:et(we+","+Ke,xe,ge),slideDownOut20:et(we+","+Ge,xe,ge),scaleUpIn100:et(Ce+","+Ze,xe,ge),scaleDownIn100:et(Ce+","+Ye,xe,ge),scaleUpOut103:et(we+","+Qe,ye,ve),scaleDownOut98:et(we+","+Xe,ye,ve),fadeIn100:et(Ce,ye,ve),fadeIn200:et(Ce,be,ve),fadeIn400:et(Ce,xe,ve),fadeIn500:et(Ce,_e,ve),fadeOut100:et(we,ye,ve),fadeOut200:et(we,be,ve),fadeOut400:et(we,xe,ve),fadeOut500:et(we,_e,ve),rotate90deg:et(Je,"0.1s",ve),rotateN90deg:et($e,"0.1s",ve)});!function(e){e.Arabic="Segoe UI Web (Arabic)",e.Cyrillic="Segoe UI Web (Cyrillic)",e.EastEuropean="Segoe UI Web (East European)",e.Greek="Segoe UI Web (Greek)",e.Hebrew="Segoe UI Web (Hebrew)",e.Thai="Leelawadee UI Web",e.Vietnamese="Segoe UI Web (Vietnamese)",e.WestEuropean="Segoe UI Web (West European)",e.Selawik="Selawik Web",e.Armenian="Segoe UI Web (Armenian)",e.Georgian="Segoe UI Web (Georgian)"}(it||(it={})),function(e){e.Arabic="'"+it.Arabic+"'",e.ChineseSimplified="'Microsoft Yahei UI', Verdana, Simsun",e.ChineseTraditional="'Microsoft Jhenghei UI', Pmingliu",e.Cyrillic="'"+it.Cyrillic+"'",e.EastEuropean="'"+it.EastEuropean+"'",e.Greek="'"+it.Greek+"'",e.Hebrew="'"+it.Hebrew+"'",e.Hindi="'Nirmala UI'",e.Japanese="'Yu Gothic UI', 'Meiryo UI', Meiryo, 'MS Pgothic', Osaka",e.Korean="'Malgun Gothic', Gulim",e.Selawik="'"+it.Selawik+"'",e.Thai="'Leelawadee UI Web', 'Kmer UI'",e.Vietnamese="'"+it.Vietnamese+"'",e.WestEuropean="'"+it.WestEuropean+"'",e.Armenian="'"+it.Armenian+"'",e.Georgian="'"+it.Georgian+"'"}(at||(at={})),function(e){e.size10="10px",e.size12="12px",e.size14="14px",e.size16="16px",e.size18="18px",e.size20="20px",e.size24="24px",e.size28="28px",e.size32="32px",e.size42="42px",e.size68="68px",e.mini="10px",e.xSmall="10px",e.small="12px",e.smallPlus="12px",e.medium="14px",e.mediumPlus="16px",e.icon="16px",e.large="18px",e.xLarge="20px",e.xLargePlus="24px",e.xxLarge="28px",e.xxLargePlus="32px",e.superLarge="42px",e.mega="68px"}(st||(st={})),function(e){e.light=100,e.semilight=300,e.regular=400,e.semibold=600,e.bold=700}(lt||(lt={})),function(e){e.xSmall="10px",e.small="12px",e.medium="16px",e.large="20px"}(ut||(ut={}));var dt=!1,pt=0,ft={empty:!0},ht={},mt="undefined"===typeof WeakMap?null:WeakMap;function gt(){pt++}function vt(e,t,n){if(void 0===t&&(t=100),void 0===n&&(n=!1),!mt)return e;if(!dt){var r=j.getInstance();r&&r.onReset&&j.getInstance().onReset(gt),dt=!0}var o,i=0,a=pt;return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var l=o;(void 0===o||a!==pt||t>0&&i>t)&&(o=bt(),i=0,a=pt),l=o;for(var u=0;u<r.length;u++){var c=yt(r[u]);l.map.has(c)||l.map.set(c,bt()),l=l.map.get(c)}return l.hasOwnProperty("value")||(l.value=e.apply(void 0,r),i++),!n||null!==l.value&&void 0!==l.value||(l.value=e.apply(void 0,r)),l.value}}function yt(e){return e?"object"===typeof e||"function"===typeof e?e:(ht[e]||(ht[e]={val:e}),ht[e]):ft}function bt(){return{map:mt?new mt:null}}var xt=vt((function(e,t){var n=j.getInstance();return t?Object.keys(e).reduce((function(t,r){return t[r]=n.getClassName(e[r]),t}),{}):e}));function _t(e,t,n){return xt(e,void 0!==n?n:t.disableGlobalClassNames)}var Ct="@media screen and (-ms-high-contrast: active), screen and (forced-colors: active)";function wt(e){j.getInstance().insertRule("@font-face{"+de(q(),e)+"}",!0)}var St=b.getValue("icons",{__options:{disableWarnings:!1,warnOnMissingIcons:!0},__remapped:{}}),kt=j.getInstance();kt&&kt.onReset&&kt.onReset((function(){for(var e in St)St.hasOwnProperty(e)&&St[e].subset&&(St[e].subset.className=void 0)}));var Tt=function(e){return e.toLowerCase()};function Et(e){var t,n=void 0,r=St.__options;if(e=e?Tt(e):"",e=St.__remapped[e]||e)if(n=St[e]){var o=n.subset;o&&o.fontFace&&(o.isRegistered||(wt(o.fontFace),o.isRegistered=!0),o.className||(o.className=he(o.style,{fontFamily:o.fontFace.fontFamily,fontWeight:o.fontFace.fontWeight||"normal",fontStyle:o.fontFace.fontStyle||"normal"})))}else!r.disableWarnings&&r.warnOnMissingIcons&&(t='The icon "'+e+'" was used but not registered. See https://github.com/microsoft/fluentui/wiki/Using-icons for more information.',console&&console.warn&&console.warn(t));return n}function Pt(e,t){var n,r,o={subComponentStyles:{}};if(!e[0]&&e.length<=1)return{subComponentStyles:{}};var i=p.apply(void 0,e),a=[];for(var s in i)if(i.hasOwnProperty(s)){if("subComponentStyles"===s){o.subComponentStyles=i.subComponentStyles||{};continue}var l=V(i[s]),u=l.classes,c=l.objects;if(null===(n=c)||void 0===n?void 0:n.length)(h=pe(t||{},{displayName:s},c))&&(a.push(h),o[s]=u.concat([h.className]).join(" "));else o[s]=u.join(" ")}for(var d=0,f=a;d<f.length;d++){var h;(h=f[d])&&fe(h,null===(r=t)||void 0===r?void 0:r.specificityMultiplier)}return o}var It={},At=void 0;try{At=window}catch(Jr){}function Rt(e,t){if("undefined"!==typeof At){var n=At.__packages__=At.__packages__||{};if(!n[e]||!It[e])It[e]=t,(n[e]=n[e]||[]).push(t)}}Rt("@uifabric/set-version","6.0.0"),Rt("@uifabric/styling","7.25.0");var Lt=function(){return Lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Lt.apply(this,arguments)};var Mt,Bt=n(97150),Ot={themeDarker:"#004578",themeDark:"#005a9e",themeDarkAlt:"#106ebe",themePrimary:"#0078d4",themeSecondary:"#2b88d8",themeTertiary:"#71afe5",themeLight:"#c7e0f4",themeLighter:"#deecf9",themeLighterAlt:"#eff6fc",black:"#000000",blackTranslucent40:"rgba(0,0,0,.4)",neutralDark:"#201f1e",neutralPrimary:"#323130",neutralPrimaryAlt:"#3b3a39",neutralSecondary:"#605e5c",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#a19f9d",neutralTertiaryAlt:"#c8c6c4",neutralQuaternary:"#d2d0ce",neutralQuaternaryAlt:"#e1dfdd",neutralLight:"#edebe9",neutralLighter:"#f3f2f1",neutralLighterAlt:"#faf9f8",accent:"#0078d4",white:"#ffffff",whiteTranslucent40:"rgba(255,255,255,.4)",yellowDark:"#d29200",yellow:"#ffb900",yellowLight:"#fff100",orange:"#d83b01",orangeLight:"#ea4300",orangeLighter:"#ff8c00",redDark:"#a4262c",red:"#e81123",magentaDark:"#5c005c",magenta:"#b4009e",magentaLight:"#e3008c",purpleDark:"#32145a",purple:"#5c2d91",purpleLight:"#b4a0ff",blueDark:"#002050",blueMid:"#00188f",blue:"#0078d4",blueLight:"#00bcf2",tealDark:"#004b50",teal:"#008272",tealLight:"#00b294",greenDark:"#004b1c",green:"#107c10",greenLight:"#bad80a"};!function(e){e.depth0="0 0 0 0 transparent",e.depth4="0 1.6px 3.6px 0 rgba(0, 0, 0, 0.132), 0 0.3px 0.9px 0 rgba(0, 0, 0, 0.108)",e.depth8="0 3.2px 7.2px 0 rgba(0, 0, 0, 0.132), 0 0.6px 1.8px 0 rgba(0, 0, 0, 0.108)",e.depth16="0 6.4px 14.4px 0 rgba(0, 0, 0, 0.132), 0 1.2px 3.6px 0 rgba(0, 0, 0, 0.108)",e.depth64="0 25.6px 57.6px 0 rgba(0, 0, 0, 0.22), 0 4.8px 14.4px 0 rgba(0, 0, 0, 0.18)"}(Mt||(Mt={}));var Ft,Dt={elevation4:Mt.depth4,elevation8:Mt.depth8,elevation16:Mt.depth16,elevation64:Mt.depth64,roundedCorner2:"2px",roundedCorner4:"4px",roundedCorner6:"6px"},Nt="'Segoe UI', '"+it.WestEuropean+"'",Ut={ar:at.Arabic,bg:at.Cyrillic,cs:at.EastEuropean,el:at.Greek,et:at.EastEuropean,he:at.Hebrew,hi:at.Hindi,hr:at.EastEuropean,hu:at.EastEuropean,ja:at.Japanese,kk:at.EastEuropean,ko:at.Korean,lt:at.EastEuropean,lv:at.EastEuropean,pl:at.EastEuropean,ru:at.Cyrillic,sk:at.EastEuropean,"sr-latn":at.EastEuropean,th:at.Thai,tr:at.EastEuropean,uk:at.Cyrillic,vi:at.Vietnamese,"zh-hans":at.ChineseSimplified,"zh-hant":at.ChineseTraditional,hy:at.Armenian,ka:at.Georgian};function zt(e,t,n){return{fontFamily:n,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontSize:e,fontWeight:t}}function jt(e){if(!f&&"undefined"!==typeof document){var t=e;return t&&t.ownerDocument?t.ownerDocument:document}}function Vt(e){var t=null;try{var n=m();t=n?n.sessionStorage.getItem(e):null}catch(Jr){}return t}var Wt="language";var Ht=function(e){var t=function(e){for(var t in Ut)if(Ut.hasOwnProperty(t)&&e&&0===t.indexOf(e))return Ut[t];return Nt}(e)+", 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', sans-serif";return{tiny:zt(st.mini,lt.regular,t),xSmall:zt(st.xSmall,lt.regular,t),small:zt(st.small,lt.regular,t),smallPlus:zt(st.smallPlus,lt.regular,t),medium:zt(st.medium,lt.regular,t),mediumPlus:zt(st.mediumPlus,lt.regular,t),large:zt(st.large,lt.regular,t),xLarge:zt(st.xLarge,lt.semibold,t),xLargePlus:zt(st.xLargePlus,lt.semibold,t),xxLarge:zt(st.xxLarge,lt.semibold,t),xxLargePlus:zt(st.xxLargePlus,lt.semibold,t),superLarge:zt(st.superLarge,lt.semibold,t),mega:zt(st.mega,lt.semibold,t)}}(function(e){if(void 0===e&&(e="localStorage"),void 0===Ft){var t=jt(),n="localStorage"===e?function(e){var t=null;try{var n=m();t=n?n.localStorage.getItem(e):null}catch(Jr){}return t}(Wt):"sessionStorage"===e?Vt(Wt):void 0;n&&(Ft=n),void 0===Ft&&t&&(Ft=t.documentElement.getAttribute("lang")),void 0===Ft&&(Ft="en")}return Ft}("sessionStorage"));function qt(e,t,n,r){wt({fontFamily:e="'"+e+"'",src:(void 0!==r?"local('"+r+"'),":"")+"url('"+t+".woff2') format('woff2'),url('"+t+".woff') format('woff')",fontWeight:n,fontStyle:"normal",fontDisplay:"swap"})}function Kt(e,t,n,r,o){void 0===r&&(r="segoeui");var i=e+"/"+n+"/"+r;qt(t,i+"-light",lt.light,o&&o+" Light"),qt(t,i+"-semilight",lt.semilight,o&&o+" SemiLight"),qt(t,i+"-regular",lt.regular,o),qt(t,i+"-semibold",lt.semibold,o&&o+" SemiBold"),qt(t,i+"-bold",lt.bold,o&&o+" Bold")}function Gt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){Zt(e||{},o[r])}return e}function Zt(e,t,n){for(var r in void 0===n&&(n=[]),n.push(t),t)if(t.hasOwnProperty(r)&&"__proto__"!==r&&"constructor"!==r&&"prototype"!==r){var o=t[r];if("object"!==typeof o||null===o||Array.isArray(o))e[r]=o;else{var i=n.indexOf(o)>-1;e[r]=i?o:Zt(e[r]||{},o,n)}}return n.pop(),e}function Xt(e,t,n,r,o){return void 0===o&&(o=!1),function(e,t){var n="";!0===t&&(n=" /* @deprecated */");return e.listTextColor=e.listText+n,e.menuItemBackgroundChecked+=n,e.warningHighlight+=n,e.warningText=e.messageText+n,e.successText+=n,e}(Yt(e,t,Lt({primaryButtonBorder:"transparent",errorText:r?"#F1707B":"#a4262c",messageText:r?"#F3F2F1":"#323130",messageLink:r?"#6CB8F6":"#005A9E",messageLinkHovered:r?"#82C7FF":"#004578",infoIcon:r?"#C8C6C4":"#605e5c",errorIcon:r?"#F1707B":"#A80000",blockingIcon:r?"#442726":"#FDE7E9",warningIcon:r?"#C8C6C4":"#797775",severeWarningIcon:r?"#FCE100":"#D83B01",successIcon:r?"#92C353":"#107C10",infoBackground:r?"#323130":"#f3f2f1",errorBackground:r?"#442726":"#FDE7E9",blockingBackground:r?"#442726":"#FDE7E9",warningBackground:r?"#433519":"#FFF4CE",severeWarningBackground:r?"#4F2A0F":"#FED9CC",successBackground:r?"#393D1B":"#DFF6DD",warningHighlight:r?"#fff100":"#ffb900",successText:r?"#92c353":"#107C10"},n),r),o)}function Yt(e,t,n,r,o){var i,a,s;void 0===o&&(o=!1);var l={},u=e||{},c=u.white,d=u.black,p=u.themePrimary,f=u.themeDark,h=u.themeDarker,m=u.themeDarkAlt,g=u.themeLighter,v=u.neutralLight,y=u.neutralLighter,b=u.neutralDark,x=u.neutralQuaternary,_=u.neutralQuaternaryAlt,C=u.neutralPrimary,w=u.neutralSecondary,S=u.neutralSecondaryAlt,k=u.neutralTertiary,T=u.neutralTertiaryAlt,E=u.neutralLighterAlt,P=u.accent;return c&&(l.bodyBackground=c,l.bodyFrameBackground=c,l.accentButtonText=c,l.buttonBackground=c,l.primaryButtonText=c,l.primaryButtonTextHovered=c,l.primaryButtonTextPressed=c,l.inputBackground=c,l.inputForegroundChecked=c,l.listBackground=c,l.menuBackground=c,l.cardStandoutBackground=c),d&&(l.bodyTextChecked=d,l.buttonTextCheckedHovered=d),p&&(l.link=p,l.primaryButtonBackground=p,l.inputBackgroundChecked=p,l.inputIcon=p,l.inputFocusBorderAlt=p,l.menuIcon=p,l.menuHeader=p,l.accentButtonBackground=p),f&&(l.primaryButtonBackgroundPressed=f,l.inputBackgroundCheckedHovered=f,l.inputIconHovered=f),h&&(l.linkHovered=h),m&&(l.primaryButtonBackgroundHovered=m),g&&(l.inputPlaceholderBackgroundChecked=g),v&&(l.bodyBackgroundChecked=v,l.bodyFrameDivider=v,l.bodyDivider=v,l.variantBorder=v,l.buttonBackgroundCheckedHovered=v,l.buttonBackgroundPressed=v,l.listItemBackgroundChecked=v,l.listHeaderBackgroundPressed=v,l.menuItemBackgroundPressed=v,l.menuItemBackgroundChecked=v),y&&(l.bodyBackgroundHovered=y,l.buttonBackgroundHovered=y,l.buttonBackgroundDisabled=y,l.buttonBorderDisabled=y,l.primaryButtonBackgroundDisabled=y,l.disabledBackground=y,l.listItemBackgroundHovered=y,l.listHeaderBackgroundHovered=y,l.menuItemBackgroundHovered=y),x&&(l.primaryButtonTextDisabled=x,l.disabledSubtext=x),_&&(l.listItemBackgroundCheckedHovered=_),k&&(l.disabledBodyText=k,l.variantBorderHovered=(null===(i=n)||void 0===i?void 0:i.variantBorderHovered)||k,l.buttonTextDisabled=k,l.inputIconDisabled=k,l.disabledText=k),C&&(l.bodyText=C,l.actionLink=C,l.buttonText=C,l.inputBorderHovered=C,l.inputText=C,l.listText=C,l.menuItemText=C),E&&(l.bodyStandoutBackground=E,l.defaultStateBackground=E),b&&(l.actionLinkHovered=b,l.buttonTextHovered=b,l.buttonTextChecked=b,l.buttonTextPressed=b,l.inputTextHovered=b,l.menuItemTextHovered=b),w&&(l.bodySubtext=w,l.focusBorder=w,l.inputBorder=w,l.smallInputBorder=w,l.inputPlaceholderText=w),S&&(l.buttonBorder=S),T&&(l.disabledBodySubtext=T,l.disabledBorder=T,l.buttonBackgroundChecked=T,l.menuDivider=T),P&&(l.accentButtonBackground=P),(null===(a=t)||void 0===a?void 0:a.elevation4)&&(l.cardShadow=t.elevation4),!r&&(null===(s=t)||void 0===s?void 0:s.elevation8)?l.cardShadowHovered=t.elevation8:l.variantBorderHovered&&(l.cardShadowHovered="0 0 1px "+l.variantBorderHovered),l=Lt(Lt({},l),n)}!function(e){if(e){var t=e+"/fonts";Kt(t,it.Thai,"leelawadeeui-thai","leelawadeeui"),Kt(t,it.Arabic,"segoeui-arabic"),Kt(t,it.Cyrillic,"segoeui-cyrillic"),Kt(t,it.EastEuropean,"segoeui-easteuropean"),Kt(t,it.Greek,"segoeui-greek"),Kt(t,it.Hebrew,"segoeui-hebrew"),Kt(t,it.Vietnamese,"segoeui-vietnamese"),Kt(t,it.WestEuropean,"segoeui-westeuropean","segoeui","Segoe UI"),Kt(t,at.Selawik,"selawik","selawik"),Kt(t,it.Armenian,"segoeui-armenian"),Kt(t,it.Georgian,"segoeui-georgian"),qt("Leelawadee UI Web",t+"/leelawadeeui-thai/leelawadeeui-semilight",lt.light),qt("Leelawadee UI Web",t+"/leelawadeeui-thai/leelawadeeui-bold",lt.semibold)}}(function(){var e,t,n;return null!==(n=null===(t=null===(e=m())||void 0===e?void 0:e.FabricConfig)||void 0===t?void 0:t.fontBaseUrl)&&void 0!==n?n:"https://static2.sharepointonline.com/files/fabric/assets"}());var Qt={s2:"4px",s1:"8px",m:"16px",l1:"20px",l2:"32px"};function Jt(e,t){void 0===e&&(e={}),void 0===t&&(t=!1);var n=!!e.isInverted;return function(e,t){var n,r,o,i;void 0===t&&(t={});var a=Gt({},e,t,{semanticColors:Yt(t.palette,t.effects,t.semanticColors,void 0===t.isInverted?e.isInverted:t.isInverted)});if((null===(n=t.palette)||void 0===n?void 0:n.themePrimary)&&!(null===(r=t.palette)||void 0===r?void 0:r.accent)&&(a.palette.accent=t.palette.themePrimary),t.defaultFontStyle)for(var s=0,l=Object.keys(a.fonts);s<l.length;s++){var u=l[s];a.fonts[u]=Gt(a.fonts[u],t.defaultFontStyle,null===(i=null===(o=t)||void 0===o?void 0:o.fonts)||void 0===i?void 0:i[u])}return t.stylesheets&&(a.stylesheets=(e.stylesheets||[]).concat(t.stylesheets)),a}({palette:Ot,effects:Dt,fonts:Ht,spacing:Qt,isInverted:n,disableGlobalClassNames:!1,semanticColors:Xt(Ot,Dt,void 0,n,t),rtl:void 0},e)}var $t=Jt({}),en=[],tn="theme";function nn(){var e,t,n,r,o,i=m();(null===(n=null===(t=i)||void 0===t?void 0:t.FabricConfig)||void 0===n?void 0:n.legacyTheme)?function(e,t){var n;void 0===t&&(t=!1);$t=Jt(e,t),(0,Bt.EQ)(Lt(Lt(Lt(Lt({},$t.palette),$t.semanticColors),$t.effects),function(e){for(var t={},n=0,r=Object.keys(e.fonts);n<r.length;n++)for(var o=r[n],i=e.fonts[o],a=0,s=Object.keys(i);a<s.length;a++){var l=s[a],u=o+l.charAt(0).toUpperCase()+l.slice(1),c=i[l];"fontSize"===l&&"number"===typeof c&&(c+="px"),t[u]=c}return t}($t))),k.applySettings((n={},n[tn]=$t,n)),en.forEach((function(e){try{e($t)}catch(Jr){}}))}(i.FabricConfig.legacyTheme):k.getSettings([tn]).theme||((null===(o=null===(r=i)||void 0===r?void 0:r.FabricConfig)||void 0===o?void 0:o.theme)&&($t=Jt(i.FabricConfig.theme)),k.applySettings(((e={})[tn]=$t,e)))}nn(),nn();var rn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Pt(e,q())}({root:{display:"inline-block"},placeholder:["ms-Icon-placeHolder",{width:"1em"}],image:["ms-Icon-imageContainer",{overflow:"hidden"}]}),on=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r=0,o=e;r<o.length;r++)for(var i=o[r],a=0,s=Array.isArray(i)?i:Object.keys(i);a<s.length;a++){n[s[a]]=1}return n},an=on(["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),sn=on(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),ln=on(sn,an),un=(on(ln,["form"]),on(ln,["height","loop","muted","preload","src","width"])),cn=(on(un,["poster"]),on(ln,["start"]),on(ln,["value"]),on(ln,["download","href","hrefLang","media","rel","target","type"]),on(ln,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"])),dn=(on(cn,["accept","alt","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),on(cn,["autoCapitalize","cols","dirname","form","maxLength","placeholder","readOnly","required","rows","wrap"]),on(cn,["form","multiple","required"]),on(ln,["selected","value"]),on(ln,["cellPadding","cellSpacing"]),on(ln,["rowSpan","scope"]),on(ln,["colSpan","headers","rowSpan","scope"]),on(ln,["span"]),on(ln,["span"]),on(ln,["acceptCharset","action","encType","encType","method","noValidate","target"]),on(ln,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]),on(ln,["alt","crossOrigin","height","src","srcSet","useMap","width"])),pn=ln;function fn(e,t,n){for(var r,o=Array.isArray(t),i={},a=0,s=Object.keys(e);a<s.length;a++){var l=s[a];!(!o&&t[l]||o&&t.indexOf(l)>=0||0===l.indexOf("data-")||0===l.indexOf("aria-"))||n&&-1!==(null===(r=n)||void 0===r?void 0:r.indexOf(l))||(i[l]=e[l])}return i}function hn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];if(i)if("string"===typeof i)n.push(i);else if(i.hasOwnProperty("toString")&&"function"===typeof i.toString)n.push(i.toString());else for(var a in i)i[a]&&n.push(a)}return n.join(" ")}var mn,gn=vt((function(e){var t=Et(e)||{subset:{},code:void 0},n=t.code,r=t.subset;return n?{children:n,iconClassName:r.className,fontFamily:r.fontFace&&r.fontFace.fontFamily,mergeImageProps:r.mergeImageProps}:null}),void 0,!0),vn=function(e){var t=e.iconName,n=e.className,r=e.style,o=void 0===r?{}:r,i=gn(t)||{},a=i.iconClassName,s=i.children,u=i.fontFamily,c=i.mergeImageProps,d=fn(e,ln),p=e["aria-label"]||e.title,f=e["aria-label"]||e["aria-labelledby"]||e.title?{role:c?void 0:"img"}:{"aria-hidden":!0},h=s;return c&&"object"===typeof s&&"object"===typeof s.props&&p&&(h=l.cloneElement(s,{alt:p})),l.createElement("i",L({"data-icon-name":t},f,d,c?{title:void 0,"aria-label":void 0}:{},{className:hn("ms-Icon",rn.root,a,!t&&rn.placeholder,n),style:L({fontFamily:u},o)}),h)};vt((function(e,t,n){return vn({iconName:e,className:t,"aria-label":n})}));!function(e){e[e.default=0]="default",e[e.image=1]="image",e[e.Default=1e5]="Default",e[e.Image=100001]="Image"}(mn||(mn={}));var yn,bn="isRTL";function xn(e){if(void 0===e&&(e={}),void 0!==e.rtl)return e.rtl;if(void 0===yn){var t=Vt(bn);null!==t&&function(e,t){void 0===t&&(t=!1);var n=jt();n&&n.documentElement.setAttribute("dir",e?"rtl":"ltr");t&&function(e,t){var n;try{null===(n=m())||void 0===n||n.sessionStorage.setItem(e,t)}catch(Jr){}}(bn,e?"1":"0");W(yn=e)}(yn="1"===t);var n=jt();void 0===yn&&n&&W(yn="rtl"===(n.body&&n.body.getAttribute("dir")||n.documentElement.getAttribute("dir")))}return!!yn}var _n=0,Cn=j.getInstance();Cn&&Cn.onReset&&Cn.onReset((function(){return _n++}));var wn,Sn,kn,Tn="__retval__";function En(e){void 0===e&&(e={});var t=new Map,n=0,r=0,o=_n;return function(i,a){var s,l;if(void 0===a&&(a={}),e.useStaticStyles&&"function"===typeof i&&i.__noStyleOverride__)return i(a);r++;var u=t,c=a.theme,d=c&&void 0!==c.rtl?c.rtl:xn(),p=e.disableCaching;(o!==_n&&(o=_n,t=new Map,n=0),e.disableCaching||(u=In(t,i),u=In(u,a)),!p&&u[Tn]||(u[Tn]=void 0===i?{}:Pt(["function"===typeof i?i(a):i],{rtl:!!d,specificityMultiplier:e.useStaticStyles?5:void 0}),p||n++),n>(e.cacheSize||50))&&((null===(l=null===(s=m())||void 0===s?void 0:s.FabricConfig)||void 0===l?void 0:l.enableClassNameCacheFullWarning)&&(console.warn("Styles are being recalculated too frequently. Cache miss rate is "+n+"/"+r+"."),console.trace()),t.clear(),n=0,e.disableCaching=!0);return u[Tn]}}function Pn(e,t){return t=function(e){switch(e){case void 0:return"__undefined__";case null:return"__null__";default:return e}}(t),e.has(t)||e.set(t,new Map),e.get(t)}function In(e,t){if("function"===typeof t)if(t.__cachedInputs__)for(var n=0,r=t.__cachedInputs__;n<r.length;n++){e=Pn(e,r[n])}else e=Pn(e,t);else if("object"===typeof t)for(var o in t)t.hasOwnProperty(o)&&(e=Pn(e,t[o]));return e}!function(e){e[e.center=0]="center",e[e.contain=1]="contain",e[e.cover=2]="cover",e[e.none=3]="none",e[e.centerCover=4]="centerCover",e[e.centerContain=5]="centerContain"}(wn||(wn={})),function(e){e[e.landscape=0]="landscape",e[e.portrait=1]="portrait"}(Sn||(Sn={})),function(e){e[e.notLoaded=0]="notLoaded",e[e.loaded=1]="loaded",e[e.error=2]="error",e[e.errorLoaded=3]="errorLoaded"}(kn||(kn={}));var An=En(),Rn=function(e){function t(t){var n=e.call(this,t)||this;return n._coverStyle=Sn.portrait,n._imageElement=l.createRef(),n._frameElement=l.createRef(),n._onImageLoaded=function(e){var t=n.props,r=t.src,o=t.onLoad;o&&o(e),n._computeCoverStyle(n.props),r&&n.setState({loadState:kn.loaded})},n._onImageError=function(e){n.props.onError&&n.props.onError(e),n.setState({loadState:kn.error})},n.state={loadState:kn.notLoaded},n}return R(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.src!==this.props.src?this.setState({loadState:kn.notLoaded}):this.state.loadState===kn.loaded&&this._computeCoverStyle(e)},t.prototype.componentDidUpdate=function(e,t){this._checkImageLoaded(),this.props.onLoadingStateChange&&t.loadState!==this.state.loadState&&this.props.onLoadingStateChange(this.state.loadState)},t.prototype.render=function(){var e=fn(this.props,dn,["width","height"]),t=this.props,n=t.src,r=t.alt,o=t.width,i=t.height,a=t.shouldFadeIn,s=t.shouldStartVisible,u=t.className,c=t.imageFit,d=t.role,p=t.maximizeFrame,f=t.styles,h=t.theme,m=this.state.loadState,g=void 0!==this.props.coverStyle?this.props.coverStyle:this._coverStyle,v=An(f,{theme:h,className:u,width:o,height:i,maximizeFrame:p,shouldFadeIn:a,shouldStartVisible:s,isLoaded:m===kn.loaded||m===kn.notLoaded&&this.props.shouldStartVisible,isLandscape:g===Sn.landscape,isCenter:c===wn.center,isCenterContain:c===wn.centerContain,isCenterCover:c===wn.centerCover,isContain:c===wn.contain,isCover:c===wn.cover,isNone:c===wn.none,isError:m===kn.error,isNotImageFit:void 0===c});return l.createElement("div",{className:v.root,style:{width:o,height:i},ref:this._frameElement},l.createElement("img",L({},e,{onLoad:this._onImageLoaded,onError:this._onImageError,key:"fabricImage"+this.props.src||"",className:v.image,ref:this._imageElement,src:n,alt:r,role:d})))},t.prototype._checkImageLoaded=function(){var e=this.props.src;this.state.loadState===kn.notLoaded&&(!!this._imageElement.current&&(e&&this._imageElement.current.naturalWidth>0&&this._imageElement.current.naturalHeight>0||this._imageElement.current.complete&&t._svgRegex.test(e))&&(this._computeCoverStyle(this.props),this.setState({loadState:kn.loaded})))},t.prototype._computeCoverStyle=function(e){var t=e.imageFit,n=e.width,r=e.height;if((t===wn.cover||t===wn.contain||t===wn.centerContain||t===wn.centerCover)&&void 0===this.props.coverStyle&&this._imageElement.current&&this._frameElement.current){var o=void 0;o="number"===typeof n&&"number"===typeof r&&t!==wn.centerContain&&t!==wn.centerCover?n/r:this._frameElement.current.clientWidth/this._frameElement.current.clientHeight;var i=this._imageElement.current.naturalWidth/this._imageElement.current.naturalHeight;this._coverStyle=i>o?Sn.landscape:Sn.portrait}},t.defaultProps={shouldFadeIn:!0},t._svgRegex=/\.svg$/i,t}(l.Component),Ln={root:"ms-Image",rootMaximizeFrame:"ms-Image--maximizeFrame",image:"ms-Image-image",imageCenter:"ms-Image-image--center",imageContain:"ms-Image-image--contain",imageCover:"ms-Image-image--cover",imageCenterContain:"ms-Image-image--centerContain",imageCenterCover:"ms-Image-image--centerCover",imageNone:"ms-Image-image--none",imageLandscape:"ms-Image-image--landscape",imagePortrait:"ms-Image-image--portrait"},Mn=I(Rn,(function(e){var t=e.className,n=e.width,r=e.height,o=e.maximizeFrame,i=e.isLoaded,a=e.shouldFadeIn,s=e.shouldStartVisible,l=e.isLandscape,u=e.isCenter,c=e.isContain,d=e.isCover,p=e.isCenterContain,f=e.isCenterCover,h=e.isNone,g=e.isError,v=e.isNotImageFit,y=e.theme,b=_t(Ln,y),x={position:"absolute",left:"50% /* @noflip */",top:"50%",transform:"translate(-50%,-50%)"},_=m(),C=void 0!==_&&void 0===_.navigator.msMaxTouchPoints,w=c&&l||d&&!l?{width:"100%",height:"auto"}:{width:"auto",height:"100%"};return{root:[b.root,y.fonts.medium,{overflow:"hidden"},o&&[b.rootMaximizeFrame,{height:"100%",width:"100%"}],i&&a&&!s&&ct.fadeIn400,(u||c||d||p||f)&&{position:"relative"},t],image:[b.image,{display:"block",opacity:0},i&&["is-loaded",{opacity:1}],u&&[b.imageCenter,x],c&&[b.imageContain,C&&{width:"100%",height:"100%",objectFit:"contain"},!C&&w,x],d&&[b.imageCover,C&&{width:"100%",height:"100%",objectFit:"cover"},!C&&w,x],p&&[b.imageCenterContain,l&&{maxWidth:"100%"},!l&&{maxHeight:"100%"},x],f&&[b.imageCenterCover,l&&{maxHeight:"100%"},!l&&{maxWidth:"100%"},x],h&&[b.imageNone,{width:"auto",height:"auto"}],v&&[!!n&&!r&&{height:"auto",width:"100%"},!n&&!!r&&{height:"100%",width:"auto"},!!n&&!!r&&{height:"100%",width:"100%"}],l&&b.imageLandscape,!l&&b.imagePortrait,!i&&"is-notLoaded",a&&"is-fadeIn",g&&"is-error"]}}),void 0,{scope:"Image"},!0),Bn=En({cacheSize:100}),On=function(e){function t(t){var n=e.call(this,t)||this;return n._onImageLoadingStateChange=function(e){n.props.imageProps&&n.props.imageProps.onLoadingStateChange&&n.props.imageProps.onLoadingStateChange(e),e===kn.error&&n.setState({imageLoadError:!0})},n.state={imageLoadError:!1},n}return R(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.styles,o=e.iconName,i=e.imageErrorAs,a=e.theme,s="string"===typeof o&&0===o.length,u=!!this.props.imageProps||this.props.iconType===mn.image||this.props.iconType===mn.Image,c=gn(o)||{},d=c.iconClassName,p=c.children,f=c.mergeImageProps,h=Bn(r,{theme:a,className:n,iconClassName:d,isImage:u,isPlaceholder:s}),m=u?"span":"i",g=fn(this.props,ln,["aria-label"]),v=this.state.imageLoadError,y=L(L({},this.props.imageProps),{onLoadingStateChange:this._onImageLoadingStateChange}),b=v&&i||Mn,x=this.props["aria-label"]||this.props.ariaLabel,_=y.alt||x||this.props.title,C=!!(_||this.props["aria-labelledby"]||y["aria-label"]||y["aria-labelledby"])?{role:u||f?void 0:"img","aria-label":u||f?void 0:_}:{"aria-hidden":!this.props["aria-labelledby"]&&!y["aria-labelledby"]},w=p;return f&&p&&"object"===typeof p&&_&&(w=l.cloneElement(p,{alt:_})),l.createElement(m,L({"data-icon-name":o},C,g,f?{title:void 0,"aria-label":void 0}:{},{className:h.root}),u?l.createElement(b,L({},y)):t||w)},t}(l.Component),Fn=I(On,(function(e){var t=e.className,n=e.iconClassName,r=e.isPlaceholder,o=e.isImage,i=e.styles;return{root:[r&&rn.placeholder,rn.root,o&&rn.image,n,t,i&&i.root,i&&i.imageContainer]}}),void 0,{scope:"Icon"},!0);Fn.displayName="Icon";var Dn=En(),Nn=function(e){var t=e.checked,n=void 0!==t&&t,r=e.className,o=e.theme,i=e.styles,a=e.useFastIcons,s=void 0===a||a,u=Dn(i,{theme:o,className:r,checked:n}),c=s?vn:Fn;return l.createElement("div",{className:u.root},l.createElement(c,{iconName:"CircleRing",className:u.circle}),l.createElement(c,{iconName:"StatusCircleCheckmark",className:u.check}))};Nn.displayName="CheckBase";var Un,zn,jn={root:"ms-Check",circle:"ms-Check-circle",check:"ms-Check-check",checkHost:"ms-Check-checkHost"},Vn=I(Nn,(function(e){var t,n,r,o,i,a=e.height,s=void 0===a?e.checkBoxHeight||"18px":a,l=e.checked,u=e.className,c=e.theme,d=c.palette,p=c.semanticColors,f=c.fonts,h=xn(c),m=_t(jn,c),g={fontSize:s,position:"absolute",left:0,top:0,width:s,height:s,textAlign:"center",verticalAlign:"middle"};return{root:[m.root,f.medium,{lineHeight:"1",width:s,height:s,verticalAlign:"top",position:"relative",userSelect:"none",selectors:(t={":before":{content:'""',position:"absolute",top:"1px",right:"1px",bottom:"1px",left:"1px",borderRadius:"50%",opacity:1,background:p.bodyBackground}},t["."+m.checkHost+":hover &, ."+m.checkHost+":focus &, &:hover, &:focus"]={opacity:1},t)},l&&["is-checked",{selectors:{":before":{background:d.themePrimary,opacity:1,selectors:(n={},n[Ct]={background:"Window"},n)}}}],u],circle:[m.circle,g,{color:d.neutralSecondary,selectors:(r={},r[Ct]={color:"WindowText"},r)},l&&{color:d.white}],check:[m.check,g,{opacity:0,color:d.neutralSecondary,fontSize:ut.medium,left:h?"-0.5px":".5px",selectors:(o={":hover":{opacity:1}},o[Ct]=L({},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),o)},l&&{opacity:1,color:d.white,fontWeight:900,selectors:(i={},i[Ct]={border:"none",color:"WindowText"},i)}],checkHost:m.checkHost}}),void 0,{scope:"Check"},!0),Wn="change";function Hn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.length<2?t[0]:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.forEach((function(t){return t&&t.apply(e,n)}))}}function qn(e){!function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=Hn(e,e[n],t[n]))}(e,{componentDidMount:Kn,componentDidUpdate:Gn,componentWillUnmount:Zn})}function Kn(){Xn(this.props.componentRef,this)}function Gn(e){e.componentRef!==this.props.componentRef&&(Xn(e.componentRef,null),Xn(this.props.componentRef,this))}function Zn(){Xn(this.props.componentRef,null)}function Xn(e,t){e&&("object"===typeof e?e.current=t:"function"===typeof e&&e(t))}!function(e){e[e.none=0]="none",e[e.single=1]="single",e[e.multiple=2]="multiple"}(Un||(Un={})),function(e){e[e.horizontal=0]="horizontal",e[e.vertical=1]="vertical"}(zn||(zn={}));var Yn="__currentId__",Qn=m()||{};void 0===Qn[Yn]&&(Qn[Yn]=0);var Jn=!1;function $n(e){if(!Jn){var t=j.getInstance();t&&t.onReset&&t.onReset(er),Jn=!0}return(void 0===e?"id__":e)+Qn[Yn]++}function er(e){void 0===e&&(e=0),Qn[Yn]=e}function tr(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t=t||{};for(var o=0,i=n;o<i.length;o++){var a=i[o];if(a)for(var s in a)!a.hasOwnProperty(s)||e&&!e(s)||(t[s]=a[s])}return t}var nr=function(){function e(t){this._id=e._uniqueId++,this._parent=t,this._eventRecords=[]}return e.raise=function(t,n,r,o){var i;if(e._isElement(t)){if("undefined"!==typeof document&&document.createEvent){var a=document.createEvent("HTMLEvents");a.initEvent(n,o||!1,!0),function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];tr.apply(this,[null,e].concat(t))}(a,r),i=t.dispatchEvent(a)}else if("undefined"!==typeof document&&document.createEventObject){var s=document.createEventObject(r);t.fireEvent("on"+n,s)}}else for(;t&&!1!==i;){var l=t.__events__,u=l?l[n]:null;if(u)for(var c in u)if(u.hasOwnProperty(c))for(var d=u[c],p=0;!1!==i&&p<d.length;p++){var f=d[p];f.objectCallback&&(i=f.objectCallback.call(f.parent,r))}t=o?t.parent:null}return i},e.isObserved=function(e,t){var n=e&&e.__events__;return!!n&&!!n[t]},e.isDeclared=function(e,t){var n=e&&e.__declaredEvents;return!!n&&!!n[t]},e.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},e._isElement=function(e){return!!e&&(!!e.addEventListener||"undefined"!==typeof HTMLElement&&e instanceof HTMLElement)},e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.off(),this._parent=null)},e.prototype.onAll=function(e,t,n){for(var r in t)t.hasOwnProperty(r)&&this.on(e,r,t[r],n)},e.prototype.on=function(t,n,r,o){var i=this;if(n.indexOf(",")>-1)for(var a=n.split(/[ ,]+/),s=0;s<a.length;s++)this.on(t,a[s],r,o);else{var l=this._parent,u={target:t,eventName:n,parent:l,callback:r,options:o};if((a=t.__events__=t.__events__||{})[n]=a[n]||{count:0},a[n][this._id]=a[n][this._id]||[],a[n][this._id].push(u),a[n].count++,e._isElement(t)){var c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!i._isDisposed){var n;try{if(!1===(n=r.apply(l,e))&&e[0]){var o=e[0];o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation(),o.cancelBubble=!0}}catch(o){}return n}};u.elementCallback=c,t.addEventListener?t.addEventListener(n,c,o):t.attachEvent&&t.attachEvent("on"+n,c)}else{u.objectCallback=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!i._isDisposed)return r.apply(l,e)}}this._eventRecords.push(u)}},e.prototype.off=function(e,t,n,r){for(var o=0;o<this._eventRecords.length;o++){var i=this._eventRecords[o];if((!e||e===i.target)&&(!t||t===i.eventName)&&(!n||n===i.callback)&&("boolean"!==typeof r||r===i.options)){var a=i.target.__events__,s=a[i.eventName],l=s?s[this._id]:null;l&&(1!==l.length&&n?(s.count--,l.splice(l.indexOf(i),1)):(s.count-=l.length,delete a[i.eventName][this._id]),s.count||delete a[i.eventName]),i.elementCallback&&(i.target.removeEventListener?i.target.removeEventListener(i.eventName,i.elementCallback,i.options):i.target.detachEvent&&i.target.detachEvent("on"+i.eventName,i.elementCallback)),this._eventRecords.splice(o--,1)}}},e.prototype.raise=function(t,n,r){return e.raise(this._parent,t,n,r)},e.prototype.declare=function(e){var t=this._parent.__declaredEvents=this._parent.__declaredEvents||{};if("string"===typeof e)t[e]=!0;else for(var n=0;n<e.length;n++)t[e[n]]=!0},e._uniqueId=0,e}();(0,Bt.hN)([{rawString:".tile_39583318{display:block;position:absolute;top:0;bottom:0;left:0;right:0;z-index:0;background-color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:";-webkit-transition:-webkit-transform .1s linear;transition:-webkit-transform .1s linear;transition:transform .1s linear;transition:transform .1s linear,-webkit-transform .1s linear;color:"},{theme:"neutralPrimary",defaultValue:"#323130"},{rawString:";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tile_39583318::-moz-focus-inner{border:0}.tile_39583318{outline:transparent}.tile_39583318.selectable_39583318:hover{background-color:"},{theme:"neutralLighter",defaultValue:"#f3f2f1"},{rawString:"}.tile_39583318.selectable_39583318:hover.selected_39583318{background-color:"},{theme:"neutralQuaternaryAlt",defaultValue:"#e1dfdd"},{rawString:"}.tile_39583318.selected_39583318{background-color:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:"}.tile_39583318.selected_39583318.isFluentStyling_39583318 .name_39583318{font-weight:600}.ms-Fabric--isFocusVisible .tile_39583318:focus{background-color:"},{theme:"neutralLighter",defaultValue:"#f3f2f1"},{rawString:"}.ms-Fabric--isFocusVisible .tile_39583318:focus.isFluentStyling_39583318{background-color:transparent}.ms-Fabric--isFocusVisible .tile_39583318:focus.selected_39583318{background-color:"},{theme:"neutralQuaternaryAlt",defaultValue:"#e1dfdd"},{rawString:"}.ms-Fabric--isFocusVisible .tile_39583318:focus{outline:1px solid "},{theme:"neutralSecondary",defaultValue:"#605e5c"},{rawString:"}.ms-Fabric--isFocusVisible .tile_39583318:focus.selected_39583318{outline:1px solid "},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:"}.ms-Fabric--isFocusVisible .tile_39583318:focus.selected_39583318.isFluentStyling_39583318{outline:1px solid "},{theme:"neutralSecondary",defaultValue:"#605e5c"},{rawString:"}.tile_39583318.hasBackgroundFrame_39583318{-webkit-box-shadow:0 1px 3px 1px rgba(1,1,0,.05);box-shadow:0 1px 3px 1px rgba(1,1,0,.05)}.tile_39583318.hasBackgroundFrame_39583318.selectable_39583318:hover{outline:1px solid "},{theme:"neutralTertiaryAlt",defaultValue:"#c8c6c4"},{rawString:"}.ms-Fabric--isFocusVisible .tile_39583318.hasBackgroundFrame_39583318:focus{outline:1px solid "},{theme:"neutralSecondary",defaultValue:"#605e5c"},{rawString:"}.ms-Fabric--isFocusVisible .tile_39583318.hasBackgroundFrame_39583318:focus.selected_39583318{outline:1px solid "},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:"}.tile_39583318.hasBackgroundFrame_39583318:after{content:'';display:block;position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none;border:2px solid "},{theme:"white",defaultValue:"#ffffff"},{rawString:"}.tile_39583318.invokable_39583318:active{-webkit-transform:scale(.95);transform:scale(.95)}.label_39583318{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.description_39583318{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.link_39583318{border:none;background:0 0;position:absolute;padding:0;top:0;left:0;bottom:0;right:0;width:100%;text-decoration:none;color:inherit;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-ms-flex-line-pack:stretch;align-content:stretch;pointer-events:none}.link_39583318::-moz-focus-inner{border:0}.link_39583318{outline:transparent}.foreground_39583318{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;position:relative;overflow:visible;max-width:100%;max-height:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;opacity:1;-webkit-transition:opacity .2s linear;transition:opacity .2s linear}.tile_39583318.invokable_39583318 .foreground_39583318{pointer-events:auto;cursor:pointer}.foreground_39583318.foregroundHide_39583318{opacity:0}.hasForegroundFrame_39583318 .foreground_39583318{background-color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:";-webkit-box-shadow:0 1px 3px 1px rgba(1,1,0,.05);box-shadow:0 1px 3px 1px rgba(1,1,0,.05);min-width:32px;min-height:32px}.hasForegroundFrame_39583318 .foreground_39583318:after{content:'';display:block;position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none;border:2px solid "},{theme:"white",defaultValue:"#ffffff"},{rawString:"}.check_39583318{display:none;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;top:0;border:none;background:0 0;background-color:transparent;opacity:0;-webkit-box-sizing:border-box;box-sizing:border-box;padding:6px}.check_39583318::-moz-focus-inner{border:0}.check_39583318{outline:transparent}.check_39583318{position:absolute}.ms-Fabric--isFocusVisible .check_39583318:focus:after{content:'';position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;border:1px solid "},{theme:"focusBorder",defaultValue:"#605e5c"},{rawString:"}html[dir=ltr] .check_39583318{right:0}html[dir=rtl] .check_39583318{left:0}.tile_39583318.uninvokable_39583318 .check_39583318{width:100%;height:100%}.tile_39583318.selectable_39583318 .check_39583318{display:-webkit-box;display:-ms-flexbox;display:flex}.tile_39583318.selected_39583318 .check_39583318,.tile_39583318.showCheck_39583318 .check_39583318,.tile_39583318:hover .check_39583318{opacity:1}.ms-Fabric--isFocusVisible .check_39583318:focus{opacity:1}.ms-Fabric--isFocusVisible .tile_39583318:focus .check_39583318{opacity:1}.background_39583318{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;opacity:1;-webkit-transition:opacity .2s linear;transition:opacity .2s linear}.tile_39583318.invokable_39583318 .background_39583318{cursor:pointer;pointer-events:auto}.background_39583318.backgroundHide_39583318{opacity:0}.aboveNameplate_39583318{-webkit-box-flex:1;-ms-flex:1;flex:1;position:relative;margin:16px 16px 0 16px}.content_39583318{position:absolute;top:0;left:0;bottom:0;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.hasForegroundFrame_39583318 .content_39583318{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.nameplate_39583318{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;position:relative;margin:auto 0 0 0;padding:12px 8px;text-align:center;z-index:0}.nameplate_39583318 .name_39583318{-webkit-transition:color .2s linear;transition:color .2s linear}.tile_39583318.invokable_39583318 .nameplate_39583318 .name_39583318{pointer-events:auto;cursor:pointer}.link_39583318:hover .nameplate_39583318 .name_39583318{text-decoration:underline}.isFluentStyling_39583318 .link_39583318:hover .nameplate_39583318 .name_39583318{text-decoration:none}.nameplate_39583318 .activity_39583318{-webkit-transition:color .2s linear;transition:color .2s linear}.tile_39583318.hasBackgroundFrame_39583318 .nameplate_39583318{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;padding:12px 10px}.signal_39583318{display:inline-block}html[dir=ltr] .signal_39583318.storageSignal_39583318{margin-left:4px}html[dir=rtl] .signal_39583318.storageSignal_39583318{margin-right:4px}html[dir=ltr] .signal_39583318.socialSignal_39583318{margin-right:4px}html[dir=rtl] .signal_39583318.socialSignal_39583318{margin-left:4px}html[dir=ltr] .signal_39583318.lifecycleSignal_39583318{margin-right:4px}html[dir=rtl] .signal_39583318.lifecycleSignal_39583318{margin-left:4px}.name_39583318{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;font-weight:400;color:"},{theme:"neutralPrimary",defaultValue:"#323130"},{rawString:";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}html[dir=ltr] .name_39583318{margin-left:-8px}html[dir=rtl] .name_39583318{margin-right:-8px}html[dir=ltr] .name_39583318{padding-left:8px}html[dir=rtl] .name_39583318{padding-right:8px}.isLarge_39583318 .name_39583318,.name_39583318{font-size:14px;height:30px;margin-top:-7px;margin-bottom:-8px}.isSmall_39583318 .name_39583318{font-size:12px;height:24px;margin-top:-5px;margin-bottom:-7px}.activity_39583318{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;font-weight:400;font-size:12px;color:"},{theme:"neutralSecondary",defaultValue:"#605e5c"},{rawString:";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;height:24px;margin-bottom:-4px}html[dir=ltr] .activity_39583318{margin-left:-8px}html[dir=rtl] .activity_39583318{margin-right:-8px}html[dir=ltr] .activity_39583318{padding-left:8px}html[dir=rtl] .activity_39583318{padding-right:8px}.hasBackgroundFrame_39583318 .name_39583318{display:block}html[dir=ltr] .hasBackgroundFrame_39583318 .name_39583318{-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left}html[dir=rtl] .hasBackgroundFrame_39583318 .name_39583318{-webkit-box-pack:right;-ms-flex-pack:right;justify-content:right}.hasBackgroundFrame_39583318 .name_39583318,.isLarge_39583318 .isSmall_39583318 .hasBackgroundFrame_39583318 .name_39583318{font-size:14px;height:auto;padding-top:6px;margin-top:0;margin-bottom:0;line-height:22px}.hasBackgroundFrame_39583318 .activity_39583318{font-size:12px;display:block;height:auto;margin-top:0;margin-bottom:0;line-height:20px}html[dir=ltr] .hasBackgroundFrame_39583318 .activity_39583318{-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;text-align:left}html[dir=rtl] .hasBackgroundFrame_39583318 .activity_39583318{-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;text-align:left}.hasBackground_39583318 .nameplate_39583318:before{position:absolute;content:'';display:block;top:-4px;bottom:0;left:0;right:0;background-image:-webkit-gradient(linear,left bottom,left top,from(rgba(0,0,0,.65)),color-stop(55%,rgba(0,0,0,.5525)),color-stop(80%,rgba(0,0,0,.195)),to(rgba(0,0,0,0)));background-image:linear-gradient(to top,rgba(0,0,0,.65) 0,rgba(0,0,0,.5525) 55%,rgba(0,0,0,.195) 80%,rgba(0,0,0,0) 100%);z-index:-1;-webkit-transition:opacity .2s linear;transition:opacity .2s linear;opacity:0}.hasBackground_39583318 .onlyOnHover_39583318 .name_39583318{opacity:0;-webkit-transition:opacity .2s linear,color .2s linear,-webkit-transform .25s ease-out;transition:opacity .2s linear,color .2s linear,-webkit-transform .25s ease-out;transition:transform .25s ease-out,opacity .2s linear,color .2s linear;transition:transform .25s ease-out,opacity .2s linear,color .2s linear,-webkit-transform .25s ease-out;-webkit-transform:translateY(1rem);transform:translateY(1rem)}.hasBackground_39583318 .onlyOnHover_39583318 .activity_39583318{opacity:0;-webkit-transition:opacity .2s linear,color .2s linear,-webkit-transform .25s ease-out;transition:opacity .2s linear,color .2s linear,-webkit-transform .25s ease-out;transition:transform .25s ease-out,opacity .2s linear,color .2s linear;transition:transform .25s ease-out,opacity .2s linear,color .2s linear,-webkit-transform .25s ease-out;-webkit-transform:translateY(1rem);transform:translateY(1rem)}.hasBackground_39583318.selected_39583318 .name_39583318.onlyOnHover_39583318,.hasBackground_39583318:hover .name_39583318.onlyOnHover_39583318{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}.hasBackground_39583318.selected_39583318 .activity_39583318.onlyOnHover_39583318,.hasBackground_39583318:hover .activity_39583318.onlyOnHover_39583318{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}.hasBackground_39583318.showBackground_39583318.selected_39583318 .onlyOnHover_39583318.nameplate_39583318:before,.hasBackground_39583318.showBackground_39583318:hover .onlyOnHover_39583318.nameplate_39583318:before{opacity:1}.hasBackground_39583318.showBackground_39583318 .nameplate_39583318:not(.onlyOnHover_39583318):before{opacity:1}.hasBackground_39583318.showBackground_39583318 .name_39583318{color:#fff;text-shadow:.5px .5px 2px rgba(0,0,0,.55)}.hasBackground_39583318.showBackground_39583318 .activity_39583318{color:#fff;text-shadow:.5px .5px 2px rgba(0,0,0,.55)}.disabled_39583318{opacity:.5}"}]);var rr="tile_39583318",or="selectable_39583318",ir="selected_39583318",ar="isFluentStyling_39583318",sr="name_39583318",lr="hasBackgroundFrame_39583318",ur="invokable_39583318",cr="label_39583318",dr="description_39583318",pr="link_39583318",fr="foreground_39583318",hr="foregroundHide_39583318",mr="hasForegroundFrame_39583318",gr="check_39583318",vr="uninvokable_39583318",yr="showCheck_39583318",br="background_39583318",xr="backgroundHide_39583318",_r="aboveNameplate_39583318",Cr="content_39583318",wr="nameplate_39583318",Sr="activity_39583318",kr="signal_39583318",Tr="storageSignal_39583318",Er="socialSignal_39583318",Pr="lifecycleSignal_39583318",Ir="isLarge_39583318",Ar="isSmall_39583318",Rr="hasBackground_39583318",Lr="onlyOnHover_39583318",Mr="showBackground_39583318",Br="disabled_39583318";(0,Bt.hN)([{rawString:".signal_fc6811ff{display:inline-block;margin:0 4px;position:relative;-webkit-transition:color .2s linear;transition:color .2s linear}.dark_fc6811ff .signal_fc6811ff,.signal_fc6811ff .dark_fc6811ff.selected_fc6811ff{color:#fff}html[dir=ltr] .signal_fc6811ff:first-child{margin-left:0}html[dir=rtl] .signal_fc6811ff:first-child{margin-right:0}html[dir=ltr] .signal_fc6811ff:last-child{margin-right:0}html[dir=rtl] .signal_fc6811ff:last-child{margin-left:0}i.signal_fc6811ff{top:.2em}"}]);var Or="signal_fc6811ff",Fr="dark_fc6811ff",Dr="selected_fc6811ff";(0,Bt.hN)([{rawString:".root_851d9364{line-height:1;width:18px;height:18px;vertical-align:top;position:relative;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.root_851d9364:before{content:'';position:absolute;left:1px;right:1px;bottom:1px;top:1px;border-radius:50%;opacity:1;background:"},{theme:"bodyBackground",defaultValue:"#ffffff"},{rawString:"}.root_851d9364.rootIsChecked_851d9364:before{background:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:";opacity:1}@media screen and (-ms-high-contrast:active),screen and (forced-colors:active){.root_851d9364.rootIsChecked_851d9364:before{background:Window}}.root_851d9364 .check_851d9364{opacity:0}.checkHost_851d9364:focus .root_851d9364 .check_851d9364,.checkHost_851d9364:hover .root_851d9364 .check_851d9364,.root_851d9364.rootIsChecked_851d9364 .check_851d9364,.root_851d9364:focus .check_851d9364,.root_851d9364:hover .check_851d9364{opacity:1}.check_851d9364,.circle_851d9364{font-size:18px;position:absolute;left:0;top:0;width:18px;height:18px;text-align:center;vertical-align:middle}.circle_851d9364{color:"},{theme:"neutralSecondary",defaultValue:"#605e5c"},{rawString:"}@media screen and (-ms-high-contrast:active),screen and (forced-colors:active){.circle_851d9364{color:WindowText}}.rootIsChecked_851d9364 .circle_851d9364{color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:"}.check_851d9364{color:"},{theme:"neutralSecondary",defaultValue:"#605e5c"},{rawString:";font-size:16px;left:.5px}@media screen and (-ms-high-contrast:active),screen and (forced-colors:active){.check_851d9364{-ms-high-contrast-adjust:none}}.rootIsChecked_851d9364 .check_851d9364{color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:";font-weight:900}@media screen and (-ms-high-contrast:active),screen and (forced-colors:active){.rootIsChecked_851d9364 .check_851d9364{border:none;color:WindowText}}"}]);var Nr="root_851d9364",Ur="rootIsChecked_851d9364",zr="check_851d9364",jr="checkHost_851d9364",Vr="circle_851d9364",Wr=r,Hr=o,qr=i,Kr=12,Gr=0,Zr=16,Xr={small:{nameplatePadding:Kr,nameplateNameHeight:12,nameplateMargin:Gr,nameplateActivityHeight:20,foregroundMargin:Zr},large:{nameplatePadding:Kr,nameplateNameHeight:15,nameplateMargin:Gr,nameplateActivityHeight:20,foregroundMargin:Zr}},Yr=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._onSelectionChange=function(){var e=r.props,t=e.selection,n=e.selectionIndex,o=void 0===n?-1:n,i=o>-1&&!!t&&t.isIndexSelected(o),a=!!t&&!!t.isModal&&t.isModal();r.setState({isSelected:i,isModal:a})},qn(r),r._nameId=$n("Tile-name"),r._activityId=$n("Tile-activity"),r._labelId=$n("Tile-label"),r._descriptionId=$n("Tile-description");var o=t.selectionIndex,i=void 0===o?-1:o,a=t.selection,s=!!a&&i>-1&&a.isIndexSelected(i),l=!!a&&!!a.isModal&&a.isModal();return r.state={isSelected:s,isModal:l},r._events=new nr(r),r}return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props,n=t.selection,r=t.selectionIndex,o=e.selection,i=e.selectionIndex,a=void 0===i?-1:i;if(n!==o||r!==a){var s=!!o&&a>-1&&o.isIndexSelected(a),l=!!o&&o.isModal&&o.isModal();this.setState({isSelected:s,isModal:l})}},t.prototype.componentDidMount=function(){var e=this.props.selection;e&&this._events.on(e,Wn,this._onSelectionChange)},t.prototype.componentDidUpdate=function(e){var t=this.props.selection,n=e.selection;t!==n&&(n&&this._events.off(n),t&&this._events.on(t,Wn,this._onSelectionChange))},t.prototype.componentWillUnmount=function(){this._events.dispose()},t.prototype.render=function(){var e,t=this.props,n=(t.children,t.selectionIndex),r=void 0===n?-1:n,o=t.invokeSelection,i=void 0!==o&&o,a=t.selection,u=t.background,c=t.foreground,d=t.showBackgroundFrame,p=void 0!==d&&d,f=t.showForegroundFrame,h=void 0!==f&&f,m=t.hideBackground,g=void 0!==m&&m,v=t.hideForeground,y=void 0!==v&&v,b=t.itemName,x=t.itemActivity,_=(t.componentRef,t.className),C=t.tileSize,w=void 0===C?"large":C,S=(t.contentSize,t.ariaLabel),k=t.descriptionAriaLabel,T=t.href,E=t.onClick,P=t.download,I=t.hrefLang,A=t.media,R=t.rel,L=t.target,M=t.isFluentStyling,B=t.ariaLabelSelected,O=t.nameplateOnlyOnHover,F=t.disabled,D=void 0!==F&&F,N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["children","selectionIndex","invokeSelection","selection","background","foreground","showBackgroundFrame","showForegroundFrame","hideBackground","hideForeground","itemName","itemActivity","componentRef","className","tileSize","contentSize","ariaLabel","descriptionAriaLabel","href","onClick","download","hrefLang","media","rel","target","isFluentStyling","ariaLabelSelected","nameplateOnlyOnHover","disabled"]),U=this.state,z=U.isSelected,j=void 0!==z&&z,V=U.isModal,W=void 0!==V&&V,H=this.props.isSelectable,q=void 0===H?!D&&!!a&&r>-1:H,K=(!!T||!!E||!!i)&&!W,G=j&&B?S+", "+B:S,Z=l.createElement(l.Fragment,null,S?l.createElement("span",{key:"label",id:this._labelId,className:hn("ms-Tile-label",cr)},G):null,u?this._onRenderBackground({background:u,hideBackground:g}):null,c?this._onRenderForeground({foreground:c,hideForeground:y}):null,b||x?this._onRenderNameplate({name:b,activity:x,onlyOnHover:!!O}):null),X=T?"a":E?"button":"span",Y=l.createElement(X,{href:T,onClick:E,download:P,hrefLang:I,media:A,target:L,rel:void 0===R?T&&L?"noopener":void 0:R,ref:this.props.linkRef,"data-selection-invoke":!!(K&&r>-1)||void 0,className:hn("ms-Tile-link",Wr.link)},Z);return l.createElement("div",s({"aria-selected":j},fn(N,pn),{"aria-labelledby":S?this._labelId:this._nameId,"aria-describedby":G||k?this._descriptionId:this._activityId,"aria-disabled":D||void 0,className:hn("ms-Tile",_,Wr.tile,(e={},e["ms-Tile--isSmall "+Wr.isSmall]="small"===w,e["ms-Tile--isLarge "+Wr.isLarge]="large"===w,e["ms-Tile--hasBackgroundFrame "+Wr.hasBackgroundFrame]=p,e["ms-Tile--hasForegroundFrame "+Wr.hasForegroundFrame]=h,e["ms-Tile--isSelected "+Wr.selected+" "+Hr.selected]=j,e["ms-Tile--isSelectable "+Wr.selectable]=q,e["ms-Tile--hasBackground "+Wr.hasBackground]=!!u,e[Hr.dark]=!!u&&!g,e["ms-Tile--showBackground "+Wr.showBackground]=!g,e["ms-Tile--invokable "+Wr.invokable]=K,e["ms-Tile--uninvokable "+Wr.uninvokable]=!K,e["ms-Tile--isDisabled "+Wr.disabled]=D,e["ms-Tile--showCheck "+Wr.showCheck]=W,e["ms-Tile--isFluentStyling "+Wr.isFluentStyling]=M,e)),"data-selection-disabled":D||void 0,"data-is-focusable":!0,"data-is-sub-focuszone":!0,"data-disable-click-on-enter":!0,"data-selection-index":r>-1?r:void 0,"data-selection-touch-invoke":!!(K&&r>-1)||void 0}),Y,k?l.createElement("span",{key:"description",role:"presentation",hidden:!0,id:this._descriptionId},k):null,q?this._onRenderCheck({isSelected:j}):null)},t.prototype._onRenderBackground=function(e){var t,n=e.background,r=e.hideBackground,o="function"===typeof n?n(Qr(this.props)):n;return o?l.createElement("span",{key:"background",className:hn("ms-Tile-background",Wr.background,(t={},t["ms-Tile-background--hide "+Wr.backgroundHide]=r,t))},o):null},t.prototype._onRenderForeground=function(e){var t,n=e.foreground,r=e.hideForeground,o="function"===typeof n?n(Qr(this.props)):n;return o?l.createElement("span",{key:"foreground",role:"presentation",className:hn("ms-Tile-aboveNameplate",Wr.aboveNameplate)},l.createElement("span",{role:"presentation",className:hn("ms-Tile-content",Wr.content)},l.createElement("span",{role:"presentation",className:hn("ms-Tile-foreground",Wr.foreground,(t={},t["ms-Tile-foreground--hide "+Wr.foregroundHide]=r,t))},o))):null},t.prototype._onRenderNameplate=function(e){var t,n,r,o=e.name,i=e.activity,a=e.onlyOnHover;return l.createElement("span",{key:"nameplate",className:hn("ms-Tile-nameplate",Wr.nameplate,(t={},t[Wr.onlyOnHover]=a,t))},o?l.createElement("span",{id:this._nameId,className:hn("ms-Tile-name",Wr.name,(n={},n[Wr.onlyOnHover]=a,n))},o):null,i?l.createElement("span",{id:this._activityId,className:hn("ms-Tile-activity",Wr.activity,(r={},r[Wr.onlyOnHover]=a,r))},i):null)},t.prototype._onRenderCheck=function(e){var t,n=e.isSelected,r=this.props.toggleSelectionAriaLabel;return l.createElement("span",{key:"check",role:"checkbox","aria-label":r,className:hn("ms-Tile-check",Wr.check,qr.checkHost,(t={},t[qr.hostShowCheck]=this.state.isModal,t)),"data-selection-toggle":!0,"aria-checked":n},l.createElement(Vn,{checked:n}))},t}(l.Component);function Qr(e){var t=e.contentSize,n=e.tileSize,r=void 0===n?"large":n;if(!t)return{};var o=t.width,i=Xr[r],a=i.nameplatePadding,s=i.nameplateMargin,l=i.nameplateActivityHeight,u=i.nameplateNameHeight,c=i.foregroundMargin,d=0;return(e.itemName||e.itemActivity)&&(d+=2*a,e.itemName&&(d+=u),e.itemActivity&&(d+=l+s)),{foregroundSize:{width:o-2*c,height:t.height-c-d},backgroundSize:t}}},92262:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});var r=n(80163);function o(e,t,n){for(var o=(0,r.x)(e.format),i=new Uint8ClampedArray(n.width*n.height*o),a=(t-n.width)*o,s=n.width*o,l=0,u=(n.top*t+n.left)*o;l<i.length;)i.set(e.bytes.subarray(u,u+s),l),l+=s,u+=s+a;return{bytes:i,format:e.format}}},92541:(e,t,n)=>{"use strict";n.d(t,{P:()=>r,r:()=>o});var r=function(e,t,n){return t<n?e<t||e>n:e<n||e>t},o=function(e,t){return r(e.x,t.left,t.right)||r(e.y,t.top,t.bottom)}},93286:(e,t,n)=>{"use strict";var r;n.d(t,{B:()=>o,p:()=>r}),function(e){e.Pen="Pen",e.Highlighter="Highlighter"}(r||(r={}));var o=function(e){return Object.keys(r).includes(e)}},93616:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r=5},93781:(e,t,n)=>{"use strict";n.d(t,{ZY:()=>a,_0:()=>o,ox:()=>i});var r=n(9950),o=r.createContext({window:"object"===typeof window?window:void 0}),i=function(){return r.useContext(o).window},a=function(){var e;return null===(e=r.useContext(o).window)||void 0===e?void 0:e.document}},94178:(e,t,n)=>{"use strict";n.d(t,{Y:()=>u});var r=n(9950),o=n(30147);(0,n(97150).hN)([{rawString:".bodyContainer_a6c31b3d{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:24px 0}.bodyContainer_a6c31b3d .rowContainer_a6c31b3d{width:100%}.bodyContainer_a6c31b3d .row_a6c31b3d{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.bodyContainer_a6c31b3d .lastRowWithFewerItems_a6c31b3d{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}"}]);const i="bodyContainer_a6c31b3d",a="rowContainer_a6c31b3d",s="row_a6c31b3d",l="lastRowWithFewerItems_a6c31b3d";var u=(0,r.memo)((function(e){var t=e.tiles,n=e.size,u=e.shouldShowActionsComponentInRow,c=e.ariaLabel,d=e.title,p=e.actionsComponent,f=e.header,h=e.footer,m=e.children,g=e.numOfTilesPerRow,v=e.setNumOfTilesPerRow,y=e.styles,b=e.tileRefs;(0,r.useLayoutEffect)((function(){for(var e,t,n,r=0;r<b.length;r++){var o=null===(t=null===(e=b[r])||void 0===e?void 0:e.current)||void 0===t?void 0:t.getBoundingClientRect();if(n&&o&&n.top<o.top)return void v(r);n=o}v(b.length)}),[v,b]);var x=t.map((function(e,t){return r.createElement("div",{ref:b[t],key:e.name,style:null===y||void 0===y?void 0:y.tile},e.element)})).reduce((function(e,t){return g&&e[e.length-1].length&&e[e.length-1].length===g&&e.push([]),e[e.length-1].push(t),e}),[[]]).map((function(e,t,n){var o=n.length-1===t,i=o&&e.length!==n[0].length;return r.createElement("div",{key:t,className:a},r.createElement("div",{className:"".concat(s," ").concat(i?l:""),style:null===y||void 0===y?void 0:y.row},e),u(e,o)&&p&&p)}));return r.createElement(o.e,{size:n,styles:y,header:f,footer:h},m,r.createElement("section",{"aria-label":c,role:"group"},r.createElement("div",{className:i,style:null===y||void 0===y?void 0:y.bodyContainer,role:"listbox",title:d},x)))}))},94271:(e,t,n)=>{"use strict";function r(){var e=function(){},t=new Promise((function(t){return e=t}));return window.requestAnimationFrame(e),t}n.d(t,{y:()=>r})},94925:(e,t,n)=>{"use strict";n.d(t,{N:()=>m});var r=n(69187),o=n(37827),i=n(9950),a=n(3753),s=n(56624),l=n(35606),u=(0,s.Z)(),c=function(e,t){i.useImperativeHandle(e.componentRef,(function(){return{focus:function(){t.current&&t.current.focus()}}}),[t])},d=function(e,t){t.as;var n=t.disabled,r=t.target,i=t.href,a=(t.theme,t.getStyles,t.styles,t.componentRef,t.underline,(0,o.Tt)(t,["as","disabled","target","href","theme","getStyles","styles","componentRef","underline"]));return"string"===typeof e?"a"===e?(0,o.Cl)({target:r,href:n?void 0:i},a):"button"===e?(0,o.Cl)({type:"button",disabled:n},a):(0,o.Cl)((0,o.Cl)({},a),{disabled:n}):(0,o.Cl)({target:r,href:i,disabled:n},a)},p=i.forwardRef((function(e,t){var n=function(e,t){var n=e.as,r=e.className,s=e.disabled,p=e.href,f=e.onClick,h=e.styles,m=e.theme,g=e.underline,v=i.useRef(null),y=(0,a.a)(v,t);c(e,v),(0,l.vk)(v);var b=u(h,{className:r,isButton:!p,isDisabled:s,isUnderlined:g,theme:m}),x=n||(p?"a":"button");return{state:{},slots:{root:x},slotProps:{root:(0,o.Cl)((0,o.Cl)({},d(x,e)),{"aria-disabled":s,className:b.root,onClick:function(e){s?e.preventDefault():f&&f(e)},ref:y})}}}(e,t),r=n.slots,s=n.slotProps;return i.createElement(r.root,(0,o.Cl)({},s.root))}));p.displayName="LinkBase";var f=n(32e3),h={root:"ms-Link"},m=(0,r.I)(p,(function(e){var t,n,r,o,i,a,s,l=e.className,u=e.isButton,c=e.isDisabled,d=e.isUnderlined,p=e.theme,m=p.semanticColors,g=m.link,v=m.linkHovered,y=m.disabledText,b=m.focusBorder,x=(0,f.Km)(h,p);return{root:[x.root,p.fonts.medium,{color:g,outline:"none",fontSize:"inherit",fontWeight:"inherit",textDecoration:d?"underline":"none",selectors:(t={".ms-Fabric--isFocusVisible &:focus":{boxShadow:"0 0 0 1px "+b+" inset",outline:"1px auto "+b,selectors:(n={},n[f.up]={outline:"1px solid WindowText"},n)}},t[f.up]={borderBottom:"none"},t)},u&&{background:"none",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"inline",margin:0,overflow:"inherit",padding:0,textAlign:"left",textOverflow:"inherit",userSelect:"text",borderBottom:"1px solid transparent",selectors:(r={},r[f.up]={color:"LinkText",forcedColorAdjust:"none"},r)},!u&&{selectors:(o={},o[f.up]={MsHighContrastAdjust:"auto",forcedColorAdjust:"auto"},o)},c&&["is-disabled",{color:y,cursor:"default"},{selectors:(i={"&:link, &:visited":{pointerEvents:"none"}},i[f.up]={color:"GrayText"},i)}],!c&&{selectors:{"&:active, &:hover, &:active:hover":{color:v,textDecoration:"underline",selectors:(a={},a[f.up]={color:"LinkText"},a)},"&:focus":{color:g,selectors:(s={},s[f.up]={color:"LinkText"},s)}}},x.root,l]}}),void 0,{scope:"Link"})},94991:(e,t,n)=>{"use strict";n.d(t,{G:()=>r,Y:()=>o});var r=function(e){return e.texturePatchAlgorithmUI.texturePatchAlgorithmUIParametersByActivity[e.texturePatchAlgorithmUI.currentActivityKey].applyOnPointerUp},o=function(e){return e.texturePatchAlgorithmUI.texturePatchAlgorithmUIParametersByActivity[e.texturePatchAlgorithmUI.currentActivityKey].algorithmParameters}},95004:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r=n(9950);function o(e){var t=r.useRef();return void 0===t.current&&(t.current={value:"function"===typeof e?e():e}),t.current.value}},95143:(e,t,n)=>{"use strict";n.d(t,{n:()=>d});var r,o=n(37827),i=0,a=1,s=2,l="__stylesheet__",u="undefined"!==typeof navigator&&/rv:11.0/.test(navigator.userAgent),c={};try{c=window||{}}catch(p){}var d=function(){function e(e,t){var n,r,s,l,u,c;this._rules=[],this._preservedRules=[],this._counter=0,this._keyToClassName={},this._onInsertRuleCallbacks=[],this._onResetCallbacks=[],this._classNameToArgs={},this._config=(0,o.Cl)({injectionMode:"undefined"===typeof document?i:a,defaultPrefix:"css",namespace:void 0,cspSettings:void 0},e),this._classNameToArgs=null!==(n=null===t||void 0===t?void 0:t.classNameToArgs)&&void 0!==n?n:this._classNameToArgs,this._counter=null!==(r=null===t||void 0===t?void 0:t.counter)&&void 0!==r?r:this._counter,this._keyToClassName=null!==(l=null!==(s=this._config.classNameCache)&&void 0!==s?s:null===t||void 0===t?void 0:t.keyToClassName)&&void 0!==l?l:this._keyToClassName,this._preservedRules=null!==(u=null===t||void 0===t?void 0:t.preservedRules)&&void 0!==u?u:this._preservedRules,this._rules=null!==(c=null===t||void 0===t?void 0:t.rules)&&void 0!==c?c:this._rules}return e.getInstance=function(){if(!(r=c[l])||r._lastStyleElement&&r._lastStyleElement.ownerDocument!==document){var t=(null===c||void 0===c?void 0:c.FabricConfig)||{},n=new e(t.mergeStyles,t.serializedStylesheet);r=n,c[l]=n}return r},e.prototype.serialize=function(){return JSON.stringify({classNameToArgs:this._classNameToArgs,counter:this._counter,keyToClassName:this._keyToClassName,preservedRules:this._preservedRules,rules:this._rules})},e.prototype.setConfig=function(e){this._config=(0,o.Cl)((0,o.Cl)({},this._config),e)},e.prototype.onReset=function(e){var t=this;return this._onResetCallbacks.push(e),function(){t._onResetCallbacks=t._onResetCallbacks.filter((function(t){return t!==e}))}},e.prototype.onInsertRule=function(e){var t=this;return this._onInsertRuleCallbacks.push(e),function(){t._onInsertRuleCallbacks=t._onInsertRuleCallbacks.filter((function(t){return t!==e}))}},e.prototype.getClassName=function(e){var t=this._config.namespace,n=e||this._config.defaultPrefix;return"".concat(t?t+"-":"").concat(n,"-").concat(this._counter++)},e.prototype.cacheClassName=function(e,t,n,r){this._keyToClassName[t]=e,this._classNameToArgs[e]={args:n,rules:r}},e.prototype.classNameFromKey=function(e){return this._keyToClassName[e]},e.prototype.getClassNameCache=function(){return this._keyToClassName},e.prototype.argsFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.args},e.prototype.insertedRulesFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.rules},e.prototype.insertRule=function(e,t){var n=this._config.injectionMode,r=n!==i?this._getStyleElement():void 0;if(t&&this._preservedRules.push(e),r)switch(n){case a:var o=r.sheet;try{o.insertRule(e,o.cssRules.length)}catch(l){}break;case s:r.appendChild(document.createTextNode(e))}else this._rules.push(e);this._config.onInsertRule&&this._config.onInsertRule(e),this._onInsertRuleCallbacks.forEach((function(e){return e()}))},e.prototype.getRules=function(e){return(e?this._preservedRules.join(""):"")+this._rules.join("")},e.prototype.reset=function(){this._rules=[],this._counter=0,this._classNameToArgs={},this._keyToClassName={},this._onResetCallbacks.forEach((function(e){return e()}))},e.prototype.resetKeys=function(){this._keyToClassName={}},e.prototype._getStyleElement=function(){var e=this;return this._styleElement||"undefined"===typeof document||(this._styleElement=this._createStyleElement(),u||window.requestAnimationFrame((function(){e._styleElement=void 0}))),this._styleElement},e.prototype._createStyleElement=function(){var e=document.head,t=document.createElement("style"),n=null;t.setAttribute("data-merge-styles","true");var r=this._config.cspSettings;if(r&&r.nonce&&t.setAttribute("nonce",r.nonce),this._lastStyleElement)n=this._lastStyleElement.nextElementSibling;else{var o=this._findPlaceholderStyleTag();n=o?o.nextElementSibling:e.childNodes[0]}return e.insertBefore(t,e.contains(n)?n:null),this._lastStyleElement=t,t},e.prototype._findPlaceholderStyleTag=function(){var e=document.head;return e?e.querySelector("style[data-merge-styles]"):null},e}()},95164:(e,t,n)=>{"use strict";n.d(t,{HH:()=>i,wj:()=>a});var r=n(9950),o=(0,r.createContext)((function(e){})),i=r.memo((function(e){var t=e.onError,n=e.children;return r.createElement(o.Provider,{value:t},n)}));function a(){return(0,r.useContext)(o)}},95208:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var r=n(41646);function o(e,t){return function(n,o,i,a,s,l,u){var c=(0,r.q)(n,t);return e(c,o,i,a,s,l,u)}}},95261:(e,t,n)=>{"use strict";function r(e,t){for(var n=[],r=0,o=t;r<o.length;r++){var i=e[o[r]];i&&n.push(i)}return n}n.d(t,{D:()=>r})},95288:(e,t,n)=>{"use strict";n.d(t,{B:()=>_});var r=n(37827),o=n(9950),i=n(34528),a=n(36970),s=n(43960),l=n(28225),u=n(23501),c=n(32e3),d={root:"ms-StackItem"},p={start:"flex-start",end:"flex-end"},f=function(e,t){return t.spacing.hasOwnProperty(e)?t.spacing[e]:e},h=function(e){var t=parseFloat(e),n=isNaN(t)?0:t,r=isNaN(t)?"":t.toString();return{value:n,unit:e.substring(r.toString().length)||"px"}},m=function(e,t){if(void 0===e||"number"===typeof e||""===e)return e;var n=e.split(" ");return n.length<2?f(e,t):n.reduce((function(e,n){return f(e,t)+" "+f(n,t)}))},g={start:"flex-start",end:"flex-end"},v={root:"ms-Stack",inner:"ms-Stack-inner",child:"ms-Stack-child"},y=(0,a.a)((function(e){var t=e.children,n=(0,l.G1)(e,l.vt);if(null==t)return null;var o=(0,i.Sk)(e,{root:"div"});return(0,i.WL)(o.root,(0,r.Cl)({},n),t)}),{displayName:"StackItem",styles:function(e,t,n){var r=e.grow,o=e.shrink,i=e.disableShrink,a=e.align,s=e.verticalFill,l=e.order,u=e.className,f=e.basis,h=void 0===f?"auto":f,m=(0,c.Km)(d,t);return{root:[t.fonts.medium,m.root,{flexBasis:h,margin:n.margin,padding:n.padding,height:s?"100%":"auto",width:"auto"},r&&{flexGrow:!0===r?1:r},(i||!r&&!o)&&{flexShrink:0},o&&!i&&{flexShrink:1},a&&{alignSelf:p[a]||a},l&&{order:l},u]}}});function b(e,t){var n=t.disableShrink,i=t.enableScopedSelectors,a=o.Children.toArray(e);return a=o.Children.map(a,(function(e){if(!e||!o.isValidElement(e))return e;if(e.type===o.Fragment)return e.props.children?b(e.props.children,{disableShrink:n,enableScopedSelectors:i}):null;var t,a=e,s={};return(t=e)&&"object"===typeof t&&t.type&&t.type.displayName===y.displayName&&(s={shrink:!n}),o.cloneElement(a,(0,r.Cl)((0,r.Cl)((0,r.Cl)({},s),a.props),{className:i?(0,u.A)(v.child,a.props.className):a.props.className}))}))}var x={Item:y},_=(0,a.a)((function(e){var t=e.as,n=void 0===t?"div":t,o=e.disableShrink,a=void 0!==o&&o,u=e.enableScopedSelectors,c=void 0!==u&&u,d=e.wrap,p=(0,r.Tt)(e,["as","disableShrink","enableScopedSelectors","wrap"]);(0,s.A)("Stack",e,{gap:"tokens.childrenGap",maxHeight:"tokens.maxHeight",maxWidth:"tokens.maxWidth",padding:"tokens.padding"});var f=b(e.children,{disableShrink:a,enableScopedSelectors:c}),h=(0,l.G1)(p,l.vt),m=(0,i.Sk)(e,{root:n,inner:"div"});return d?(0,i.WL)(m.root,(0,r.Cl)({},h),(0,i.WL)(m.inner,null,f)):(0,i.WL)(m.root,(0,r.Cl)({},h),f)}),{displayName:"Stack",styles:function(e,t,n){var o,i,a,s,l,u,p,y,b,x,_,C,w,S=e.className,k=e.disableShrink,T=e.enableScopedSelectors,E=e.grow,P=e.horizontal,I=e.horizontalAlign,A=e.reversed,R=e.verticalAlign,L=e.verticalFill,M=e.wrap,B=(0,c.Km)(v,t),O=n&&n.childrenGap?n.childrenGap:e.gap,F=n&&n.maxHeight?n.maxHeight:e.maxHeight,D=n&&n.maxWidth?n.maxWidth:e.maxWidth,N=n&&n.padding?n.padding:e.padding,U=function(e,t){if(void 0===e||""===e)return{rowGap:{value:0,unit:"px"},columnGap:{value:0,unit:"px"}};if("number"===typeof e)return{rowGap:{value:e,unit:"px"},columnGap:{value:e,unit:"px"}};var n=e.split(" ");if(n.length>2)return{rowGap:{value:0,unit:"px"},columnGap:{value:0,unit:"px"}};if(2===n.length)return{rowGap:h(f(n[0],t)),columnGap:h(f(n[1],t))};var r=h(f(e,t));return{rowGap:r,columnGap:r}}(O,t),z=U.rowGap,j=U.columnGap,V=""+-.5*j.value+j.unit,W=""+-.5*z.value+z.unit,H={textOverflow:"ellipsis"},q="> "+(T?"."+v.child:"*"),K=((o={})[q+":not(."+d.root+")"]={flexShrink:0},o);return M?{root:[B.root,{flexWrap:"wrap",maxWidth:D,maxHeight:F,width:"auto",overflow:"visible",height:"100%"},I&&(i={},i[P?"justifyContent":"alignItems"]=g[I]||I,i),R&&(a={},a[P?"alignItems":"justifyContent"]=g[R]||R,a),S,{display:"flex"},P&&{height:L?"100%":"auto"}],inner:[B.inner,(s={display:"flex",flexWrap:"wrap",marginLeft:V,marginRight:V,marginTop:W,marginBottom:W,overflow:"visible",boxSizing:"border-box",padding:m(N,t),width:0===j.value?"100%":"calc(100% + "+j.value+j.unit+")",maxWidth:"100vw"},s[q]=(0,r.Cl)({margin:""+.5*z.value+z.unit+" "+.5*j.value+j.unit},H),s),k&&K,I&&(l={},l[P?"justifyContent":"alignItems"]=g[I]||I,l),R&&(u={},u[P?"alignItems":"justifyContent"]=g[R]||R,u),P&&(p={flexDirection:A?"row-reverse":"row",height:0===z.value?"100%":"calc(100% + "+z.value+z.unit+")"},p[q]={maxWidth:0===j.value?"100%":"calc(100% - "+j.value+j.unit+")"},p),!P&&(y={flexDirection:A?"column-reverse":"column",height:"calc(100% + "+z.value+z.unit+")"},y[q]={maxHeight:0===z.value?"100%":"calc(100% - "+z.value+z.unit+")"},y)]}:{root:[B.root,(b={display:"flex",flexDirection:P?A?"row-reverse":"row":A?"column-reverse":"column",flexWrap:"nowrap",width:"auto",height:L?"100%":"auto",maxWidth:D,maxHeight:F,padding:m(N,t),boxSizing:"border-box"},b[q]=H,b),k&&K,E&&{flexGrow:!0===E?1:E},I&&(x={},x[P?"justifyContent":"alignItems"]=g[I]||I,x),R&&(_={},_[P?"alignItems":"justifyContent"]=g[R]||R,_),P&&j.value>0&&(C={},C[A?q+":not(:last-child)":q+":not(:first-child)"]={marginLeft:""+j.value+j.unit},C),!P&&z.value>0&&(w={},w[A?q+":not(:last-child)":q+":not(:first-child)"]={marginTop:""+z.value+z.unit},w),S]}},statics:x})},95306:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var r=n(48932);function o(e,t,n,o,i){return o===r.ef||"number"!==typeof o?"#"+i:"rgba("+e+", "+t+", "+n+", "+o/r.ef+")"}},95673:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(31214),o=void 0;try{o=window}catch(a){}function i(e){if((0,r.S)()&&"undefined"!==typeof o){var t=e;return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:o}}},95696:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(72684),o=n(95673);var i,a=n(86685),s="language";function l(e){if(void 0===e&&(e="sessionStorage"),void 0===i){var t=(0,r.Y)(),n="localStorage"===e?function(e){var t=null;try{var n=(0,o.z)();t=n?n.localStorage.getItem(e):null}catch(r){}return t}(s):"sessionStorage"===e?a.G(s):void 0;n&&(i=n),void 0===i&&t&&(i=t.documentElement.getAttribute("lang")),void 0===i&&(i="en")}return i}},95709:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var r=(0,n(9950).createContext)({invokeInPaintingAction:void 0,invokeInPaintingActionWithAlgorithmParameters:void 0})},95988:(e,t,n)=>{"use strict";n.d(t,{S:()=>x});var r=n(69187),o=n(37827),i=n(9950),a=n(88114),s=n(3753),l=n(69175),u=n(56624),c=n(35606),d=n(610),p=(0,u.Z)(),f=i.forwardRef((function(e,t){var n=e.disabled,r=e.required,u=e.inputProps,f=e.name,h=e.ariaLabel,m=e.ariaLabelledBy,g=e.ariaDescribedBy,v=e.ariaPositionInSet,y=e.ariaSetSize,b=e.title,x=e.checkmarkIconProps,_=e.styles,C=e.theme,w=e.className,S=e.boxSide,k=void 0===S?"start":S,T=(0,a.B)("checkbox-",e.id),E=i.useRef(null),P=(0,s.a)(E,t),I=i.useRef(null),A=(0,l.k)(e.checked,e.defaultChecked,e.onChange),R=A[0],L=A[1],M=(0,l.k)(e.indeterminate,e.defaultIndeterminate),B=M[0],O=M[1];(0,c.vk)(E);var F=p(_,{theme:C,className:w,disabled:n,indeterminate:B,checked:R,reversed:"start"!==k,isUsingCustomLabelRender:!!e.onRenderLabel}),D=i.useCallback((function(e){B?(L(!!R,e),O(!1)):L(!R,e)}),[L,O,B,R]),N=i.useCallback((function(e){return e&&e.label?i.createElement("span",{className:F.text,title:e.title},e.label):null}),[F.text]),U=i.useCallback((function(e){if(I.current){var t=!!e;I.current.indeterminate=t,O(t)}}),[O]);!function(e,t,n,r,o){i.useImperativeHandle(e.componentRef,(function(){return{get checked(){return!!t},get indeterminate(){return!!n},set indeterminate(e){r(e)},focus:function(){o.current&&o.current.focus()}}}),[o,t,n,r])}(e,R,B,U,I),i.useEffect((function(){return U(B)}),[U,B]);var z=e.onRenderLabel||N,j=B?"mixed":void 0,V=(0,o.Cl)((0,o.Cl)({className:F.input,type:"checkbox"},u),{checked:!!R,disabled:n,required:r,name:f,id:T,title:b,onChange:D,"aria-disabled":n,"aria-label":h,"aria-labelledby":m,"aria-describedby":g,"aria-posinset":v,"aria-setsize":y,"aria-checked":j});return i.createElement("div",{className:F.root,title:b,ref:P},i.createElement("input",(0,o.Cl)({},V,{ref:I,title:b,"data-ktp-execute-target":!0})),i.createElement("label",{className:F.label,htmlFor:T},i.createElement("div",{className:F.checkbox,"data-ktp-target":!0},i.createElement(d.I,(0,o.Cl)({iconName:"CheckMark"},x,{className:F.checkmark}))),z(e,N)))}));f.displayName="CheckboxBase";var h=n(32e3),m=n(25380),g={root:"ms-Checkbox",label:"ms-Checkbox-label",checkbox:"ms-Checkbox-checkbox",checkmark:"ms-Checkbox-checkmark",text:"ms-Checkbox-text"},v="20px",y="200ms",b="cubic-bezier(.4, 0, .23, 1)",x=(0,r.I)(f,(function(e){var t,n,r,i,a,s,l,u,c,d,p,f,x,_,C,w,S,k,T=e.className,E=e.theme,P=e.reversed,I=e.checked,A=e.disabled,R=e.isUsingCustomLabelRender,L=e.indeterminate,M=E.semanticColors,B=E.effects,O=E.palette,F=E.fonts,D=(0,h.Km)(g,E),N=M.inputForegroundChecked,U=O.neutralSecondary,z=O.neutralPrimary,j=M.inputBackgroundChecked,V=M.inputBackgroundChecked,W=M.disabledBodySubtext,H=M.inputBorderHovered,q=M.inputBackgroundCheckedHovered,K=M.inputBackgroundChecked,G=M.inputBackgroundCheckedHovered,Z=M.inputBackgroundCheckedHovered,X=M.inputTextHovered,Y=M.disabledBodySubtext,Q=M.bodyText,J=M.disabledText,$=[(t={content:'""',borderRadius:B.roundedCorner2,position:"absolute",width:10,height:10,top:4,left:4,boxSizing:"border-box",borderWidth:5,borderStyle:"solid",borderColor:A?W:j,transitionProperty:"border-width, border, border-color",transitionDuration:y,transitionTimingFunction:b},t[h.up]={borderColor:"WindowText"},t)];return{root:[D.root,{position:"relative",display:"flex"},P&&"reversed",I&&"is-checked",!A&&"is-enabled",A&&"is-disabled",!A&&[!I&&(n={},n[":hover ."+D.checkbox]=(r={borderColor:H},r[h.up]={borderColor:"Highlight"},r),n[":focus ."+D.checkbox]={borderColor:H},n[":hover ."+D.checkmark]=(i={color:U,opacity:"1"},i[h.up]={color:"Highlight"},i),n),I&&!L&&(a={},a[":hover ."+D.checkbox]={background:G,borderColor:Z},a[":focus ."+D.checkbox]={background:G,borderColor:Z},a[h.up]=(s={},s[":hover ."+D.checkbox]={background:"Highlight",borderColor:"Highlight"},s[":focus ."+D.checkbox]={background:"Highlight"},s[":focus:hover ."+D.checkbox]={background:"Highlight"},s[":focus:hover ."+D.checkmark]={color:"Window"},s[":hover ."+D.checkmark]={color:"Window"},s),a),L&&(l={},l[":hover ."+D.checkbox+", :hover ."+D.checkbox+":after"]=(u={borderColor:q},u[h.up]={borderColor:"WindowText"},u),l[":focus ."+D.checkbox]={borderColor:q},l[":hover ."+D.checkmark]={opacity:"0"},l),(c={},c[":hover ."+D.text+", :focus ."+D.text]=(d={color:X},d[h.up]={color:A?"GrayText":"WindowText"},d),c)],T],input:(p={position:"absolute",background:"none",opacity:0},p["."+m.Y2+" &:focus + label::before"]=(f={outline:"1px solid "+E.palette.neutralSecondary,outlineOffset:"2px"},f[h.up]={outline:"1px solid WindowText"},f),p),label:[D.label,E.fonts.medium,{display:"flex",alignItems:R?"center":"flex-start",cursor:A?"default":"pointer",position:"relative",userSelect:"none"},P&&{flexDirection:"row-reverse",justifyContent:"flex-end"},{"&::before":{position:"absolute",left:0,right:0,top:0,bottom:0,content:'""',pointerEvents:"none"}}],checkbox:[D.checkbox,(x={position:"relative",display:"flex",flexShrink:0,alignItems:"center",justifyContent:"center",height:v,width:v,border:"1px solid "+z,borderRadius:B.roundedCorner2,boxSizing:"border-box",transitionProperty:"background, border, border-color",transitionDuration:y,transitionTimingFunction:b,overflow:"hidden",":after":L?$:null},x[h.up]=(0,o.Cl)({borderColor:"WindowText"},(0,h.Qg)()),x),L&&{borderColor:j},P?{marginLeft:4}:{marginRight:4},!A&&!L&&I&&(_={background:K,borderColor:V},_[h.up]={background:"Highlight",borderColor:"Highlight"},_),A&&(C={borderColor:W},C[h.up]={borderColor:"GrayText"},C),I&&A&&(w={background:Y,borderColor:W},w[h.up]={background:"Window"},w)],checkmark:[D.checkmark,(S={opacity:I&&!L?"1":"0",color:N},S[h.up]=(0,o.Cl)({color:A?"GrayText":"Window"},(0,h.Qg)()),S)],text:[D.text,(k={color:A?J:Q,fontSize:F.medium.fontSize,lineHeight:"20px"},k[h.up]=(0,o.Cl)({color:A?"GrayText":"WindowText"},(0,h.Qg)()),k),P?{marginRight:4}:{marginLeft:4}]}}),void 0,{scope:"Checkbox"})},96042:(e,t,n)=>{"use strict";n.d(t,{J5:()=>d,J9:()=>c});var r=n(95143),o=!1,i=0,a={empty:!0},s={},l="undefined"===typeof WeakMap?null:WeakMap;function u(){i++}function c(e,t,n){if(void 0===t&&(t=100),void 0===n&&(n=!1),!l)return e;if(!o){var a=r.n.getInstance();a&&a.onReset&&r.n.getInstance().onReset(u),o=!0}var s,c=0,d=i;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var a=s;(void 0===s||d!==i||t>0&&c>t)&&(s=f(),c=0,d=i),a=s;for(var l=0;l<r.length;l++){var u=p(r[l]);a.map.has(u)||a.map.set(u,f()),a=a.map.get(u)}return a.hasOwnProperty("value")||(a.value=e.apply(void 0,r),c++),!n||null!==a.value&&void 0!==a.value||(a.value=e.apply(void 0,r)),a.value}}function d(e){if(!l)return e;var t=new l;return function(n){if(!n||"function"!==typeof n&&"object"!==typeof n)return e(n);if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}function p(e){return e?"object"===typeof e||"function"===typeof e?e:(s[e]||(s[e]={val:e}),s[e]):a}function f(){return{map:l?new l:null}}},96631:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var r=n(34745),o=n(81552),i=n(36058),a=n(80163);function s(e,t,n,s,l){if(e.format!==t.format)throw new Error("target and source bytes need the same format when blending");for(var u=(0,a.x)(e.format),c=(0,a.x)(n.format),d=(0,i.O)(n.format),p=e.bytes.length/u,f=0;f<p;f++){var h=f*u,m=f*c+d,g=n.bytes[m];if(null===l||void 0===l||l(h),"max"===s&&(e.bytes[f]=Math.max(e.bytes[f],t.bytes[f])),g!==o.yt)for(var v=g/255,y=0;y<u;y++){var b=h+y;e.bytes[b]=Math.round((0,r.Cc)(t.bytes[b],e.bytes[b],v))}}}},96992:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n(53360),o=function(e,t,n){if(e===t)return!0;if(typeof e!==typeof t)return!1;if(null==e||null==t)return!1;if("boolean"===typeof e||"string"===typeof e)return e===t;if("number"===typeof e&&"number"===typeof t)return(0,r.J)(e,t,n);for(var i=Object.keys(e),a=Object.keys(t),s=i.concat(a.filter((function(e){return!i.includes(e)}))),l=0;l<s.length;l++){var u=s[l];if(!o(e[u],t[u],n))return!1}return!0}},97150:(e,t,n)=>{"use strict";n.d(t,{EQ:()=>p,hN:()=>c});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o="undefined"===typeof window?n.g:window,i=o&&o.CSPSettings&&o.CSPSettings.nonce,a=function(){var e=o.__themeState__||{theme:void 0,lastStyleElement:void 0,registeredStyles:[]};e.runState||(e=r(r({},e),{perf:{count:0,duration:0},runState:{flushTimer:0,mode:0,buffer:[]}}));e.registeredThemableStyles||(e=r(r({},e),{registeredThemableStyles:[]}));return o.__themeState__=e,e}(),s=/[\'\"]\[theme:\s*(\w+)\s*(?:\,\s*default:\s*([\\"\']?[\.\,\(\)\#\-\s\w]*[\.\,\(\)\#\-\w][\"\']?))?\s*\][\'\"]/g,l=function(){return"undefined"!==typeof performance&&performance.now?performance.now():Date.now()};function u(e){var t=l();e();var n=l();a.perf.duration+=n-t}function c(e,t){void 0===t&&(t=!1),u((function(){var n=Array.isArray(e)?e:m(e),r=a.runState,o=r.mode,i=r.buffer,s=r.flushTimer;t||1===o?(i.push(n),s||(a.runState.flushTimer=setTimeout((function(){a.runState.flushTimer=0,u((function(){var e=a.runState.buffer.slice();a.runState.buffer=[];var t=[].concat.apply([],e);t.length>0&&d(t)}))}),0))):d(n)}))}function d(e,t){a.loadStyles?a.loadStyles(h(e).styleString,e):function(e){if("undefined"===typeof document)return;var t=document.getElementsByTagName("head")[0],n=document.createElement("style"),r=h(e),o=r.styleString,s=r.themable;n.setAttribute("data-load-themed-styles","true"),i&&n.setAttribute("nonce",i);n.appendChild(document.createTextNode(o)),a.perf.count++,t.appendChild(n);var l=document.createEvent("HTMLEvents");l.initEvent("styleinsert",!0,!1),l.args={newStyle:n},document.dispatchEvent(l);var u={styleElement:n,themableStyle:e};s?a.registeredThemableStyles.push(u):a.registeredStyles.push(u)}(e)}function p(e){a.theme=e,function(){if(a.theme){for(var e=[],t=0,n=a.registeredThemableStyles;t<n.length;t++){var r=n[t];e.push(r.themableStyle)}e.length>0&&(!function(e){void 0===e&&(e=3);3!==e&&2!==e||(f(a.registeredStyles),a.registeredStyles=[]);3!==e&&1!==e||(f(a.registeredThemableStyles),a.registeredThemableStyles=[])}(1),d([].concat.apply([],e)))}}()}function f(e){e.forEach((function(e){var t=e&&e.styleElement;t&&t.parentElement&&t.parentElement.removeChild(t)}))}function h(e){var t=a.theme,n=!1;return{styleString:(e||[]).map((function(e){var r=e.theme;if(r){n=!0;var o=t?t[r]:void 0,i=e.defaultValue||"inherit";return t&&!o&&console&&!(r in t)&&"undefined"!==typeof DEBUG&&DEBUG&&console.warn('Theming value not provided for "'.concat(r,'". Falling back to "').concat(i,'".')),o||i}return e.rawString})).join(""),themable:n}}function m(e){var t=[];if(e){for(var n=0,r=void 0;r=s.exec(e);){var o=r.index;o>n&&t.push({rawString:e.substring(n,o)}),t.push({theme:r[1],defaultValue:r[2]}),n=s.lastIndex}t.push({rawString:e.substring(n)})}return t}},97351:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var r=n(73050),o=n(36386),i=n(26759),a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function s(e){var t=(0,i.ss)(e);t.undoRedoStack;return a(t,["undoRedoStack"])}function l(e,t,n,i,a){void 0===a&&(a=s);var l=a(e);i(e);var u=a(e),c=(0,o.Cy)(n,l,u,r.Z.KeepAll,t.undoGroupId);e.undoRedoStack.undoStack.push(c)}},97495:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var r="background"},97497:(e,t,n)=>{"use strict";n.d(t,{a:()=>ee});var r=n(37827),o=n(9950),i=n(44854),a=n(21191),s=n(68246),l=n(18746),u=n(28225),c="backward",d=function(e){function t(t){var n=e.call(this,t)||this;return n._inputElement=o.createRef(),n._autoFillEnabled=!0,n._onCompositionStart=function(e){n.setState({isComposing:!0}),n._autoFillEnabled=!1},n._onCompositionUpdate=function(){(0,i.l)()&&n._updateValue(n._getCurrentInputValue(),!0)},n._onCompositionEnd=function(e){var t=n._getCurrentInputValue();n._tryEnableAutofill(t,n.value,!1,!0),n.setState({isComposing:!1}),n._async.setTimeout((function(){n._updateValue(n._getCurrentInputValue(),!1)}),0)},n._onClick=function(){n.value&&""!==n.value&&n._autoFillEnabled&&(n._autoFillEnabled=!1)},n._onKeyDown=function(e){if(n.props.onKeyDown&&n.props.onKeyDown(e),!e.nativeEvent.isComposing)switch(e.which){case a.c.backspace:n._autoFillEnabled=!1;break;case a.c.left:case a.c.right:n._autoFillEnabled&&(n.setState({inputValue:n.props.suggestedDisplayValue||""}),n._autoFillEnabled=!1);break;default:n._autoFillEnabled||-1!==n.props.enableAutofillOnKeyPress.indexOf(e.which)&&(n._autoFillEnabled=!0)}},n._onInputChanged=function(e){var t=n._getCurrentInputValue(e);if(n.state.isComposing||n._tryEnableAutofill(t,n.value,e.nativeEvent.isComposing),!(0,i.l)()||!n.state.isComposing){var r=e.nativeEvent.isComposing,o=void 0===r?n.state.isComposing:r;n._updateValue(t,o)}},n._onChanged=function(){},n._updateValue=function(e,t){if(e||e!==n.value){var r=n.props,o=r.onInputChange,i=r.onInputValueChange;o&&(e=(null===o||void 0===o?void 0:o(e,t))||""),n.setState({inputValue:e},(function(){return null===i||void 0===i?void 0:i(e,t)}))}},(0,s.f)(n),n._async=new l.j(n),n.state={inputValue:t.defaultVisibleValue||"",isComposing:!1},n}return(0,r.C6)(t,e),t.getDerivedStateFromProps=function(e,t){if(e.updateValueInWillReceiveProps){var n=e.updateValueInWillReceiveProps();if(null!==n&&n!==t.inputValue&&!t.isComposing)return(0,r.Cl)((0,r.Cl)({},t),{inputValue:n})}return null},Object.defineProperty(t.prototype,"cursorLocation",{get:function(){if(this._inputElement.current){var e=this._inputElement.current;return"forward"!==e.selectionDirection?e.selectionEnd:e.selectionStart}return-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValueSelected",{get:function(){return Boolean(this.inputElement&&this.inputElement.selectionStart!==this.inputElement.selectionEnd)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._getControlledValue()||this.state.inputValue||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._inputElement.current?this._inputElement.current.selectionStart:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._inputElement.current?this._inputElement.current.selectionEnd:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._inputElement.current},enumerable:!1,configurable:!0}),t.prototype.componentDidUpdate=function(e,t,n){var r=this.props,o=r.suggestedDisplayValue,i=r.shouldSelectFullInputValueInComponentDidUpdate,a=0;if(!r.preventValueSelection)if(this._autoFillEnabled&&this.value&&o&&p(o,this.value)){var s=!1;if(i&&(s=i()),s&&this._inputElement.current)this._inputElement.current.setSelectionRange(0,o.length,c);else{for(;a<this.value.length&&this.value[a].toLocaleLowerCase()===o[a].toLocaleLowerCase();)a++;a>0&&this._inputElement.current&&this._inputElement.current.setSelectionRange(a,o.length,c)}}else this._inputElement.current&&(null===n||this._autoFillEnabled||this.state.isComposing||this._inputElement.current.setSelectionRange(n.start,n.end,n.dir))},t.prototype.componentWillUnmount=function(){this._async.dispose()},t.prototype.render=function(){var e=(0,u.G1)(this.props,u.QQ),t=(0,r.Cl)((0,r.Cl)({},this.props.style),{fontFamily:"inherit"});return o.createElement("input",(0,r.Cl)({autoCapitalize:"off",autoComplete:"off","aria-autocomplete":"both"},e,{style:t,ref:this._inputElement,value:this._getDisplayValue(),onCompositionStart:this._onCompositionStart,onCompositionUpdate:this._onCompositionUpdate,onCompositionEnd:this._onCompositionEnd,onChange:this._onChanged,onInput:this._onInputChanged,onKeyDown:this._onKeyDown,onClick:this.props.onClick?this.props.onClick:this._onClick,"data-lpignore":!0}))},t.prototype.focus=function(){this._inputElement.current&&this._inputElement.current.focus()},t.prototype.clear=function(){this._autoFillEnabled=!0,this._updateValue("",!1),this._inputElement.current&&this._inputElement.current.setSelectionRange(0,0)},t.prototype.getSnapshotBeforeUpdate=function(){var e,t,n=this._inputElement.current;return n&&n.selectionStart!==this.value.length?{start:null!==(e=n.selectionStart)&&void 0!==e?e:n.value.length,end:null!==(t=n.selectionEnd)&&void 0!==t?t:n.value.length,dir:n.selectionDirection||"backward"}:null},t.prototype._getCurrentInputValue=function(e){return e&&e.target&&e.target.value?e.target.value:this.inputElement&&this.inputElement.value?this.inputElement.value:""},t.prototype._tryEnableAutofill=function(e,t,n,r){!n&&e&&this._inputElement.current&&this._inputElement.current.selectionStart===e.length&&!this._autoFillEnabled&&(e.length>t.length||r)&&(this._autoFillEnabled=!0)},t.prototype._getDisplayValue=function(){return this._autoFillEnabled?function(e,t){var n=e;t&&e&&p(t,n)&&(n=t);return n}(this.value,this.props.suggestedDisplayValue):this.value},t.prototype._getControlledValue=function(){var e=this.props.value;return void 0===e||"string"===typeof e?e:(console.warn("props.value of Autofill should be a string, but it is "+e+" with type of "+typeof e),e.toString())},t.defaultProps={enableAutofillOnKeyPress:[a.c.down,a.c.up]},t}(o.Component);function p(e,t){return!(!e||!t)&&0===e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())}var f,h,m,g,v=n(3691),y=n(58608),b=n(6461),x=n(23521),_=n(10032),C=n(23501),w=n(55360),S=n(40208),k=n(19867),T=n(40902),E=n(45867),P=n(70945),I=n(70859),A=n(88659),R=n(44358),L=n(95988),M=n(32e3),B=n(96042),O=(0,B.J9)((function(e){var t,n=e.semanticColors;return{backgroundColor:n.disabledBackground,color:n.disabledText,cursor:"default",selectors:(t={":after":{borderColor:n.disabledBackground}},t[M.up]={color:"GrayText",selectors:{":after":{borderColor:"GrayText"}}},t)}})),F={selectors:(f={},f[M.up]=(0,r.Cl)({backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText"},(0,M.Qg)()),f)},D={selectors:(h={},h[M.up]=(0,r.Cl)({color:"WindowText",backgroundColor:"Window"},(0,M.Qg)()),h)},N=(0,B.J9)((function(e,t,n,o,i,a){var s,l=e.palette,u=e.semanticColors,c={textHoveredColor:u.menuItemTextHovered,textSelectedColor:l.neutralDark,textDisabledColor:u.disabledText,backgroundHoveredColor:u.menuItemBackgroundHovered,backgroundPressedColor:u.menuItemBackgroundPressed},d={root:[e.fonts.medium,{backgroundColor:o?c.backgroundHoveredColor:"transparent",boxSizing:"border-box",cursor:"pointer",display:i?"none":"block",width:"100%",height:"auto",minHeight:36,lineHeight:"20px",padding:"0 8px",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:"transparent",borderRadius:0,wordWrap:"break-word",overflowWrap:"break-word",textAlign:"left",selectors:(0,r.Cl)((0,r.Cl)((s={},s[M.up]={border:"none",borderColor:"Background"},s),!i&&{"&.ms-Checkbox":{display:"flex",alignItems:"center"}}),{"&.ms-Button--command:hover:active":{backgroundColor:c.backgroundPressedColor},".ms-Checkbox-label":{width:"100%"}})},a?[{backgroundColor:"transparent",color:c.textSelectedColor,selectors:{":hover":[{backgroundColor:c.backgroundHoveredColor},F]}},(0,M.gm)(e,{inset:-1,isFocusedOnly:!1}),F]:[]],rootHovered:{backgroundColor:c.backgroundHoveredColor,color:c.textHoveredColor},rootFocused:{backgroundColor:c.backgroundHoveredColor},rootDisabled:{color:c.textDisabledColor,cursor:"default"},optionText:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",minWidth:"0px",maxWidth:"100%",wordWrap:"break-word",overflowWrap:"break-word",display:"inline-block"},optionTextWrapper:{maxWidth:"100%",display:"flex",alignItems:"center"}};return(0,M.TW)(d,t,n)})),U=(0,B.J9)((function(e,t){var n,o,i=e.semanticColors,a=e.fonts,s={buttonTextColor:i.bodySubtext,buttonTextHoveredCheckedColor:i.buttonTextChecked,buttonBackgroundHoveredColor:i.listItemBackgroundHovered,buttonBackgroundCheckedColor:i.listItemBackgroundChecked,buttonBackgroundCheckedHoveredColor:i.listItemBackgroundCheckedHovered},l={selectors:(n={},n[M.up]=(0,r.Cl)({backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText"},(0,M.Qg)()),n)},u={root:{color:s.buttonTextColor,fontSize:a.small.fontSize,position:"absolute",top:0,height:"100%",lineHeight:30,width:32,textAlign:"center",cursor:"default",selectors:(o={},o[M.up]=(0,r.Cl)({backgroundColor:"ButtonFace",borderColor:"ButtonText",color:"ButtonText"},(0,M.Qg)()),o)},icon:{fontSize:a.small.fontSize},rootHovered:[{backgroundColor:s.buttonBackgroundHoveredColor,color:s.buttonTextHoveredCheckedColor,cursor:"pointer"},l],rootPressed:[{backgroundColor:s.buttonBackgroundCheckedColor,color:s.buttonTextHoveredCheckedColor},l],rootChecked:[{backgroundColor:s.buttonBackgroundCheckedColor,color:s.buttonTextHoveredCheckedColor},l],rootCheckedHovered:[{backgroundColor:s.buttonBackgroundCheckedHoveredColor,color:s.buttonTextHoveredCheckedColor},l],rootDisabled:[O(e),{position:"absolute"}]};return(0,M.TW)(u,t)})),z=(0,B.J9)((function(e,t,n){var o,i,a,s,l,u,c=e.semanticColors,d=e.fonts,p=e.effects,f={textColor:c.inputText,borderColor:c.inputBorder,borderHoveredColor:c.inputBorderHovered,borderPressedColor:c.inputFocusBorderAlt,borderFocusedColor:c.inputFocusBorderAlt,backgroundColor:c.inputBackground,erroredColor:c.errorText},h={headerTextColor:c.menuHeader,dividerBorderColor:c.bodyDivider},m={selectors:(o={},o[M.up]={color:"GrayText"},o)},g=[{color:c.inputPlaceholderText},m],v=[{color:c.inputTextHovered},m],y=[{color:c.disabledText},m],b=(0,r.Cl)((0,r.Cl)({color:"HighlightText",backgroundColor:"Window"},(0,M.Qg)()),{selectors:{":after":{borderColor:"Highlight"}}}),x=(0,M.Sq)(f.borderPressedColor,p.roundedCorner2,"border",0),_={container:{},label:{},labelDisabled:{},root:[e.fonts.medium,{boxShadow:"none",marginLeft:"0",paddingRight:32,paddingLeft:9,color:f.textColor,position:"relative",outline:"0",userSelect:"none",backgroundColor:f.backgroundColor,cursor:"text",display:"block",height:32,whiteSpace:"nowrap",textOverflow:"ellipsis",boxSizing:"border-box",selectors:{".ms-Label":{display:"inline-block",marginBottom:"8px"},"&.is-open":{selectors:(i={},i[M.up]=b,i)},":after":{pointerEvents:"none",content:"''",position:"absolute",left:0,top:0,bottom:0,right:0,borderWidth:"1px",borderStyle:"solid",borderColor:f.borderColor,borderRadius:p.roundedCorner2}}}],rootHovered:{selectors:(a={":after":{borderColor:f.borderHoveredColor},".ms-ComboBox-Input":[{color:c.inputTextHovered},(0,M.CX)(v),D]},a[M.up]=(0,r.Cl)((0,r.Cl)({color:"HighlightText",backgroundColor:"Window"},(0,M.Qg)()),{selectors:{":after":{borderColor:"Highlight"}}}),a)},rootPressed:[{position:"relative",selectors:(s={},s[M.up]=b,s)}],rootFocused:[{selectors:(l={".ms-ComboBox-Input":[{color:c.inputTextHovered},D]},l[M.up]=b,l)},x],rootDisabled:O(e),rootError:{selectors:{":after":{borderColor:f.erroredColor},":hover:after":{borderColor:c.inputBorderHovered}}},rootDisallowFreeForm:{},input:[(0,M.CX)(g),{backgroundColor:f.backgroundColor,color:f.textColor,boxSizing:"border-box",width:"100%",height:"100%",borderStyle:"none",outline:"none",font:"inherit",textOverflow:"ellipsis",padding:"0",selectors:{"::-ms-clear":{display:"none"}}},D],inputDisabled:[O(e),(0,M.CX)(y)],errorMessage:[e.fonts.small,{color:f.erroredColor,marginTop:"5px"}],callout:{boxShadow:p.elevation8},optionsContainerWrapper:{width:n},optionsContainer:{display:"block"},screenReaderText:M.dX,header:[d.medium,{fontWeight:M.BO.semibold,color:h.headerTextColor,backgroundColor:"none",borderStyle:"none",height:36,lineHeight:36,cursor:"default",padding:"0 8px",userSelect:"none",textAlign:"left",selectors:(u={},u[M.up]=(0,r.Cl)({color:"GrayText"},(0,M.Qg)()),u)}],divider:{height:1,backgroundColor:h.dividerBorderColor}};return(0,M.TW)(_,t)})),j=(0,B.J9)((function(e,t,n,r,o,i,a,s){return{container:(0,M.Zq)("ms-ComboBox-container",t,e.container),label:(0,M.Zq)(e.label,r&&e.labelDisabled),root:(0,M.Zq)("ms-ComboBox",s?e.rootError:n&&"is-open",o&&"is-required",e.root,!a&&e.rootDisallowFreeForm,s&&!i?e.rootError:!r&&i&&e.rootFocused,!r&&{selectors:{":hover":s?e.rootError:!n&&!i&&e.rootHovered,":active":s?e.rootError:e.rootPressed,":focus":s?e.rootError:e.rootFocused}},r&&["is-disabled",e.rootDisabled]),input:(0,M.Zq)("ms-ComboBox-Input",e.input,r&&e.inputDisabled),errorMessage:(0,M.Zq)(e.errorMessage),callout:(0,M.Zq)("ms-ComboBox-callout",e.callout),optionsContainerWrapper:(0,M.Zq)("ms-ComboBox-optionsContainerWrapper",e.optionsContainerWrapper),optionsContainer:(0,M.Zq)("ms-ComboBox-optionsContainer",e.optionsContainer),header:(0,M.Zq)("ms-ComboBox-header",e.header),divider:(0,M.Zq)("ms-ComboBox-divider",e.divider),screenReaderText:(0,M.Zq)(e.screenReaderText)}})),V=(0,B.J9)((function(e){return{optionText:(0,M.Zq)("ms-ComboBox-optionText",e.optionText),root:(0,M.Zq)("ms-ComboBox-option",e.root,{selectors:{":hover":e.rootHovered,":focus":e.rootFocused,":active":e.rootPressed}}),optionTextWrapper:(0,M.Zq)(e.optionTextWrapper)}})),W=n(51734),H=n(61470),q=n(95261),K=n(84495),G=n(60108),Z=n(3753),X=n(90154);!function(e){e[e.backward=-1]="backward",e[e.none=0]="none",e[e.forward=1]="forward"}(m||(m={})),function(e){e[e.clearAll=-2]="clearAll",e[e.default=-1]="default"}(g||(g={}));var Y=o.memo((function(e){return(0,e.render)()}),(function(e,t){e.render;var n=(0,r.Tt)(e,["render"]),o=(t.render,(0,r.Tt)(t,["render"]));return(0,v.ab)(n,o)})),Q="ComboBox",J={options:[],allowFreeform:!1,autoComplete:"on",buttonIconProps:{iconName:"ChevronDown"}};function $(e){var t=e.options,n=e.defaultSelectedKey,r=e.selectedKey,i=o.useState((function(){return re(t,function(e,t){var n=oe(e);if(n.length)return n;return oe(t)}(n,r))})),a=i[0],s=i[1],l=o.useState(t),u=l[0],c=l[1],d=o.useState(),p=d[0],f=d[1];return o.useEffect((function(){if(void 0!==r){var e=oe(r),n=re(t,e);s(n)}c(t)}),[t,r]),o.useEffect((function(){null===r&&f(void 0)}),[r]),[a,s,u,c,p,f]}var ee=o.forwardRef((function(e,t){var n=(0,y.N)(J,e),i=(n.ref,(0,r.Tt)(n,["ref"])),a=o.useRef(null),s=(0,Z.a)(a,t),l=$(i),u=l[0],c=l[1],d=l[2],p=l[3],f=l[4],h=l[5];return o.createElement(ne,(0,r.Cl)({},i,{hoisted:{mergedRootRef:s,rootRef:a,selectedIndices:u,setSelectedIndices:c,currentOptions:d,setCurrentOptions:p,suggestedDisplayValue:f,setSuggestedDisplayValue:h}}))}));function te(e,t){for(var n=function(e,t){void 0===t&&(t=!0);var n=[];if(e){for(var r=0;r<e.children.length;r++)n.push(e.children.item(r));t&&(0,X.q)(e)&&n.push.apply(n,e._virtual.children)}return n}(e),r=0;r<n.length;r++){var o=n[r];if(t(o))return o;var i=te(o,t);if(i)return i}return null}ee.displayName=Q;var ne=function(e){function t(t){var n=e.call(this,t)||this;return n._autofill=o.createRef(),n._comboBoxWrapper=o.createRef(),n._comboBoxMenu=o.createRef(),n._selectedElement=o.createRef(),n.focus=function(e,t){n.props.disabled||(n._autofill.current&&(t?(0,b.lo)(n._autofill.current):n._autofill.current.focus(),e&&n.setState({isOpen:!0})),n._hasFocus()||n.setState({focusState:"focused"}))},n.dismissMenu=function(){n.state.isOpen&&n.setState({isOpen:!1})},n._onUpdateValueInAutofillWillReceiveProps=function(){var e=n._autofill.current;return e?null===e.value||void 0===e.value?null:ie(n._currentVisibleValue):null},n._renderComboBoxWrapper=function(e,t){var i=n.props,a=i.label,s=i.disabled,l=i.ariaLabel,u=i.ariaDescribedBy,c=void 0===u?n.props["aria-describedby"]:u,p=i.required,f=i.errorMessage,h=i.buttonIconProps,m=i.isButtonAriaHidden,g=void 0===m||m,v=i.title,y=i.placeholder,b=i.tabIndex,_=i.autofill,C=i.iconButtonProps,w=i.hoisted.suggestedDisplayValue,S=n.state.isOpen,k=n._hasFocus()&&n.props.multiSelect&&e?e:y,T=[n.props["aria-labelledby"],a&&n._id+"-label"].join(" ").trim();return o.createElement("div",{"data-ktp-target":!0,ref:n._comboBoxWrapper,id:n._id+"wrapper",className:n._classNames.root,"aria-owns":S?n._id+"-list":void 0},o.createElement(d,(0,r.Cl)({"data-ktp-execute-target":!0,"data-is-interactable":!s,componentRef:n._autofill,id:n._id+"-input",className:n._classNames.input,type:"text",onFocus:n._onFocus,onBlur:n._onBlur,onKeyDown:n._onInputKeyDown,onKeyUp:n._onInputKeyUp,onClick:n._onAutofillClick,onTouchStart:n._onTouchStart,onInputValueChange:n._onInputChange,"aria-expanded":S,"aria-autocomplete":n._getAriaAutoCompleteValue(),role:"combobox",readOnly:s,"aria-labelledby":T||void 0,"aria-label":l&&!a?l:void 0,"aria-describedby":void 0!==f?(0,x._)(c,t):c,"aria-activedescendant":n._getAriaActiveDescendantValue(),"aria-required":p,"aria-disabled":s,"aria-controls":S?n._id+"-list":void 0,spellCheck:!1,defaultVisibleValue:n._currentVisibleValue,suggestedDisplayValue:w,updateValueInWillReceiveProps:n._onUpdateValueInAutofillWillReceiveProps,shouldSelectFullInputValueInComponentDidUpdate:n._onShouldSelectFullInputValueInAutofillComponentDidUpdate,title:v,preventValueSelection:!n._hasFocus(),placeholder:k,tabIndex:s?-1:b},_)),o.createElement(K.K,(0,r.Cl)({className:"ms-ComboBox-CaretDown-button",styles:n._getCaretButtonStyles(),role:"presentation","aria-hidden":g,"data-is-focusable":!1,tabIndex:-1,onClick:n._onComboBoxClick,onBlur:n._onBlur,iconProps:h,disabled:s,checked:S},C)))},n._onShouldSelectFullInputValueInAutofillComponentDidUpdate=function(){return n._currentVisibleValue===n.props.hoisted.suggestedDisplayValue},n._getVisibleValue=function(){var e=n.props,t=e.text,r=e.allowFreeform,o=e.allowFreeInput,i=e.autoComplete,a=e.hoisted,s=a.suggestedDisplayValue,l=a.selectedIndices,u=a.currentOptions,c=n.state,d=c.currentPendingValueValidIndex,p=c.currentPendingValue,f=c.isOpen,h=ae(u,d);if((!f||!h)&&(t||""===t)&&(null===p||void 0===p))return t;if(n.props.multiSelect){if(n._hasFocus()){var m=-1;return"on"===i&&h&&(m=d),n._getPendingString(p,u,m)}return n._getMultiselectDisplayString(l,u,s)}m=n._getFirstSelectedIndex();return r||o?("on"===i&&h&&(m=d),n._getPendingString(p,u,m)):h&&"on"===i?(m=d,ie(p)):!n.state.isOpen&&p?ae(u,m)?p:ie(s):ae(u,m)?ue(u[m]):ie(s)},n._onInputChange=function(e){n.props.disabled?n._handleInputWhenDisabled(null):(n.props.onInputValueChange&&n.props.onInputValueChange(e),n.props.allowFreeform||n.props.allowFreeInput?n._processInputChangeWithFreeform(e):n._processInputChangeWithoutFreeform(e))},n._onFocus=function(){var e,t;null===(t=null===(e=n._autofill.current)||void 0===e?void 0:e.inputElement)||void 0===t||t.select(),n._hasFocus()||n.setState({focusState:"focusing"})},n._onResolveOptions=function(){if(n.props.onResolveOptions){var e=n.props.onResolveOptions((0,r.fX)([],n.props.hoisted.currentOptions));Array.isArray(e)?n.props.hoisted.setCurrentOptions(e):e&&e.then&&(n._currentPromise=e,e.then((function(t){e===n._currentPromise&&n.props.hoisted.setCurrentOptions(t)})))}},n._onBlur=function(e){var t,r,o=e.relatedTarget;if(null===e.relatedTarget&&(o=document.activeElement),o){var i=null===(t=n.props.hoisted.rootRef.current)||void 0===t?void 0:t.contains(o),a=null===(r=n._comboBoxMenu.current)||void 0===r?void 0:r.contains(o),s=n._comboBoxMenu.current&&(0,_.w)(n._comboBoxMenu.current,(function(e){return e===o}));if(i||a||s)return s&&n._hasFocus()&&(!n.props.multiSelect||n.props.allowFreeform)&&n._submitPendingValue(e),e.preventDefault(),void e.stopPropagation()}n._hasFocus()&&(n.setState({focusState:"none"}),n.props.multiSelect&&!n.props.allowFreeform||n._submitPendingValue(e))},n._onRenderContainer=function(e,t){var i=e.onRenderList,a=e.calloutProps,s=e.dropdownWidth,l=e.dropdownMaxWidth,u=e.onRenderUpperContent,c=void 0===u?n._onRenderUpperContent:u,d=e.onRenderLowerContent,p=void 0===d?n._onRenderLowerContent:d,f=e.useComboBoxAsMenuWidth,h=e.persistMenu,m=e.shouldRestoreFocus,g=void 0===m||m,v=n.state.isOpen,y=n._id,b=f&&n._comboBoxWrapper.current?n._comboBoxWrapper.current.clientWidth+2:void 0;return o.createElement(A.P,(0,r.Cl)({isBeakVisible:!1,gapSpace:0,doNotLayer:!1,directionalHint:R.A.bottomLeftEdge,directionalHintFixed:!1},a,{onLayerMounted:n._onLayerMounted,className:(0,C.A)(n._classNames.callout,null===a||void 0===a?void 0:a.className),target:n._comboBoxWrapper.current,onDismiss:n._onDismiss,onMouseDown:n._onCalloutMouseDown,onScroll:n._onScroll,setInitialFocus:!1,calloutWidth:f&&n._comboBoxWrapper.current?b&&b:s,calloutMaxWidth:l||b,hidden:h?!v:void 0,shouldRestoreFocus:g}),c(n.props,n._onRenderUpperContent),o.createElement("div",{className:n._classNames.optionsContainerWrapper,ref:n._comboBoxMenu},null===i||void 0===i?void 0:i((0,r.Cl)((0,r.Cl)({},e),{id:y}),n._onRenderList)),p(n.props,n._onRenderLowerContent))},n._onLayerMounted=function(){n._onCalloutLayerMounted(),n._async.setTimeout((function(){n._scrollIntoView()}),0),n.props.calloutProps&&n.props.calloutProps.onLayerMounted&&n.props.calloutProps.onLayerMounted()},n._onRenderLabel=function(e){var t=e.props,r=t.label,i=t.disabled,a=t.required;return r?o.createElement(W.J,{id:n._id+"-label",disabled:i,required:a,className:n._classNames.label},r,e.multiselectAccessibleText&&o.createElement("span",{className:n._classNames.screenReaderText},e.multiselectAccessibleText)):null},n._onRenderList=function(e){var t=e.onRenderItem,i=void 0===t?n._onRenderItem:t,a=e.label,s=e.ariaLabel,l=e.multiSelect,u={items:[]},c=[],d=function(){var e=u.id?[o.createElement("div",{role:"group",key:u.id,"aria-labelledby":u.id},u.items)]:u.items;c=(0,r.fX)((0,r.fX)([],c),e),u={items:[]}};e.options.forEach((function(e,t){!function(e,t){switch(e.itemType){case H.W.Header:u.items.length>0&&d();var o=n._id+e.key;u.items.push(i((0,r.Cl)((0,r.Cl)({id:o},e),{index:t}),n._onRenderItem)),u.id=o;break;case H.W.Divider:t>0&&u.items.push(i((0,r.Cl)((0,r.Cl)({},e),{index:t}),n._onRenderItem)),u.items.length>0&&d();break;default:u.items.push(i((0,r.Cl)((0,r.Cl)({},e),{index:t}),n._onRenderItem))}}(e,t)})),u.items.length>0&&d();var p=n._id;return o.createElement("div",{id:p+"-list",className:n._classNames.optionsContainer,"aria-labelledby":a&&p+"-label","aria-label":s&&!a?s:void 0,"aria-multiselectable":l?"true":void 0,role:"listbox"},c)},n._onRenderItem=function(e){switch(e.itemType){case H.W.Divider:return n._renderSeparator(e);case H.W.Header:return n._renderHeader(e);default:return n._renderOption(e)}},n._onRenderLowerContent=function(){return null},n._onRenderUpperContent=function(){return null},n._renderOption=function(e){var t=n.props.onRenderOption,i=void 0===t?n._onRenderOptionContent:t,a=n._id,s=n._isOptionSelected(e.index),l=n._isOptionChecked(e.index),u=n._isOptionIndeterminate(e.index),c=n._getCurrentOptionStyles(e),d=V(n._getCurrentOptionStyles(e)),p=e.title,f=function(){return i(e,n._onRenderOptionContent)};return o.createElement(Y,{key:e.key,index:e.index,disabled:e.disabled,isSelected:s,isChecked:l,isIndeterminate:u,text:e.text,render:function(){return n.props.multiSelect?o.createElement(L.S,{id:a+"-list"+e.index,ariaLabel:e.ariaLabel,key:e.key,styles:c,className:"ms-ComboBox-option",onChange:n._onItemClick(e),label:e.text,checked:l,indeterminate:u,title:p,disabled:e.disabled,onRenderLabel:f,inputProps:(0,r.Cl)({"aria-selected":l?"true":"false",role:"option"},{"data-index":e.index,"data-is-focusable":!0})}):o.createElement(G.c,{id:a+"-list"+e.index,key:e.key,"data-index":e.index,styles:c,checked:s,className:"ms-ComboBox-option",onClick:n._onItemClick(e),onMouseEnter:n._onOptionMouseEnter.bind(n,e.index),onMouseMove:n._onOptionMouseMove.bind(n,e.index),onMouseLeave:n._onOptionMouseLeave,role:"option","aria-selected":s?"true":"false",ariaLabel:e.ariaLabel,disabled:e.disabled,title:p},o.createElement("span",{className:d.optionTextWrapper,ref:s?n._selectedElement:void 0},i(e,n._onRenderOptionContent)))},data:e.data})},n._onCalloutMouseDown=function(e){e.preventDefault()},n._onScroll=function(){var e;n._isScrollIdle||void 0===n._scrollIdleTimeoutId?n._isScrollIdle=!1:(n._async.clearTimeout(n._scrollIdleTimeoutId),n._scrollIdleTimeoutId=void 0),(null===(e=n.props.calloutProps)||void 0===e?void 0:e.onScroll)&&n.props.calloutProps.onScroll(),n._scrollIdleTimeoutId=n._async.setTimeout((function(){n._isScrollIdle=!0}),250)},n._onRenderOptionContent=function(e){var t=V(n._getCurrentOptionStyles(e));return o.createElement("span",{className:t.optionText},e.text)},n._onDismiss=function(){var e=n.props.onMenuDismiss;e&&e(),n.props.persistMenu&&n._onCalloutLayerMounted(),n._setOpenStateAndFocusOnClose(!1,!1),n._resetSelectedIndex()},n._onAfterClearPendingInfo=function(){n._processingClearPendingInfo=!1},n._onInputKeyDown=function(e){var t=n.props,r=t.disabled,o=t.allowFreeform,i=t.allowFreeInput,s=t.autoComplete,l=t.hoisted.currentOptions,u=n.state,c=u.isOpen,d=u.currentPendingValueValidIndexOnHover;if(n._lastKeyDownWasAltOrMeta=ce(e),r)n._handleInputWhenDisabled(e);else{var p=n._getPendingSelectedIndex(!1);switch(e.which){case a.c.enter:n._autofill.current&&n._autofill.current.inputElement&&n._autofill.current.inputElement.select(),n._submitPendingValue(e),n.props.multiSelect&&c?n.setState({currentPendingValueValidIndex:p}):(c||(!o||void 0===n.state.currentPendingValue||null===n.state.currentPendingValue||n.state.currentPendingValue.length<=0)&&n.state.currentPendingValueValidIndex<0)&&n.setState({isOpen:!c});break;case a.c.tab:return n.props.multiSelect||n._submitPendingValue(e),void(c&&n._setOpenStateAndFocusOnClose(!c,!1));case a.c.escape:if(n._resetSelectedIndex(),!c)return;n.setState({isOpen:!1});break;case a.c.up:if(d===g.clearAll&&(p=n.props.hoisted.currentOptions.length),e.altKey||e.metaKey){if(c){n._setOpenStateAndFocusOnClose(!c,!0);break}return}e.preventDefault(),n._setPendingInfoFromIndexAndDirection(p,m.backward);break;case a.c.down:e.altKey||e.metaKey?n._setOpenStateAndFocusOnClose(!0,!0):(d===g.clearAll&&(p=-1),e.preventDefault(),n._setPendingInfoFromIndexAndDirection(p,m.forward));break;case a.c.home:case a.c.end:if(o||i)return;p=-1;var f=m.forward;e.which===a.c.end&&(p=l.length,f=m.backward),n._setPendingInfoFromIndexAndDirection(p,f);break;case a.c.space:if(!o&&!i&&"off"===s)break;default:if(e.which>=112&&e.which<=123)return;if(e.keyCode===a.c.alt||"Meta"===e.key)return;if(!o&&!i&&"on"===s){n._onInputChange(e.key);break}return}e.stopPropagation(),e.preventDefault()}},n._onInputKeyUp=function(e){var t=n.props,r=t.disabled,o=t.allowFreeform,i=t.allowFreeInput,s=t.autoComplete,l=n.state.isOpen,u=n._lastKeyDownWasAltOrMeta&&ce(e);n._lastKeyDownWasAltOrMeta=!1;var c=u&&!((0,w.c)()||(0,S.u)());r?n._handleInputWhenDisabled(e):e.which!==a.c.space?c&&l?n._setOpenStateAndFocusOnClose(!l,!0):("focusing"===n.state.focusState&&n.props.openOnKeyboardFocus&&n.setState({isOpen:!0}),"focused"!==n.state.focusState&&n.setState({focusState:"focused"})):o||i||"off"!==s||n._setOpenStateAndFocusOnClose(!l,!!l)},n._onOptionMouseLeave=function(){n._shouldIgnoreMouseEvent()||n.props.persistMenu&&!n.state.isOpen||n.setState({currentPendingValueValidIndexOnHover:g.clearAll})},n._onComboBoxClick=function(){var e=n.props.disabled,t=n.state.isOpen;e||(n._setOpenStateAndFocusOnClose(!t,!1),n.setState({focusState:"focused"}))},n._onAutofillClick=function(){var e=n.props,t=e.disabled;e.allowFreeform&&!t?n.focus(n.state.isOpen||n._processingTouch):n._onComboBoxClick()},n._onTouchStart=function(){n._comboBoxWrapper.current&&!("onpointerdown"in n._comboBoxWrapper)&&n._handleTouchAndPointerEvent()},n._onPointerDown=function(e){"touch"===e.pointerType&&(n._handleTouchAndPointerEvent(),e.preventDefault(),e.stopImmediatePropagation())},(0,s.f)(n),n._async=new l.j(n),n._events=new k.g(n),(0,T.Y)(Q,t,{defaultSelectedKey:"selectedKey",text:"defaultSelectedKey",selectedKey:"value",dropdownWidth:"useComboBoxAsMenuWidth",ariaLabel:"label"}),n._id=t.id||(0,E.O)("ComboBox"),n._isScrollIdle=!0,n._processingTouch=!1,n._gotMouseMove=!1,n._processingClearPendingInfo=!1,n.state={isOpen:!1,focusState:"none",currentPendingValueValidIndex:-1,currentPendingValue:void 0,currentPendingValueValidIndexOnHover:g.default},n}return(0,r.C6)(t,e),Object.defineProperty(t.prototype,"selectedOptions",{get:function(){var e=this.props.hoisted,t=e.currentOptions,n=e.selectedIndices;return(0,q.D)(t,n)},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this._comboBoxWrapper.current&&!this.props.disabled&&(this._events.on(this._comboBoxWrapper.current,"focus",this._onResolveOptions,!0),"onpointerdown"in this._comboBoxWrapper.current&&this._events.on(this._comboBoxWrapper.current,"pointerdown",this._onPointerDown,!0))},t.prototype.componentDidUpdate=function(e,t){var n=this,r=this.props,o=r.allowFreeform,i=r.allowFreeInput,a=r.text,s=r.onMenuOpen,l=r.onMenuDismissed,u=r.hoisted.selectedIndices,c=this.state,d=c.isOpen,p=c.currentPendingValueValidIndex;!d||t.isOpen&&t.currentPendingValueValidIndex===p||this._async.setTimeout((function(){return n._scrollIntoView()}),0),this._hasFocus()&&(d||t.isOpen&&!d&&this._focusInputAfterClose&&this._autofill.current&&document.activeElement!==this._autofill.current.inputElement)&&this.focus(void 0,!0),this._focusInputAfterClose&&(t.isOpen&&!d||this._hasFocus()&&(!d&&!this.props.multiSelect&&e.hoisted.selectedIndices&&u&&e.hoisted.selectedIndices[0]!==u[0]||!o&&!i||a!==e.text))&&this._onFocus(),this._notifyPendingValueChanged(t),d&&!t.isOpen&&s&&s(),!d&&t.isOpen&&l&&l()},t.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},t.prototype.render=function(){var e=this._id+"-error",t=this.props,n=t.className,i=t.disabled,a=t.required,s=t.errorMessage,l=t.onRenderContainer,c=void 0===l?this._onRenderContainer:l,d=t.onRenderLabel,p=void 0===d?this._onRenderLabel:d,f=t.onRenderList,h=void 0===f?this._onRenderList:f,m=t.onRenderItem,g=void 0===m?this._onRenderItem:m,v=t.onRenderOption,y=void 0===v?this._onRenderOptionContent:v,b=t.allowFreeform,x=t.styles,_=t.theme,C=t.persistMenu,w=t.multiSelect,S=t.hoisted,k=S.suggestedDisplayValue,T=S.selectedIndices,E=S.currentOptions,P=this.state.isOpen;this._currentVisibleValue=this._getVisibleValue();var I=w?this._getMultiselectDisplayString(T,E,k):void 0,A=(0,u.G1)(this.props,u.JM,["onChange","value","aria-describedby","aria-labelledby"]),R=!!(s&&s.length>0);this._classNames=this.props.getClassNames?this.props.getClassNames(_,!!P,!!i,!!a,!!this._hasFocus(),!!b,!!R,n):j(z(_,x),n,!!P,!!i,!!a,!!this._hasFocus(),!!b,!!R);var L=this._renderComboBoxWrapper(I,e);return o.createElement("div",(0,r.Cl)({},A,{ref:this.props.hoisted.mergedRootRef,className:this._classNames.container}),p({props:this.props,multiselectAccessibleText:I},this._onRenderLabel),L,(C||P)&&c((0,r.Cl)((0,r.Cl)({},this.props),{onRenderList:h,onRenderItem:g,onRenderOption:y,options:E.map((function(e,t){return(0,r.Cl)((0,r.Cl)({},e),{index:t})})),onDismiss:this._onDismiss}),this._onRenderContainer),R&&o.createElement("div",{role:"alert",id:e,className:this._classNames.errorMessage},s))},t.prototype._getPendingString=function(e,t,n){return null!==e&&void 0!==e?e:ae(t,n)?ue(t[n]):""},t.prototype._getMultiselectDisplayString=function(e,t,n){for(var r=[],o=0;e&&o<e.length;o++){var i=e[o];t[i].itemType!==H.W.SelectAll&&r.push(ae(t,i)?t[i].text:ie(n))}var a=this.props.multiSelectDelimiter,s=void 0===a?", ":a;return r.join(s)},t.prototype._processInputChangeWithFreeform=function(e){var t=this.props.hoisted.currentOptions,n=-1;if(""===e)return 1===(i=t.map((function(e,t){return(0,r.Cl)((0,r.Cl)({},e),{index:t})})).filter((function(t){return se(t)&&ue(t)===e}))).length&&(n=i[0].index),void this._setPendingInfo(e,n,e);var o=e;e=e.toLocaleLowerCase();var i,a="";if("on"===this.props.autoComplete){if((i=t.map((function(e,t){return(0,r.Cl)((0,r.Cl)({},e),{index:t})})).filter((function(t){return se(t)&&0===ue(t).toLocaleLowerCase().indexOf(e)}))).length>0){var s=ue(i[0]);a=s.toLocaleLowerCase()!==e?s:"",n=i[0].index}}else 1===(i=t.map((function(e,t){return(0,r.Cl)((0,r.Cl)({},e),{index:t})})).filter((function(t){return se(t)&&ue(t).toLocaleLowerCase()===e}))).length&&(n=i[0].index);this._setPendingInfo(o,n,a)},t.prototype._processInputChangeWithoutFreeform=function(e){var t=this,n=this.props.hoisted.currentOptions,o=this.state,i=o.currentPendingValue,a=o.currentPendingValueValidIndex;if("on"===this.props.autoComplete&&""!==e){this._autoCompleteTimeout&&(this._async.clearTimeout(this._autoCompleteTimeout),this._autoCompleteTimeout=void 0,e=ie(i)+e);var s=e;e=e.toLocaleLowerCase();var l=n.map((function(e,t){return(0,r.Cl)((0,r.Cl)({},e),{index:t})})).filter((function(t){return se(t)&&0===t.text.toLocaleLowerCase().indexOf(e)}));return l.length>0&&this._setPendingInfo(s,l[0].index,ue(l[0])),void(this._autoCompleteTimeout=this._async.setTimeout((function(){t._autoCompleteTimeout=void 0}),1e3))}var u=a>=0?a:this._getFirstSelectedIndex();this._setPendingInfoFromIndex(u)},t.prototype._getFirstSelectedIndex=function(){var e=this.props.hoisted.selectedIndices;return(null===e||void 0===e?void 0:e.length)?e[0]:-1},t.prototype._getNextSelectableIndex=function(e,t){var n=this.props.hoisted.currentOptions,r=e+t;if(!ae(n,r=Math.max(0,Math.min(n.length-1,r))))return-1;var o=n[r];if(!le(o)||!0===o.hidden){if(t===m.none||!(r>0&&t<m.none||r>=0&&r<n.length&&t>m.none))return e;r=this._getNextSelectableIndex(r,t)}return r},t.prototype._setSelectedIndex=function(e,t,n){void 0===n&&(n=m.none);var o=this.props,i=o.onChange,a=o.onPendingValueChanged,s=o.hoisted,l=s.selectedIndices,u=s.currentOptions,c=l?l.slice():[],d=u.slice();if(ae(u,e=this._getNextSelectableIndex(e,n))){if(this.props.multiSelect||c.length<1||1===c.length&&c[0]!==e){var p=(0,r.Cl)({},u[e]);if(!p||p.disabled)return;if(this.props.multiSelect)if(p.selected=void 0!==p.selected?!p.selected:c.indexOf(e)<0,p.itemType===H.W.SelectAll)c=[],p.selected?u.forEach((function(e,t){!e.disabled&&le(e)&&(c.push(t),d[t]=(0,r.Cl)((0,r.Cl)({},e),{selected:!0}))})):d=u.map((function(e){return(0,r.Cl)((0,r.Cl)({},e),{selected:!1})}));else{p.selected&&c.indexOf(e)<0?c.push(e):!p.selected&&c.indexOf(e)>=0&&(c=c.filter((function(t){return t!==e}))),d[e]=p;var f=d.filter((function(e){return e.itemType===H.W.SelectAll}))[0];if(f){var h=this._isSelectAllChecked(c),g=d.indexOf(f);h?(c.push(g),d[g]=(0,r.Cl)((0,r.Cl)({},f),{selected:!0})):(c=c.filter((function(e){return e!==g})),d[g]=(0,r.Cl)((0,r.Cl)({},f),{selected:!1}))}}else c[0]=e;t.persist(),this.props.selectedKey||null===this.props.selectedKey||(this.props.hoisted.setSelectedIndices(c),this.props.hoisted.setCurrentOptions(d)),this._hasPendingValue&&a&&(a(),this._hasPendingValue=!1),i&&i(t,p,e,ue(p))}this.props.multiSelect&&this.state.isOpen||this._clearPendingInfo()}},t.prototype._submitPendingValue=function(e){var t,n=this.props,r=n.onChange,o=n.allowFreeform,i=n.autoComplete,a=n.multiSelect,s=n.hoisted,l=s.currentOptions,u=this.state,c=u.currentPendingValue,d=u.currentPendingValueValidIndex,p=u.currentPendingValueValidIndexOnHover,f=this.props.hoisted.selectedIndices;if(!this._processingClearPendingInfo){if(o){if(null===c||void 0===c)return void(p>=0&&(this._setSelectedIndex(p,e),this._clearPendingInfo()));if(ae(l,d)){var h=ue(l[d]).toLocaleLowerCase(),m=this._autofill.current;if(c.toLocaleLowerCase()===h||i&&0===h.indexOf(c.toLocaleLowerCase())&&(null===m||void 0===m?void 0:m.isValueSelected)&&c.length+(m.selectionEnd-m.selectionStart)===h.length||(null===(t=null===m||void 0===m?void 0:m.inputElement)||void 0===t?void 0:t.value.toLocaleLowerCase())===h){if(this._setSelectedIndex(d,e),a&&this.state.isOpen)return;return void this._clearPendingInfo()}}if(r)r&&r(e,void 0,void 0,c);else{var g={key:c||(0,E.O)(),text:ie(c)};a&&(g.selected=!0);var v=l.concat([g]);f&&(a||(f=[]),f.push(v.length-1)),s.setCurrentOptions(v),s.setSelectedIndices(f)}}else d>=0?this._setSelectedIndex(d,e):p>=0&&this._setSelectedIndex(p,e);this._clearPendingInfo()}},t.prototype._onCalloutLayerMounted=function(){this._gotMouseMove=!1},t.prototype._renderSeparator=function(e){var t=e.index,n=e.key;return t&&t>0?o.createElement("div",{role:"separator",key:n,className:this._classNames.divider}):null},t.prototype._renderHeader=function(e){var t=this.props.onRenderOption,n=void 0===t?this._onRenderOptionContent:t;return o.createElement("div",{id:e.id,key:e.key,className:this._classNames.header},n(e,this._onRenderOptionContent))},t.prototype._isOptionHighlighted=function(e){var t=this.state.currentPendingValueValidIndexOnHover;return t!==g.clearAll&&(t>=0?t===e:this._isOptionSelected(e))},t.prototype._isOptionSelected=function(e){return this._getPendingSelectedIndex(!0)===e},t.prototype._isOptionChecked=function(e){if(this.props.multiSelect&&void 0!==e&&this.props.hoisted.selectedIndices){return this.props.hoisted.selectedIndices.indexOf(e)>=0}return!1},t.prototype._isOptionIndeterminate=function(e){var t=this.props,n=t.multiSelect,r=t.hoisted;if(n&&void 0!==e&&r.selectedIndices&&r.currentOptions){var o=r.currentOptions[e];if(o&&o.itemType===H.W.SelectAll)return r.selectedIndices.length>0&&!this._isSelectAllChecked()}return!1},t.prototype._isSelectAllChecked=function(e){var t=this.props,n=t.multiSelect,r=t.hoisted,o=r.currentOptions.find((function(e){return e.itemType===H.W.SelectAll})),i=e||r.selectedIndices;if(!n||!i||!o)return!1;var a=r.currentOptions.indexOf(o),s=i.filter((function(e){return e!==a})),l=r.currentOptions.filter((function(e){return!e.disabled&&e.itemType!==H.W.SelectAll&&le(e)}));return s.length===l.length},t.prototype._getPendingSelectedIndex=function(e){var t=this.state,n=t.currentPendingValueValidIndex,r=t.currentPendingValue;return n>=0||e&&null!==r&&void 0!==r?n:this.props.multiSelect?0:this._getFirstSelectedIndex()},t.prototype._scrollIntoView=function(){var e=this.props,t=e.onScrollToItem,n=e.scrollSelectedToTop,r=this._getPendingSelectedIndex(!0);if(t)t(r>=0?r:this._getFirstSelectedIndex());else{var o=this._selectedElement.current;if(this.props.multiSelect&&this._comboBoxMenu.current&&(o=te(this._comboBoxMenu.current,(function(e){var t;return(null===(t=e.dataset)||void 0===t?void 0:t.index)===r.toString()}))),o&&o.offsetParent){var i=!0;if(this._comboBoxMenu.current&&this._comboBoxMenu.current.offsetParent){var a=this._comboBoxMenu.current.offsetParent,s=o.offsetParent,l=s.offsetHeight,u=s.offsetTop,c=a,d=c.offsetHeight,p=c.scrollTop,f=u+l>p+d;u<p||n?(i=!1,a.scrollTo(0,u)):f&&a.scrollTo(0,u-d+l)}else o.offsetParent.scrollIntoView(i)}}},t.prototype._onItemClick=function(e){var t=this,n=this.props.onItemClick,r=e.index;return function(o){t.props.multiSelect||(t._autofill.current&&t._autofill.current.focus(),t.setState({isOpen:!1})),n&&n(o,e,r),t._setSelectedIndex(r,o)}},t.prototype._resetSelectedIndex=function(){var e=this.props.hoisted.currentOptions;this._clearPendingInfo();var t=this._getFirstSelectedIndex();t>0&&t<e.length?this.props.hoisted.setSuggestedDisplayValue(e[t].text):this.props.text&&this.props.hoisted.setSuggestedDisplayValue(this.props.text)},t.prototype._clearPendingInfo=function(){this._processingClearPendingInfo=!0,this.props.hoisted.setSuggestedDisplayValue(void 0),this.setState({currentPendingValue:void 0,currentPendingValueValidIndex:-1,currentPendingValueValidIndexOnHover:g.default},this._onAfterClearPendingInfo)},t.prototype._setPendingInfo=function(e,t,n){void 0===t&&(t=-1),this._processingClearPendingInfo||(this.props.hoisted.setSuggestedDisplayValue(n),this.setState({currentPendingValue:ie(e),currentPendingValueValidIndex:t,currentPendingValueValidIndexOnHover:g.default}))},t.prototype._setPendingInfoFromIndex=function(e){var t=this.props.hoisted.currentOptions;if(e>=0&&e<t.length){var n=t[e];this._setPendingInfo(ue(n),e,ue(n))}else this._clearPendingInfo()},t.prototype._setPendingInfoFromIndexAndDirection=function(e,t){var n=this.props.hoisted.currentOptions;t===m.forward&&e>=n.length-1?e=-1:t===m.backward&&e<=0&&(e=n.length);var r=this._getNextSelectableIndex(e,t);e===r?t===m.forward?e=this._getNextSelectableIndex(-1,t):t===m.backward&&(e=this._getNextSelectableIndex(n.length,t)):e=r,ae(n,e)&&this._setPendingInfoFromIndex(e)},t.prototype._notifyPendingValueChanged=function(e){var t=this.props.onPendingValueChanged;if(t){var n=this.props.hoisted.currentOptions,r=this.state,o=r.currentPendingValue,i=r.currentPendingValueValidIndex,a=r.currentPendingValueValidIndexOnHover,s=void 0,l=void 0;a!==e.currentPendingValueValidIndexOnHover&&ae(n,a)?s=a:i!==e.currentPendingValueValidIndex&&ae(n,i)?s=i:o!==e.currentPendingValue&&(l=o),(void 0!==s||void 0!==l||this._hasPendingValue)&&(t(void 0!==s?n[s]:void 0,s,l),this._hasPendingValue=void 0!==s||void 0!==l)}},t.prototype._setOpenStateAndFocusOnClose=function(e,t){this._focusInputAfterClose=t,this.setState({isOpen:e})},t.prototype._onOptionMouseEnter=function(e){this._shouldIgnoreMouseEvent()||this.setState({currentPendingValueValidIndexOnHover:e})},t.prototype._onOptionMouseMove=function(e){this._gotMouseMove=!0,this._isScrollIdle&&this.state.currentPendingValueValidIndexOnHover!==e&&this.setState({currentPendingValueValidIndexOnHover:e})},t.prototype._shouldIgnoreMouseEvent=function(){return!this._isScrollIdle||!this._gotMouseMove},t.prototype._handleInputWhenDisabled=function(e){this.props.disabled&&(this.state.isOpen&&this.setState({isOpen:!1}),null!==e&&e.which!==a.c.tab&&e.which!==a.c.escape&&(e.which<112||e.which>123)&&(e.stopPropagation(),e.preventDefault()))},t.prototype._handleTouchAndPointerEvent=function(){var e=this;void 0!==this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout((function(){e._processingTouch=!1,e._lastTouchTimeoutId=void 0}),500)},t.prototype._getCaretButtonStyles=function(){var e=this.props.caretDownButtonStyles;return U(this.props.theme,e)},t.prototype._getCurrentOptionStyles=function(e){var t=this.props.comboBoxOptionStyles,n=e.styles;return N(this.props.theme,t,n,this._isPendingOption(e),e.hidden,this._isOptionHighlighted(e.index))},t.prototype._getAriaActiveDescendantValue=function(){var e=this.props.hoisted.selectedIndices,t=this.state,n=t.isOpen,r=t.currentPendingValueValidIndex,o=n&&(null===e||void 0===e?void 0:e.length)?this._id+"-list"+e[0]:void 0;return n&&this._hasFocus()&&-1!==r&&(o=this._id+"-list"+r),o},t.prototype._getAriaAutoCompleteValue=function(){return!this.props.disabled&&"on"===this.props.autoComplete?this.props.allowFreeform?"inline":"both":"list"},t.prototype._isPendingOption=function(e){return e&&e.index===this.state.currentPendingValueValidIndex},t.prototype._hasFocus=function(){return"none"!==this.state.focusState},t=(0,r.Cg)([(0,P.T)("ComboBox",["theme","styles"],!0)],t)}(o.Component);function re(e,t){if(!e||!t)return[];var n={};e.forEach((function(e,t){e.selected&&(n[t]=!0)}));for(var r=function(t){var r=(0,I.SL)(e,(function(e){return e.key===t}));r>-1&&(n[r]=!0)},o=0,i=t;o<i.length;o++){r(i[o])}return Object.keys(n).map(Number).sort()}function oe(e){return void 0===e?[]:e instanceof Array?e:[e]}function ie(e){return e||""}function ae(e,t){return!!e&&t>=0&&t<e.length}function se(e){return e.itemType!==H.W.Header&&e.itemType!==H.W.Divider&&e.itemType!==H.W.SelectAll}function le(e){return e.itemType!==H.W.Header&&e.itemType!==H.W.Divider}function ue(e){return e.useAriaLabelAsText&&e.ariaLabel?e.ariaLabel:e.text}function ce(e){return e.which===a.c.alt||"Meta"===e.key}},97576:(e,t,n)=>{"use strict";n.d(t,{a:()=>w});var r,o={themeDarker:"#004578",themeDark:"#005a9e",themeDarkAlt:"#106ebe",themePrimary:"#0078d4",themeSecondary:"#2b88d8",themeTertiary:"#71afe5",themeLight:"#c7e0f4",themeLighter:"#deecf9",themeLighterAlt:"#eff6fc",black:"#000000",blackTranslucent40:"rgba(0,0,0,.4)",neutralDark:"#201f1e",neutralPrimary:"#323130",neutralPrimaryAlt:"#3b3a39",neutralSecondary:"#605e5c",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#a19f9d",neutralTertiaryAlt:"#c8c6c4",neutralQuaternary:"#d2d0ce",neutralQuaternaryAlt:"#e1dfdd",neutralLight:"#edebe9",neutralLighter:"#f3f2f1",neutralLighterAlt:"#faf9f8",accent:"#0078d4",white:"#ffffff",whiteTranslucent40:"rgba(255,255,255,.4)",yellowDark:"#d29200",yellow:"#ffb900",yellowLight:"#fff100",orange:"#d83b01",orangeLight:"#ea4300",orangeLighter:"#ff8c00",redDark:"#a4262c",red:"#e81123",magentaDark:"#5c005c",magenta:"#b4009e",magentaLight:"#e3008c",purpleDark:"#32145a",purple:"#5c2d91",purpleLight:"#b4a0ff",blueDark:"#002050",blueMid:"#00188f",blue:"#0078d4",blueLight:"#00bcf2",tealDark:"#004b50",teal:"#008272",tealLight:"#00b294",greenDark:"#004b1c",green:"#107c10",greenLight:"#bad80a"};!function(e){e.depth0="0 0 0 0 transparent",e.depth4="0 1.6px 3.6px 0 rgba(0, 0, 0, 0.132), 0 0.3px 0.9px 0 rgba(0, 0, 0, 0.108)",e.depth8="0 3.2px 7.2px 0 rgba(0, 0, 0, 0.132), 0 0.6px 1.8px 0 rgba(0, 0, 0, 0.108)",e.depth16="0 6.4px 14.4px 0 rgba(0, 0, 0, 0.132), 0 1.2px 3.6px 0 rgba(0, 0, 0, 0.108)",e.depth64="0 25.6px 57.6px 0 rgba(0, 0, 0, 0.22), 0 4.8px 14.4px 0 rgba(0, 0, 0, 0.18)"}(r||(r={}));var i,a,s,l,u,c={elevation4:r.depth4,elevation8:r.depth8,elevation16:r.depth16,elevation64:r.depth64,roundedCorner2:"2px",roundedCorner4:"4px",roundedCorner6:"6px"},d=n(75659);!function(e){e.Arabic="Segoe UI Web (Arabic)",e.Cyrillic="Segoe UI Web (Cyrillic)",e.EastEuropean="Segoe UI Web (East European)",e.Greek="Segoe UI Web (Greek)",e.Hebrew="Segoe UI Web (Hebrew)",e.Thai="Leelawadee UI Web",e.Vietnamese="Segoe UI Web (Vietnamese)",e.WestEuropean="Segoe UI Web (West European)",e.Selawik="Selawik Web",e.Armenian="Segoe UI Web (Armenian)",e.Georgian="Segoe UI Web (Georgian)"}(i||(i={})),function(e){e.Arabic="'".concat(i.Arabic,"'"),e.ChineseSimplified="'Microsoft Yahei UI', Verdana, Simsun",e.ChineseTraditional="'Microsoft Jhenghei UI', Pmingliu",e.Cyrillic="'".concat(i.Cyrillic,"'"),e.EastEuropean="'".concat(i.EastEuropean,"'"),e.Greek="'".concat(i.Greek,"'"),e.Hebrew="'".concat(i.Hebrew,"'"),e.Hindi="'Nirmala UI'",e.Japanese="'Yu Gothic UI', 'Meiryo UI', Meiryo, 'MS Pgothic', Osaka",e.Korean="'Malgun Gothic', Gulim",e.Selawik="'".concat(i.Selawik,"'"),e.Thai="'Leelawadee UI Web', 'Kmer UI'",e.Vietnamese="'".concat(i.Vietnamese,"'"),e.WestEuropean="'".concat(i.WestEuropean,"'"),e.Armenian="'".concat(i.Armenian,"'"),e.Georgian="'".concat(i.Georgian,"'")}(a||(a={})),function(e){e.size10="10px",e.size12="12px",e.size14="14px",e.size16="16px",e.size18="18px",e.size20="20px",e.size24="24px",e.size28="28px",e.size32="32px",e.size42="42px",e.size68="68px",e.mini="10px",e.xSmall="10px",e.small="12px",e.smallPlus="12px",e.medium="14px",e.mediumPlus="16px",e.icon="16px",e.large="18px",e.xLarge="20px",e.xLargePlus="24px",e.xxLarge="28px",e.xxLargePlus="32px",e.superLarge="42px",e.mega="68px"}(s||(s={})),function(e){e.light=100,e.semilight=300,e.regular=400,e.semibold=600,e.bold=700}(l||(l={})),function(e){e.xSmall="10px",e.small="12px",e.medium="16px",e.large="20px"}(u||(u={}));var p="'Segoe UI', '".concat(i.WestEuropean,"'"),f={ar:a.Arabic,bg:a.Cyrillic,cs:a.EastEuropean,el:a.Greek,et:a.EastEuropean,he:a.Hebrew,hi:a.Hindi,hr:a.EastEuropean,hu:a.EastEuropean,ja:a.Japanese,kk:a.EastEuropean,ko:a.Korean,lt:a.EastEuropean,lv:a.EastEuropean,pl:a.EastEuropean,ru:a.Cyrillic,sk:a.EastEuropean,"sr-latn":a.EastEuropean,th:a.Thai,tr:a.EastEuropean,uk:a.Cyrillic,vi:a.Vietnamese,"zh-hans":a.ChineseSimplified,"zh-hant":a.ChineseTraditional,hy:a.Armenian,ka:a.Georgian};function h(e,t,n){return{fontFamily:n,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontSize:e,fontWeight:t}}var m=n(95696),g=n(95673),v=function(e){var t=function(e){for(var t in f)if(f.hasOwnProperty(t)&&e&&0===t.indexOf(e))return f[t];return p}(e),n="".concat(t,", ").concat("'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', sans-serif");return{tiny:h(s.mini,l.regular,n),xSmall:h(s.xSmall,l.regular,n),small:h(s.small,l.regular,n),smallPlus:h(s.smallPlus,l.regular,n),medium:h(s.medium,l.regular,n),mediumPlus:h(s.mediumPlus,l.regular,n),large:h(s.large,l.regular,n),xLarge:h(s.xLarge,l.semibold,n),xLargePlus:h(s.xLargePlus,l.semibold,n),xxLarge:h(s.xxLarge,l.semibold,n),xxLargePlus:h(s.xxLargePlus,l.semibold,n),superLarge:h(s.superLarge,l.semibold,n),mega:h(s.mega,l.semibold,n)}}((0,m.Z)());function y(e,t,n,r){e="'".concat(e,"'");var o=void 0!==r?"local('".concat(r,"'),"):"";(0,d.n)({fontFamily:e,src:o+"url('".concat(t,".woff2') format('woff2'),")+"url('".concat(t,".woff') format('woff')"),fontWeight:n,fontStyle:"normal",fontDisplay:"swap"})}function b(e,t,n,r,o){void 0===r&&(r="segoeui");var i="".concat(e,"/").concat(n,"/").concat(r);y(t,i+"-light",l.light,o&&o+" Light"),y(t,i+"-semilight",l.semilight,o&&o+" SemiLight"),y(t,i+"-regular",l.regular,o),y(t,i+"-semibold",l.semibold,o&&o+" SemiBold"),y(t,i+"-bold",l.bold,o&&o+" Bold")}!function(e){if(e){var t="".concat(e,"/fonts");b(t,i.Thai,"leelawadeeui-thai","leelawadeeui"),b(t,i.Arabic,"segoeui-arabic"),b(t,i.Cyrillic,"segoeui-cyrillic"),b(t,i.EastEuropean,"segoeui-easteuropean"),b(t,i.Greek,"segoeui-greek"),b(t,i.Hebrew,"segoeui-hebrew"),b(t,i.Vietnamese,"segoeui-vietnamese"),b(t,i.WestEuropean,"segoeui-westeuropean","segoeui","Segoe UI"),b(t,a.Selawik,"selawik","selawik"),b(t,i.Armenian,"segoeui-armenian"),b(t,i.Georgian,"segoeui-georgian"),y("Leelawadee UI Web","".concat(t,"/leelawadeeui-thai/leelawadeeui-semilight"),l.light),y("Leelawadee UI Web","".concat(t,"/leelawadeeui-thai/leelawadeeui-bold"),l.semibold)}}(function(){var e,t,n=null===(e=(0,g.z)())||void 0===e?void 0:e.FabricConfig;return null!==(t=null===n||void 0===n?void 0:n.fontBaseUrl)&&void 0!==t?t:"https://res-1.cdn.office.net/files/fabric-cdn-prod_20221209.001/assets"}());var x=n(62951),_={s2:"4px",s1:"8px",m:"16px",l1:"20px",l2:"32px"},C=n(69106);function w(e,t){void 0===e&&(e={}),void 0===t&&(t=!1);var n=!!e.isInverted,r={palette:o,effects:c,fonts:v,spacing:_,isInverted:n,disableGlobalClassNames:!1,semanticColors:(0,C.b)(o,c,void 0,n,t),rtl:void 0};return(0,x.z)(r,e)}},97708:(e,t,n)=>{"use strict";n.d(t,{y:()=>g});var r=n(69187),o=n(37827),i=n(9950),a=n(97934),s=n(56624),l=n(28225),u=n(19496),c=(0,s.Z)(),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.size,r=e.ariaLabel,s=e.ariaLive,d=e.styles,p=e.label,f=e.theme,h=e.className,m=e.labelPosition,g=r,v=(0,l.G1)(this.props,l.JM,["size"]),y=n;void 0===y&&void 0!==t&&(y=t===a.Q.large?a.H.large:a.H.medium);var b=c(d,{theme:f,size:y,className:h,labelPosition:m});return i.createElement("div",(0,o.Cl)({},v,{className:b.root}),i.createElement("div",{className:b.circle}),p&&i.createElement("div",{className:b.label},p),g&&i.createElement("div",{role:"status","aria-live":s},i.createElement(u.P,null,i.createElement("div",{className:b.screenReaderText},g))))},t.defaultProps={size:a.H.medium,ariaLive:"polite",labelPosition:"bottom"},t}(i.Component),p=n(32e3),f=n(96042),h={root:"ms-Spinner",circle:"ms-Spinner-circle",label:"ms-Spinner-label"},m=(0,f.J9)((function(){return(0,p.i7)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}})})),g=(0,r.I)(d,(function(e){var t,n=e.theme,r=e.size,i=e.className,s=e.labelPosition,l=n.palette,u=(0,p.Km)(h,n);return{root:[u.root,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},"top"===s&&{flexDirection:"column-reverse"},"right"===s&&{flexDirection:"row"},"left"===s&&{flexDirection:"row-reverse"},i],circle:[u.circle,{boxSizing:"border-box",borderRadius:"50%",border:"1.5px solid "+l.themeLight,borderTopColor:l.themePrimary,animationName:m(),animationDuration:"1.3s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.53,.21,.29,.67)",selectors:(t={},t[p.up]=(0,o.Cl)({borderTopColor:"Highlight"},(0,p.Qg)()),t)},r===a.H.xSmall&&["ms-Spinner--xSmall",{width:12,height:12}],r===a.H.small&&["ms-Spinner--small",{width:16,height:16}],r===a.H.medium&&["ms-Spinner--medium",{width:20,height:20}],r===a.H.large&&["ms-Spinner--large",{width:28,height:28}]],label:[u.label,n.fonts.small,{color:l.themePrimary,margin:"8px 0 0",textAlign:"center"},"top"===s&&{margin:"0 0 8px"},"right"===s&&{margin:"0 0 0 8px"},"left"===s&&{margin:"0 8px 0 0"}],screenReaderText:p.dX}}),void 0,{scope:"Spinner"})},97815:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var r=n(9950),o=function(e){var t=r.useRef(e);t.current=e,r.useEffect((function(){return function(){var e;null===(e=t.current)||void 0===e||e.call(t)}}),[])}},97934:(e,t,n)=>{"use strict";var r,o;n.d(t,{H:()=>r,Q:()=>o}),function(e){e[e.xSmall=0]="xSmall",e[e.small=1]="small",e[e.medium=2]="medium",e[e.large=3]="large"}(r||(r={})),function(e){e[e.normal=0]="normal",e[e.large=1]="large"}(o||(o={}))},98140:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(34868),o=n(9950);function i(e,t,n,i){var a=o.useRef(n);a.current=n,o.useEffect((function(){var n=e&&"current"in e?e.current:e;if(n)return(0,r.on)(n,t,(function(e){return a.current(e)}),i)}),[e,t,i])}},98330:(e,t,n)=>{"use strict";n.d(t,{K:()=>c});var r=n(75347),o=n(36058),i=n(80163);function a(e,t){return e*e+t*t}function s(e,t,n){var r=(n-e)/(t-e);return r*r*(3-2*r)}var l=n(34745),u=.25;function c(e,t,n,c,d,p){for(var f=(0,i.x)(t.format),h=(0,o.O)(t.format),m=n.width,g=t.bytes,v=t.bytes.length/f,y=function(e,t){var n=(0,r.ZG)((0,r.U3)(t.x,t.y),e);return(0,r.ZW)(n)}(c,{x:e.width,y:e.height}),b=.5/y,x=1-b,_=.5*(1-d),C=(0,r.iQ)(n.left+.5,n.top+.5),w=(0,r.U3)(1/e.width,1/e.height),S=(0,r.eE)(c),k=(0,r.ZG)(S,w,C),T=h,E=0;E<v;E++,T+=f){var P=E%m,I=Math.floor(E/m),A=(0,r.vo)(k,{x:P,y:I});if(A.x>=0&&A.x<=1&&A.y>=0&&A.y<=1){var R=void 0;if(A.x<b){var L=a((A.x-b)*y,A.y-.5);if(L>u)continue;R=L}else if(A.x>x){var M=a((A.x-x)*y,A.y-.5);if(M>u)continue;R=M}if(d>0){var B=(void 0===R?Math.abs(A.y-.5):Math.sqrt(R))-_;if(B>0){var O=s(0,.5-_,B);g[T]=(0,l.Cc)(p,g[T],O)}else g[T]=p}else g[T]=p}}}},98565:(e,t,n)=>{"use strict";function r(){return"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,(function(e){return(+e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+e/4).toString(16)}))}n.d(t,{g:()=>r})},98689:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var r=n(9950),o=n(65092),i=n(97576),a=n(75289);var s=function(){var e=(0,r.useContext)(a.D),t=(0,o.m)(["theme"]).theme;return e||t||(0,i.a)({})}},99103:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var r=n(37827);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e&&1===e.length&&e[0]&&!e[0].subComponentStyles)return e[0];for(var n={},i={},a=0,s=e;a<s.length;a++){var l=s[a];if(l)for(var u in l)if(l.hasOwnProperty(u)){if("subComponentStyles"===u&&void 0!==l.subComponentStyles){var c=l.subComponentStyles;for(var d in c)c.hasOwnProperty(d)&&(i.hasOwnProperty(d)?i[d].push(c[d]):i[d]=[c[d]]);continue}var p=n[u],f=l[u];n[u]=void 0===p?f:(0,r.fX)((0,r.fX)([],Array.isArray(p)?p:[p],!0),Array.isArray(f)?f:[f],!0)}}if(Object.keys(i).length>0){n.subComponentStyles={};var h=n.subComponentStyles,m=function(e){if(i.hasOwnProperty(e)){var t=i[e];h[e]=function(e){return o.apply(void 0,t.map((function(t){return"function"===typeof t?t(e):t})))}}};for(var d in i)m(d)}return n}},99145:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o,b:()=>r});var r=4,o=r-1},99261:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var r=n(6246);function o(e){var t=(0,r.XG)(e);if(t)return{x:t.width,y:t.height}}},99749:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});var r=n(9950),o=n(91629),i=n(6246);function a(){var e=(0,r.useContext)(o.Z).image;return(0,i.qc)(e.main)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="lightbox_hvc:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var s,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",(()=>{n.b=document.baseURI||self.location.href;var e={0:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,i,a=r[0],s=r[1],l=r[2],u=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)l(n)}for(t&&t(r);u<a.length;u++)i=a[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunklightbox_hvc=self.webpackChunklightbox_hvc||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(9950),t=n(17119);var r=n(32e3);function o(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons"',src:"url('".concat(e,"fabric-icons-a13498cf.woff') format('woff')")},icons:{GlobalNavButton:"\ue700",ChevronDown:"\ue70d",ChevronUp:"\ue70e",Edit:"\ue70f",Add:"\ue710",Cancel:"\ue711",More:"\ue712",Settings:"\ue713",Mail:"\ue715",Filter:"\ue71c",Search:"\ue721",Share:"\ue72d",BlockedSite:"\ue72f",FavoriteStar:"\ue734",FavoriteStarFill:"\ue735",CheckMark:"\ue73e",Delete:"\ue74d",ChevronLeft:"\ue76b",ChevronRight:"\ue76c",Calendar:"\ue787",Megaphone:"\ue789",Undo:"\ue7a7",Flag:"\ue7c1",Page:"\ue7c3",Pinned:"\ue840",View:"\ue890",Clear:"\ue894",Download:"\ue896",Upload:"\ue898",Folder:"\ue8b7",Sort:"\ue8cb",AlignRight:"\ue8e2",AlignLeft:"\ue8e4",Tag:"\ue8ec",AddFriend:"\ue8fa",Info:"\ue946",SortLines:"\ue9d0",List:"\uea37",CircleRing:"\uea3a",Heart:"\ueb51",HeartFill:"\ueb52",Tiles:"\ueca5",Embed:"\uecce",Glimmer:"\uecf4",Ascending:"\uedc0",Descending:"\uedc1",SortUp:"\uee68",SortDown:"\uee69",SyncToPC:"\uee6e",LargeGrid:"\ueecb",SkypeCheck:"\uef80",SkypeClock:"\uef81",SkypeMinus:"\uef82",ClearFilter:"\uef8f",Flow:"\uef90",StatusCircleCheckmark:"\uf13e",MoreVertical:"\uf2bc"}};(0,r.K1)(n,t)}function i(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-0"',src:"url('".concat(e,"fabric-icons-0-467ee27f.woff') format('woff')")},icons:{PageLink:"\ue302",CommentSolid:"\ue30e",ChangeEntitlements:"\ue310",Installation:"\ue311",WebAppBuilderModule:"\ue313",WebAppBuilderFragment:"\ue314",WebAppBuilderSlot:"\ue315",BullseyeTargetEdit:"\ue319",WebAppBuilderFragmentCreate:"\ue31b",PageData:"\ue31c",PageHeaderEdit:"\ue31d",ProductList:"\ue31e",UnpublishContent:"\ue31f",DependencyAdd:"\ue344",DependencyRemove:"\ue345",EntitlementPolicy:"\ue346",EntitlementRedemption:"\ue347",SchoolDataSyncLogo:"\ue34c",PinSolid12:"\ue352",PinSolidOff12:"\ue353",AddLink:"\ue35e",SharepointAppIcon16:"\ue365",DataflowsLink:"\ue366",TimePicker:"\ue367",UserWarning:"\ue368",ComplianceAudit:"\ue369",InternetSharing:"\ue704",Brightness:"\ue706",MapPin:"\ue707",Airplane:"\ue709",Tablet:"\ue70a",QuickNote:"\ue70b",Video:"\ue714",People:"\ue716",Phone:"\ue717",Pin:"\ue718",Shop:"\ue719",Stop:"\ue71a",Link:"\ue71b",AllApps:"\ue71d",Zoom:"\ue71e",ZoomOut:"\ue71f",Microphone:"\ue720",Camera:"\ue722",Attach:"\ue723",Send:"\ue724",FavoriteList:"\ue728",PageSolid:"\ue729",Forward:"\ue72a",Back:"\ue72b",Refresh:"\ue72c",Lock:"\ue72e",ReportHacked:"\ue730",EMI:"\ue731",MiniLink:"\ue732",Blocked:"\ue733",ReadingMode:"\ue736",Favicon:"\ue737",Remove:"\ue738",Checkbox:"\ue739",CheckboxComposite:"\ue73a",CheckboxFill:"\ue73b",CheckboxIndeterminate:"\ue73c",CheckboxCompositeReversed:"\ue73d",BackToWindow:"\ue73f",FullScreen:"\ue740",Print:"\ue749",Up:"\ue74a",Down:"\ue74b",OEM:"\ue74c",Save:"\ue74e",ReturnKey:"\ue751",Cloud:"\ue753",Flashlight:"\ue754",CommandPrompt:"\ue756",Sad:"\ue757",RealEstate:"\ue758",SIPMove:"\ue759",EraseTool:"\ue75c",GripperTool:"\ue75e",Dialpad:"\ue75f",PageLeft:"\ue760",PageRight:"\ue761",MultiSelect:"\ue762",KeyboardClassic:"\ue765",Play:"\ue768",Pause:"\ue769",InkingTool:"\ue76d",Emoji2:"\ue76e",GripperBarHorizontal:"\ue76f",System:"\ue770",Personalize:"\ue771",SearchAndApps:"\ue773",Globe:"\ue774",EaseOfAccess:"\ue776",ContactInfo:"\ue779",Unpin:"\ue77a",Contact:"\ue77b",Memo:"\ue77c",IncomingCall:"\ue77e"}};(0,r.K1)(n,t)}function a(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-1"',src:"url('".concat(e,"fabric-icons-1-4d521695.woff') format('woff')")},icons:{Paste:"\ue77f",WindowsLogo:"\ue782",Error:"\ue783",GripperBarVertical:"\ue784",Unlock:"\ue785",Slideshow:"\ue786",Trim:"\ue78a",AutoEnhanceOn:"\ue78d",AutoEnhanceOff:"\ue78e",Color:"\ue790",SaveAs:"\ue792",Light:"\ue793",Filters:"\ue795",AspectRatio:"\ue799",Contrast:"\ue7a1",Redo:"\ue7a6",Crop:"\ue7a8",PhotoCollection:"\ue7aa",Album:"\ue7ab",Rotate:"\ue7ad",PanoIndicator:"\ue7b0",Translate:"\ue7b2",RedEye:"\ue7b3",ViewOriginal:"\ue7b4",ThumbnailView:"\ue7b6",Package:"\ue7b8",Telemarketer:"\ue7b9",Warning:"\ue7ba",Financial:"\ue7bb",Education:"\ue7be",ShoppingCart:"\ue7bf",Train:"\ue7c0",Move:"\ue7c2",TouchPointer:"\ue7c9",Merge:"\ue7d5",TurnRight:"\ue7db",Ferry:"\ue7e3",Highlight:"\ue7e6",PowerButton:"\ue7e8",Tab:"\ue7e9",Admin:"\ue7ef",TVMonitor:"\ue7f4",Speakers:"\ue7f5",Game:"\ue7fc",HorizontalTabKey:"\ue7fd",UnstackSelected:"\ue7fe",StackIndicator:"\ue7ff",Nav2DMapView:"\ue800",StreetsideSplitMinimize:"\ue802",Car:"\ue804",Bus:"\ue806",EatDrink:"\ue807",SeeDo:"\ue808",LocationCircle:"\ue80e",Home:"\ue80f",SwitcherStartEnd:"\ue810",ParkingLocation:"\ue811",IncidentTriangle:"\ue814",Touch:"\ue815",MapDirections:"\ue816",CaretHollow:"\ue817",CaretSolid:"\ue818",History:"\ue81c",Location:"\ue81d",MapLayers:"\ue81e",SearchNearby:"\ue820",Work:"\ue821",Recent:"\ue823",Hotel:"\ue824",Bank:"\ue825",LocationDot:"\ue827",Dictionary:"\ue82d",ChromeBack:"\ue830",FolderOpen:"\ue838",PinnedFill:"\ue842",RevToggleKey:"\ue845",USB:"\ue88e",Previous:"\ue892",Next:"\ue893",Sync:"\ue895",Help:"\ue897",Emoji:"\ue899",MailForward:"\ue89c",ClosePane:"\ue89f",OpenPane:"\ue8a0",PreviewLink:"\ue8a1",ZoomIn:"\ue8a3",Bookmarks:"\ue8a4",Document:"\ue8a5",ProtectedDocument:"\ue8a6",OpenInNewWindow:"\ue8a7",MailFill:"\ue8a8",ViewAll:"\ue8a9",Switch:"\ue8ab",Rename:"\ue8ac",Go:"\ue8ad",Remote:"\ue8af",SelectAll:"\ue8b3",Orientation:"\ue8b4",Import:"\ue8b5"}};(0,r.K1)(n,t)}function s(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-2"',src:"url('".concat(e,"fabric-icons-2-63c99abf.woff') format('woff')")},icons:{Picture:"\ue8b9",ChromeClose:"\ue8bb",ShowResults:"\ue8bc",Message:"\ue8bd",CalendarDay:"\ue8bf",CalendarWeek:"\ue8c0",MailReplyAll:"\ue8c2",Read:"\ue8c3",Cut:"\ue8c6",PaymentCard:"\ue8c7",Copy:"\ue8c8",Important:"\ue8c9",MailReply:"\ue8ca",GotoToday:"\ue8d1",Font:"\ue8d2",FontColor:"\ue8d3",FolderFill:"\ue8d5",Permissions:"\ue8d7",DisableUpdates:"\ue8d8",Unfavorite:"\ue8d9",Italic:"\ue8db",Underline:"\ue8dc",Bold:"\ue8dd",MoveToFolder:"\ue8de",Dislike:"\ue8e0",Like:"\ue8e1",AlignCenter:"\ue8e3",OpenFile:"\ue8e5",ClearSelection:"\ue8e6",FontDecrease:"\ue8e7",FontIncrease:"\ue8e8",FontSize:"\ue8e9",CellPhone:"\ue8ea",RepeatOne:"\ue8ed",RepeatAll:"\ue8ee",Calculator:"\ue8ef",Library:"\ue8f1",PostUpdate:"\ue8f3",NewFolder:"\ue8f4",CalendarReply:"\ue8f5",UnsyncFolder:"\ue8f6",SyncFolder:"\ue8f7",BlockContact:"\ue8f8",Accept:"\ue8fb",BulletedList:"\ue8fd",Preview:"\ue8ff",News:"\ue900",Chat:"\ue901",Group:"\ue902",World:"\ue909",Comment:"\ue90a",DockLeft:"\ue90c",DockRight:"\ue90d",Repair:"\ue90f",Accounts:"\ue910",Street:"\ue913",RadioBullet:"\ue915",Stopwatch:"\ue916",Clock:"\ue917",WorldClock:"\ue918",AlarmClock:"\ue919",Photo:"\ue91b",ActionCenter:"\ue91c",Hospital:"\ue91d",Timer:"\ue91e",FullCircleMask:"\ue91f",LocationFill:"\ue920",ChromeMinimize:"\ue921",ChromeRestore:"\ue923",Annotation:"\ue924",Fingerprint:"\ue928",Handwriting:"\ue929",ChromeFullScreen:"\ue92d",Completed:"\ue930",Label:"\ue932",FlickDown:"\ue935",FlickUp:"\ue936",FlickLeft:"\ue937",FlickRight:"\ue938",MiniExpand:"\ue93a",MiniContract:"\ue93b",Streaming:"\ue93e",MusicInCollection:"\ue940",OneDriveLogo:"\ue941",CompassNW:"\ue942",Code:"\ue943",LightningBolt:"\ue945",CalculatorMultiply:"\ue947",CalculatorAddition:"\ue948",CalculatorSubtract:"\ue949",CalculatorPercentage:"\ue94c",CalculatorEqualTo:"\ue94e",PrintfaxPrinterFile:"\ue956",StorageOptical:"\ue958",Communications:"\ue95a",Headset:"\ue95b",Health:"\ue95e",Webcam2:"\ue960",FrontCamera:"\ue96b",ChevronUpSmall:"\ue96d"}};(0,r.K1)(n,t)}function l(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-3"',src:"url('".concat(e,"fabric-icons-3-089e217a.woff') format('woff')")},icons:{ChevronDownSmall:"\ue96e",ChevronLeftSmall:"\ue96f",ChevronRightSmall:"\ue970",ChevronUpMed:"\ue971",ChevronDownMed:"\ue972",ChevronLeftMed:"\ue973",ChevronRightMed:"\ue974",Devices2:"\ue975",PC1:"\ue977",PresenceChickletVideo:"\ue979",Reply:"\ue97a",HalfAlpha:"\ue97e",ConstructionCone:"\ue98f",DoubleChevronLeftMed:"\ue991",Volume0:"\ue992",Volume1:"\ue993",Volume2:"\ue994",Volume3:"\ue995",Chart:"\ue999",Robot:"\ue99a",Manufacturing:"\ue99c",LockSolid:"\ue9a2",FitPage:"\ue9a6",FitWidth:"\ue9a7",BidiLtr:"\ue9aa",BidiRtl:"\ue9ab",RightDoubleQuote:"\ue9b1",Sunny:"\ue9bd",CloudWeather:"\ue9be",Cloudy:"\ue9bf",PartlyCloudyDay:"\ue9c0",PartlyCloudyNight:"\ue9c1",ClearNight:"\ue9c2",RainShowersDay:"\ue9c3",Rain:"\ue9c4",Thunderstorms:"\ue9c6",RainSnow:"\ue9c7",Snow:"\ue9c8",BlowingSnow:"\ue9c9",Frigid:"\ue9ca",Fog:"\ue9cb",Squalls:"\ue9cc",Duststorm:"\ue9cd",Unknown:"\ue9ce",Precipitation:"\ue9cf",Ribbon:"\ue9d1",AreaChart:"\ue9d2",Assign:"\ue9d3",FlowChart:"\ue9d4",CheckList:"\ue9d5",Diagnostic:"\ue9d9",Generate:"\ue9da",LineChart:"\ue9e6",Equalizer:"\ue9e9",BarChartHorizontal:"\ue9eb",BarChartVertical:"\ue9ec",Freezing:"\ue9ef",FunnelChart:"\ue9f1",Processing:"\ue9f5",Quantity:"\ue9f8",ReportDocument:"\ue9f9",StackColumnChart:"\ue9fc",SnowShowerDay:"\ue9fd",HailDay:"\uea00",WorkFlow:"\uea01",HourGlass:"\uea03",StoreLogoMed20:"\uea04",TimeSheet:"\uea05",TriangleSolid:"\uea08",UpgradeAnalysis:"\uea0b",VideoSolid:"\uea0c",RainShowersNight:"\uea0f",SnowShowerNight:"\uea11",Teamwork:"\uea12",HailNight:"\uea13",PeopleAdd:"\uea15",Glasses:"\uea16",DateTime2:"\uea17",Shield:"\uea18",Header1:"\uea19",PageAdd:"\uea1a",NumberedList:"\uea1c",PowerBILogo:"\uea1e",Info2:"\uea1f",MusicInCollectionFill:"\uea36",Asterisk:"\uea38",ErrorBadge:"\uea39",CircleFill:"\uea3b",Record2:"\uea3f",AllAppsMirrored:"\uea40",BookmarksMirrored:"\uea41",BulletedListMirrored:"\uea42",CaretHollowMirrored:"\uea45",CaretSolidMirrored:"\uea46",ChromeBackMirrored:"\uea47",ClearSelectionMirrored:"\uea48",ClosePaneMirrored:"\uea49",DockLeftMirrored:"\uea4c",DoubleChevronLeftMedMirrored:"\uea4d",GoMirrored:"\uea4f"}};(0,r.K1)(n,t)}function u(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-4"',src:"url('".concat(e,"fabric-icons-4-a656cc0a.woff') format('woff')")},icons:{HelpMirrored:"\uea51",ImportMirrored:"\uea52",ImportAllMirrored:"\uea53",ListMirrored:"\uea55",MailForwardMirrored:"\uea56",MailReplyMirrored:"\uea57",MailReplyAllMirrored:"\uea58",MiniContractMirrored:"\uea59",MiniExpandMirrored:"\uea5a",OpenPaneMirrored:"\uea5b",ParkingLocationMirrored:"\uea5e",SendMirrored:"\uea63",ShowResultsMirrored:"\uea65",ThumbnailViewMirrored:"\uea67",Media:"\uea69",Devices3:"\uea6c",Focus:"\uea6f",VideoLightOff:"\uea74",Lightbulb:"\uea80",StatusTriangle:"\uea82",VolumeDisabled:"\uea85",Puzzle:"\uea86",EmojiNeutral:"\uea87",EmojiDisappointed:"\uea88",HomeSolid:"\uea8a",Ringer:"\uea8f",PDF:"\uea90",HeartBroken:"\uea92",StoreLogo16:"\uea96",MultiSelectMirrored:"\uea98",Broom:"\uea99",AddToShoppingList:"\uea9a",Cocktails:"\uea9d",Wines:"\ueabf",Articles:"\ueac1",Cycling:"\ueac7",DietPlanNotebook:"\ueac8",Pill:"\ueacb",ExerciseTracker:"\ueacc",HandsFree:"\uead0",Medical:"\uead4",Running:"\ueada",Weights:"\ueadb",Trackers:"\ueadf",AddNotes:"\ueae3",AllCurrency:"\ueae4",BarChart4:"\ueae7",CirclePlus:"\ueaee",Coffee:"\ueaef",Cotton:"\ueaf3",Market:"\ueafc",Money:"\ueafd",PieDouble:"\ueb04",PieSingle:"\ueb05",RemoveFilter:"\ueb08",Savings:"\ueb0b",Sell:"\ueb0c",StockDown:"\ueb0f",StockUp:"\ueb11",Lamp:"\ueb19",Source:"\ueb1b",MSNVideos:"\ueb1c",Cricket:"\ueb1e",Golf:"\ueb1f",Baseball:"\ueb20",Soccer:"\ueb21",MoreSports:"\ueb22",AutoRacing:"\ueb24",CollegeHoops:"\ueb25",CollegeFootball:"\ueb26",ProFootball:"\ueb27",ProHockey:"\ueb28",Rugby:"\ueb2d",SubstitutionsIn:"\ueb31",Tennis:"\ueb33",Arrivals:"\ueb34",Design:"\ueb3c",Website:"\ueb41",Drop:"\ueb42",HistoricalWeather:"\ueb43",SkiResorts:"\ueb45",Snowflake:"\ueb46",BusSolid:"\ueb47",FerrySolid:"\ueb48",AirplaneSolid:"\ueb4c",TrainSolid:"\ueb4d",Ticket:"\ueb54",WifiWarning4:"\ueb63",Devices4:"\ueb66",AzureLogo:"\ueb6a",BingLogo:"\ueb6b",MSNLogo:"\ueb6c",OutlookLogoInverse:"\ueb6d",OfficeLogo:"\ueb6e",SkypeLogo:"\ueb6f",Door:"\ueb75",EditMirrored:"\ueb7e",GiftCard:"\ueb8e",DoubleBookmark:"\ueb8f",StatusErrorFull:"\ueb90"}};(0,r.K1)(n,t)}function c(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-5"',src:"url('".concat(e,"fabric-icons-5-f95ba260.woff') format('woff')")},icons:{Certificate:"\ueb95",FastForward:"\ueb9d",Rewind:"\ueb9e",Photo2:"\ueb9f",OpenSource:"\uebc2",Movers:"\uebcd",CloudDownload:"\uebd3",Family:"\uebda",WindDirection:"\uebe6",Bug:"\uebe8",SiteScan:"\uebec",BrowserScreenShot:"\uebed",F12DevTools:"\uebee",CSS:"\uebef",JS:"\uebf0",DeliveryTruck:"\uebf4",ReminderPerson:"\uebf7",ReminderGroup:"\uebf8",ReminderTime:"\uebf9",TabletMode:"\uebfc",Umbrella:"\uec04",NetworkTower:"\uec05",CityNext:"\uec06",CityNext2:"\uec07",Section:"\uec0c",OneNoteLogoInverse:"\uec0d",ToggleFilled:"\uec11",ToggleBorder:"\uec12",SliderThumb:"\uec13",ToggleThumb:"\uec14",Documentation:"\uec17",Badge:"\uec1b",Giftbox:"\uec1f",VisualStudioLogo:"\uec22",HomeGroup:"\uec26",ExcelLogoInverse:"\uec28",WordLogoInverse:"\uec29",PowerPointLogoInverse:"\uec2a",Cafe:"\uec32",SpeedHigh:"\uec4a",Commitments:"\uec4d",ThisPC:"\uec4e",MusicNote:"\uec4f",MicOff:"\uec54",PlaybackRate1x:"\uec57",EdgeLogo:"\uec60",CompletedSolid:"\uec61",AlbumRemove:"\uec62",MessageFill:"\uec70",TabletSelected:"\uec74",MobileSelected:"\uec75",LaptopSelected:"\uec76",TVMonitorSelected:"\uec77",DeveloperTools:"\uec7a",Shapes:"\uec7c",InsertTextBox:"\uec7d",LowerBrightness:"\uec8a",WebComponents:"\uec8b",OfflineStorage:"\uec8c",DOM:"\uec8d",CloudUpload:"\uec8e",ScrollUpDown:"\uec8f",DateTime:"\uec92",Event:"\ueca3",Cake:"\ueca4",Org:"\ueca6",PartyLeader:"\ueca7",DRM:"\ueca8",CloudAdd:"\ueca9",AppIconDefault:"\uecaa",Photo2Add:"\uecab",Photo2Remove:"\uecac",Calories:"\uecad",POI:"\uecaf",AddTo:"\uecc8",RadioBtnOff:"\uecca",RadioBtnOn:"\ueccb",ExploreContent:"\ueccd",Product:"\uecdc",ProgressLoopInner:"\uecde",ProgressLoopOuter:"\uecdf",Blocked2:"\uece4",FangBody:"\ueceb",Toolbox:"\ueced",PageHeader:"\uecee",ChatInviteFriend:"\uecfe",Brush:"\uecff",Shirt:"\ued00",Crown:"\ued01",Diamond:"\ued02",ScaleUp:"\ued09",QRCode:"\ued14",Feedback:"\ued15",SharepointLogoInverse:"\ued18",YammerLogo:"\ued19",Hide:"\ued1a",Uneditable:"\ued1d",ReturnToSession:"\ued24",OpenFolderHorizontal:"\ued25",CalendarMirrored:"\ued28"}};(0,r.K1)(n,t)}function d(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-6"',src:"url('".concat(e,"fabric-icons-6-ef6fd590.woff') format('woff')")},icons:{SwayLogoInverse:"\ued29",OutOfOffice:"\ued34",Trophy:"\ued3f",ReopenPages:"\ued50",EmojiTabSymbols:"\ued58",AADLogo:"\ued68",AccessLogo:"\ued69",AdminALogoInverse32:"\ued6a",AdminCLogoInverse32:"\ued6b",AdminDLogoInverse32:"\ued6c",AdminELogoInverse32:"\ued6d",AdminLLogoInverse32:"\ued6e",AdminMLogoInverse32:"\ued6f",AdminOLogoInverse32:"\ued70",AdminPLogoInverse32:"\ued71",AdminSLogoInverse32:"\ued72",AdminYLogoInverse32:"\ued73",DelveLogoInverse:"\ued76",ExchangeLogoInverse:"\ued78",LyncLogo:"\ued79",OfficeVideoLogoInverse:"\ued7a",SocialListeningLogo:"\ued7c",VisioLogoInverse:"\ued7d",Balloons:"\ued7e",Cat:"\ued7f",MailAlert:"\ued80",MailCheck:"\ued81",MailLowImportance:"\ued82",MailPause:"\ued83",MailRepeat:"\ued84",SecurityGroup:"\ued85",Table:"\ued86",VoicemailForward:"\ued87",VoicemailReply:"\ued88",Waffle:"\ued89",RemoveEvent:"\ued8a",EventInfo:"\ued8b",ForwardEvent:"\ued8c",WipePhone:"\ued8d",AddOnlineMeeting:"\ued8e",JoinOnlineMeeting:"\ued8f",RemoveLink:"\ued90",PeopleBlock:"\ued91",PeopleRepeat:"\ued92",PeopleAlert:"\ued93",PeoplePause:"\ued94",TransferCall:"\ued95",AddPhone:"\ued96",UnknownCall:"\ued97",NoteReply:"\ued98",NoteForward:"\ued99",NotePinned:"\ued9a",RemoveOccurrence:"\ued9b",Timeline:"\ued9c",EditNote:"\ued9d",CircleHalfFull:"\ued9e",Room:"\ued9f",Unsubscribe:"\ueda0",Subscribe:"\ueda1",HardDrive:"\ueda2",RecurringTask:"\uedb2",TaskManager:"\uedb7",TaskManagerMirrored:"\uedb8",Combine:"\uedbb",Split:"\uedbc",DoubleChevronUp:"\uedbd",DoubleChevronLeft:"\uedbe",DoubleChevronRight:"\uedbf",TextBox:"\uedc2",TextField:"\uedc3",NumberField:"\uedc4",Dropdown:"\uedc5",PenWorkspace:"\uedc6",BookingsLogo:"\uedc7",ClassNotebookLogoInverse:"\uedc8",DelveAnalyticsLogo:"\uedca",DocsLogoInverse:"\uedcb",Dynamics365Logo:"\uedcc",DynamicSMBLogo:"\uedcd",OfficeAssistantLogo:"\uedce",OfficeStoreLogo:"\uedcf",OneNoteEduLogoInverse:"\uedd0",PlannerLogo:"\uedd1",PowerApps:"\uedd2",Suitcase:"\uedd3",ProjectLogoInverse:"\uedd4",CaretLeft8:"\uedd5",CaretRight8:"\uedd6",CaretUp8:"\uedd7",CaretDown8:"\uedd8",CaretLeftSolid8:"\uedd9",CaretRightSolid8:"\uedda",CaretUpSolid8:"\ueddb",CaretDownSolid8:"\ueddc",ClearFormatting:"\ueddd",Superscript:"\uedde",Subscript:"\ueddf",Strikethrough:"\uede0",Export:"\uede1",ExportMirrored:"\uede2"}};(0,r.K1)(n,t)}function p(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-7"',src:"url('".concat(e,"fabric-icons-7-2b97bb99.woff') format('woff')")},icons:{SingleBookmark:"\uedff",SingleBookmarkSolid:"\uee00",DoubleChevronDown:"\uee04",FollowUser:"\uee05",ReplyAll:"\uee0a",WorkforceManagement:"\uee0f",RecruitmentManagement:"\uee12",Questionnaire:"\uee19",ManagerSelfService:"\uee23",ProductionFloorManagement:"\uee29",ProductRelease:"\uee2e",ProductVariant:"\uee30",ReplyMirrored:"\uee35",ReplyAllMirrored:"\uee36",Medal:"\uee38",AddGroup:"\uee3d",QuestionnaireMirrored:"\uee4b",CloudImportExport:"\uee55",TemporaryUser:"\uee58",CaretSolid16:"\uee62",GroupedDescending:"\uee66",GroupedAscending:"\uee67",AwayStatus:"\uee6a",MyMoviesTV:"\uee6c",GenericScan:"\uee6f",AustralianRules:"\uee70",WifiEthernet:"\uee77",TrackersMirrored:"\uee92",DateTimeMirrored:"\uee93",StopSolid:"\uee95",DoubleChevronUp12:"\uee96",DoubleChevronDown12:"\uee97",DoubleChevronLeft12:"\uee98",DoubleChevronRight12:"\uee99",CalendarAgenda:"\uee9a",ConnectVirtualMachine:"\uee9d",AddEvent:"\ueeb5",AssetLibrary:"\ueeb6",DataConnectionLibrary:"\ueeb7",DocLibrary:"\ueeb8",FormLibrary:"\ueeb9",FormLibraryMirrored:"\ueeba",ReportLibrary:"\ueebb",ReportLibraryMirrored:"\ueebc",ContactCard:"\ueebd",CustomList:"\ueebe",CustomListMirrored:"\ueebf",IssueTracking:"\ueec0",IssueTrackingMirrored:"\ueec1",PictureLibrary:"\ueec2",OfficeAddinsLogo:"\ueec7",OfflineOneDriveParachute:"\ueec8",OfflineOneDriveParachuteDisabled:"\ueec9",TriangleSolidUp12:"\ueecc",TriangleSolidDown12:"\ueecd",TriangleSolidLeft12:"\ueece",TriangleSolidRight12:"\ueecf",TriangleUp12:"\ueed0",TriangleDown12:"\ueed1",TriangleLeft12:"\ueed2",TriangleRight12:"\ueed3",ArrowUpRight8:"\ueed4",ArrowDownRight8:"\ueed5",DocumentSet:"\ueed6",GoToDashboard:"\ueeed",DelveAnalytics:"\ueeee",ArrowUpRightMirrored8:"\ueeef",ArrowDownRightMirrored8:"\ueef0",CompanyDirectory:"\uef0d",OpenEnrollment:"\uef1c",CompanyDirectoryMirrored:"\uef2b",OneDriveAdd:"\uef32",ProfileSearch:"\uef35",Header2:"\uef36",Header3:"\uef37",Header4:"\uef38",RingerSolid:"\uef3a",Eyedropper:"\uef3c",MarketDown:"\uef42",CalendarWorkWeek:"\uef51",SidePanel:"\uef52",GlobeFavorite:"\uef53",CaretTopLeftSolid8:"\uef54",CaretTopRightSolid8:"\uef55",ViewAll2:"\uef56",DocumentReply:"\uef57",PlayerSettings:"\uef58",ReceiptForward:"\uef59",ReceiptReply:"\uef5a",ReceiptCheck:"\uef5b",Fax:"\uef5c",RecurringEvent:"\uef5d",ReplyAlt:"\uef5e",ReplyAllAlt:"\uef5f",EditStyle:"\uef60",EditMail:"\uef61",Lifesaver:"\uef62",LifesaverLock:"\uef63",InboxCheck:"\uef64",FolderSearch:"\uef65"}};(0,r.K1)(n,t)}function f(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-8"',src:"url('".concat(e,"fabric-icons-8-6fdf1528.woff') format('woff')")},icons:{CollapseMenu:"\uef66",ExpandMenu:"\uef67",Boards:"\uef68",SunAdd:"\uef69",SunQuestionMark:"\uef6a",LandscapeOrientation:"\uef6b",DocumentSearch:"\uef6c",PublicCalendar:"\uef6d",PublicContactCard:"\uef6e",PublicEmail:"\uef6f",PublicFolder:"\uef70",WordDocument:"\uef71",PowerPointDocument:"\uef72",ExcelDocument:"\uef73",GroupedList:"\uef74",ClassroomLogo:"\uef75",Sections:"\uef76",EditPhoto:"\uef77",Starburst:"\uef78",ShareiOS:"\uef79",AirTickets:"\uef7a",PencilReply:"\uef7b",Tiles2:"\uef7c",SkypeCircleCheck:"\uef7d",SkypeCircleClock:"\uef7e",SkypeCircleMinus:"\uef7f",SkypeMessage:"\uef83",ClosedCaption:"\uef84",ATPLogo:"\uef85",OfficeFormsLogoInverse:"\uef86",RecycleBin:"\uef87",EmptyRecycleBin:"\uef88",Hide2:"\uef89",Breadcrumb:"\uef8c",BirthdayCake:"\uef8d",TimeEntry:"\uef95",CRMProcesses:"\uefb1",PageEdit:"\uefb6",PageArrowRight:"\uefb8",PageRemove:"\uefba",Database:"\uefc7",DataManagementSettings:"\uefc8",CRMServices:"\uefd2",EditContact:"\uefd3",ConnectContacts:"\uefd4",AppIconDefaultAdd:"\uefda",AppIconDefaultList:"\uefde",ActivateOrders:"\uefe0",DeactivateOrders:"\uefe1",ProductCatalog:"\uefe8",ScatterChart:"\uefeb",AccountActivity:"\ueff4",DocumentManagement:"\ueffc",CRMReport:"\ueffe",KnowledgeArticle:"\uf000",Relationship:"\uf003",HomeVerify:"\uf00e",ZipFolder:"\uf012",SurveyQuestions:"\uf01b",TextDocument:"\uf029",TextDocumentShared:"\uf02b",PageCheckedOut:"\uf02c",PageShared:"\uf02d",SaveAndClose:"\uf038",Script:"\uf03a",Archive:"\uf03f",ActivityFeed:"\uf056",Compare:"\uf057",EventDate:"\uf059",ArrowUpRight:"\uf069",CaretRight:"\uf06b",SetAction:"\uf071",ChatBot:"\uf08b",CaretSolidLeft:"\uf08d",CaretSolidDown:"\uf08e",CaretSolidRight:"\uf08f",CaretSolidUp:"\uf090",PowerAppsLogo:"\uf091",PowerApps2Logo:"\uf092",SearchIssue:"\uf09a",SearchIssueMirrored:"\uf09b",FabricAssetLibrary:"\uf09c",FabricDataConnectionLibrary:"\uf09d",FabricDocLibrary:"\uf09e",FabricFormLibrary:"\uf09f",FabricFormLibraryMirrored:"\uf0a0",FabricReportLibrary:"\uf0a1",FabricReportLibraryMirrored:"\uf0a2",FabricPublicFolder:"\uf0a3",FabricFolderSearch:"\uf0a4",FabricMovetoFolder:"\uf0a5",FabricUnsyncFolder:"\uf0a6",FabricSyncFolder:"\uf0a7",FabricOpenFolderHorizontal:"\uf0a8",FabricFolder:"\uf0a9",FabricFolderFill:"\uf0aa",FabricNewFolder:"\uf0ab",FabricPictureLibrary:"\uf0ac",PhotoVideoMedia:"\uf0b1",AddFavorite:"\uf0c8"}};(0,r.K1)(n,t)}function h(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-9"',src:"url('".concat(e,"fabric-icons-9-c6162b42.woff') format('woff')")},icons:{AddFavoriteFill:"\uf0c9",BufferTimeBefore:"\uf0cf",BufferTimeAfter:"\uf0d0",BufferTimeBoth:"\uf0d1",PublishContent:"\uf0d4",ClipboardList:"\uf0e3",ClipboardListMirrored:"\uf0e4",CannedChat:"\uf0f2",SkypeForBusinessLogo:"\uf0fc",TabCenter:"\uf100",PageCheckedin:"\uf104",PageList:"\uf106",ReadOutLoud:"\uf112",CaretBottomLeftSolid8:"\uf121",CaretBottomRightSolid8:"\uf122",FolderHorizontal:"\uf12b",MicrosoftStaffhubLogo:"\uf130",GiftboxOpen:"\uf133",StatusCircleOuter:"\uf136",StatusCircleInner:"\uf137",StatusCircleRing:"\uf138",StatusTriangleOuter:"\uf139",StatusTriangleInner:"\uf13a",StatusTriangleExclamation:"\uf13b",StatusCircleExclamation:"\uf13c",StatusCircleErrorX:"\uf13d",StatusCircleInfo:"\uf13f",StatusCircleBlock:"\uf140",StatusCircleBlock2:"\uf141",StatusCircleQuestionMark:"\uf142",StatusCircleSync:"\uf143",Toll:"\uf160",ExploreContentSingle:"\uf164",CollapseContent:"\uf165",CollapseContentSingle:"\uf166",InfoSolid:"\uf167",GroupList:"\uf168",ProgressRingDots:"\uf16a",CaloriesAdd:"\uf172",BranchFork:"\uf173",MuteChat:"\uf17a",AddHome:"\uf17b",AddWork:"\uf17c",MobileReport:"\uf18a",ScaleVolume:"\uf18c",HardDriveGroup:"\uf18f",FastMode:"\uf19a",ToggleLeft:"\uf19e",ToggleRight:"\uf19f",TriangleShape:"\uf1a7",RectangleShape:"\uf1a9",CubeShape:"\uf1aa",Trophy2:"\uf1ae",BucketColor:"\uf1b6",BucketColorFill:"\uf1b7",Taskboard:"\uf1c2",SingleColumn:"\uf1d3",DoubleColumn:"\uf1d4",TripleColumn:"\uf1d5",ColumnLeftTwoThirds:"\uf1d6",ColumnRightTwoThirds:"\uf1d7",AccessLogoFill:"\uf1db",AnalyticsLogo:"\uf1de",AnalyticsQuery:"\uf1df",NewAnalyticsQuery:"\uf1e0",AnalyticsReport:"\uf1e1",WordLogo:"\uf1e3",WordLogoFill:"\uf1e4",ExcelLogo:"\uf1e5",ExcelLogoFill:"\uf1e6",OneNoteLogo:"\uf1e7",OneNoteLogoFill:"\uf1e8",OutlookLogo:"\uf1e9",OutlookLogoFill:"\uf1ea",PowerPointLogo:"\uf1eb",PowerPointLogoFill:"\uf1ec",PublisherLogo:"\uf1ed",PublisherLogoFill:"\uf1ee",ScheduleEventAction:"\uf1ef",FlameSolid:"\uf1f3",ServerProcesses:"\uf1fe",Server:"\uf201",SaveAll:"\uf203",LinkedInLogo:"\uf20a",Decimals:"\uf218",SidePanelMirrored:"\uf221",ProtectRestrict:"\uf22a",Blog:"\uf22b",UnknownMirrored:"\uf22e",PublicContactCardMirrored:"\uf230",GridViewSmall:"\uf232",GridViewMedium:"\uf233",GridViewLarge:"\uf234",Step:"\uf241",StepInsert:"\uf242",StepShared:"\uf243",StepSharedAdd:"\uf244",StepSharedInsert:"\uf245",ViewDashboard:"\uf246",ViewList:"\uf247"}};(0,r.K1)(n,t)}function m(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-10"',src:"url('".concat(e,"fabric-icons-10-c4ded8e4.woff') format('woff')")},icons:{ViewListGroup:"\uf248",ViewListTree:"\uf249",TriggerAuto:"\uf24a",TriggerUser:"\uf24b",PivotChart:"\uf24c",StackedBarChart:"\uf24d",StackedLineChart:"\uf24e",BuildQueue:"\uf24f",BuildQueueNew:"\uf250",UserFollowed:"\uf25c",ContactLink:"\uf25f",Stack:"\uf26f",Bullseye:"\uf272",VennDiagram:"\uf273",FiveTileGrid:"\uf274",FocalPoint:"\uf277",Insert:"\uf278",RingerRemove:"\uf279",TeamsLogoInverse:"\uf27a",TeamsLogo:"\uf27b",TeamsLogoFill:"\uf27c",SkypeForBusinessLogoFill:"\uf27d",SharepointLogo:"\uf27e",SharepointLogoFill:"\uf27f",DelveLogo:"\uf280",DelveLogoFill:"\uf281",OfficeVideoLogo:"\uf282",OfficeVideoLogoFill:"\uf283",ExchangeLogo:"\uf284",ExchangeLogoFill:"\uf285",Signin:"\uf286",DocumentApproval:"\uf28b",CloneToDesktop:"\uf28c",InstallToDrive:"\uf28d",Blur:"\uf28e",Build:"\uf28f",ProcessMetaTask:"\uf290",BranchFork2:"\uf291",BranchLocked:"\uf292",BranchCommit:"\uf293",BranchCompare:"\uf294",BranchMerge:"\uf295",BranchPullRequest:"\uf296",BranchSearch:"\uf297",BranchShelveset:"\uf298",RawSource:"\uf299",MergeDuplicate:"\uf29a",RowsGroup:"\uf29b",RowsChild:"\uf29c",Deploy:"\uf29d",Redeploy:"\uf29e",ServerEnviroment:"\uf29f",VisioDiagram:"\uf2a0",HighlightMappedShapes:"\uf2a1",TextCallout:"\uf2a2",IconSetsFlag:"\uf2a4",VisioLogo:"\uf2a7",VisioLogoFill:"\uf2a8",VisioDocument:"\uf2a9",TimelineProgress:"\uf2aa",TimelineDelivery:"\uf2ab",Backlog:"\uf2ac",TeamFavorite:"\uf2ad",TaskGroup:"\uf2ae",TaskGroupMirrored:"\uf2af",ScopeTemplate:"\uf2b0",AssessmentGroupTemplate:"\uf2b1",NewTeamProject:"\uf2b2",CommentAdd:"\uf2b3",CommentNext:"\uf2b4",CommentPrevious:"\uf2b5",ShopServer:"\uf2b6",LocaleLanguage:"\uf2b7",QueryList:"\uf2b8",UserSync:"\uf2b9",UserPause:"\uf2ba",StreamingOff:"\uf2bb",ArrowTallUpLeft:"\uf2bd",ArrowTallUpRight:"\uf2be",ArrowTallDownLeft:"\uf2bf",ArrowTallDownRight:"\uf2c0",FieldEmpty:"\uf2c1",FieldFilled:"\uf2c2",FieldChanged:"\uf2c3",FieldNotChanged:"\uf2c4",RingerOff:"\uf2c5",PlayResume:"\uf2c6",BulletedList2:"\uf2c7",BulletedList2Mirrored:"\uf2c8",ImageCrosshair:"\uf2c9",GitGraph:"\uf2ca",Repo:"\uf2cb",RepoSolid:"\uf2cc",FolderQuery:"\uf2cd",FolderList:"\uf2ce",FolderListMirrored:"\uf2cf",LocationOutline:"\uf2d0",POISolid:"\uf2d1",CalculatorNotEqualTo:"\uf2d2",BoxSubtractSolid:"\uf2d3"}};(0,r.K1)(n,t)}function g(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-11"',src:"url('".concat(e,"fabric-icons-11-2a8393d6.woff') format('woff')")},icons:{BoxAdditionSolid:"\uf2d4",BoxMultiplySolid:"\uf2d5",BoxPlaySolid:"\uf2d6",BoxCheckmarkSolid:"\uf2d7",CirclePauseSolid:"\uf2d8",CirclePause:"\uf2d9",MSNVideosSolid:"\uf2da",CircleStopSolid:"\uf2db",CircleStop:"\uf2dc",NavigateBack:"\uf2dd",NavigateBackMirrored:"\uf2de",NavigateForward:"\uf2df",NavigateForwardMirrored:"\uf2e0",UnknownSolid:"\uf2e1",UnknownMirroredSolid:"\uf2e2",CircleAddition:"\uf2e3",CircleAdditionSolid:"\uf2e4",FilePDB:"\uf2e5",FileTemplate:"\uf2e6",FileSQL:"\uf2e7",FileJAVA:"\uf2e8",FileASPX:"\uf2e9",FileCSS:"\uf2ea",FileSass:"\uf2eb",FileLess:"\uf2ec",FileHTML:"\uf2ed",JavaScriptLanguage:"\uf2ee",CSharpLanguage:"\uf2ef",CSharp:"\uf2f0",VisualBasicLanguage:"\uf2f1",VB:"\uf2f2",CPlusPlusLanguage:"\uf2f3",CPlusPlus:"\uf2f4",FSharpLanguage:"\uf2f5",FSharp:"\uf2f6",TypeScriptLanguage:"\uf2f7",PythonLanguage:"\uf2f8",PY:"\uf2f9",CoffeeScript:"\uf2fa",MarkDownLanguage:"\uf2fb",FullWidth:"\uf2fe",FullWidthEdit:"\uf2ff",Plug:"\uf300",PlugSolid:"\uf301",PlugConnected:"\uf302",PlugDisconnected:"\uf303",UnlockSolid:"\uf304",Variable:"\uf305",Parameter:"\uf306",CommentUrgent:"\uf307",Storyboard:"\uf308",DiffInline:"\uf309",DiffSideBySide:"\uf30a",ImageDiff:"\uf30b",ImagePixel:"\uf30c",FileBug:"\uf30d",FileCode:"\uf30e",FileComment:"\uf30f",BusinessHoursSign:"\uf310",FileImage:"\uf311",FileSymlink:"\uf312",AutoFillTemplate:"\uf313",WorkItem:"\uf314",WorkItemBug:"\uf315",LogRemove:"\uf316",ColumnOptions:"\uf317",Packages:"\uf318",BuildIssue:"\uf319",AssessmentGroup:"\uf31a",VariableGroup:"\uf31b",FullHistory:"\uf31c",Wheelchair:"\uf31f",SingleColumnEdit:"\uf321",DoubleColumnEdit:"\uf322",TripleColumnEdit:"\uf323",ColumnLeftTwoThirdsEdit:"\uf324",ColumnRightTwoThirdsEdit:"\uf325",StreamLogo:"\uf329",PassiveAuthentication:"\uf32a",AlertSolid:"\uf331",MegaphoneSolid:"\uf332",TaskSolid:"\uf333",ConfigurationSolid:"\uf334",BugSolid:"\uf335",CrownSolid:"\uf336",Trophy2Solid:"\uf337",QuickNoteSolid:"\uf338",ConstructionConeSolid:"\uf339",PageListSolid:"\uf33a",PageListMirroredSolid:"\uf33b",StarburstSolid:"\uf33c",ReadingModeSolid:"\uf33d",SadSolid:"\uf33e",HealthSolid:"\uf33f",ShieldSolid:"\uf340",GiftBoxSolid:"\uf341",ShoppingCartSolid:"\uf342",MailSolid:"\uf343",ChatSolid:"\uf344",RibbonSolid:"\uf345"}};(0,r.K1)(n,t)}function v(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-12"',src:"url('".concat(e,"fabric-icons-12-7e945a1e.woff') format('woff')")},icons:{FinancialSolid:"\uf346",FinancialMirroredSolid:"\uf347",HeadsetSolid:"\uf348",PermissionsSolid:"\uf349",ParkingSolid:"\uf34a",ParkingMirroredSolid:"\uf34b",DiamondSolid:"\uf34c",AsteriskSolid:"\uf34d",OfflineStorageSolid:"\uf34e",BankSolid:"\uf34f",DecisionSolid:"\uf350",Parachute:"\uf351",ParachuteSolid:"\uf352",FiltersSolid:"\uf353",ColorSolid:"\uf354",ReviewSolid:"\uf355",ReviewRequestSolid:"\uf356",ReviewRequestMirroredSolid:"\uf357",ReviewResponseSolid:"\uf358",FeedbackRequestSolid:"\uf359",FeedbackRequestMirroredSolid:"\uf35a",FeedbackResponseSolid:"\uf35b",WorkItemBar:"\uf35c",WorkItemBarSolid:"\uf35d",Separator:"\uf35e",NavigateExternalInline:"\uf35f",PlanView:"\uf360",TimelineMatrixView:"\uf361",EngineeringGroup:"\uf362",ProjectCollection:"\uf363",CaretBottomRightCenter8:"\uf364",CaretBottomLeftCenter8:"\uf365",CaretTopRightCenter8:"\uf366",CaretTopLeftCenter8:"\uf367",DonutChart:"\uf368",ChevronUnfold10:"\uf369",ChevronFold10:"\uf36a",DoubleChevronDown8:"\uf36b",DoubleChevronUp8:"\uf36c",DoubleChevronLeft8:"\uf36d",DoubleChevronRight8:"\uf36e",ChevronDownEnd6:"\uf36f",ChevronUpEnd6:"\uf370",ChevronLeftEnd6:"\uf371",ChevronRightEnd6:"\uf372",ContextMenu:"\uf37c",AzureAPIManagement:"\uf37f",AzureServiceEndpoint:"\uf380",VSTSLogo:"\uf381",VSTSAltLogo1:"\uf382",VSTSAltLogo2:"\uf383",FileTypeSolution:"\uf387",WordLogoInverse16:"\uf390",WordLogo16:"\uf391",WordLogoFill16:"\uf392",PowerPointLogoInverse16:"\uf393",PowerPointLogo16:"\uf394",PowerPointLogoFill16:"\uf395",ExcelLogoInverse16:"\uf396",ExcelLogo16:"\uf397",ExcelLogoFill16:"\uf398",OneNoteLogoInverse16:"\uf399",OneNoteLogo16:"\uf39a",OneNoteLogoFill16:"\uf39b",OutlookLogoInverse16:"\uf39c",OutlookLogo16:"\uf39d",OutlookLogoFill16:"\uf39e",PublisherLogoInverse16:"\uf39f",PublisherLogo16:"\uf3a0",PublisherLogoFill16:"\uf3a1",VisioLogoInverse16:"\uf3a2",VisioLogo16:"\uf3a3",VisioLogoFill16:"\uf3a4",TestBeaker:"\uf3a5",TestBeakerSolid:"\uf3a6",TestExploreSolid:"\uf3a7",TestAutoSolid:"\uf3a8",TestUserSolid:"\uf3a9",TestImpactSolid:"\uf3aa",TestPlan:"\uf3ab",TestStep:"\uf3ac",TestParameter:"\uf3ad",TestSuite:"\uf3ae",TestCase:"\uf3af",Sprint:"\uf3b0",SignOut:"\uf3b1",TriggerApproval:"\uf3b2",Rocket:"\uf3b3",AzureKeyVault:"\uf3b4",Onboarding:"\uf3ba",Transition:"\uf3bc",LikeSolid:"\uf3bf",DislikeSolid:"\uf3c0",CRMCustomerInsightsApp:"\uf3c8",EditCreate:"\uf3c9",PlayReverseResume:"\uf3e4",PlayReverse:"\uf3e5",SearchData:"\uf3f1",UnSetColor:"\uf3f9",DeclineCall:"\uf405"}};(0,r.K1)(n,t)}function y(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-13"',src:"url('".concat(e,"fabric-icons-13-c3989a02.woff') format('woff')")},icons:{RectangularClipping:"\uf407",TeamsLogo16:"\uf40a",TeamsLogoFill16:"\uf40b",Spacer:"\uf40d",SkypeLogo16:"\uf40e",SkypeForBusinessLogo16:"\uf40f",SkypeForBusinessLogoFill16:"\uf410",FilterSolid:"\uf412",MailUndelivered:"\uf415",MailTentative:"\uf416",MailTentativeMirrored:"\uf417",MailReminder:"\uf418",ReceiptUndelivered:"\uf419",ReceiptTentative:"\uf41a",ReceiptTentativeMirrored:"\uf41b",Inbox:"\uf41c",IRMReply:"\uf41d",IRMReplyMirrored:"\uf41e",IRMForward:"\uf41f",IRMForwardMirrored:"\uf420",VoicemailIRM:"\uf421",EventAccepted:"\uf422",EventTentative:"\uf423",EventTentativeMirrored:"\uf424",EventDeclined:"\uf425",IDBadge:"\uf427",BackgroundColor:"\uf42b",OfficeFormsLogoInverse16:"\uf433",OfficeFormsLogo:"\uf434",OfficeFormsLogoFill:"\uf435",OfficeFormsLogo16:"\uf436",OfficeFormsLogoFill16:"\uf437",OfficeFormsLogoInverse24:"\uf43a",OfficeFormsLogo24:"\uf43b",OfficeFormsLogoFill24:"\uf43c",PageLock:"\uf43f",NotExecuted:"\uf440",NotImpactedSolid:"\uf441",FieldReadOnly:"\uf442",FieldRequired:"\uf443",BacklogBoard:"\uf444",ExternalBuild:"\uf445",ExternalTFVC:"\uf446",ExternalXAML:"\uf447",IssueSolid:"\uf448",DefectSolid:"\uf449",LadybugSolid:"\uf44a",NugetLogo:"\uf44c",TFVCLogo:"\uf44d",ProjectLogo32:"\uf47e",ProjectLogoFill32:"\uf47f",ProjectLogo16:"\uf480",ProjectLogoFill16:"\uf481",SwayLogo32:"\uf482",SwayLogoFill32:"\uf483",SwayLogo16:"\uf484",SwayLogoFill16:"\uf485",ClassNotebookLogo32:"\uf486",ClassNotebookLogoFill32:"\uf487",ClassNotebookLogo16:"\uf488",ClassNotebookLogoFill16:"\uf489",ClassNotebookLogoInverse32:"\uf48a",ClassNotebookLogoInverse16:"\uf48b",StaffNotebookLogo32:"\uf48c",StaffNotebookLogoFill32:"\uf48d",StaffNotebookLogo16:"\uf48e",StaffNotebookLogoFill16:"\uf48f",StaffNotebookLogoInverted32:"\uf490",StaffNotebookLogoInverted16:"\uf491",KaizalaLogo:"\uf492",TaskLogo:"\uf493",ProtectionCenterLogo32:"\uf494",GallatinLogo:"\uf496",Globe2:"\uf49a",Guitar:"\uf49b",Breakfast:"\uf49c",Brunch:"\uf49d",BeerMug:"\uf49e",Vacation:"\uf49f",Teeth:"\uf4a0",Taxi:"\uf4a1",Chopsticks:"\uf4a2",SyncOccurence:"\uf4a3",UnsyncOccurence:"\uf4a4",GIF:"\uf4a9",PrimaryCalendar:"\uf4ae",SearchCalendar:"\uf4af",VideoOff:"\uf4b0",MicrosoftFlowLogo:"\uf4b1",BusinessCenterLogo:"\uf4b2",ToDoLogoBottom:"\uf4b3",ToDoLogoTop:"\uf4b4",EditSolid12:"\uf4b5",EditSolidMirrored12:"\uf4b6",UneditableSolid12:"\uf4b7",UneditableSolidMirrored12:"\uf4b8",UneditableMirrored:"\uf4b9",AdminALogo32:"\uf4ba",AdminALogoFill32:"\uf4bb",ToDoLogoInverse:"\uf4bc"}};(0,r.K1)(n,t)}function b(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-14"',src:"url('".concat(e,"fabric-icons-14-5cf58db8.woff') format('woff')")},icons:{Snooze:"\uf4bd",WaffleOffice365:"\uf4e0",ImageSearch:"\uf4e8",NewsSearch:"\uf4e9",VideoSearch:"\uf4ea",R:"\uf4eb",FontColorA:"\uf4ec",FontColorSwatch:"\uf4ed",LightWeight:"\uf4ee",NormalWeight:"\uf4ef",SemiboldWeight:"\uf4f0",GroupObject:"\uf4f1",UngroupObject:"\uf4f2",AlignHorizontalLeft:"\uf4f3",AlignHorizontalCenter:"\uf4f4",AlignHorizontalRight:"\uf4f5",AlignVerticalTop:"\uf4f6",AlignVerticalCenter:"\uf4f7",AlignVerticalBottom:"\uf4f8",HorizontalDistributeCenter:"\uf4f9",VerticalDistributeCenter:"\uf4fa",Ellipse:"\uf4fb",Line:"\uf4fc",Octagon:"\uf4fd",Hexagon:"\uf4fe",Pentagon:"\uf4ff",RightTriangle:"\uf500",HalfCircle:"\uf501",QuarterCircle:"\uf502",ThreeQuarterCircle:"\uf503","6PointStar":"\uf504","12PointStar":"\uf505",ArrangeBringToFront:"\uf506",ArrangeSendToBack:"\uf507",ArrangeSendBackward:"\uf508",ArrangeBringForward:"\uf509",BorderDash:"\uf50a",BorderDot:"\uf50b",LineStyle:"\uf50c",LineThickness:"\uf50d",WindowEdit:"\uf50e",HintText:"\uf50f",MediaAdd:"\uf510",AnchorLock:"\uf511",AutoHeight:"\uf512",ChartSeries:"\uf513",ChartXAngle:"\uf514",ChartYAngle:"\uf515",Combobox:"\uf516",LineSpacing:"\uf517",Padding:"\uf518",PaddingTop:"\uf519",PaddingBottom:"\uf51a",PaddingLeft:"\uf51b",PaddingRight:"\uf51c",NavigationFlipper:"\uf51d",AlignJustify:"\uf51e",TextOverflow:"\uf51f",VisualsFolder:"\uf520",VisualsStore:"\uf521",PictureCenter:"\uf522",PictureFill:"\uf523",PicturePosition:"\uf524",PictureStretch:"\uf525",PictureTile:"\uf526",Slider:"\uf527",SliderHandleSize:"\uf528",DefaultRatio:"\uf529",NumberSequence:"\uf52a",GUID:"\uf52b",ReportAdd:"\uf52c",DashboardAdd:"\uf52d",MapPinSolid:"\uf52e",WebPublish:"\uf52f",PieSingleSolid:"\uf530",BlockedSolid:"\uf531",DrillDown:"\uf532",DrillDownSolid:"\uf533",DrillExpand:"\uf534",DrillShow:"\uf535",SpecialEvent:"\uf536",OneDriveFolder16:"\uf53b",FunctionalManagerDashboard:"\uf542",BIDashboard:"\uf543",CodeEdit:"\uf544",RenewalCurrent:"\uf545",RenewalFuture:"\uf546",SplitObject:"\uf547",BulkUpload:"\uf548",DownloadDocument:"\uf549",GreetingCard:"\uf54b",Flower:"\uf54e",WaitlistConfirm:"\uf550",WaitlistConfirmMirrored:"\uf551",LaptopSecure:"\uf552",DragObject:"\uf553",EntryView:"\uf554",EntryDecline:"\uf555",ContactCardSettings:"\uf556",ContactCardSettingsMirrored:"\uf557"}};(0,r.K1)(n,t)}function x(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-15"',src:"url('".concat(e,"fabric-icons-15-3807251b.woff') format('woff')")},icons:{CalendarSettings:"\uf558",CalendarSettingsMirrored:"\uf559",HardDriveLock:"\uf55a",HardDriveUnlock:"\uf55b",AccountManagement:"\uf55c",ReportWarning:"\uf569",TransitionPop:"\uf5b2",TransitionPush:"\uf5b3",TransitionEffect:"\uf5b4",LookupEntities:"\uf5b5",ExploreData:"\uf5b6",AddBookmark:"\uf5b7",SearchBookmark:"\uf5b8",DrillThrough:"\uf5b9",MasterDatabase:"\uf5ba",CertifiedDatabase:"\uf5bb",MaximumValue:"\uf5bc",MinimumValue:"\uf5bd",VisualStudioIDELogo32:"\uf5d0",PasteAsText:"\uf5d5",PasteAsCode:"\uf5d6",BrowserTab:"\uf5d7",BrowserTabScreenshot:"\uf5d8",DesktopScreenshot:"\uf5d9",FileYML:"\uf5da",ClipboardSolid:"\uf5dc",FabricUserFolder:"\uf5e5",FabricNetworkFolder:"\uf5e6",BullseyeTarget:"\uf5f0",AnalyticsView:"\uf5f1",Video360Generic:"\uf609",Untag:"\uf60b",Leave:"\uf627",Trending12:"\uf62d",Blocked12:"\uf62e",Warning12:"\uf62f",CheckedOutByOther12:"\uf630",CheckedOutByYou12:"\uf631",CircleShapeSolid:"\uf63c",SquareShapeSolid:"\uf63d",TriangleShapeSolid:"\uf63e",DropShapeSolid:"\uf63f",RectangleShapeSolid:"\uf640",ZoomToFit:"\uf649",InsertColumnsLeft:"\uf64a",InsertColumnsRight:"\uf64b",InsertRowsAbove:"\uf64c",InsertRowsBelow:"\uf64d",DeleteColumns:"\uf64e",DeleteRows:"\uf64f",DeleteRowsMirrored:"\uf650",DeleteTable:"\uf651",AccountBrowser:"\uf652",VersionControlPush:"\uf664",StackedColumnChart2:"\uf666",TripleColumnWide:"\uf66e",QuadColumn:"\uf66f",WhiteBoardApp16:"\uf673",WhiteBoardApp32:"\uf674",PinnedSolid:"\uf676",InsertSignatureLine:"\uf677",ArrangeByFrom:"\uf678",Phishing:"\uf679",CreateMailRule:"\uf67a",PublishCourse:"\uf699",DictionaryRemove:"\uf69a",UserRemove:"\uf69b",UserEvent:"\uf69c",Encryption:"\uf69d",PasswordField:"\uf6aa",OpenInNewTab:"\uf6ab",Hide3:"\uf6ac",VerifiedBrandSolid:"\uf6ad",MarkAsProtected:"\uf6ae",AuthenticatorApp:"\uf6b1",WebTemplate:"\uf6b2",DefenderTVM:"\uf6b3",MedalSolid:"\uf6b9",D365TalentLearn:"\uf6bb",D365TalentInsight:"\uf6bc",D365TalentHRCore:"\uf6bd",BacklogList:"\uf6bf",ButtonControl:"\uf6c0",TableGroup:"\uf6d9",MountainClimbing:"\uf6db",TagUnknown:"\uf6df",TagUnknownMirror:"\uf6e0",TagUnknown12:"\uf6e1",TagUnknown12Mirror:"\uf6e2",Link12:"\uf6e3",Presentation:"\uf6e4",Presentation12:"\uf6e5",Lock12:"\uf6e6",BuildDefinition:"\uf6e9",ReleaseDefinition:"\uf6ea",SaveTemplate:"\uf6ec",UserGauge:"\uf6ed",BlockedSiteSolid12:"\uf70a",TagSolid:"\uf70e",OfficeChat:"\uf70f"}};(0,r.K1)(n,t)}function _(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-16"',src:"url('".concat(e,"fabric-icons-16-9cf93f3b.woff') format('woff')")},icons:{OfficeChatSolid:"\uf710",MailSchedule:"\uf72e",WarningSolid:"\uf736",Blocked2Solid:"\uf737",SkypeCircleArrow:"\uf747",SkypeArrow:"\uf748",SyncStatus:"\uf751",SyncStatusSolid:"\uf752",ProjectDocument:"\uf759",ToDoLogoOutline:"\uf75b",VisioOnlineLogoFill32:"\uf75f",VisioOnlineLogo32:"\uf760",VisioOnlineLogoCloud32:"\uf761",VisioDiagramSync:"\uf762",Event12:"\uf763",EventDateMissed12:"\uf764",UserOptional:"\uf767",ResponsesMenu:"\uf768",DoubleDownArrow:"\uf769",DistributeDown:"\uf76a",BookmarkReport:"\uf76b",FilterSettings:"\uf76c",GripperDotsVertical:"\uf772",MailAttached:"\uf774",AddIn:"\uf775",LinkedDatabase:"\uf779",TableLink:"\uf77a",PromotedDatabase:"\uf77d",BarChartVerticalFilter:"\uf77e",BarChartVerticalFilterSolid:"\uf77f",MicOff2:"\uf781",MicrosoftTranslatorLogo:"\uf782",ShowTimeAs:"\uf787",FileRequest:"\uf789",WorkItemAlert:"\uf78f",PowerBILogo16:"\uf790",PowerBILogoBackplate16:"\uf791",BulletedListText:"\uf792",BulletedListBullet:"\uf793",BulletedListTextMirrored:"\uf794",BulletedListBulletMirrored:"\uf795",NumberedListText:"\uf796",NumberedListNumber:"\uf797",NumberedListTextMirrored:"\uf798",NumberedListNumberMirrored:"\uf799",RemoveLinkChain:"\uf79a",RemoveLinkX:"\uf79b",FabricTextHighlight:"\uf79c",ClearFormattingA:"\uf79d",ClearFormattingEraser:"\uf79e",Photo2Fill:"\uf79f",IncreaseIndentText:"\uf7a0",IncreaseIndentArrow:"\uf7a1",DecreaseIndentText:"\uf7a2",DecreaseIndentArrow:"\uf7a3",IncreaseIndentTextMirrored:"\uf7a4",IncreaseIndentArrowMirrored:"\uf7a5",DecreaseIndentTextMirrored:"\uf7a6",DecreaseIndentArrowMirrored:"\uf7a7",CheckListText:"\uf7a8",CheckListCheck:"\uf7a9",CheckListTextMirrored:"\uf7aa",CheckListCheckMirrored:"\uf7ab",NumberSymbol:"\uf7ac",Coupon:"\uf7bc",VerifiedBrand:"\uf7bd",ReleaseGate:"\uf7be",ReleaseGateCheck:"\uf7bf",ReleaseGateError:"\uf7c0",M365InvoicingLogo:"\uf7c1",RemoveFromShoppingList:"\uf7d5",ShieldAlert:"\uf7d7",FabricTextHighlightComposite:"\uf7da",Dataflows:"\uf7dd",GenericScanFilled:"\uf7de",DiagnosticDataBarTooltip:"\uf7df",SaveToMobile:"\uf7e0",Orientation2:"\uf7e1",ScreenCast:"\uf7e2",ShowGrid:"\uf7e3",SnapToGrid:"\uf7e4",ContactList:"\uf7e5",NewMail:"\uf7ea",EyeShadow:"\uf7eb",FabricFolderConfirm:"\uf7ff",InformationBarriers:"\uf803",CommentActive:"\uf804",ColumnVerticalSectionEdit:"\uf806",WavingHand:"\uf807",ShakeDevice:"\uf80a",SmartGlassRemote:"\uf80b",Rotate90Clockwise:"\uf80d",Rotate90CounterClockwise:"\uf80e",CampaignTemplate:"\uf811",ChartTemplate:"\uf812",PageListFilter:"\uf813",SecondaryNav:"\uf814",ColumnVerticalSection:"\uf81e",SkypeCircleSlash:"\uf825",SkypeSlash:"\uf826"}};(0,r.K1)(n,t)}function C(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-17"',src:"url('".concat(e,"fabric-icons-17-0c4ed701.woff') format('woff')")},icons:{CustomizeToolbar:"\uf828",DuplicateRow:"\uf82a",RemoveFromTrash:"\uf82b",MailOptions:"\uf82c",Childof:"\uf82d",Footer:"\uf82e",Header:"\uf82f",BarChartVerticalFill:"\uf830",StackedColumnChart2Fill:"\uf831",PlainText:"\uf834",AccessibiltyChecker:"\uf835",DatabaseSync:"\uf842",ReservationOrders:"\uf845",TabOneColumn:"\uf849",TabTwoColumn:"\uf84a",TabThreeColumn:"\uf84b",BulletedTreeList:"\uf84c",MicrosoftTranslatorLogoGreen:"\uf852",MicrosoftTranslatorLogoBlue:"\uf853",InternalInvestigation:"\uf854",AddReaction:"\uf85d",ContactHeart:"\uf862",VisuallyImpaired:"\uf866",EventToDoLogo:"\uf869",Variable2:"\uf86d",ModelingView:"\uf871",DisconnectVirtualMachine:"\uf873",ReportLock:"\uf875",Uneditable2:"\uf876",Uneditable2Mirrored:"\uf877",BarChartVerticalEdit:"\uf89d",GlobalNavButtonActive:"\uf89f",PollResults:"\uf8a0",Rerun:"\uf8a1",QandA:"\uf8a2",QandAMirror:"\uf8a3",BookAnswers:"\uf8a4",AlertSettings:"\uf8b6",TrimStart:"\uf8bb",TrimEnd:"\uf8bc",TableComputed:"\uf8f5",DecreaseIndentLegacy:"\ue290",IncreaseIndentLegacy:"\ue291",SizeLegacy:"\ue2b2"}};(0,r.K1)(n,t)}var w=function(){(0,r.aH)("trash","delete"),(0,r.aH)("onedrive","onedrivelogo"),(0,r.aH)("alertsolid12","eventdatemissed12"),(0,r.aH)("sixpointstar","6pointstar"),(0,r.aH)("twelvepointstar","12pointstar"),(0,r.aH)("toggleon","toggleleft"),(0,r.aH)("toggleoff","toggleright")};var S=n(95673);(0,n(87840).v)("@fluentui/font-icons-mdl2","8.5.22");var k="".concat(r.pD,"/assets/icons/"),T=(0,S.z)();var E=n(23501),P=n(93781),I=n(98689),A=n(45867),R=n(95143),L=n(5643),M=n(75659),B=n(35390),O=0,F={reset:function(){R.n.getInstance().onReset((function(){return O++}))},getId:function(){return O},renderStyles:function(e,t){return(0,L.L)(Array.isArray(e)?e:[e],t)},renderFontFace:function(e,t){return(0,M.n)(e)},renderKeyframes:function(e){return(0,B.i)(e)}};var D=function(t){var n=new Map,r=new Set,o=function(e){var t=e.currentTarget,i=t.__id__;n.delete(i),t.removeEventListener("unload",o),r.delete(i)};return function(i){void 0===i&&(i={});var a,s=i.theme,l=(0,P.ox)();l&&(l.__id__=l.__id__||(0,A.O)(),a=l.__id__,r.has(a)||(r.add(a),l.addEventListener("unload",o)));var u=(0,I.D)();s=s||u;var c=F.getId(),d=[a,c,s],p=function(e,t){var n,r,o,i=t[0],a=t[1],s=t[2];return null===(o=null===(r=null===(n=e.get(i))||void 0===n?void 0:n.get(a))||void 0===r?void 0:r.get(s))||void 0===o?void 0:o.classMap}(n,d);if((0,e.useEffect)((function(){return function(e,t){var n,r,o=t[0],i=t[1],a=t[2],s=null===(r=null===(n=e.get(o))||void 0===n?void 0:n.get(i))||void 0===r?void 0:r.get(a);s&&s.refCount++}(n,[a,c,s]),function(){return function(e,t){var n,r,o,i,a,s,l,u,c=t[0],d=t[1],p=t[2],f=null===(r=null===(n=e.get(c))||void 0===n?void 0:n.get(d))||void 0===r?void 0:r.get(p);f&&(f.refCount--,0===f.refCount&&(null===(i=null===(o=e.get(c))||void 0===o?void 0:o.get(d))||void 0===i||i.delete(p),0===(null===(s=null===(a=e.get(c))||void 0===a?void 0:a.get(d))||void 0===s?void 0:s.size)&&(null===(l=e.get(c))||void 0===l||l.delete(d),0===(null===(u=e.get(c))||void 0===u?void 0:u.size)&&e.delete(c))))}(n,[a,c,s])}}),[a,c,s]),!p){var f=function(e){return"function"===typeof e}(t)?t(s):t;p=F.renderStyles(f,{targetWindow:l,rtl:!!s.rtl}),function(e,t,n){var r,o,i=t[0],a=t[1],s=t[2],l=null!==(r=e.get(i))&&void 0!==r?r:new Map;e.set(i,l);var u=null!==(o=l.get(a))&&void 0!==o?o:new Map;l.set(a,u),u.set(s,{classMap:n,refCount:0})}(n,d,p)}return p}}((function(e){var t=e.semanticColors,n=e.fonts;return{body:[{color:t.bodyText,background:t.bodyBackground,fontFamily:n.medium.fontFamily,fontWeight:n.medium.fontWeight,fontSize:n.medium.fontSize,MozOsxFontSmoothing:n.medium.MozOsxFontSmoothing,WebkitFontSmoothing:n.medium.WebkitFontSmoothing}]}}));function N(t){var n=D(t),r=t.className,o=t.applyTo;!function(t,n){var r,o="body"===t.applyTo,i=null===(r=(0,P.ZY)())||void 0===r?void 0:r.body;e.useEffect((function(){if(o&&i){for(var e=0,t=n;e<t.length;e++){var r=t[e];r&&i.classList.add(r)}return function(){if(o&&i)for(var e=0,t=n;e<t.length;e++){var r=t[e];r&&i.classList.remove(r)}}}}),[o,i,n])}(t,[n.root,n.body]),t.className=(0,E.A)(r,n.root,"element"===o&&n.body)}var U=n(37827),z=n(28225),j={label:z.q6,audio:z.Sg,video:z.Fo,ol:z.p3,li:z.P4,a:z.t0,button:z.uw,input:z.QQ,textarea:z.Sh,select:z.Cq,option:z.tK,table:z.al,tr:z.g0,th:z.cr,td:z.k3,colGroup:z.lA,col:z.Qf,form:z.Gp,iframe:z.Cs,img:z.xM};var V=n(3691),W=n(59307),H=n(26134),q=n(75289),K=function(t){var n=t.customizerContext,r=t.ref,o=t.theme,i=t.as||"div",a="string"===typeof t.as?function(e,t,n){var r=e&&j[e]||z.vt;return(0,z.G1)(t,r,n)}(t.as,t):(0,V.cJ)(t,["as"]);return e.createElement(q.D.Provider,{value:o},e.createElement(W.z.Provider,{value:n},e.createElement(H.N,{providerRef:r},e.createElement(i,(0,U.Cl)({},a)))))},G=n(62951),Z=new Map,X=function(t){var n=t.theme,r=(0,I.D)(),o=t.theme=e.useMemo((function(){var e=(0,G.z)(r,n);return e.id=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];if(i){var a=i.id||Z.get(i);a||(a=(0,A.O)(""),Z.set(i,a)),n.push(a)}}return n.join("-")}(r,n),e}),[r,n]);t.customizerContext=e.useMemo((function(){return{customizations:{inCustomizerContext:!0,settings:{theme:o},scopedSettings:o.components||{}}}}),[o]),t.theme.rtl!==r.rtl&&(t.dir=t.theme.rtl?"rtl":"ltr")},Y=n(58608),Q=n(3753),J=e.forwardRef((function(t,n){var r=function(e,t){var n=(0,Y.N)(t,e);return X(n),{state:n,render:K}}(t,{ref:(0,Q.a)(n,e.useRef(null)),as:"div",applyTo:"element"}),o=r.render,i=r.state;return N(i),o(i)}));J.displayName="ThemeProvider";const $="hvcEvents",ee="setLocalizationJson",te="setThemesJson",ne="setFeatureTogglesJson",re="setImageMetadata",oe="imageHasEdits",ie="getEditsAsExifOrientation",ae="setLoadingAndDisableHVC",se="addUserFacingMessage",le="setNetworkStatus",ue="setMSAStatus",ce="setHostError",de="setImageHasFaces",pe="setImageCreationExtensionState",fe="setStylizerPivotTeachingTipDismissed";function he(e,t){window[e]=t}var me,ge=n(62846),ve=n(82909),ye=n(62846).ty;function be(){if(!ye._currentValue)throw new Error("useStore must used within a Redux store. Ensure you have a ImageEditorContext defined.");return ye._currentValue.store}function xe(){var t=(0,e.useContext)(ve.b),n=t.logSessionStatistics,r=t.updateSessionId,o=t.sessionFrameStats,i=be();return(0,e.useCallback)((function(){var e,t=null===(e=i.getState().transformTools)||void 0===e?void 0:e.image.originalPixelSize;t&&o&&(n({minFrameRate:o.minimumFps,avgFrameRate:o.averageFps,imageSize:{width:t.x,height:t.y}}),o.reset(),r())}),[i,o,n,r])}function _e(e){var t=performance.getEntriesByName(e);return t.length>0&&e?performance.now()-t[t.length-1].startTime:-1}!function(e){e.Editor="Editor",e.MainImage="MainImage",e.ResizedImage="SuperResolutionImage",e.Thumbnail="Thumbnail"}(me||(me={}));var Ce=e.memo((function(t){var n=t.imageSize,r=t.children,o=(0,e.useContext)(ve.b),i=o.logPageLoadTimeEvent,a=o.sessionFrameStats,s=(0,e.useRef)(n),l=xe();return(0,e.useEffect)((function(){var e=window.performance.now(),t=0,n=function(){var r=window.performance.now();a.reportFrame(r-e),e=r,t=window.requestAnimationFrame(n)};return t=window.requestAnimationFrame(n),function(){window.cancelAnimationFrame(t)}}),[a]),(0,e.useEffect)((function(){return function(){s.current!==n&&(l(),s.current=n)}}),[n,l]),(0,e.useLayoutEffect)((function(){var e=window.requestAnimationFrame((function(){setTimeout((function(){i({pageLoadTimeMs:_e(me.Editor),component:me.Editor})}))}));return function(){window.cancelAnimationFrame(e)}}),[i]),e.createElement(e.Fragment,null,r)})),we=(0,ge.Ng)((function(e){return{imageSize:e.transformTools.image.originalPixelSize}}),{})(Ce),Se=n(95164),ke=n(90245),Te={adjustment_light:"",adjustment_color:"",adjustment_lightAriaLandmark:"",adjustment_colorAriaLandmark:"",adjustment_brightness:"",adjustment_exposure:"",adjustment_contrast:"",adjustment_highlights:"",adjustment_shadows:"",adjustment_saturation:"",adjustment_temperature:"",adjustment_tint:"",adjustment_vignette:"",adjustment_sharpness:"",adjustment_mobileChangedAriaLive:"",adjustment_sliderChangedAriaLive:"",adjustment_sliderAriaLabelFormatString:"",adjustment_sliderTooltip:"",adjustment_tileMobileTooltip:"",adjustment_tileMobileAriaLabel:"",adjustment_panelLabel:"",aspectRatio_listTitle:"",aspectRatio_freeform:"",aspectRatio_freeformAriaLabel:"",aspectRatio_original:"",aspectRatio_originalAriaLabel:"",aspectRatio_square:"",aspectRatio_squareAriaLabel:"",aspectRatio_ratioLabelFormatString:"",aspectRatio_ratioAriaLabelFormatString:"",aspectRatio_tooltip:"",aspectRatio_changedAriaLive:"",flip_portrait:"",flip_portraitAriaLabel:"",flip_landscape:"",flip_landscapeAriaLabel:"",aspectRatio_panelLabel:"",aspectRatio_landscapePanelLabel:"",aspectRatio_portraitPanelLabel:"",autoEnhance_name:"",autoEnhance_appliedAriaLive:"",autoEnhance_removedAriaLive:"",autoEnhance_intensitySliderHeader:"",autoEnhance_intensitySliderAriaLabel:"",autoEnhance_appliedTooltip:"",autoEnhance_notAppliedTooltip:"",crop_topLeftCornerAriaLabel:"",crop_topRightCornerAriaLabel:"",crop_bottomLeftCornerAriaLabel:"",crop_bottomRightCornerAriaLabel:"",crop_cornerTooltip:"",crop_rectangleAriaLabel:"",crop_rectangleTooltip:"",crop_rectanglePositionAriaLive:"",crop_rectangleCannotMoveInCurrentDirectionAriaLive:"",crop_panelLabel:"",editor_viewingOriginal:"",editor_viewingOriginalAriaLive:"",editor_zoomPercentAriaLive:"",editor_imageDimensionLabelFormatString:"",editor_imageDimensionAriaLabelFormatString:"",editor_imageDimensionAriaLive:"",editor_imageDimensionWithAspectRatioAriaLive:"",editor_title:"",filter_listTitle:"",filter_intensitySliderHeader:"",filter_intensitySliderAriaLabelFormatString:"",filter_nameOriginal:"",filter_nameBurn:"",filter_nameBw:"",filter_nameBwAriaLabel:"",filter_nameBwCool:"",filter_nameBwCoolAriaLabel:"",filter_nameBwHighContrast:"",filter_nameBwHighContrastAriaLabel:"",filter_nameBwWarm:"",filter_nameBwWarmAriaLabel:"",filter_nameCoolLight:"",filter_nameCalm:"",filter_nameDramaticCool:"",filter_nameFilm:"",filter_nameGolden:"",filter_namePunch:"",filter_nameRadiate:"",filter_nameVintage:"",filter_nameVividCool:"",filter_nameWarmContrast:"",filter_changedAriaLive:"",filter_changedAriaLiveWithIntensity:"",filter_mobileChangedAriaLive:"",filter_mobileChangedAriaLiveWithIntensity:"",filter_filtersAriaLandmark:"",filter_sliderTooltip:"",filter_tileMobileTooltip:"",filter_tileAriaLabel:"",filter_tileAriaLabelWhenOriginalFilterIsSelected:"",filter_activeTileAriaLabel:"",filter_activeOriginalFilterAriaLabel:"",filter_showAllButtonText:"",filter_hideButtonText:"",footer_done:"",nonCrop_imageTooltip:"",nonCrop_imageAriaLabelWithEdits:"",nonCrop_imageAriaLabelWithoutEdits:"",nonCrop_panViewPositionAriaLive:"",nonCrop_imagePanAriaLabel:"",pivot_crop:"",pivot_adjustment:"",pivot_filter:"",pivot_markup:"",pivot_retouch:"",pivot_erase:"",pivot_inpaint:"",pivot_background:"",pivot_relight:"",pivot_focalpoint:"",pivot_stylizer:"",pivot_resize:"",pivot_cropAriaDescription:"",pivot_adjustmentAriaDescription:"",pivot_filterAriaDescription:"",pivot_markupAriaDescription:"",pivot_retouchAriaDescription:"",pivot_backgroundAriaDescription:"",pivot_relightAriaDescription:"",pivot_focalpointAriaDescription:"",pivot_stylizerAriaDescription:"",pivot_resizeAriaDescription:"",rotate_left90:"",rotate_left90AriaLabel:"",rotate_left90FinishedAriaLive:"",rotate_right90:"",rotate_right90AriaLabel:"",rotate_right90FinishedAriaLive:"",rotate_sliderAriaLabel:"",rotate_degree:"",rotate_sliderTooltip:"",flip_horizontal:"",flip_horizontalAriaLabel:"",flip_horizontalFinishedAriaLive:"",flip_vertical:"",flip_verticalAriaLabel:"",flip_verticalFinishedAriaLive:"",toolbar_imageSaveMenu:"",toolbar_imageSaveMenuTooltip:"",toolbar_imageSave:"",toolbar_imageSaveAriaLabel:"",toolbar_saveMenuSplitButtonAriaLabel:"",toolbar_imageSaveTooltip:"",toolbar_imageSaveTransparencyWarningTooltip:"",toolbar_imageSaveAsCopy:"",toolbar_imageSaveAsCopyAriaLabel:"",toolbar_imageSaveAsCopyTooltip:"",toolbar_imageSaveAsCopyTransparencyTooltip:"",toolbar_imageCopyToClipboard:"",toolbar_imageCopyToClipboardAriaLabel:"",toolbar_imageCopyToClipboardTooltip:"",toolbar_imageReset:"",toolbar_imageResetTooltip:"",toolbar_imageResetAriaLabel:"",toolbar_imageResetFinishedAriaLive:"",toolbar_resetConfirmDialogContentTitle:"",toolbar_resetConfirmDialogContentSubText:"",toolbar_resetConfirmDialogCloseButtonAriaLabel:"",toolbar_resetConfirmDialogConfirmText:"",toolbar_resetConfirmDialogConfirmAriaLabel:"",toolbar_resetConfirmDialogCancelText:"",toolbar_resetConfirmDialogCancelAriaLabel:"",toolbar_zoomLevelAriaLabel:"",toolbar_zoomInTooltip:"",toolbar_zoomInAriaLabel:"",toolbar_zoomOutTooltip:"",toolbar_zoomOutAriaLabel:"",toolbar_done:"",toolbar_doneAriaLabel:"",toolbar_doneTooltip:"",toolbar_cancel:"",toolbar_cancelAriaLabel:"",toolbar_cancelTooltip:"",toolbar_fitToViewTooltip:"",toolbar_viewActualSizeTooltip:"",toolbar_undo:"",toolbar_undoAriaLabel:"",toolbar_redo:"",toolbar_redoAriaLabel:"",undoRedo_colorAdjustmentsAriaLive:"",undoRedo_autoEnhanceAriaLive:"",undoRedo_filterAriaLive:"",undoRedo_markupInkContentAriaLive:"",undoRedo_markupEraseContentAriaLive:"",undoRedo_markupClearAllMarkupContentAriaLive:"",undoRedo_transformCropAriaLive:"",undoRedo_transformAspectRatioAriaLive:"",undoRedo_transformMirrorImageAriaLive:"",undoRedo_transformRotationAriaLive:"",undoRedo_spotFixAriaLive:"",undoRedo_maskBrushAriaLive:"",undoRedo_blurAriaLive:"",undoRedo_imageBackgroundAriaLive:"",undoRedo_focalPointAriaLive:"",undoRedo_previewSuperResolutionAriaLive:"",undoRedo_appliedSuperResolutionAriaLive:"",spotFix_toastText:"",spotFix_calloutHeaderText:"",spotFix_calloutMainText:"",spotFix_header:"",spotFix_sizeSliderTooltip:"",spotFix_sizeSliderHeader:"",spotFix_sizeSliderAriaLabel:"",spotFix_sizeChangedAriaAnnouncement:"",magicErase_GenerativeEraseLabel:"",magicErase_autoApplyLabel:"",magicErase_autoApplyToggleOn:"",magicErase_autoApplyToggleOff:"",magicErase_autoApplyToggleAriaLabel:"",magicErase_autoApplyToggleAriaDescriptionWhenOn:"",magicErase_autoApplyToggleAriaDescriptionWhenOff:"",magicErase_maskBrushPickerAddToSelectionAriaLabel:"",magicErase_maskBrushPickerAddToSelectionAriaDescription:"",magicErase_maskBrushPickerRemoveFromSelectionAriaLabel:"",magicErase_maskBrushPickerRemoveFromSelectionAriaDescription:"",magicErase_maskBrushPickerEraseText:"",magicErase_maskBrushPickerEraseAriaDescription:"",magicErase_maskBrushPickerClearText:"",magicErase_maskBrushPickerClearAriaDescription:"",magicErase_notificationMagicEraseStillProcessing:"",magicErase_notificationMagicEraseProcessingCompleted:"",magicErase_toastDismissButtonAriaLabel:"",magicErase_notificationMagicEraseProcessingFailed:"",magicErase_canvasAriaLabelWithNoPreviousEraseOperation:"",magicErase_canvasAriaLabelWithUnappliedBrushedMasksToggleOn:"",magicErase_canvasAriaLabelWithUnappliedBrushedMasksToggleOff:"",magicErase_canvasAriaLabelWithAppliedBrushedMasks:"",background_resetButtonText:"",background_resetButtonAriaLabel:"",background_resetButtonTooltip:"",background_resetButtonAriaDescription:"",background_blurIntensitySliderLabel:"",background_blurIntensitySliderArialLabel:"",background_blurIntensitySliderChangedAriaAnnouncementFormat:"",background_blurIntensitySliderTitle:"",background_notificationBackgroundSegmentationCompleted:"",background_notificationBackgroundSegmentationProcessing:"",background_ariaAnnounceSegmentationProcessing:"",background_backgroundSegmentationFailed:"",background_backgroundSegmentationFailedDismissButtonAriaLabel:"",background_notificationBackgroundBlurProcessing:"",background_ariaAnnounceSegmentationCompletion:"",background_segmentationCompleteToastDismissButtonAriaLabel:"",background_segmentationCompleteToastDismissButtonAriaDescription:"",background_blurTitleText:"",background_blurTitleAriaLabelWhenOptionIsSelected:"",background_blurTitleAriaLabelWhenOptionIsNotSelected:"",background_blurTitleTooltip:"",background_removeTitleText:"",background_removeTitleAriaLabelWhenOptionIsSelected:"",background_removeTitleAriaLabelWhenOptionIsNotSelected:"",background_removeTitleTooltip:"",background_replaceTitleText:"",background_replaceColorPickerAriaLabel:"",background_replaceColorPickerChangedAriaAnnouncementFormat:"",background_replaceTitleAriaLabelWhenOptionIsSelected:"",background_replaceTitleAriaLabelWhenOptionIsNotSelected:"",background_replaceTitleTooltip:"",background_ariaAnnounceAppliedReset:"",background_canvasAriaLabelWhenNoBackgroundOption:"",background_canvasAriaLabelWhenBackgroundOptionApplied:"",maskBrushPicker_addToSelection:"",maskBrushPicker_addToSelectionAriaLabel:"",maskBrushPicker_addToSelectionAriaDescription:"",maskBrushPicker_removeFromSelection:"",maskBrushPicker_removeFromSelectionAriaLabel:"",maskBrushPicker_removeFromSelectionAriaDescription:"",maskBrushPicker_size:"",maskBrushPicker_sizeChangedAriaAnnouncement:"",maskBrushPicker_sizeAriaLabel:"",maskBrushPicker_sizeAriaDescription:"",maskBrushPicker_softness:"",maskBrushPicker_ariaAnnounceSoftnessChanged:"",maskBrushPicker_softnessAriaLabel:"",maskBrushPicker_softnessAriaDescription:"",maskBrushPicker_title:"",maskBrushPicker_showSelectionToggleAriaLabelWhenOn:"",maskBrushPicker_showSelectionToggleAriaLabelWhenOff:"",maskBrushPicker_showSelectionToggleOn:"",maskBrushPicker_showSelectionToggleOff:"",maskBrushPicker_showSelectionToggleTooltip:"",maskBrushPicker_ariaAnnounceShowSelectionIsOff:"",maskBrushPicker_ariaAnnounceShowSelectionIsOn:"",maskBrushPicker_ariaAnnounceAreaPainted:"",maskBrushPicker_ariaAnnounceAreaErased:"",maskBrushPicker_ariaAnnounceAdditiveBrushSelected:"",maskBrushPicker_ariaAnnounceSubtractiveBrushSelected:"",maskBrushPicker_additiveOrSubtractiveToggleAriaLabel:"",maskBrushPicker_additiveOrSubtractiveToggleAriaDescription:"",colorPicker_redLabel:"",colorPicker_greenLabel:"",colorPicker_blueLabel:"",colorPicker_hexLabel:"",colorPicker_hueSliderAriaLabel:"",colorPicker_svAriaValueFormat:"",colorPicker_hexError:"",colorPicker_redError:"",colorPicker_greenError:"",colorPicker_blueError:"",focalPoint_handleAriaLabel:"",focalPoint_handleDescription:"",focalPoint_positionFormatString:"",focalPoint_previewTitle:"",focalPoint_previewDescription:"",focalPoint_previewAspectRatioFormatString:"",focalPoint_previewImageAltFormatString:"",magicErase_calloutHeaderText:"",magicErase_calloutMainText:"",magicErase_calloutSendFeedbackLinkText:"",stylizerTextPrompt_title:"",stylizerTextPrompt_placeholder:"",stylizerTextPrompt_example:"",stylizerTextPrompt_wordsCount:"",stylizerTeachingTip_title:"",stylizerTeachingTip_mainTextWithSendFeedbackLink:"",stylizerTeachingTip_MicrosoftServicesAgreementAndThirdPartyLinks:"",networkOffline_title:"",networkOffline_description:"",networkOfflineImage_alt:"",msaSignedOut_title:"",msaSignedOut_description:"",msaSignedOut_learnMore:"",msaBlocked_title:"",msaBlocked_description:"",msaBlockedImage_alt:"",msaBanned_title:"",msaBanned_description:"",msaBannedImage_alt:"",loginButton_title:"",loginImage_alt:"",loginButton_ariaAnnouncement:"",stylizerTextPrompt_buttonAriaLabel:"",restyleDropdown_allLabel:"",restyleDropdown_backgroundOnlyLabel:"",restyleDropdown_foregroundOnlyLabel:"",restyleDropdown_ariaLabel:"",creativitySlider_calloutHeaderText:"",creativitySlider_calloutMainText:"",creativitySlider_calloutButtonAriaLabel:"",creativitySlider_label:"",downloadModel_title:"",downloadModel_description:"",downloadModel_button:"",downloadModel_buttonAriaLabel:"",downloadModel_imageAlt:"",initializeModel_title:"",initializeModel_description:"",initializeModel_imageAlt:"",stylizer_modelFailureDescription:"",stylizer_modelFailureImageAlt:"",stylizer_modelFailureTitle:"",foregroundDisabledAlert_title:"",foregroundDisabledAlert_description:"",faceDetectionTeachingTip_title:"",faceDetectionTeachingTip_mainText:"",faceDetectionTeachingTip_LearnMoreLinkText:"",faceDetectionTeachingTip_DismissLinkText:"",contentWarning_title:"",contentWarning_description:"",stylizer_titleBarTeachingTipTitle:"",stylizer_titleBarTeachingTipDescription:"",stylizer_titleBarTeachingTipButtonText:"",stylizer_msaSignedInReminderWithLearnMoreLink:"",stylizer_genericErrorTitle:"",stylizer_genericErrorDescription:"",stylizer_harmfulInputTitle:"",stylizer_harmfulInputDescription:"",stylizer_harmfulOutputTitle:"",stylizer_harmfulOutputDescription:"",stylizer_notificationDismissButtonAriaLabel:"",stylizer_presetsNameFantasy:"",stylizer_presetsNameAnime:"",stylizer_presetsNameCyberpunk:"",stylizer_presetsNameSurrealism:"",stylizer_presetsNameImpressionist:"",stylizer_presetsNameRenaissance:"",stylizer_presetsNameWatercolor:"",stylizer_presetsNamePapercraft:"",stylizer_presetsNamePixelArt:"",stylizer_presetsPromptFantasy:"",stylizer_presetsPromptAnime:"",stylizer_presetsPromptSurrealism:"",stylizer_presetsPromptImpressionist:"",stylizer_presetsPromptCyberpunk:"",stylizer_presetsPromptRenaissance:"",stylizer_presetsPromptWatercolor:"",stylizer_presetsPromptPapercraft:"",stylizer_presetsPromptPixelArt:"",stylizer_presetPromptProcessing:"",stylizer_presetPromptProcessed:"",stylizer_presetsChangedAriaLive:"",stylizer_presetsTileAriaLabel:"",stylizer_presetsTileAriaLabelWhenNoneSelected:"",stylizer_presetsActiveTileAriaLabel:"",stylizer_presetsGroupAriaLabel:"",notification_dismissButtonAriaLabel:"",notification_outOfMemory:"",relight_teachingTipTitle:"",relight_teachingTipMainText:"",relight_teachingTipSendFeedbackLink:"",relight_learnMoreLink:"",relight_presetsChangedAriaLive:"",relight_presetsTileAriaLabel:"",relight_presetsTileAriaLabelWhenNoneSelected:"",relight_presetsActiveTileAriaLabel:"",relight_presetsGroupAriaLabel:"",relight_showLightsLabel:"",relight_showLightsAriaLabel:"",relight_showLightsToggleTooltipWhenOn:"",relight_showLightsToggleTooltipWhenOff:"",relight_showLightsToggleOnAriaAnnouncement:"",relight_showLightsToggleOffAriaAnnouncement:"",relight_isLightOnToggleDirectionalAriaLabel:"",relight_isLightOnToggleAmbientAriaLabel:"",relight_isLightOnToggleDirectionalTooltipWhenOn:"",relight_isLightOnToggleDirectionalTooltipWhenOff:"",relight_isLightOnToggleAmbientTooltipWhenOn:"",relight_isLightOnToggleAmbientTooltipWhenOff:"",relight_isLightOnToggleDirectionalOnAriaAnnouncement:"",relight_isLightOnToggleDirectionalOffAriaAnnouncement:"",relight_isLightOnToggleAmbientOnAriaAnnouncement:"",relight_isLightOnToggleAmbientOffAriaAnnouncement:"",relight_ambientLightLabel:"",relight_lightAccordionOpenCloseButtonAriaLabel:"",relight_lightAccordionDirectionalCollapsedAriaAnnouncement:"",relight_lightAccordionDirectionalExpandedAriaAnnouncement:"",relight_lightAccordionAmbientCollapsedAriaAnnouncement:"",relight_lightAccordionAmbientExpandedAriaAnnouncement:"",relight_globalIntensity:"",relight_globalIntensitySliderAriaDescription:"",relight_globalIntensityChangedAriaAnnouncement:"",relight_brightness:"",relight_brightnessTooltip:"",relight_brightnessAriaAnnouncement:"",relight_softness:"",relight_softnessTooltip:"",relight_softnessAriaAnnouncement:"",relight_normalMapProcessing:"",relight_normalMapProcessingDismissButtonAriaLabel:"",relight_normalMapFailed:"",relight_normalMapFailedRangeError:"",relight_normalMapFailedDismissButtonAriaLabel:"",relight_normalMapCompleted:"",relight_normalMapRegenerationCompleted:"",relight_normalMapCompletedDismissButtonAriaLabel:"",relight_ariaAnnounceNormalMapProcessing:"",relight_ariaAnnounceNormalMapSucceeded:"",relight_ariaAnnounceNormalMapFailed:"",relight_disabledNeedsRegeneratingTitle:"",relight_disabledNeedsRegeneratingMessage:"",relight_regenerateButton:"",relight_regenerateButtonAriaLabel:"",relight_regenerateButtonTooltip:"",relight_disabledNeedsRegeneratingDismissButtonAriaLabel:"",relight_colorPickerAriaLabel:"",relight_colorChangedAriaAnnouncementFormat:"",relight_original:"",relight_softbox:"",relight_classicPortrait:"",relight_dramatic:"",relight_goldenHour:"",relight_cyberpunk:"",relight_ariaAnnounceMovedLight:"",relight_ariaAnnounceMovedLightTarget:"",relight_ariaAnnounceCannotMoveLightFarther:"",relight_ariaAnnounceCannotMoveLightTargetFarther:"",relight_lightAriaLabel:"",relight_lightTargetAriaLabel:"",resize_upscaleSliderAriaLabel:"",resize_upscaleSliderTooltip:"",resize_scaleLabel:"",resize_scaleTeachingTipTitle:"",resize_scaleTeachingTipMainText:"",resize_upscaleSliderResizeFactorLabel:"",resize_upscaleSliderAriaValueText:"",resize_upscaleSlider1xAriaValueText:"",resize_currentImageLabel:"",resize_newImageLabel:"",resize_teachingTipTitle:"",resize_teachingTipMainText:"",resize_teachingTipSendFeedbackLink:"",resize_learnMoreLink:"",resize_applyButton:"",resize_applyButtonAriaLabel:"",resize_cancelButton:"",resize_cancelButtonAriaLabel:"",resize_cancelAriaLive:"",resize_discardButton:"",resize_discardButtonAriaLabel:"",resize_discardAriaLive:"",resize_imageTooBigWarning:"",resize_applyUpscaleConfirmDialogContentTitle:"",resize_applyUpscaleConfirmDialogContentSubText:"",resize_applyUpscaleConfirmDialogCloseButtonAriaLabel:"",resize_applyUpscaleConfirmDialogConfirmText:"",resize_applyUpscaleConfirmDialogConfirmAriaLabel:"",resize_applyUpscaleConfirmDialogCancelText:"",resize_applyUpscaleConfirmDialogCancelAriaLabel:"",resize_notificationUpscaleInProgress:"",resize_notificationUpscaleSuccessfullyCompletedFormatString:"",resize_notificationUpscaleFailed:"",resize_splitterAriaLabel:"",resize_splitterTooltip:"",resize_splitterMovedAriaLive:"",resize_splitterCannotMoveFurtherAriaLive:""},Ee=function(t){var n=t.localization,r=t.children,o=(0,e.useMemo)((function(){return(0,ke.u)(null!==n&&void 0!==n?n:{strings:Te,locales:void 0})}),[n]);return e.createElement(ke.x.Provider,{value:o},r)},Pe=n(64189),Ie=n(79623),Ae=function(){return Ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ae.apply(this,arguments)},Re=function(t){var n=t.telemetryCallback,r=t.children,o=(0,e.useMemo)((function(){return new Ie.r}),[]),i=(0,e.useMemo)((function(){return n?Ae(Ae({},(0,Pe.$)(n)),{sessionFrameStats:o}):null}),[n,o]);return e.createElement(e.Fragment,null,n&&i?e.createElement(ve.b.Provider,{value:i},r):r)},Le=e.memo((function(){var t=(0,e.useContext)(ve.b).logErrorEvent;return(0,e.useEffect)((function(){var e=function(e){var n,r,o=e.message,i=e.filename,a=e.lineno,s=e.colno,l=e.error;t({message:o,source:i,lineNumber:a,columnNumber:s,error:{message:null!==(n=null===l||void 0===l?void 0:l.message)&&void 0!==n?n:"No message available.",stack:null!==(r=null===l||void 0===l?void 0:l.stack)&&void 0!==r?r:"No stack information available."}})};return window.addEventListener("error",e),function(){return window.removeEventListener("error",e)}}),[t]),null})),Me=n(96992),Be=n(17523),Oe=n(35891),Fe=n(38664);var De=n(21994),Ne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Ue={imageTransform:{x:0,y:0,width:1,height:1,rotation:0},cropRectangle:{top:0,left:0,width:1,height:1},originalImageSize:{x:1,y:1},aspectRatio:De.qO,shouldInvertOriginalAspectRatio:!1},ze=function(e,t){if(typeof e!==typeof t)return!1;if("object"===typeof e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!ze(e[n],t[n]))return!1;return!0},je=function(e){var t,n,r;if("ColorRGBABackground"!==e.backgroundType&&"BlurredBackground"!==e.backgroundType&&"TransparentBackground"!==e.backgroundType&&"OriginalBackground"!==e.backgroundType)throw new Error("Invalid BackgroundType");if("ColorRGBABackground"===(null===(t=e.backgroundsByType.ColorRGBABackground)||void 0===t?void 0:t.type))!function(e){if(4!==e.length&&"number"!==typeof e[0]&&"number"!==typeof e[1]&&"number"!==typeof e[2]&&"number"!==typeof e[3])throw new Error("Invalid ColorRGBA value")}(e.backgroundsByType.ColorRGBABackground.color);else{if("BlurredBackground"===(null===(n=e.backgroundsByType.BlurredBackground)||void 0===n?void 0:n.type)&&"number"!==typeof e.backgroundsByType.BlurredBackground.blurLevel)throw new Error("Invalid BlurLevel value");if(void 0!==e.backgroundType&&(null===(r=e.backgroundsByType[e.backgroundType])||void 0===r?void 0:r.type)!==e.backgroundType)throw new Error("Invalid type string in BackgroundsByType")}},Ve=function(e,t){var n={isValid:!0};try{var r=e.adjustments,o=e.imageBackground,i=Ne(e,["adjustments","imageBackground"]);if(void 0!==i.version&&"number"!==typeof i.version)throw new Error("IEditOperations contains invalid data");!function(e,t){if(!(ze(Ue,e)&&t.some((function(t){return(0,Me.v)(t,e.aspectRatio,5)}))&&e.originalImageSize.x>=1&&e.originalImageSize.y>=1&&e.imageTransform.height>=1&&e.imageTransform.width>=1&&e.cropRectangle.height>=1&&e.cropRectangle.width>=1))throw new Error("IEditTransformOperations contains invalid data")}(i.transforms,t),r&&function(e){function t(e){return Object.keys(e).filter((function(e){if(!Object.values(Oe.F).includes(e))throw new Error("adjustmentKey not valid");return!0})).every((function(t){return(n=e[t])>=0&&n<=1;var n}))}if(!(ze((0,Be.GK)(e.adjustmentsByDynamicLayer),e)&&Object.values(Fe.A).includes(e.version)&&t(e.baseAdjustments)&&Object.keys(e.adjustmentsByDynamicLayer).every((function(n){var r=e.adjustmentsByDynamicLayer[n];return r&&t(r)}))))throw new Error("IColorAdjustmentWithoutLutState contains invalid data")}(r),o&&je(o)}catch(a){n.isValid=!1,n.message=a instanceof Error?a.message:"unknown error"}return n};var We=function(){return We=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},We.apply(this,arguments)},He=n(29399),qe=n(33583),Ke=n(17724),Ge=n(3041),Ze=function(){return Ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ze.apply(this,arguments)};function Xe(e){return e&&"object"===typeof e&&!Array.isArray(e)}function Ye(e,t){var n=Ze(Ze({},e),t);return Xe(e)&&Xe(t)&&Object.keys(t).forEach((function(r){var o;if(!(r in e))throw new Error("override object has a key that does not exist in base object: ".concat(r));if(t[r]&&e[r]&&typeof t[r]!==typeof e[r])throw new Error("override object value at key: '".concat(r,"' type does not match base object type at key:'").concat(r,"'"));Xe(t[r])?n[r]=Ye(e[r],t[r]):Object.assign(n,((o={})[r]=t[r],o))})),n}var Qe=n(80559),Je=n(9456),$e=n(1880),et=n(31985),tt=n(36386),nt={numRedSamplesPerSlice:17,numGreenSamplesPerSlice:17,numBlueSlicesPerRowIn2DLayout:2,numBlueSlicesPerColumnIn2DLayout:17},rt=[{name:"Original",lutUrlId:"",config:void 0,locStringKey:"filter_nameOriginal",ariaLabelLocStringKey:"filter_nameOriginal"},{name:"Punch",lutUrlId:"lutUrl_punch",config:nt,locStringKey:"filter_namePunch",ariaLabelLocStringKey:"filter_namePunch"},{name:"Golden",lutUrlId:"lutUrl_golden",config:nt,locStringKey:"filter_nameGolden",ariaLabelLocStringKey:"filter_nameGolden"},{name:"Radiate",lutUrlId:"lutUrl_radiate",config:nt,locStringKey:"filter_nameRadiate",ariaLabelLocStringKey:"filter_nameRadiate"},{name:"Warm Contrast",lutUrlId:"lutUrl_warmContrast",config:nt,locStringKey:"filter_nameWarmContrast",ariaLabelLocStringKey:"filter_nameWarmContrast"},{name:"Calm",lutUrlId:"lutUrl_calm",config:nt,locStringKey:"filter_nameCalm",ariaLabelLocStringKey:"filter_nameCalm"},{name:"Cool Light",lutUrlId:"lutUrl_coolLight",config:nt,locStringKey:"filter_nameCoolLight",ariaLabelLocStringKey:"filter_nameCoolLight"},{name:"Vivid Cool",lutUrlId:"lutUrl_vividCool",config:nt,locStringKey:"filter_nameVividCool",ariaLabelLocStringKey:"filter_nameVividCool"},{name:"Dramatic Cool",lutUrlId:"lutUrl_dramaticCool",config:nt,locStringKey:"filter_nameDramaticCool",ariaLabelLocStringKey:"filter_nameDramaticCool"},{name:"BW",lutUrlId:"lutUrl_bw",config:nt,locStringKey:"filter_nameBw",ariaLabelLocStringKey:"filter_nameBwAriaLabel"},{name:"BW Cool",lutUrlId:"lutUrl_bwCool",config:nt,locStringKey:"filter_nameBwCool",ariaLabelLocStringKey:"filter_nameBwCoolAriaLabel"},{name:"BW Warm",lutUrlId:"lutUrl_bwWarm",config:nt,locStringKey:"filter_nameBwWarm",ariaLabelLocStringKey:"filter_nameBwWarmAriaLabel"},{name:"BW High Contrast",lutUrlId:"lutUrl_bwHighContrast",config:nt,locStringKey:"filter_nameBwHighContrast",ariaLabelLocStringKey:"filter_nameBwHighContrastAriaLabel"},{name:"Burn",lutUrlId:"lutUrl_burn",config:nt,locStringKey:"filter_nameBurn",ariaLabelLocStringKey:"filter_nameBurn"},{name:"Film",lutUrlId:"lutUrl_film",config:nt,locStringKey:"filter_nameFilm",ariaLabelLocStringKey:"filter_nameFilm"},{name:"Vintage",lutUrlId:"lutUrl_vintage",config:nt,locStringKey:"filter_nameVintage",ariaLabelLocStringKey:"filter_nameVintage"}],ot=rt.reduce((function(e,t){return e[t.name]=1,e}),{}),it={activeFilter:rt[0],availableFilters:rt,filterLevel:1,filterLevelsByName:ot,undoRedoStack:{undoStack:[],redoStack:[],id:"filtersUndoRedoStack"},undoPayload:void 0};function at(e){return"filterLevelsByName"in e}var st={undoReducer:function(e,t){var n;e.undoRedoStack.redoStack.push(t),e.activeFilter=t.undoPayload.activeFilter,e.filterLevel=t.undoPayload.filterLevel,e.filterLevelsByName[t.undoPayload.activeFilter.name]=null!==(n=t.undoPayload.filterLevel)&&void 0!==n?n:1,at(t.undoPayload)&&(e.filterLevelsByName=t.undoPayload.filterLevelsByName)},redoReducer:function(e,t){var n;e.undoRedoStack.undoStack.push(t),e.activeFilter=t.redoPayload.activeFilter,e.filterLevel=t.redoPayload.filterLevel,e.filterLevelsByName[t.redoPayload.activeFilter.name]=null!==(n=t.redoPayload.filterLevel)&&void 0!==n?n:1,at(t.redoPayload)&&(e.filterLevelsByName=t.redoPayload.filterLevelsByName)},removeItemsReducer:function(e,t){e.undoRedoStack.undoStack=t},collapseItemsReducer:function(e,t,n){e.undoRedoStack.undoStack=e.undoRedoStack.undoStack.filter((function(e){return e.sequence!==t.payload.start&&e.sequence!==t.payload.end})),e.undoRedoStack.undoStack.push(n)}},lt=n(73050),ut=n(53042),ct={Original:"filterOriginal",Punch:"filterPunch",Golden:"filterGolden",Radiate:"filterRadiate","Warm Contrast":"filterWarmContrast",Calm:"filterCalm","Cool Light":"filterCoolLight","Vivid Cool":"filterVividCool","Dramatic Cool":"filterDramaticCool",BW:"filterBW","BW Cool":"filterBWCool","BW Warm":"filterBWWarm","BW High Contrast":"filterBWHighContrast",Burn:"filterBurn",Film:"filterFilm",Vintage:"filterVintage"};var dt,pt=n(97351),ft=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ht=(0,Ge.Z0)({name:"filters",initialState:it,reducers:{setActiveFilterAndLevel:function(e,t){!function(e,t){var n,r=t.payload,o=r.activeFilter,i=r.filterLevel;e.undoPayload||(e.undoPayload={activeFilter:e.activeFilter,filterLevel:e.filterLevel});var a={activeFilter:o,filterLevel:i};if(e.activeFilter=o,e.filterLevel=i,e.filterLevelsByName[o.name]=null!==i&&void 0!==i?i:1,(0,ut.G)(e.undoPayload,a)&&t.payload.isUndoRedoable){var s=(0,tt.Cy)(null!==(n=ct[t.payload.activeFilter.name])&&void 0!==n?n:"customFilter",e.undoPayload,a,lt.Z.KeepAll);e.undoRedoStack.undoStack.push(s),e.undoPayload=void 0}}(e,t)}},extraReducers:function(e){e.addCase(et.zj,(function(e,t){return it})).addCase(et.y2,(function(e,t){var n=t.payload.filters,r=n.activeFilter,o=n.filterLevel,i=n.undoRedoStack;r&&(e.activeFilter=r),void 0!==o&&(e.filterLevel=o),r&&o&&(e.filterLevelsByName[r.name]=null!==o&&void 0!==o?o:1),i&&(e.undoRedoStack=i)})).addCase(et.sP,(function(e,t){(0,pt.s)(e,t.payload,"replaceImageFilters",(function(e){var t=ft(it,["undoRedoStack"]);Object.assign(e,t)}))})),(0,tt.q$)(e,st)}}),mt=ht.actions.setActiveFilterAndLevel,gt=ht.reducer,vt=n(50276);!function(e){e[e.ContrastStretching=0]="ContrastStretching",e[e.HistogramEqualization=1]="HistogramEqualization",e[e.ContrastStretchingAndHistogramEqualization=2]="ContrastStretchingAndHistogramEqualization"}(dt||(dt={}));var yt,bt,xt="autoEnhanceUndoRedoStack",_t={isAutoEnhanceOn:!1,contrastStretchingParams:{alpha:1,beta:0},level:0,enhanceAlgorithm:dt.ContrastStretching,undoRedoStack:{undoStack:[],redoStack:[],id:xt}},Ct={isAutoEnhanceOn:!1,contrastStretchingParams:{alpha:1,beta:0},level:1,enhanceAlgorithm:dt.ContrastStretching,undoRedoStack:{undoStack:[],redoStack:[],id:xt},undoPayload:void 0},wt={undoReducer:function(e,t){e.undoRedoStack.redoStack.push(t),e.level=t.undoPayload.level,e.isAutoEnhanceOn=t.undoPayload.isAutoEnhanceOn},redoReducer:function(e,t){e.undoRedoStack.undoStack.push(t),e.level=t.redoPayload.level,e.isAutoEnhanceOn=t.redoPayload.isAutoEnhanceOn},removeItemsReducer:function(e,t){e.undoRedoStack.undoStack=t},collapseItemsReducer:function(e,t,n){e.undoRedoStack.undoStack=e.undoRedoStack.undoStack.filter((function(e){return e.sequence!==t.payload.start&&e.sequence!==t.payload.end})),e.undoRedoStack.undoStack.push(n)}},St="autoEnhance",kt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Tt=(0,Ge.Z0)({name:"autoEnhance",initialState:Ct,reducers:{setLevel:function(e,t){if(e.undoPayload||(e.undoPayload={level:e.level,isAutoEnhanceOn:e.isAutoEnhanceOn}),e.level=t.payload.level,t.payload.isUndoRedoable){var n={level:t.payload.level,isAutoEnhanceOn:e.isAutoEnhanceOn},r=(0,tt.Cy)(St,e.undoPayload,n,lt.Z.KeepAll);e.undoRedoStack.undoStack.push(r),e.undoPayload=void 0}},setIsAutoEnhanceOn:function(e,t){var n={level:e.level,isAutoEnhanceOn:e.isAutoEnhanceOn};e.isAutoEnhanceOn=t.payload;var r={level:e.level,isAutoEnhanceOn:t.payload};if(e.isAutoEnhanceOn){var o=(0,tt.Cy)(St,n,r,lt.Z.KeepAll);e.undoRedoStack.undoStack.push(o)}},setAutoEnhanceParameters:function(e,t){e.contrastStretchingParams=t.payload},setEnhanceAlgorithm:function(e,t){e.enhanceAlgorithm=t.payload}},extraReducers:function(e){e.addCase(et.zj,(function(e,t){return Ct})).addCase(et.sP,(function(e,t){(0,pt.s)(e,t.payload,"replaceImageAutoEnhance",(function(e){var t=kt(Ct,["undoRedoStack"]);Object.assign(e,t)}))})),(0,tt.q$)(e,wt)}}),Et=(yt=Tt.actions).setLevel,Pt=yt.setIsAutoEnhanceOn,It=yt.setAutoEnhanceParameters,At=(yt.setEnhanceAlgorithm,Tt.reducer),Rt=n(26333),Lt=n(53471),Mt=n(67048),Bt=n(31967),Ot=n(42242),Ft=n(7058),Dt=n(24372),Nt=n(47666),Ut=n(48812),zt=n(41610),jt=n(85952),Vt=n(46086),Wt=n(28418),Ht=n(25361),qt={activeRetouchMode:Ht.I.SpotFix},Kt=(0,Ge.Z0)({name:"retouch",initialState:qt,reducers:{setActiveRetouchMode:function(e,t){e.activeRetouchMode=t.payload}}}),Gt=(Kt.actions.setActiveRetouchMode,Kt.reducer),Zt=n(14231),Xt=n(11491),Yt=n(14285),Qt=n(4845),Jt={undoReducer:function(e,t){e.undoRedoStack.redoStack.push(t),Object.assign(e,t.undoPayload)},redoReducer:function(e,t){e.undoRedoStack.undoStack.push(t),Object.assign(e,t.redoPayload)},removeItemsReducer:function(e,t){e.undoRedoStack.undoStack=t},collapseItemsReducer:function(e,t,n){e.undoRedoStack.undoStack=e.undoRedoStack.undoStack.filter((function(e){return e.sequence!==t.payload.start&&e.sequence!==t.payload.end})),e.undoRedoStack.undoStack.push(n)}},$t="superResolutionApplied",en=function(){return en=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},en.apply(this,arguments)},tn={imageWasReplaced:!1,imageIdInCache:null,imageToResetTo:null,cumulativeAppliedTelemetry:{editType:"SuperResolution",cumulativeResizeFactor:1},undoRedoStack:{undoStack:[],redoStack:[],id:"imageReplacementUndoRedoStack"}},nn=(0,Ge.Z0)({name:"imageWasReplaced",initialState:tn,reducers:{setImageIdInCache:function(e,t){e.imageIdInCache=t.payload.imageIdInCache,(null==e.imageToResetTo&&("Thumbnail"===t.payload.imageKind||"FullSize"===t.payload.imageKind)||null!=e.imageToResetTo&&"FullSize"===t.payload.imageKind)&&(e.imageToResetTo={imageIdInCache:t.payload.imageIdInCache,fullImageSize:t.payload.fullImageSize})}},extraReducers:function(e){e.addCase(et.zj,(function(e,t){var n,r;return en(en({},tn),{imageToResetTo:e.imageToResetTo,imageIdInCache:null!==(r=null===(n=e.imageToResetTo)||void 0===n?void 0:n.imageIdInCache)&&void 0!==r?r:null})})),e.addCase(et.sP,(function(e,t){(0,pt.s)(e,t.payload,$t,(function(e){var n;e.imageWasReplaced=!0,e.imageIdInCache=t.payload.imageIdInCache,"SuperResolution"===(null===(n=t.payload.telemetry)||void 0===n?void 0:n.editType)&&(e.cumulativeAppliedTelemetry.cumulativeResizeFactor=t.payload.telemetry.resizeFactor*e.cumulativeAppliedTelemetry.cumulativeResizeFactor)}))})),(0,tt.q$)(e,Jt)}}),rn=nn.actions.setImageIdInCache,on=nn.reducer,an={resizedImageLoadingStatus:"none",resizeFactor:1,resizeImageRequestId:void 0,undoRedoStack:{undoStack:[],redoStack:[],id:"resizeUndoRedoStack"}},sn="superResolutionPreview",ln={undoReducer:function(e,t){e.resizedImageLoadingStatus="none",e.resizeFactor=t.undoPayload.resizeFactor,e.resizeImageRequestId=void 0},redoReducer:function(e,t){e.undoRedoStack.undoStack.push(t),e.resizedImageLoadingStatus="none",e.resizeFactor=t.redoPayload.resizeFactor,e.resizeImageRequestId=void 0},removeItemsReducer:function(e,t){e.undoRedoStack.undoStack=t},collapseItemsReducer:function(e,t,n){e.undoRedoStack.undoStack=e.undoRedoStack.undoStack.filter((function(e){return e.sequence!==t.payload.start&&e.sequence!==t.payload.end})),e.undoRedoStack.undoStack.push(n)}},un=n(88873),cn=(0,Ge.Z0)({name:"resize",initialState:an,reducers:{setResizedImageLoadingStatus:function(e,t){e.resizedImageLoadingStatus=t.payload,"none"!==t.payload&&"error"!==t.payload||(e.resizeFactor=1,e.undoRedoStack=an.undoRedoStack)},setResizeFactor:function(e,t){var n={resizeFactor:t.payload},r=(0,tt.Cy)(sn,{resizeFactor:1},n,lt.Z.KeepLast);e.undoRedoStack.undoStack.push(r),e.resizeFactor=t.payload},setResizeImageRequestId:function(e,t){e.resizeImageRequestId=t.payload}},extraReducers:function(e){e.addCase(et.zj,(function(e,t){return an})).addCase(Qe.Dx,(function(e,t){t.payload!==un.VQ&&Object.assign(e,an)})),(0,tt.q$)(e,ln)}}),dn=(bt=cn.actions).setResizedImageLoadingStatus,pn=bt.setResizeFactor,fn=bt.setResizeImageRequestId,hn=cn.reducer,mn=function(){return mn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mn.apply(this,arguments)};var gn=n(11446),vn=n(88307);function yn(t,n,r){var o=(0,e.useRef)(t);return(r?!r(o.current,t):o.current!==t)&&n&&n(o.current,t),o.current}var bn=["pen1","pen2","highlighter"];function xn(t){var n=(0,Se.wj)(),r=yn(t,(0,e.useCallback)((function(){n({id:"InitialInkBrushConfigIgnored",message:"Change to initialMarkupToolsConfigurations prop was ignored. initialMarkupToolsConfigurations is for initial state only. For subsequent changes use the state or reset method"})}),[n]));try{!function(e){if(!e.activeInkBrushId)throw new Error("initialInkBrushConfiguration must contain a activeInkBrushId");if(!bn.includes(e.activeInkBrushId))throw new Error("initialInkBrushConfiguration contains an invalid activeInkBrushId");if(!e.eraser.getIcon)throw new Error("initialInkBrushConfiguration must provide a getIcon callback for the eraser tool");if(!e.clearAllMarkup.getIcon)throw new Error("initialInkBrushConfiguration must provide a getIcon callback for the clear-ink button");e.brushes.forEach((function(e){if(!e.getIcon)throw new Error("initialInkBrushConfiguration must provide a getIcon callback for ".concat(e.inkBrushId))})),bn.forEach((function(t){if(!e.brushes.find((function(e){return e.inkBrushId===t})))throw new Error("initialInkBrushConfiguration must include configuration for brushId: ".concat(t))}))}(t)}catch(o){r=vn.s,o instanceof Error?n({id:"InitialInkBrushConfigIgnored",message:o.message}):n({id:"InitialInkBrushConfigIgnored",message:"Change to initialMarkupToolsConfigurations prop was ignored. initialMarkupToolsConfigurations is invalid"})}return r}var _n=n(92541),Cn=function(){return Cn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Cn.apply(this,arguments)},wn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Sn=e.memo((function(t){var n=t.serializedState,r=t.defaultEdits,o=t.initialEdits,i=t.initialUiState,a=t.aspectRatiosList,s=wn(t,["serializedState","defaultEdits","initialEdits","initialUiState","aspectRatiosList"]),l=(0,e.useContext)(ve.b),u=(0,e.useContext)(gn.O_).markupToolsConfigurations,c=(0,Se.wj)(),d=xn(u),p=(0,e.useRef)(r).current,f=function(e,t,n){if(n){var r=Ve(n,t),o=r.isValid,i=r.message;if(o)return n;e({id:"InitialEditsIgnored",message:"ValidationError: ".concat(i)})}}(c,null!==a&&void 0!==a?a:De.gV,o);if((null===r||void 0===r?void 0:r.initialFocalPointUvPosition)&&(0,_n.r)(r.initialFocalPointUvPosition,{left:0,right:1,top:0,bottom:1}))throw new Error("The initialFocalPointUvPosition in defaultEdits is out of range (x and y must be in the range [0,1]).");var h=(0,e.useMemo)((function(){return function(e,t,n,r,o,i,a){var s=e?JSON.parse(decodeURI(e)):{},l={colorAdjustments:qe.KT,transformTools:He.I7,uiState:Qe.aI,ariaAnnouncement:Je.fb,filters:gt,focalPoint:Vt.YN,autoEnhance:At,markup:vt.Hq,texturePatch:Mt.Cv,spotFixUi:Ot.mn,brushCursor:Ut.J8,inPaintingUi:Ft.sB,maskBrushOptions:Dt.tQ,maskingUi:Nt.PQ,imageBackground:zt.sG,relight:Xt.fo,retouch:Gt,texturePatchAlgorithmUI:Yt.fm,dynamicLayers:Qt.k7,imageWasReplaced:on,resize:hn},u={transformTools:Ye(function(e){var t=Ke.SZ;return e?mn(mn({},Ke.SZ),{cropInteraction:mn(mn({},Ke.SZ.cropInteraction),{aspectRatiosList:e})}):t}(i),s.transformTools),colorAdjustments:Ye(Be.$O,s.colorAdjustments),uiState:Ye(Qe.yp,s.uiState),ariaAnnouncement:Ye($e.T,s.ariaAnnouncement),filters:Ye(it,s.filters),focalPoint:Ye(Wt.G,s.focalPoint),autoEnhance:Ye(Ct,s.autoEnhance),markup:Ye(vt.$0,s.markup),texturePatch:Ye(Bt.E,s.texturePatch),imageBackground:Ye(jt.I,s.imageBackground),relight:Ye(Zt.j,s.relight),retouch:Ye(qt,s.retouch),imageWasReplaced:Ye(tn,s.imageWasReplaced),resize:Ye(an,s.resize)},c=(0,Ge.U1)({reducer:l,preloadedState:u,middleware:function(e){return e().concat(a||[])}});if(t&&(c.dispatch((0,He.pk)(t)),c.dispatch((0,Vt.uy)(t))),n&&c.dispatch((0,et.y2)(n)),o){var d={};o.brushes.forEach((function(e){d[e.inkBrushId]=Lt.M[e.inkBrushId]})),c.dispatch((0,Qe.pj)(d)),c.dispatch((0,Qe.O)(o.activeInkBrushId)),c.dispatch((0,Qe.ak)((0,Rt.w)(d[o.activeInkBrushId].inkType)))}return r&&c.dispatch((0,Qe.WP)(r)),c}(n,p,f,i,d,a,[(e=l,function(t){return function(t){return function(n){return t(We(We({},n),{telemetry:e}))}}})]);var e}),[n,p,f,i,d,a,l]);return(0,e.useEffect)((function(){r&&h.dispatch((0,He.pk)(r))}),[h,r]),function(t,n){(0,e.useEffect)((function(){n&&t.dispatch((0,Qe.Dx)(n))}),[t,n])}(h,null===i||void 0===i?void 0:i.activeEditorActivity),e.createElement(ge.Kq,Cn({},s,{store:h}))}));Sn.displayName="ImageEditorProvider";var kn=n(85913);function Tn(e,t){return e.brightness===t.brightness&&e.exposure===t.exposure&&e.saturation===t.saturation&&e.highlights===t.highlights&&e.shadows===t.shadows&&e.contrast===t.contrast&&e.tint===t.tint&&e.vignette===t.vignette&&e.temperature===t.temperature&&e.sharpness===t.sharpness}function En(e,t){var n=new Set(Object.keys(e.adjustmentsByDynamicLayer).concat(Object.keys(t.adjustmentsByDynamicLayer)));return Tn(e.baseAdjustments,t.baseAdjustments)&&Array.from(n).every((function(n){var r=e.adjustmentsByDynamicLayer[n],o=t.adjustmentsByDynamicLayer[n];return!(!r||!o)&&Tn(r,o)}))&&e.version===t.version&&e.maskLevel===t.maskLevel}var Pn=function(e){return!!(e&&e.lutUrlId&&e.config)},In=function(){return In=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},In.apply(this,arguments)};function An(e,t){return Pn(e.activeFilter)&&Pn(t.activeFilter)&&e.activeFilter.config.numRedSamplesPerSlice===t.activeFilter.config.numRedSamplesPerSlice&&e.activeFilter.config.numGreenSamplesPerSlice===t.activeFilter.config.numGreenSamplesPerSlice&&e.activeFilter.config.numBlueSlicesPerRowIn2DLayout===t.activeFilter.config.numBlueSlicesPerRowIn2DLayout&&e.activeFilter.config.numBlueSlicesPerColumnIn2DLayout===t.activeFilter.config.numBlueSlicesPerColumnIn2DLayout&&e.activeFilter.lutUrlId===t.activeFilter.lutUrlId&&e.activeFilter.name===t.activeFilter.name&&e.filterLevel===t.filterLevel||!Pn(e.activeFilter)&&!Pn(t.activeFilter)}function Rn(e){return In({},e)}function Ln(e,t){return e.level===t.level}function Mn(e,t){var n=e.markupContentItems||[],r=t.markupContentItems||[];return n.length===r.length&&n.every((function(e,t){return e.id===r[t].id}))}var Bn=n(40218);function On(e){return Fn(e.resizeFactor,e.resizedImageLoadingStatus)}function Fn(e,t){return 1!==e&&"loaded"===t}function Dn(e){return null===e.presetIndex||(0===e.globalIntensity||(0,Me.v)(e.lightSources,Zt.j.lightSources,5))}function Nn(e,t,n,r,o,i,a,s,l){var u;return!(!e||En(e,(0,Be.GK)(e.adjustmentsByDynamicLayer)))||(!An(t,Rn(it))||(!Ln(n,_t)||(!Mn(r,vt.$0)||(!(!(u=o).texturePatchInfos||!u.texturePatchInfos.some((function(e){return(0,Bn.n)(e.algorithmParameters.layerToPatch,"main")})))||("OriginalBackground"!==i.backgroundType||(!Dn(a)||(!!s.imageWasReplaced||!!On(l))))))))}var Un=n(26397);function zn(e){return void 0===e.focalPointUvPosition||void 0===e.initialFocalPointUvPosition?e.focalPointUvPosition===e.initialFocalPointUvPosition:(0,Un.zN)(e.focalPointUvPosition,e.initialFocalPointUvPosition)}function jn(e){return!zn(e)}var Vn=n(75347),Wn=n(25522),Hn=n(21925),qn=n(53360),Kn=n(93616);function Gn(e){var t=e.cropRectangle,n=e.imageTransform,r=e.originalImageSize,o=(0,Hn.Vq)(t),i=(0,Wn.D)(n),a=(0,Vn.ft)(i,o,Kn.G),s=!(0,qn.J)(n.height,r.y,Kn.G)||!(0,qn.J)(n.width,r.x,Kn.G);return!a||s}function Zn(e){return jn(e.focalPoint)||Gn(e.transforms)||Nn(e.adjustments,e.filters,e.autoEnhance,e.markup,e.texturePatch,e.imageBackground,e.relight,e.imageWasReplaced,e.resize)}var Xn=n(28416),Yn=function(){return Yn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Yn.apply(this,arguments)};function Qn(e,t){var n=e.cumulativeAppliedTelemetry.cumulativeResizeFactor,r="loaded"===t.resizedImageLoadingStatus?t.resizeFactor:1;return Yn(Yn({},e),{cumulativeTelemetry:{editType:"SuperResolution",value:n*r},imageWasReplaced:e.imageWasReplaced||"loaded"===t.resizedImageLoadingStatus})}function Jn(e,t,n,r,o,i,a,s,l,u,c){return{transforms:{imageTransform:(0,Wn.H)(e.imageMatrix),cropRectangle:(0,Hn.SM)(e.cropMatrix),originalImageSize:Yn({},e.originalImageSize),aspectRatio:e.aspectRatio,shouldInvertOriginalAspectRatio:e.shouldInvertOriginalAspectRatio,undoRedoStack:e.undoRedoStack},adjustments:t,filters:n,autoEnhance:Yn(Yn({},r),{level:r.isAutoEnhanceOn?r.level:0}),version:1,markup:o,texturePatch:{texturePatchInfos:i.texturePatchInfos,removedTexturePatchInfos:i.removedTexturePatchInfos,undoRedoStack:i.undoRedoStack},imageBackground:a,relight:s,focalPoint:{focalPointUvPosition:l.focalPointUvPosition,focalPointUvPositionOnEditedImage:l.focalPointUvPosition?(0,Xn.yt)(l.focalPointUvPosition,e.imageMatrix,e.cropMatrix):void 0,initialFocalPointUvPosition:l.initialFocalPointUvPosition,undoRedoStack:l.undoRedoStack},imageWasReplaced:Qn(u,c),resize:c}}var $n=n(40177),er=function(e){return e.colorAdjustments},tr=function(e){return e.filters},nr=function(e){return e.autoEnhance},rr=function(e){return e.markup},or=n(61618),ir=n(19550),ar=function(e){return e.focalPoint},sr=n(45918),lr=function(e){return e.imageWasReplaced},ur=function(e){return e.resize.resizedImageLoadingStatus},cr=function(e){return e.resize},dr=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},pr=(0,kn.Mz)([$n.s0,er,tr,nr,rr,or.A,ir.Oi,sr.qr,ar,lr,cr],(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Zn(Jn.apply(void 0,e))})),fr=(0,kn.Mz)([$n.s0,er,tr,nr,rr,or.A,ir.Oi,sr.qr,ar],(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Zn(Jn.apply(void 0,dr(dr([],e,!1),[tn,an],!1)))})),hr=n(72027);var mr,gr=(0,kn.Mz)([$n.s0,er,tr,nr,rr,or.A,ir.Oi,sr.qr,ar,lr,cr,$n.rV],(function(e,t,n,r,o,i,a,s,l,u,c,d){return function(e,t){var n=(0,hr.k)(e.transforms,t),r=!e.adjustments||En(e.adjustments,(0,Be.GK)(e.adjustments.adjustmentsByDynamicLayer)),o=An(e.filters,Rn(it)),i=Ln(e.autoEnhance,_t),a=Mn(e.markup,vt.$0),s=!function(e){var t;return!!(null===(t=e.texturePatchInfos)||void 0===t?void 0:t.some((function(e){return e.isUndoRedoable})))}(e.texturePatch),l=!("OriginalBackground"!==e.imageBackground.backgroundType),u=zn(e.focalPoint),c=e.imageWasReplaced.imageWasReplaced,d=Dn(e.relight);return n&&r&&o&&i&&a&&s&&l&&u&&!c&&d}(Jn(e,t,n,r,o,i,a,s,l,u,c),d)})),vr=(0,e.createContext)(new Set);!function(e){e.SaveAs="SaveAs",e.SaveAsOriginal="SaveAsOriginal",e.CopyToClipboard="CopyToClipboard"}(mr||(mr={}));var yr=new Set([mr.SaveAs,mr.SaveAsOriginal,mr.CopyToClipboard]),br=new Set([mr.SaveAs,mr.CopyToClipboard]),xr=new Set([]),_r=function(e,t,n,r){return r?xr:n?t?yr:br:xr},Cr=(0,kn.Mz)([$n.Wi,$n.NC,$n.L1],(function(e,t,n){return n&&!!e&&(0,Un.zN)(e,t)}));var wr=e.memo((function(t){var n,r=t.editsAreSameAsDefaults,o=t.editsCouldModifyImage,i=t.isFullSizeInputImageAvailable,a=t.isExportBlockingOperationInProgress,s=t.onDecideEnabledSaveTypes,l=t.children,u=(n=(s||_r)(r,o,i,a),new Set(Array.from(n)));return e.createElement(vr.Provider,{value:u},l)})),Sr=(0,ge.Ng)((function(e,t){var n=gr(e),r=pr(e),o=Cr(e),i=function(e){return"loading"===e.resize.resizedImageLoadingStatus}(e);return{editsAreSameAsDefaults:n,editsCouldModifyImage:r,isFullSizeInputImageAvailable:o,isExportBlockingOperationInProgress:i}}))(wr),kr=(0,e.createContext)({onResetEditsConfirmationDialog:void 0}),Tr=function(t){var n=t.onResetEditsConfirmationDialog,r=t.children;return e.createElement(kr.Provider,{value:{onResetEditsConfirmationDialog:n}},r)},Er={tileAriaRole:"option",tileListAriaRole:"listbox"},Pr=(0,e.createContext)(Er),Ir=function(t){var n=t.ariaConfig,r=void 0===n?Er:n,o=t.children,i=r.tileAriaRole,a=r.tileListAriaRole;return e.createElement(Pr.Provider,{value:{tileAriaRole:i,tileListAriaRole:a}},o)},Ar=n(83716),Rr=n(27262);var Lr=n(88403),Mr=(0,kn.Mz)([Lr.N],(function(e){return!function(e,t){return e.some((function(e){return(0,Bn.n)(e.algorithmParameters.layerToPatch,t)}))}(e,"main")})),Br=n(95709),Or=n(74164),Fr=n(8694),Dr=n(99749);var Nr=(0,e.memo)((function(t){var n=function(t){var n=t.selectedUvPositions,r=t.clearSelectedUvPositions,o=t.algorithmParameters,i=t.requestTexturePatch,a=t.imageUvToView,s=t.imageSizeInPixels,l=t.canCreateTexturePatchRequest,u=(0,e.useState)(!1),c=u[0],d=u[1],p=(0,Fr.L)(),f=(0,Dr.Y)();(0,e.useEffect)((function(){var e=!!o&&p.canExecuteAlgorithm(o);d(l&&e)}),[o,l,p]);var h=(0,e.useCallback)((function(e,t,l){if(!c||!o)throw new Error("Unable to invoke in painting action");var u=(0,Or.Z)(e.maskType)({imageId:f,selectedUvPositions:n,algorithmParameters:o,maskParameters:e,imageUvToView:a,imageSizeInPixels:s});if(!u)throw new Error("Error creating texturePatchRequest for in painting action");return null===l||void 0===l||l(),u.undoRedoGroupId=t,i(u),r(),u}),[o,c,r,s,a,i,n,f]),m=(0,e.useCallback)((function(e,t,o,u){var c=!!t&&p.canExecuteAlgorithm(t);if(!l||!c)throw new Error("Unable to invoke in painting action");var d=(0,Or.Z)(e.maskType)({imageId:f,selectedUvPositions:n,algorithmParameters:t,maskParameters:e,imageUvToView:a,imageSizeInPixels:s});if(!d)throw new Error("Error creating texturePatchRequest for in painting action");return d.undoRedoGroupId=o,null===u||void 0===u||u(),i(d),r(),d}),[l,p,r,s,a,i,n,f]);return{invokeInPaintingAction:c?h:void 0,invokeInPaintingActionWithAlgorithmParameters:m}}(t);return e.createElement(Br.n.Provider,{value:n},t.children)})),Ur=n(54596),zr=n(94991),jr={requestTexturePatch:et.F6,clearSelectedUvPositions:Nt.iI,removeTexturePatchesFromLayer:et.Hm,setMaskParameters:Nt.v8},Vr=(0,ge.Ng)((function(e){return{algorithmParameters:(0,zr.Y)(e),selectedUvPositions:(0,Ur.Vv)(e),imageUvToView:(0,Rr.c)(e),imageSizeInPixels:(0,Ar.E)(e),canCreateTexturePatchRequest:Mr(e)}}),jr)(Nr),Wr=n(66056),Hr=n(74029),qr=(0,e.createContext)({registerSaveEvent:function(e){},unregisterSaveEvent:function(e){},notifyPreSaveListeners:function(e){return Promise.resolve()}}),Kr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Gr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Zr=function(){function e(){this._listeners=[]}return e.prototype.addListener=function(e){this._listeners.push(e)},e.prototype.removeListener=function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))},e.prototype.notifyListeners=function(e){return Kr(this,void 0,void 0,(function(){var t,n;return Gr(this,(function(r){switch(r.label){case 0:t=0,n=this._listeners,r.label=1;case 1:return t<n.length?[4,(0,n[t])(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e}(),Xr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Yr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Qr=function(t){var n=this,r=t.children,o=(0,e.useState)(new Zr)[0],i=(0,e.useCallback)((function(e){o.addListener(e)}),[o]),a=(0,e.useCallback)((function(e){o.removeListener(e)}),[o]),s=(0,e.useCallback)((function(e){return Xr(n,void 0,void 0,(function(){return Yr(this,(function(t){switch(t.label){case 0:return[4,o.notifyListeners(e)];case 1:return t.sent(),[2]}}))}))}),[o]);return e.createElement(qr.Provider,{value:{registerSaveEvent:i,unregisterSaveEvent:a,notifyPreSaveListeners:s}},r)},Jr=n(87595),$r=(0,e.createContext)({resizedImageWithStatus:{image:null,status:"none"},revealPosViewSpace:0,setResizedImage:function(){},requestResizedImage:function(){},cancelResizeOperation:function(){},acceptResizedImage:function(){},rejectResizedImage:function(){},centerSplitter:function(){},setSplitterPosViewSpace:function(){},resizePivotTeachingTipState:"notShown",onResizePivotTeachingTipDismissed:function(){},setResizePivotTeachingTipState:function(){}}),eo=n(72036),to=n(22379),no="requestResizedImageStart";var ro={setResizedImageLoadingStatus:dn,setResizeImageRequestId:fn},oo=(0,ge.Ng)((function(e){var t=(0,$n.mX)(e);return{resizedImageLoadingStatus:e.resize.resizedImageLoadingStatus,canvasPixelSize:t,resizeImageRequestId:e.resize.resizeImageRequestId}}),ro)((function(t){var n=t.onRequestResizedImage,r=t.onAcceptResizedImage,o=t.onCancelResizeOperation,i=t.setResizedImageLoadingStatus,a=t.resizedImageLoadingStatus,s=t.resizeImageRequestId,l=t.setResizeImageRequestId,u=t.canvasPixelSize,c=t.resizePivotTeachingTipState,d=t.onResizePivotTeachingTipDismissed,p=t.setResizePivotTeachingTipState,f=t.children,h=(0,e.useContext)(ve.b).logSuperResolutionCompleteEvent,m=(0,e.useState)(null),g=m[0],v=m[1],y=(0,e.useState)(0),b=y[0],x=y[1],_=(0,e.useCallback)((function(e){x(e)}),[]),C=(0,e.useCallback)((function(){x(u.x/2)}),[x,u]);"none"===a&&null!==g&&v(null);var w=(0,e.useMemo)((function(){return{image:g?g.image:null,status:a,resizeFactor:g?g.resizeFactor:1}}),[g,a]),S=(0,e.useRef)();S.current=s;var k=(0,e.useCallback)((function(e,t,n){if(S.current===e){if("loaded"===t.status&&(null===t.image||null===t.image.main))throw new Error("setResizedImage called with loaded status, but image is null");i(t.status),v(t.image?{image:t.image,resizeFactor:t.resizeFactor}:null),function(e,t,n){var r=performance.getEntriesByName(no);if(r.length>0){var o=performance.now()-r[r.length-1].startTime;switch("loaded"===e.status?t({timeConsumedInMs:o,result:1}):"error"===e.status&&t({timeConsumedInMs:o,result:0,errorCode:n}),e.status){case"loaded":case"error":case"none":performance.clearMarks(no);break;case"loading":case"preparing":break;default:throw new to.x(e.status)}}}(t,h,n)}}),[i,h]),T=(0,e.useCallback)((function(e){if(n){performance.mark(no);var t=(0,eo.b)();l(t),k(t,{image:null,status:"loading"},void 0),n(t,e,k)}else console.error("requestResizedImage called, but onRequestResizedImage is not defined")}),[n,k,l]),E=(0,e.useCallback)((function(){l(void 0),i("none"),v(null)}),[l,i]),P=(0,e.useCallback)((function(){o&&s&&(o(s),E())}),[o,E,s]),I=(0,e.useCallback)((function(){if(null===g||null===g.image||null===g.image.main)throw new Error("acceptResizedImage called, but image is null");if(!r)throw new Error("acceptResizedImage called, but onAcceptResizedImage is not defined");r(g.image,g.resizeFactor),E()}),[g,r,E]),A=(0,e.useCallback)((function(){E()}),[E]);return e.createElement($r.Provider,{value:{resizedImageWithStatus:w,revealPosViewSpace:b,setResizedImage:k,requestResizedImage:T,cancelResizeOperation:P,acceptResizedImage:I,rejectResizedImage:A,centerSplitter:C,setSplitterPosViewSpace:_,resizePivotTeachingTipState:c||"notShown",onResizePivotTeachingTipDismissed:d||function(){},setResizePivotTeachingTipState:p||function(){}}},f)})),io=(0,e.createContext)({addOrReplaceImage:function(e,t){},getImage:function(e){throw new Error("Not implemented")},hasImage:function(e){return!1},clearImageCacheExceptId:function(e){throw new Error("Not implemented")},clearImageCache:function(){throw new Error("Not implemented")}}),ao=function(t){var n=t.children,r=(0,e.useState)(new Map)[0],o=(0,e.useCallback)((function(e){var t=r.get(e);if(void 0===t)throw new Error("Image with id ".concat(e," not found"));return t}),[r]),i=(0,e.useCallback)((function(e,t){r.set(e,t)}),[r]),a=(0,e.useCallback)((function(e){return r.has(e)}),[r]),s=(0,e.useCallback)((function(){r.clear()}),[r]),l=(0,e.useCallback)((function(e){Array.from(r.keys()).forEach((function(t){t!==e&&r.delete(t)}))}),[r]);return e.createElement(io.Provider,{value:{addOrReplaceImage:i,getImage:o,hasImage:a,clearImageCache:s,clearImageCacheExceptId:l}},n)},so=n(6246),lo=n(91629);function uo(){return"image"+(0,eo.b)()}var co=function(){return co=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},co.apply(this,arguments)};function po(t,n,r,o,i){var a=(0,e.useContext)(io),s=a.addOrReplaceImage,l=a.getImage,u=a.hasImage,c=(0,e.useMemo)((function(){return co({},t)}),[t]),d=(0,e.useReducer)((function(e){return e+1}),0)[1],p=(0,e.useCallback)((function(e,t){s(e,t),d()}),[s]);!function(t,n,r,o,i){var a=e.useRef(n);a.current=n,(0,e.useEffect)((function(){if(t){var e=(0,so.XG)(t);if(e){var n=a.current?a.current:uo();o(n,t),i({imageIdInCache:n,imageKind:t.sourceImageKind,fullImageSize:r||{x:e.width,y:e.height}})}}}),[o,t,i,r])}(c,n,r,p,o);var f=function(t,n,r,o,i){var a=n&&i(n)?o(n):t,s=e.useRef(a);return s.current=a,[a,(0,e.useCallback)((function(e){if(null!==n)if("object"===typeof e)r(n,e);else{var t=e(s.current);r(n,t)}else"object"===typeof e?Object.assign(s.current,e):(t=e(s.current),Object.assign(s.current,t))}),[r,n])]}(c,n,p,l,u),h=f[0],m=f[1],g=function(t,n){return(0,e.useCallback)((function(e,r){var o=(0,so.XG)(e);if(!o)throw new Error("Image should not be null");var i=uo();t(i,e),n({imageIdInCache:i,undoGroupId:(0,eo.b)(),newImagePixelSize:{x:o.width,y:o.height},telemetry:r})}),[t,n])}(p,i);return[h,m,g]}var fo=function(){return fo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fo.apply(this,arguments)},ho={replaceImage:et.sP,setImageIdInCache:rn,setSessionFullImageSize:He.Om},mo=(0,ge.Ng)((function(e){return{imageIdInCache:e.imageWasReplaced.imageIdInCache}}),ho)((function(t){var n=t.image,r=t.imageIdInCache,o=t.sessionFullImageSize,i=t.replaceImage,a=t.setSessionFullImageSize,s=t.setImageIdInCache,l=t.children,u=(0,e.useState)(null),c=u[0],d=u[1];!function(t,n){(0,e.useEffect)((function(){t&&n(t)}),[t,n])}(o,a);var p=po(n,r,o,s,i),f=p[0],h=p[1],m=p[2],g=(0,e.useCallback)((function(e,t){h((function(n){var r;if(!(0,so.k_)(n)&&!t)return n;if((0,so.k_)(n)){var o=n[e];if(!o&&!t||t&&o&&(0,so.f9)(o)===(0,so.f9)(t))return n}return fo(fo({},n),((r={})[e]=t,r))}))}),[h]);return e.createElement(lo.Z.Provider,{value:{image:f,isExpectingThumbnailThenFullImage:void 0!==o,setImage:m,setImageLayer:g,offscreenRenderer:c,setOffscreenRenderer:d}},l)}));function go(e){return null!==e&&void 0!==e.main}var vo=n(48872),yo=function(){return yo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yo.apply(this,arguments)};function bo(e,t){return e&&t?(0,Un.zN)(e,t):e===t}var xo=n(67922),_o=function(t){var n=t.onLinkClicked,r=t.children,o=(0,e.useCallback)((function(e){if(!n)throw new Error("Must provide onLinkClicked function in ImageEditor");n(e)}),[n]);return e.createElement(xo.G.Provider,{value:{onLinkClicked:o}},r)},Co=e.memo((function(t){var n=t.image,r=t.localization,o=t.telemetryCallback,i=t.serializedState,a=t.onComponentError,s=t.defaultEdits,l=t.initialEdits,u=t.initialUiState,c=t.children,d=t.onDecideEnabledSaveTypes,p=t.sessionFullImageSize,f=t.onResetEditsConfirmationDialog,h=t.ariaConfig,m=t.aspectRatiosDisplayedInOrder,g=t.texturePatchAlgorithmsByRole,v=t.onRequestResizedImage,y=t.onAcceptResizedImage,b=t.onCancelResizeOperation,x=t.onLinkClicked,_=function(t,n){return yn(t,(0,e.useCallback)((function(e,t){n({id:"SessionFullImageSizeIgnored",message:"Change to sessionFullImageSize prop was ignored. sessionFullImageSize is for initial state only. Old value: (".concat(null===e||void 0===e?void 0:e.x,", ").concat(null===e||void 0===e?void 0:e.y,"), New value: (").concat(null===t||void 0===t?void 0:t.x,", ").concat(null===t||void 0===t?void 0:t.y,")")})}),[n]),bo)}(p,a),C=!!_,w=(0,e.useMemo)((function(){return function(e,t){if(!e)return yo(yo({},(0,vo.W)()),{sourceImageKind:"NoImage"});if(go(e)){if("NoImage"===e.sourceImageKind&&e.main)throw new Error("Image kind should not be NoImage when an image exists");if("Thumbnail"===e.sourceImageKind&&!t)throw new Error("Session full image size must be defined when image kind is Thumbnail");if(!e.main&&"NoImage"!==e.sourceImageKind)throw new Error("Image kind should be NoImage when no image exists");return e}if(t)throw new Error("sessionFullImageSize exists but received ImageEditorSingleImage instead of a ImageEditorLayerGroupWithImageKind. If you expect to use thumbnail then a full image, you must pass in a ImageEditorLayerGroupWithImageKind");return yo(yo({},(0,vo.W)()),{main:e,sourceImageKind:"FullSize"})}(n,C)}),[C,n]),S=yn(l,(0,e.useCallback)((function(){a({id:"InitialEditsIgnored",message:"Change to initialEdits prop was ignored. initialEdits is for initial state only. For subsequent changes use the setEdits method, or the reset method"})}),[a])),k=yn(u,(0,e.useCallback)((function(){a({id:"InitialUiStateIgnored",message:"Change to initialUiState prop was ignored. initialUiState is for initial state only. For subsequent changes use the setUiState method"})}),[a])),T=(0,e.useContext)(Wr.u),E=T.experimental_enableInPaintingDevUi,P=T.enableBackground,I=T.enableStylizer,A=P||E||I;return e.createElement(Se.HH,{onError:a},e.createElement(Re,{telemetryCallback:o},e.createElement(Ee,{localization:r},e.createElement(Sn,{serializedState:i,defaultEdits:s,initialEdits:S,initialUiState:k,aspectRatiosList:m},e.createElement(Ir,{ariaConfig:h},e.createElement(Qr,null,e.createElement(Tr,{onResetEditsConfirmationDialog:f},e.createElement(Sr,{onDecideEnabledSaveTypes:d},e.createElement(Jr.K,null,e.createElement(Hr.t,{texturePatchAlgorithmsByRole:g},e.createElement(_o,{onLinkClicked:x},e.createElement(oo,{onRequestResizedImage:v,onAcceptResizedImage:y,onCancelResizeOperation:b},e.createElement(ao,null,e.createElement(mo,{image:w,sessionFullImageSize:_},A?e.createElement(Vr,null,c):e.createElement(e.Fragment,null,c),e.createElement(we,null))))))))))))),e.createElement(Le,null)))}));function wo(t,n){return void 0===n&&(n=18),e.createElement("svg",{viewBox:"0 0 ".concat(n," ").concat(n)},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:So(t,n)}))}function So(e,t){var n=1.5,r=e>1,o=r?t:t*e,i=r?t/e:t,a={left:(t-o)/2,top:(t-i)/2,width:o,height:i};return ko({left:a.left+n,top:a.top+n,width:o-3,height:i-3},1.5)+ko(a,3)}function ko(e,t){var n=e.left,r=e.top+t,o=t,i=.5*t,a=e.width-2*t,s=e.height-2*t;return"M".concat(n," ").concat(r,"v").concat(s,"c0 ").concat(i," ").concat(i," ").concat(o," ").concat(o," ").concat(o,"h").concat(a,"c").concat(i," 0 ").concat(o," -").concat(i," ").concat(o," -").concat(o,"v-").concat(s,"c0 -").concat(i," -").concat(i," -").concat(o," -").concat(o," -").concat(o,"h-").concat(a,"c-").concat(i," 0 -").concat(o," ").concat(i," -").concat(o," ").concat(o,"z")}Co.displayName="ImageEditorContext";var To=wo(.5),Eo=wo(2),Po=wo(5/7),Io=wo(1.4),Ao=wo(2/3),Ro=wo(1.5),Lo=wo(3/4),Mo=wo(4/3),Bo=wo(.8),Oo=wo(5/4),Fo=wo(9/16),Do=wo(16/9),No=wo(1),Uo=e.createElement("svg",{viewBox:"0 0 20 20"},e.createElement("path",{d:"M19.2502 11C19.6298 11 19.9436 11.2822 19.9933 11.6482L20.0002 11.75V16.75C20.0002 18.483 18.6437 19.8992 16.9346 19.9949L16.7502 20L12.0823 20.0002C12.6186 19.6147 13.0556 19.0997 13.3475 18.5011L16.7502 18.5C17.6683 18.5 18.4213 17.7929 18.4944 16.8935L18.5002 16.75V11.75C18.5002 11.3358 18.8359 11 19.2502 11ZM9.75015 7C11.5451 7 13.0002 8.45507 13.0002 10.25V16.75C13.0002 18.5449 11.5451 20 9.75015 20H3.25015C1.45523 20 0.0001508 18.5449 0.0001508 16.75V10.25C0.0001508 8.45507 1.45523 7 3.25015 7H9.75015ZM5.71776 15.3534L5.61627 15.4445L2.66355 18.3993C2.84693 18.4645 3.04439 18.5 3.25015 18.5H9.75015C9.95591 18.5 10.1534 18.4645 10.3368 18.3993L7.38403 15.4445C6.96097 15.0215 6.31009 14.9651 5.82627 15.2753L5.71776 15.3534ZM9.75015 8.5H3.25015C2.28365 8.5 1.50015 9.2835 1.50015 10.25V16.75C1.50015 16.9558 1.53566 17.1532 1.60089 17.3366L4.55561 14.3839C5.5848 13.3547 7.22681 13.3118 8.30707 14.2552L8.44469 14.3839L11.3994 17.3366C11.4646 17.1532 11.5002 16.9558 11.5002 16.75V10.25C11.5002 9.2835 10.7166 8.5 9.75015 8.5ZM9.00015 10C9.55243 10 10.0002 10.4477 10.0002 11C10.0002 11.5523 9.55243 12 9.00015 12C8.44787 12 8.00015 11.5523 8.00015 11C8.00015 10.4477 8.44787 10 9.00015 10ZM16.7502 0C18.4832 0 19.8994 1.35645 19.995 3.06558L20.0002 3.25V8.25C20.0002 8.66421 19.6644 9 19.2502 9C18.8705 9 18.5567 8.71785 18.507 8.35177L18.5002 8.25V3.25C18.5002 2.33183 17.793 1.57881 16.8937 1.5058L16.7502 1.5H11.7502C11.3359 1.5 11.0002 1.16421 11.0002 0.75C11.0002 0.370304 11.2823 0.0565091 11.6484 0.00684667L11.7502 0H16.7502ZM8.25015 0C8.66436 0 9.00015 0.335786 9.00015 0.75C9.00015 1.1297 8.718 1.44349 8.35192 1.49315L8.25015 1.5H3.25015C2.33198 1.5 1.57896 2.20711 1.50595 3.10647L1.50015 3.25L1.50011 6.65214C0.901018 6.94409 0.385711 7.38126 0 7.91785L0.0001508 3.25C0.0001508 1.51697 1.35661 0.100754 3.06573 0.00514483L3.25015 0H8.25015Z"})),zo=e.createElement("svg",{viewBox:"0 0 18 18"},e.createElement("path",{d:"M14.75 0C16.5449 0 18 1.45507 18 3.25V14.75C18 16.5449 16.5449 18 14.75 18H3.25C1.45507 18 0 16.5449 0 14.75V3.25C0 1.45507 1.45507 0 3.25 0H14.75ZM15.3305 16.4014L9.52467 10.7148C9.25962 10.4553 8.85013 10.4316 8.55879 10.644L8.4752 10.7148L2.66845 16.4011C2.8504 16.4651 3.04613 16.5 3.25 16.5H14.75C14.9535 16.5 15.1489 16.4653 15.3305 16.4014L9.52467 10.7148L15.3305 16.4014ZM14.75 1.5H3.25C2.2835 1.5 1.5 2.2835 1.5 3.25V14.75C1.5 14.9584 1.53643 15.1583 1.60326 15.3437L7.42578 9.64299C8.25887 8.82729 9.56746 8.7885 10.4458 9.52658L10.5742 9.64312L16.3964 15.3447C16.4634 15.159 16.5 14.9588 16.5 14.75V3.25C16.5 2.2835 15.7165 1.5 14.75 1.5ZM12.2521 3.5C13.4959 3.5 14.5042 4.50831 14.5042 5.75212C14.5042 6.99592 13.4959 8.00423 12.2521 8.00423C11.0083 8.00423 10 6.99592 10 5.75212C10 4.50831 11.0083 3.5 12.2521 3.5ZM12.2521 5C11.8367 5 11.5 5.33673 11.5 5.75212C11.5 6.1675 11.8367 6.50423 12.2521 6.50423C12.6675 6.50423 13.0042 6.1675 13.0042 5.75212C13.0042 5.33673 12.6675 5 12.2521 5Z"})),jo=e.createElement("svg",{viewBox:"0 0 16 16"},e.createElement("path",{d:"M7.99685 13.7862C8.2423 13.7862 8.4465 13.9629 8.4888 14.1958L8.4969 14.2856V15.5005C8.4969 15.7764 8.273 16 7.99685 16C7.75139 16 7.54724 15.8234 7.50491 15.5903L7.49685 15.5005V14.2856C7.49685 14.0098 7.72071 13.7862 7.99685 13.7862ZM12.7337 12.0179L12.803 12.0756L13.663 12.9348C13.8582 13.1298 13.8582 13.446 13.663 13.6411C13.4894 13.8144 13.22 13.8337 13.0251 13.6989L12.9559 13.6411L12.0958 12.782C11.9006 12.587 11.9006 12.2707 12.0958 12.0756C12.2694 11.9023 12.5388 11.883 12.7337 12.0179ZM3.89746 12.0756C4.07103 12.249 4.09031 12.5181 3.95532 12.7128L3.89746 12.782L3.03745 13.6411C2.84219 13.8361 2.5256 13.8361 2.33034 13.6411C2.15678 13.4677 2.13749 13.1986 2.27249 13.0039L2.33034 12.9348L3.19035 12.0756C3.38562 11.8806 3.7022 11.8806 3.89746 12.0756ZM8.0072 3.51284C10.4866 3.51284 12.4965 5.52061 12.4965 7.99731C12.4965 10.4741 10.4866 12.4818 8.0072 12.4818C5.52781 12.4818 3.51787 10.4741 3.51787 7.99731C3.51787 5.52061 5.52781 3.51284 8.0072 3.51284ZM15.4999 7.51538C15.776 7.51538 15.9999 7.739 15.9999 8.01483C15.9999 8.26007 15.823 8.46395 15.5898 8.5063L15.4999 8.51429H14.2836C14.0075 8.51429 13.7836 8.29073 13.7836 8.01483C13.7836 7.76965 13.9605 7.56572 14.1938 7.52343L14.2836 7.51538H15.4999ZM1.71624 7.49206C1.99238 7.49206 2.21624 7.71567 2.21624 7.99151C2.21624 8.23669 2.03936 8.44067 1.80612 8.48293L1.71624 8.49102H0.5C0.22386 8.49102 0 8.26736 0 7.99151C0 7.74631 0.17688 7.54239 0.41012 7.5001L0.5 7.49206H1.71624ZM2.9682 2.30115L3.03745 2.35893L3.89746 3.21803C4.09272 3.41307 4.09272 3.72931 3.89746 3.92436C3.72389 4.09774 3.45447 4.117 3.2596 3.98216L3.19035 3.92436L2.33034 3.06528C2.13508 2.87023 2.13508 2.55399 2.33034 2.35893C2.50391 2.18556 2.77333 2.16629 2.9682 2.30115ZM13.663 2.35893C13.8365 2.53232 13.8558 2.80146 13.7208 2.99611L13.663 3.06528L12.803 3.92436C12.6077 4.11941 12.2911 4.11941 12.0958 3.92436C11.9223 3.75099 11.903 3.48185 12.038 3.28719L12.0958 3.21803L12.9559 2.35893C13.1511 2.16388 13.4677 2.16388 13.663 2.35893ZM8.0001 0C8.2456 0 8.4498 0.176689 8.4921 0.409688L8.5001 0.499461V1.71439C8.5001 1.99023 8.2763 2.21385 8.0001 2.21385C7.75468 2.21385 7.55054 2.03717 7.5082 1.80417L7.50014 1.71439V0.499461C7.50014 0.223619 7.724 0 8.0001 0Z"})),Vo=e.createElement("svg",{viewBox:"0 0 16 16"},e.createElement("path",{d:"M15.2353 0.76375C14.2155 -0.254592 12.5621 -0.254582 11.5424 0.76377L10.5071 1.79773L10.1574 1.44848C9.57382 0.865754 8.62779 0.865754 8.04425 1.44848L7.4607 2.0312C6.87718 2.61393 6.87717 3.55871 7.4607 4.14144L7.81043 4.49069L1.48156 10.8109C1.20135 11.0907 1.04392 11.4703 1.04392 11.8661V12.3649L0.0831169 14.6114C-0.271229 15.4399 0.571603 16.2745 1.3982 15.9136L3.63826 14.9357H4.11779C4.51407 14.9357 4.89413 14.7785 5.17435 14.4986L11.5032 8.17842L11.8552 8.52998C12.4387 9.11262 13.3847 9.11262 13.9683 8.52998L14.5518 7.94721C15.1354 7.36448 15.1354 6.41969 14.5518 5.83697L14.1999 5.48547L15.2353 4.45148C16.2549 3.43314 16.2549 1.78209 15.2353 0.76375ZM8.51483 5.19411L10.7989 7.47503L4.46997 13.7952C4.37657 13.8885 4.24989 13.941 4.11779 13.941H3.53415C3.46549 13.941 3.39756 13.9551 3.33465 13.9825L0.999194 15.0021L2.00003 12.6621C2.02644 12.6003 2.04006 12.5338 2.04006 12.4667V11.8661C2.04006 11.7341 2.09253 11.6076 2.18594 11.5143L8.51483 5.19411Z"})),Wo=e.createElement("svg",{viewBox:"0 0 16 16"},e.createElement("path",{d:"M9.9462 0.239097C11.3059 0.578692 12.5937 1.28004 13.6569 2.34315C16.781 5.46734 16.781 10.5327 13.6569 13.6569C10.5327 16.7811 5.46734 16.7811 2.34314 13.6569C-0.781049 10.5327 -0.781048 5.46734 2.34315 2.34315C3.98115 0.705139 6.15275 -0.074067 8.29843 0.00553347C8.39082 0.00896099 8.48317 0.0139849 8.57543 0.0205977C9.03652 0.0536426 9.49532 0.126492 9.9462 0.239097ZM12.9497 12.9498C15.6834 10.2161 15.6834 5.78393 12.9497 3.05026C12.6157 2.71617 12.2562 2.42292 11.8776 2.17049L12.3536 2.64645C12.5488 2.84171 12.5488 3.15829 12.3536 3.35356C12.1583 3.54882 11.8417 3.54882 11.6464 3.35355L9.44226 1.14937C8.87302 1.03008 8.29181 0.982245 7.71296 1.00585L9.35355 2.64645C9.54881 2.84171 9.54881 3.15829 9.35355 3.35355C9.15829 3.54882 8.84171 3.54882 8.64645 3.35355L6.46284 1.16994C6.05435 1.26147 5.65247 1.38997 5.26255 1.55544L7.35355 3.64645C7.54882 3.84171 7.54882 4.15829 7.35355 4.35356C7.15829 4.54882 6.84171 4.54882 6.64645 4.35355L4.33014 2.03725C4.01204 2.2334 3.70624 2.45737 3.41621 2.70915L5.35354 4.64645C5.54881 4.84171 5.54881 5.15829 5.35355 5.35355C5.15829 5.54882 4.84171 5.54882 4.64644 5.35356L2.70911 3.41626C2.45734 3.70627 2.23338 4.01206 2.03725 4.33014L4.35355 6.64645C4.54882 6.84171 4.54882 7.15829 4.35355 7.35356C4.15829 7.54882 3.84171 7.54882 3.64645 7.35356L1.55544 5.26255C1.38997 5.65247 1.26147 6.05435 1.16994 6.46284L3.35355 8.64645C3.54882 8.84171 3.54882 9.15829 3.35355 9.35356C3.15829 9.54882 2.84171 9.54882 2.64645 9.35356L1.00585 7.71296C0.982241 8.29181 1.03008 8.87302 1.14936 9.44226L3.35355 11.6464C3.54882 11.8417 3.54882 12.1583 3.35355 12.3536C3.15829 12.5488 2.84171 12.5488 2.64645 12.3536L2.17048 11.8776C2.42291 12.2562 2.71617 12.6157 3.05025 12.9498C5.78392 15.6834 10.2161 15.6834 12.9497 12.9498Z"})),Ho=e.createElement("svg",{viewBox:"0 0 16 16"},e.createElement("path",{d:"M9.5001 10.0001C9.2239 10.0001 9.0001 10.224 9.0001 10.5001C9.0001 10.7762 9.2239 11.0001 9.5001 11.0001H12.5001C12.7762 11.0001 13.0001 10.7762 13.0001 10.5001C13.0001 10.224 12.7762 10.0001 12.5001 10.0001H9.5001ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM8 15C6.247 15 4.6445 14.3556 3.41645 13.2908L13.2908 3.41645C14.3556 4.6445 15 6.247 15 8C15 11.866 11.866 15 8 15ZM3.50003 5.00005C3.50003 4.7239 3.72389 4.50004 4.00004 4.50004H5.00005V3.50003C5.00005 3.22389 5.22391 3.00003 5.50005 3.00003C5.7762 3.00003 6.00006 3.22389 6.00006 3.50003V4.50004H7.00006C7.27621 4.50004 7.50007 4.7239 7.50007 5.00005C7.50007 5.27619 7.27621 5.50005 7.00006 5.50005H6.00006V6.50006C6.00006 6.7762 5.7762 7.00006 5.50005 7.00006C5.22391 7.00006 5.00005 6.7762 5.00005 6.50006V5.50005H4.00004C3.72389 5.50005 3.50003 5.27619 3.50003 5.00005Z"})),qo=e.createElement("svg",{viewBox:"0 0 16 16"},e.createElement("path",{d:"M16 8C16 3.58172 12.4183 -1.56562e-07 8 -3.49691e-07C3.5817 -5.42821e-07 -1.56562e-07 3.58172 -3.49691e-07 8C-5.42821e-07 12.4183 3.5817 16 8 16C12.4183 16 16 12.4183 16 8ZM15 8C15 11.6979 12.1326 14.726 8.5 14.9824L8.5 1.01758C12.1326 1.27396 15 4.30212 15 8Z"})),Ko=e.createElement("svg",{viewBox:"0 0 16 16"},e.createElement("path",{d:"M7.64645 0.146453C7.84171 -0.0488175 8.1583 -0.0488175 8.3536 0.146453C8.8853 0.678212 10.1584 2.20981 11.2998 4.04882C12.4297 5.86917 13.5 8.0985 13.5 10C13.5 11.8438 12.972 13.3521 11.9905 14.4037C11.0058 15.4587 9.6148 16 8 16C6.38524 16 4.99415 15.4587 4.00947 14.4037C3.02801 13.3521 2.5 11.8438 2.5 10C2.5 8.0985 3.5703 5.86917 4.70018 4.04882C5.84163 2.20981 7.11469 0.678212 7.64645 0.146453Z"})),Go=e.createElement("svg",{viewBox:"0 0 20 20"},e.createElement("path",{d:"M2.5 0C1.11929 0 0 1.11929 0 2.5V17.5C0 18.8807 1.11929 20 2.5 20H17.5C18.8807 20 20 18.8807 20 17.5V2.5C20 1.11929 18.8807 0 17.5 0H2.5ZM10 18.5C5.30558 18.5 1.5 14.6944 1.5 10C1.5 5.30558 5.30558 1.5 10 1.5C14.6944 1.5 18.5 5.30558 18.5 10C18.5 14.6944 14.6944 18.5 10 18.5Z"})),Zo=e.createElement("svg",{viewBox:"0 0 16 16"},e.createElement("path",{d:"M2.34315 2.34315C5.46734 -0.781049 10.5327 -0.781049 13.6569 2.34315C14.72 3.40625 15.4213 4.69413 15.7609 6.0538L13.3536 3.64645C13.1583 3.45118 12.8417 3.45118 12.6464 3.64645C12.4512 3.84171 12.4512 4.15829 12.6464 4.35355L15.9945 7.70157C16.0131 8.20286 15.9848 8.70555 15.9096 9.20253L13.3536 6.64645C13.1583 6.45118 12.8417 6.45118 12.6464 6.64645C12.4512 6.84171 12.4512 7.15829 12.6464 7.35355L15.6474 10.3545C15.5283 10.7423 15.3791 11.123 15.1997 11.4926L12.3536 8.64645C12.1583 8.45119 11.8417 8.45119 11.6464 8.64645C11.4512 8.84171 11.4512 9.15829 11.6464 9.35355L14.6871 12.3942C14.4819 12.7056 14.2528 13.0059 13.9996 13.2924L11.3536 10.6464C11.1583 10.4512 10.8417 10.4512 10.6465 10.6465C10.4512 10.8417 10.4512 11.1583 10.6465 11.3536L13.2925 13.9995C13.006 14.2527 12.7057 14.4819 12.3942 14.6871L9.35355 11.6464C9.15829 11.4512 8.84171 11.4512 8.64645 11.6464C8.45118 11.8417 8.45118 12.1583 8.64645 12.3536L11.4926 15.1997C11.123 15.3791 10.7424 15.5283 10.3545 15.6474L7.35355 12.6464C7.15829 12.4512 6.84171 12.4512 6.64645 12.6464C6.45118 12.8417 6.45118 13.1583 6.64645 13.3536L9.20253 15.9096C8.70555 15.9848 8.20286 16.0131 7.70157 15.9945L4.35355 12.6464C4.15829 12.4512 3.84171 12.4512 3.64645 12.6464C3.45118 12.8417 3.45118 13.1583 3.64645 13.3536L6.0538 15.7609C4.69413 15.4213 3.40625 14.72 2.34315 13.6569C-0.781049 10.5327 -0.781049 5.46734 2.34315 2.34315Z"})),Xo=e.createElement("svg",{viewBox:"0 0 16 16"},e.createElement("path",{d:"M8.5 5C8.5 4.72386 8.2761 4.5 8 4.5C7.72386 4.5 7.5 4.72386 7.5 5V10.063C6.63739 10.285 6 11.0681 6 12C6 13.1046 6.89543 14 8 14C9.1046 14 10 13.1046 10 12C10 11.0681 9.3626 10.285 8.5 10.063V5Z"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 3C5 1.34315 6.34315 0 8 0C9.6569 0 11 1.34315 11 3L10.9999 9.3541C11.6219 10.0589 12 10.9857 12 12C12 14.2091 10.2091 16 8 16C5.79086 16 4 14.2091 4 12C4 10.9857 4.37808 10.0589 5.00008 9.3541L5 3ZM10 3C10 1.89543 9.1046 1 8 1C6.89543 1 6 1.89543 6 3L6.00008 9.7546L5.85719 9.9004C5.32642 10.442 5 11.1824 5 12C5 13.6568 6.34315 15 8 15C9.6569 15 11 13.6568 11 12C11 11.1824 10.6736 10.442 10.1428 9.9004L9.9999 9.7546L10 3Z"})),Yo=e.createElement("svg",{viewBox:"0 0 17 17"},e.createElement("path",{d:"M0.772726 15.197C0.500211 15.197 0.247849 15.0534 0.108562 14.8192C-0.0307244 14.585 -0.0363398 14.2947 0.0937875 14.0552L6.53315 2.2068C6.70191 1.89625 7.05994 1.73979 7.40252 1.82687C7.74499 1.91395 7.98485 2.22234 7.98485 2.57578V14.4243C7.98485 14.851 7.63887 15.197 7.21212 15.197H0.772726Z"}),e.createElement("path",{d:"M16.8914 14.8192C16.7521 15.0534 16.4998 15.197 16.2273 15.197H9.78786C9.36111 15.197 9.01514 14.851 9.01514 14.4243V2.57578C9.01514 2.22234 9.25499 1.91395 9.59746 1.82687C9.94004 1.73979 10.2981 1.89625 10.4668 2.2068L16.9062 14.0552C17.0364 14.2947 17.0307 14.585 16.8914 14.8192ZM10.5606 5.61584V13.6516H14.9278L10.5606 5.61584Z"})),Qo=e.createElement("svg",{viewBox:"0 0 17 17"},e.createElement("path",{d:"M14.8192 0.108562C15.0534 0.247849 15.197 0.500211 15.197 0.772726V7.21212C15.197 7.63887 14.851 7.98485 14.4243 7.98485H2.57578C2.22234 7.98485 1.91395 7.74499 1.82687 7.40252C1.73979 7.05994 1.89625 6.70191 2.2068 6.53315L14.0552 0.0937875C14.2947 -0.0363398 14.585 -0.0307244 14.8192 0.108562ZM5.61584 6.43939H13.6516V2.07217L5.61584 6.43939Z"}),e.createElement("path",{d:"M15.197 16.2273C15.197 16.4998 15.0534 16.7521 14.8192 16.8914C14.585 17.0307 14.2947 17.0364 14.0552 16.9062L2.2068 10.4668C1.89625 10.2981 1.73979 9.94004 1.82687 9.59746C1.91395 9.25499 2.22234 9.01514 2.57578 9.01514H14.4243C14.851 9.01514 15.197 9.36111 15.197 9.78786V16.2273Z"})),Jo=e.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.38561 17.6144C2.69008 16.4943 0 13.0613 0 9C0 4.02944 4.02944 0 9 0C13.0613 0 16.4943 2.69008 17.6144 6.38561C21.3099 7.5057 24 10.9387 24 15C24 19.9706 19.9706 24 15 24C10.9387 24 7.5057 21.3099 6.38561 17.6144ZM6.04394 15.895C6.01488 15.6006 6 15.302 6 15C6 10.0294 10.0294 6 15 6C15.302 6 15.6006 6.01488 15.895 6.04394C14.7478 3.37164 12.0925 1.5 9 1.5C4.85786 1.5 1.5 4.85786 1.5 9C1.5 12.0925 3.37164 14.7478 6.04394 15.895ZM17.9561 8.10504C17.9571 8.11555 17.9581 8.12606 17.9591 8.13658C17.9862 8.42074 18 8.70876 18 9C18 13.9706 13.9706 18 9 18C8.69798 18 8.39942 17.9851 8.10504 17.9561C9.25223 20.6284 11.9075 22.5 15 22.5C19.1421 22.5 22.5 19.1421 22.5 15C22.5 11.9075 20.6284 9.25223 17.9561 8.10504Z"})),$o=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M345 1792q-69 0-131-28t-110-75-76-110-28-132V601q0-69 28-131t75-110 110-76 132-28h1358q69 0 131 28t110 75 76 110 28 132v846q0 69-28 131t-75 110-110 76-132 28H345zm1351-128q46 0 87-17t71-48 48-72 18-87V608q0-46-17-87t-48-71-72-48-87-18H352q-46 0-87 17t-71 48-48 72-18 87v832q0 46 17 87t48 71 72 48 87 18h1344zM512 808q-15 8-31 16t-33 8q-26 0-45-19t-19-45q0-17 9-33t26-24l128-64q14-7 29-7 27 0 45 18t19 46v640q0 26-19 45t-45 19q-26 0-45-19t-19-45V808zm896 0q-15 8-31 16t-33 8q-26 0-45-19t-19-45q0-17 9-33t26-24l128-64q14-7 29-7 27 0 45 18t19 46v640q0 26-19 45t-45 19q-26 0-45-19t-19-45V808zm-512 24q0-26 19-45t45-19q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45zm0 384q0-26 19-45t45-19q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45z"})),ei=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M251 1792q-50 0-95-20t-80-55-55-80-21-96V507q0-50 20-95t55-80 80-55 96-21h1546q50 0 95 20t80 55 55 80 21 96v1034q0 50-20 95t-55 80-80 55-96 21H251zm1541-128q27 0 50-10t40-27 28-41 10-50V512q0-26-10-49t-27-41-41-28-50-10H256q-27 0-50 10t-40 27-28 41-10 50v1024q0 27 10 50t27 41 40 27 51 10h1536zM256 832V704q0-39 15-74t41-61 62-42 74-15h128q26 0 45 19t19 45q0 26-19 45t-45 19H448q-21 0-34 7t-20 21-9 31-2 37q0 16 1 32t1 32q0 20-2 37t-9 30-20 21-34 8q-26 0-45-19t-19-45zm1152-256q0-26 19-45t45-19h128q39 0 74 15t61 41 42 62 15 74v128q0 26-19 45t-45 19q-26 0-45-19t-19-45V704q0-21-7-34t-21-19-31-9-37-3q-16 0-32 1t-32 1q-20 0-37-2t-30-9-21-20-8-34zm-960 960q-39 0-74-15t-61-41-42-62-15-74v-128q0-26 19-45t45-19q26 0 45 19t19 45v128q0 21 7 34t21 20 31 9 37 2q16 0 32-1t32-1q19 0 36 2t31 9 21 20 8 34q0 26-19 45t-45 19H448zm1024 0q-26 0-45-19t-19-45q0-26 19-45t45-19h128q21 0 34-7t19-21 9-31 3-37q0-16-1-32t-1-32q0-19 2-36t9-31 20-21 34-8q26 0 45 19t19 45v128q0 39-15 74t-41 61-62 42-74 15h-128z"})),ti=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M640 1755L19 1133l90-90 531 530L1939 275l90 90L640 1755z"})),ni=e.createElement("svg",{viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M2.50488 16.2451C2.50488 15.9033 2.62695 15.6104 2.87109 15.3662C3.11523 15.1221 3.4082 15 3.75 15C4.0918 15 4.38477 15.1221 4.62891 15.3662L11.25 21.9873L25.3711 7.86621C25.6152 7.62207 25.9082 7.5 26.25 7.5C26.4258 7.5 26.5869 7.53418 26.7334 7.60254C26.8896 7.66113 27.0215 7.74902 27.1289 7.86621C27.2461 7.97363 27.3389 8.10547 27.4072 8.26172C27.4756 8.4082 27.5098 8.56934 27.5098 8.74512C27.5098 9.08691 27.3828 9.38477 27.1289 9.63867L12.1289 24.6387C11.8848 24.8828 11.5918 25.0049 11.25 25.0049C10.9082 25.0049 10.6152 24.8828 10.3711 24.6387L2.87109 17.1387C2.62695 16.8945 2.50488 16.5967 2.50488 16.2451Z"})),ri=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M2048 1088H250l787 787-90 90L6 1024 947 83l90 90-787 787h1798v128z"})),oi=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M2042 1024l-941 941-90-90 787-787H0V960h1798l-787-787 90-90 941 941z"})),ii=e.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M10.7481 1.00122L18.3019 1.00173L18.4021 1.01565L18.5009 1.04325L18.562 1.06918C18.6411 1.10407 18.715 1.1546 18.7799 1.21953L18.8206 1.26357L18.8812 1.34505L18.9183 1.41008L18.957 1.50039L18.9762 1.56452L18.9898 1.62846L18.9991 1.72165L18.9996 9.25511C18.9996 9.66933 18.6638 10.0051 18.2496 10.0051C17.8699 10.0051 17.5561 9.72296 17.5065 9.35688L17.4996 9.25511L17.4991 3.55922L3.55911 17.5042L9.24963 17.5051C9.62933 17.5051 9.94313 17.7873 9.99279 18.1533L9.99963 18.2551C9.99963 18.6348 9.71748 18.9486 9.35141 18.9983L9.24963 19.0051L1.71378 19.0043L1.68479 19.0015C1.61873 18.9969 1.55602 18.983 1.49674 18.9619L1.40661 18.923L1.38942 18.9125C1.18522 18.8021 1.03877 18.5991 1.00535 18.3597L0.998108 18.2551V10.7512C0.998108 10.337 1.33389 10.0012 1.74811 10.0012C2.1278 10.0012 2.4416 10.2834 2.49126 10.6495L2.49811 10.7512V16.4432L16.4381 2.50022L10.7481 2.50122C10.3684 2.50122 10.0546 2.21907 10.005 1.85299L9.99811 1.75122C9.99811 1.37152 10.2803 1.05773 10.6463 1.00807L10.7481 1.00122Z"})),ai=e.createElement("svg",{viewBox:"0 0 14 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M6.04545 3.50454V20.4955L1.64659 15.6446C1.2835 15.2442 0.67931 15.2279 0.297105 15.6083C-0.0851011 15.9887 -0.100593 16.6217 0.262502 17.0221L6.30795 23.6887C6.48817 23.8875 6.73835 24 7 24C7.26165 24 7.51183 23.8875 7.69204 23.6887L13.7375 17.0221C14.1006 16.6217 14.0851 15.9887 13.7029 15.6083C13.3207 15.2279 12.7165 15.2442 12.3534 15.6446L7.95454 20.4955V3.50454L12.3534 8.35542C12.7165 8.75582 13.3207 8.77205 13.7029 8.39167C14.0851 8.01128 14.1006 7.37832 13.7375 6.97792L7.69346 0.31281C7.51947 0.120177 7.27313 0 7 0C6.72687 0 6.48053 0.120177 6.30654 0.31281L0.262502 6.97792C-0.100593 7.37832 -0.0851011 8.01128 0.297105 8.39167C0.67931 8.77205 1.2835 8.75582 1.64659 8.35542L6.04545 3.50454Z"})),si=e.createElement("svg",{viewBox:"0 0 8 9",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M4 9C3.72386 9 3.5 8.77614 3.5 8.5L3.5 1.70711L0.853554 4.35355C0.658292 4.54882 0.341709 4.54882 0.146447 4.35355C-0.0488153 4.15829 -0.0488153 3.84171 0.146447 3.64645L3.64645 0.146446C3.84171 -0.0488161 4.15829 -0.0488161 4.35355 0.146446L7.85355 3.64645C8.04882 3.84171 8.04882 4.15829 7.85355 4.35355C7.65829 4.54882 7.34171 4.54882 7.14645 4.35355L4.5 1.70711L4.5 8.5C4.5 8.77614 4.27614 9 4 9Z"})),li=e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"m6.907 6.68 2.734-2.73a6.66 6.66 0 1 1 9.42 9.42l-8.338 8.338a1 1 0 0 1-1.415-1.415l8.339-8.336A4.66 4.66 0 0 0 11.229 5.2l-.174.166-3.641 3.633H12a1 1 0 0 1 .993.884L13 10a1 1 0 0 1-.883.993l-.117.006-7.06-.001-.095-.01-.112-.024-.131-.047-.082-.04-.102-.064a.996.996 0 0 1-.125-.107l-.092-.105-.074-.114-.046-.093-.038-.105-.016-.058-.016-.081-.007-.062L4 10V3.002a1 1 0 0 1 1.993-.116L6 3.002v4.584l3.641-3.635L6.907 6.68Z"})),ui=e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M18 7.586 14.36 3.951a6.66 6.66 0 1 0-9.42 9.42l8.339 8.337a1 1 0 0 0 1.414-1.415l-8.339-8.336A4.66 4.66 0 0 1 12.771 5.2l.174.166 3.64 3.633H12a1 1 0 0 0-.993.884L11 10a1 1 0 0 0 .883.993l.117.006h7a1 1 0 0 0 .993-.883L20 10V3.002a1 1 0 0 0-1.993-.116L18 3.002v4.584L14.36 3.951 18 7.586Z"})),ci=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M960 640q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45q0-26 19-45t45-19zm0 512q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45q0-26 19-45t45-19zM704 896q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45q0-26 19-45t45-19zm256 0q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45q0-26 19-45t45-19zm320 64q0 26-19 45t-45 19q-26 0-45-19t-19-45q0-26 19-45t45-19q26 0 45 19t19 45zm640 512q0 93-35 174t-96 142-142 96-175 36q-89 0-171-34t-146-97l-195-195-195 195q-63 63-145 97t-172 34q-93 0-174-35t-143-96-96-142-35-175q0-90 34-172t97-145l195-195-195-195q-63-63-97-145T0 448q0-93 35-174t96-142 142-96T448 0q89 0 171 34t146 97l195 195 195-195q63-63 145-97t172-34q93 0 174 35t143 96 96 142 35 175q0 90-34 172t-97 145l-195 195 195 195q63 63 97 145t34 172zM1050 417l453 453 195-196q46-47 70-103t24-123q0-66-25-124t-68-102-102-69-125-25q-66 0-122 24t-104 70l-196 195zM417 870l453-453-196-195q-47-46-103-70t-123-24q-66 0-124 25t-102 68-69 102-25 125q0 66 24 122t70 104l195 196zm453 633l-453-453-195 196q-46 47-70 103t-24 123q0 66 25 124t68 102 102 69 125 25q66 0 122-24t104-70l196-195zM507 960l453 453 453-453-453-453-453 453zm1285 512q0-66-24-122t-70-104l-195-196-453 453 196 195q47 46 103 70t123 24q66 0 124-25t102-68 69-102 25-125z"})),di=e.createElement("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M192 64h6l389 35q50 5 120 11t154 16 175 21 185 25 184 30 169 34 145 37 107 42q17 9 34 20t30 25 22 32 8 39q0 29-14 52t-38 40q-34 26-98 48t-143 42-166 36-169 28-151 22-112 15q-55 7-124 16t-142 20-140 27-120 35l-2 1q39 14 91 26t112 23 121 18 123 16 116 12 98 9q38 3 93 9t118 14 129 19 127 26 109 31 80 37q23 16 39 37t16 50q0 29-16 51t-39 37q-28 19-74 34t-103 29-117 23-119 19-108 14-83 10q-59 7-129 16t-143 23-140 32-124 42l-20 10q-14 7-30 16t-26 19-12 20q0 5 4 12t10 14 11 13 9 9q27 26 71 52t94 49 99 41 85 30l337 104q20 6 33 23t13 39q0 26-19 44t-45 19q-7 0-33-7t-62-18-77-24-79-25-67-21-41-13q-34-10-82-27t-101-41-103-53-92-64-66-73-26-83q0-43 25-78t68-65 99-51 118-39 125-29 121-20 105-14 76-9q59-7 124-14t131-18 130-24 120-34q-61-22-131-37t-142-27-144-18-137-14q-42-3-106-9t-139-15-154-21-150-27-129-33-90-41q-22-15-36-36t-15-49q0-32 18-54t44-38q30-18 78-34t105-29 119-24 121-21 110-15 86-12q80-10 181-23t205-31 202-42 172-58l-5-2q-61-28-154-52t-202-44-228-38-231-30-210-23-168-16l-389-35q-25-2-41-21t-17-43q0-27 19-45t45-19z"})),pi=e.createElement("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M1728 1152q-26 0-45 19t-19 45v613l-147-146q-19-19-45-19t-45 19-19 45q0 26 19 45l256 256q19 19 45 19t45-19l256-256q19-19 19-45t-19-45-45-19q-26 0-45 19l-147 146v-613q0-26-19-45t-45-19zM192 64h6l389 35q50 5 120 11t154 16 175 21 185 25 184 30 169 34 145 37 107 42q17 9 34 20t30 25 22 32 8 39q0 29-14 52t-38 40q-34 26-97 48t-143 42-166 36-170 28-151 22-112 15q-55 7-124 16t-142 20-140 27-120 35l-2 1q48 17 99 27t102 20q105 18 210 30t211 22 211 23 210 32q58 11 117 25t113 38q-23-6-46-6-46 0-87 20t-69 59q-105-20-209-35t-212-24q-43-4-107-10t-138-15-154-20-150-27-129-33-90-41q-22-14-36-36t-15-49q0-32 18-54t44-38q31-18 79-34t105-29 118-24 120-21 110-15 87-12q80-10 181-23t205-31 202-42 172-58l-5-2q-61-28-153-52t-202-44-228-38-231-30-211-23-168-16l-389-35q-25-2-41-21t-17-43q0-27 19-45t45-19zm1344 1248q-81 14-161 24t-161 21q-30 4-81 10t-114 17-128 23-125 31-104 38-65 46l-4 6q-2 3-3 7 0 5 4 12t10 14 11 13 9 9q27 26 71 52t94 49 99 41 85 30l337 104q20 6 33 23t13 39q0 26-19 44t-45 19q-7 0-33-7t-62-18-77-24-79-25-67-21-41-13q-35-11-83-28t-100-41-103-53-93-63-66-74-25-82q0-58 44-102t113-76 155-55 167-36 151-23 107-13q85-10 169-21t170-28q-6 32-5 65t2 66z"})),fi=e.createElement("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M192 64h6l389 35q49 5 119 11t154 16 176 21 186 26 184 29 169 34 144 37 107 42q17 9 34 20t30 25 22 31 8 40q0 29-14 52t-38 40q-34 26-97 48t-143 42-166 36-170 28-151 22-112 15q-55 7-124 16t-142 20-140 27-120 35l-2 1q48 17 99 27t102 20q94 17 189 28t191 20 190 20 191 25l-113 113q-54-7-135-15t-175-17-193-22-188-28-162-38-114-48q-21-14-36-36t-15-49q0-32 18-54t44-38q31-18 79-34t105-29 118-24 120-21 110-15 87-12q80-10 181-23t205-31 202-42 172-58l-5-2q-60-28-152-52t-202-44-228-38-231-30-212-23-168-16l-389-35q-25-2-41-21t-17-43q0-27 19-45t45-19zm1088 1156q2 70 48 123-36 5-98 12t-135 18-152 24-148 32-122 42-76 51l-4 6q-2 3-3 7 0 5 4 12t10 14 11 13 9 9q27 26 71 52t94 49 99 41 85 30l337 104q20 6 33 23t13 39q0 26-19 44t-45 19q-7 0-33-7t-62-18-77-24-79-25-67-21-41-13q-34-10-82-27t-101-41-103-53-92-64-66-73-26-83q0-47 28-84t77-67 111-52 133-39 139-28 134-20 114-14 81-11zm448-324q26 0 45 19l256 256q19 19 19 45t-19 45-45 19q-26 0-45-19l-147-146v714l147-146q19-19 45-19t45 19 19 45q0 26-19 45l-256 256q-19 19-45 19t-45-19l-256-256q-19-19-19-45t19-45 45-19q26 0 45 19l147 146v-714l-147 146q-19 19-45 19t-45-19-19-45q0-26 19-45l256-256q19-19 45-19z"})),hi=e.createElement("svg",{width:"14",height:"15",viewBox:"0 0 14 15",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M0.5 14.3242C0.364583 14.3242 0.247396 14.2747 0.148438 14.1758C0.0494792 14.0768 0 13.9596 0 13.8242C0 13.6888 0.0494792 13.5716 0.148438 13.4727C0.247396 13.3737 0.364583 13.3242 0.5 13.3242H4.24219C4.38281 13.3242 4.51302 13.2982 4.63281 13.2461C4.7526 13.194 4.85677 13.1237 4.94531 13.0352C5.03385 12.9466 5.10677 12.8398 5.16406 12.7148C5.22135 12.5898 5.2474 12.457 5.24219 12.3164C5.24219 12.0768 5.16146 11.8633 5 11.6758L3.24219 9.62891C3.08594 9.44661 2.96615 9.24609 2.88281 9.02734C2.79948 8.80859 2.75781 8.57682 2.75781 8.33203C2.75781 8.1862 2.77344 8.04297 2.80469 7.90234C2.83594 7.76172 2.88281 7.6237 2.94531 7.48828C3.11198 7.12891 3.35677 6.84505 3.67969 6.63672C4.0026 6.42839 4.36198 6.32422 4.75781 6.32422H8.69531C8.83594 6.32422 8.96615 6.29818 9.08594 6.24609C9.20573 6.19401 9.3125 6.1237 9.40625 6.03516C9.5 5.94661 9.57292 5.83984 9.625 5.71484C9.67708 5.58984 9.70312 5.45964 9.70312 5.32422C9.70312 5.17839 9.66927 5.03255 9.60156 4.88672C9.53385 4.74089 9.44792 4.59505 9.34375 4.44922C9.23958 4.30339 9.1276 4.14974 9.00781 3.98828C8.88802 3.82682 8.77604 3.66016 8.67188 3.48828C8.56771 3.31641 8.48177 3.13411 8.41406 2.94141C8.34635 2.7487 8.3099 2.54297 8.30469 2.32422C8.30469 2.04297 8.35677 1.78255 8.46094 1.54297C8.5651 1.30339 8.70573 1.09245 8.88281 0.910156C9.0599 0.727865 9.27083 0.584635 9.51562 0.480469C9.76042 0.376302 10.0234 0.324219 10.3047 0.324219H13C13.1354 0.324219 13.2526 0.373698 13.3516 0.472656C13.4505 0.571615 13.5 0.688802 13.5 0.824219C13.5 0.959635 13.4505 1.07682 13.3516 1.17578C13.2526 1.27474 13.1354 1.32422 13 1.32422H10.3047C10.1693 1.32422 10.0417 1.35026 9.92188 1.40234C9.80208 1.45443 9.69531 1.52474 9.60156 1.61328C9.50781 1.70182 9.4349 1.80859 9.38281 1.93359C9.33073 2.05859 9.30208 2.1888 9.29688 2.32422C9.29688 2.47005 9.33073 2.61589 9.39844 2.76172C9.46615 2.90755 9.55469 3.05599 9.66406 3.20703C9.77344 3.35807 9.88542 3.51172 10 3.66797C10.1146 3.82422 10.2266 3.99089 10.3359 4.16797C10.4453 4.34505 10.5312 4.52734 10.5938 4.71484C10.6562 4.90234 10.6927 5.10547 10.7031 5.32422C10.7031 5.65755 10.6224 5.97266 10.4609 6.26953C10.2839 6.59766 10.0391 6.85547 9.72656 7.04297C9.41406 7.23047 9.07031 7.32422 8.69531 7.32422H4.75781C4.61719 7.32422 4.48698 7.35026 4.36719 7.40234C4.2474 7.45443 4.14323 7.52474 4.05469 7.61328C3.96615 7.70182 3.89323 7.80859 3.83594 7.93359C3.77865 8.05859 3.7526 8.1888 3.75781 8.32422C3.75781 8.56901 3.83854 8.78516 4 8.97266L5.75781 11.0195C5.91406 11.2018 6.03385 11.4023 6.11719 11.6211C6.20052 11.8398 6.24219 12.0716 6.24219 12.3164C6.24219 12.5924 6.1901 12.8529 6.08594 13.0977C5.98177 13.3424 5.84115 13.556 5.66406 13.7383C5.48698 13.9206 5.27604 14.0638 5.03125 14.168C4.78646 14.2721 4.52344 14.3242 4.24219 14.3242H0.5Z"})),mi=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M0 1024q0-142 36-273t103-244 160-207 207-160T751 37t273-37q131 0 256 32t240 96h-496q-124 0-238 32t-214 90-181 140-140 181-91 214-32 239q0 124 32 238t90 214 140 181 181 140 214 91 239 32v-128h677q-141 125-314 190t-363 66q-142 0-273-36t-245-103-207-160-159-207-103-245-37-273zm1024-640V256h677q34 29 64 61t58 67h-799zm0 256V512h887q18 31 33 63t30 65h-950zm0 256V768h992q8 32 14 64t10 64H1024zm0 256v-128h1024q0 32-2 64t-6 64H1024zm0 256v-128h992q-9 32-19 64t-23 64h-950zm0 256v-128h887q-20 34-41 66t-47 62h-799z"})),gi=e.createElement("svg",{viewBox:"0 0 20 16",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M3.99988 12.938V15.059L3.05851 16H0.938512L3.99988 12.938ZM20.0015 10.435V12.557L16.5595 16H15.9935L15.9939 14.443L20.0015 10.435ZM6.74988 10H13.2446C14.1628 10 14.9158 10.7071 14.9888 11.6065L14.9946 11.75V16H13.4946V11.75C13.4946 11.6317 13.4124 11.5325 13.3019 11.5066L13.2446 11.5H6.74988C6.63154 11.5 6.5324 11.5822 6.50648 11.6927L6.49988 11.75V16H4.99988V11.75C4.99988 10.8318 5.70699 10.0788 6.60636 10.0058L6.74988 10ZM6.02118 6.41576C6.08088 6.99451 6.26398 7.53665 6.54372 8.01544L-0.000488281 14.56V12.438L6.02118 6.41576ZM20.0015 5.932V8.055L15.9939 12.065L15.9946 11.75L15.9896 11.5825C15.9623 11.128 15.8246 10.7033 15.6029 10.3348L20.0015 5.932ZM10.0565 0L-0.000488281 10.06V7.939L7.93551 0H10.0565ZM20.0015 1.432V3.555L14.3346 9.22449C14.0672 9.10893 13.7779 9.03459 13.4746 9.00948L13.2446 9L12.6456 9.00052C12.9874 8.69891 13.2772 8.33982 13.4999 7.93837L20.0015 1.432ZM9.99988 3.00046C11.6567 3.00046 12.9999 4.34361 12.9999 6.00046C12.9999 7.65732 11.6567 9.00046 9.99988 9.00046C8.34303 9.00046 6.99988 7.65732 6.99988 6.00046C6.99988 4.34361 8.34303 3.00046 9.99988 3.00046ZM9.99988 4.50046C9.17146 4.50046 8.49988 5.17203 8.49988 6.00046C8.49988 6.82889 9.17146 7.50046 9.99988 7.50046C10.8283 7.50046 11.4999 6.82889 11.4999 6.00046C11.4999 5.17203 10.8283 4.50046 9.99988 4.50046ZM5.55851 0L-0.000488281 5.56V3.438L3.43751 0H5.55851ZM19.0565 0L13.9091 5.14895C13.7923 4.61022 13.5669 4.11194 13.2571 3.67816L16.9345 0H19.0565ZM14.5585 0L12.0148 2.54427C11.5362 2.26463 10.9942 2.08157 10.4157 2.02181L12.4365 0H14.5585Z"})),vi=e.createElement("svg",{viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M5.65874 1.47732L6.00702 0.406519C6.03616 0.323987 6.0902 0.25252 6.16169 0.201967C6.23319 0.151415 6.31861 0.124268 6.4062 0.124268C6.49378 0.124268 6.57921 0.151415 6.6507 0.201967C6.7222 0.25252 6.77624 0.323987 6.80538 0.406519L7.15365 1.47732C7.25979 1.80058 7.43932 2.09492 7.67821 2.33734C7.91709 2.57975 8.20885 2.76367 8.53068 2.87471L9.6023 3.22272C9.68489 3.25184 9.75642 3.30584 9.80701 3.37728C9.8576 3.44872 9.88477 3.53408 9.88477 3.62159C9.88477 3.70911 9.8576 3.79447 9.80701 3.86591C9.75642 3.93735 9.68489 3.99135 9.6023 4.02047L8.53068 4.36848C8.25557 4.46015 8.00175 4.60491 7.78338 4.794C7.74269 4.82923 7.70323 4.866 7.66509 4.90425C7.46453 5.10542 7.30514 5.34299 7.19511 5.60359C7.17193 5.65849 7.15094 5.71441 7.13222 5.77122L6.78394 6.84202C6.75768 6.91642 6.71118 6.98182 6.6499 7.03102C6.6432 7.0364 6.63632 7.04159 6.62927 7.04657C6.55778 7.09713 6.47235 7.12427 6.38477 7.12427C6.29718 7.12427 6.21176 7.09713 6.14026 7.04657C6.06877 6.99602 6.01473 6.92455 5.98559 6.84202L5.63731 5.77122C5.52901 5.44568 5.34622 5.14986 5.10345 4.90728C4.86069 4.6647 4.56464 4.48205 4.23885 4.37383L3.16723 4.02582C3.08464 3.99671 3.01312 3.94271 2.96253 3.87127C2.91193 3.79983 2.88477 3.71446 2.88477 3.62695C2.88477 3.53943 2.91193 3.45407 2.96253 3.38263C3.01312 3.31119 3.08464 3.25719 3.16723 3.22808L3.18867 3.22272L4.26028 2.87471C4.58608 2.76649 4.88212 2.58384 5.12488 2.34126C5.36765 2.09868 5.55044 1.80286 5.65874 1.47732Z"}),e.createElement("path",{d:"M9.82776 2.23224L10.7894 1.27055C10.9847 1.07532 11.3012 1.07532 11.4964 1.27055L15.7385 5.51259C15.9337 5.70782 15.9337 6.02436 15.7385 6.21959L9.37372 12.5844L6.02828 9.23892C5.96666 9.27271 5.90199 9.30138 5.83488 9.32448L5.8273 9.32709L5.09005 9.56709C5.05458 9.57892 5.02052 9.59435 4.9884 9.61306L8.66671 13.2914L6.98009 14.978C6.78485 15.1732 6.46832 15.1732 6.27308 14.978L2.03105 10.736C1.85979 10.5647 1.83876 10.3001 1.96795 10.1059L1.90497 9.91239C1.88561 9.85368 1.85638 9.79872 1.81856 9.74987L1.81706 9.74794C1.80379 9.7307 1.78889 9.7138 1.77351 9.69841C1.71305 9.63783 1.63947 9.59208 1.55852 9.56466L1.20899 9.45088C0.741246 10.0396 0.779598 10.8985 1.32404 11.443L5.56608 15.685C5.87904 15.998 6.2959 16.1437 6.70563 16.1222H13.3851C13.6612 16.1222 13.885 15.8984 13.885 15.6223C13.885 15.3462 13.6612 15.1223 13.3851 15.1223H8.24975L16.4455 6.9266C17.0312 6.34089 17.0312 5.39128 16.4455 4.80558L12.2035 0.563544C11.6178 -0.0221585 10.6681 -0.0221577 10.0824 0.563545L8.78931 1.85667L9.30583 2.02482H9.3405L9.53769 2.09481C9.63932 2.13089 9.73644 2.17703 9.82776 2.23224Z"}),e.createElement("path",{d:"M1.10184 7.83745L1.86728 7.58887C2.09999 7.51157 2.31145 7.3811 2.48485 7.20783C2.65825 7.03456 2.78882 6.82326 2.86618 6.59073L3.11495 5.82588C3.13576 5.76692 3.17436 5.71588 3.22543 5.67977C3.2765 5.64366 3.33751 5.62427 3.40007 5.62427C3.46263 5.62427 3.52365 5.64366 3.57472 5.67977C3.62579 5.71588 3.66439 5.76692 3.6852 5.82588L3.93397 6.59073C4.00978 6.82163 4.13802 7.03188 4.30865 7.20503C4.47928 7.37819 4.68769 7.50956 4.91756 7.58887L5.683 7.83745C5.742 7.85824 5.79309 7.89682 5.82922 7.94784C5.86536 7.99887 5.88477 8.05985 5.88477 8.12236C5.88477 8.18487 5.86536 8.24584 5.82922 8.29687C5.79309 8.3479 5.742 8.38647 5.683 8.40727L4.91756 8.65584C4.68444 8.73353 4.47272 8.86458 4.29928 9.03854C4.12585 9.21251 3.99551 9.42457 3.91866 9.65781L3.66989 10.4227C3.64908 10.4816 3.61048 10.5327 3.55941 10.5688C3.50834 10.6049 3.44733 10.6243 3.38477 10.6243C3.32221 10.6243 3.26119 10.6049 3.21012 10.5688C3.15905 10.5327 3.12045 10.4816 3.09964 10.4227L2.85087 9.65781C2.77351 9.42528 2.64294 9.21398 2.46954 9.04071C2.29614 8.86744 2.08468 8.73697 1.85197 8.65967L1.08653 8.41109C1.02753 8.3903 0.976445 8.35172 0.940309 8.3007C0.904172 8.24967 0.884766 8.18869 0.884766 8.12618C0.884766 8.06367 0.904172 8.0027 0.940309 7.95167C0.976445 7.90064 1.02753 7.86207 1.08653 7.84127L1.10184 7.83745Z"})),yi=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M285 1536q-33 0-61-13t-50-35-34-51-12-62q0-60 39-105l692-809q32-37 74-57t91-20q99 0 165 77l692 809q39 45 39 105 0 33-12 62t-33 51-50 35-62 13H285z"})),bi=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M128 673q0-33 12-62t33-51 50-35 62-13h1478q33 0 61 13t50 35 34 51 12 62q0 60-39 105l-692 809q-32 37-74 57t-91 20q-49 0-91-20t-74-57L167 778q-39-45-39-105z"})),xi=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M10 768q0-51 19-98t56-83l362-362q29-29 65-47V64q0-26 19-45t45-19q21 0 34 8t20 22 9 31 2 35v29q0 14-1 25 48 2 91 21t78 54l272 271q36 36 55 83t20 98q0 51-19 98t-56 84l-362 362q-36 36-83 55t-98 20q-51 0-98-19t-83-56L85 949q-36-36-55-83t-20-98zm241 1024q-50 0-95-20t-80-55-55-80-21-96v-451l128 128v318q0 27 10 50t27 41 40 27 51 10h1536q27 0 50-10t40-27 28-41 10-50V512q0-26-10-49t-27-41-41-28-50-10l-598-1-128-127h731q50 0 95 20t80 55 55 80 21 96v1034q0 50-20 95t-55 80-80 55-96 21H251zm771-1152q-11-32-32-53L719 315q-33-33-79-36v169q0 26-19 45t-45 19q-26 0-45-19t-19-45V341L213 640h809zm-484 527q25 0 48-9t42-28l362-362H138q0 53 38 91l271 271q37 37 91 37zm486 113q0-33 7-65t20-64 29-61 34-57q20-30 41-59t45-57q8-10 21-15t27-6q13 0 26 5t22 16q23 27 44 56t42 60q18 27 34 56t28 61 20 64 8 66q0 48-15 94t-45 82-71 58-93 22q-51 0-92-22t-71-58-45-82-16-94zm320 0q0-28-9-57t-24-57-31-54-32-49q-15 22-32 48t-31 55-23 57-10 57q0 21 6 43t18 41 30 31 42 13q24 0 42-12t30-31 18-41 6-44z"})),_i=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M960 192V64q0-26 19-45t45-19q26 0 45 19t19 45v128q0 26-19 45t-45 19q-26 0-45-19t-19-45zM512 448q0 26-19 45t-45 19q-26 0-45-19L275 365q-19-19-19-45t19-45 45-19q26 0 45 19l128 128q19 19 19 45zm1216-192q26 0 45 19t19 45q0 26-19 45l-128 128q-19 19-45 19t-45-19-19-45q0-26 19-45l128-128q19-19 45-19zm-192 768v10q0 104-41 195t-112 160-163 107-196 40q-106 0-199-40t-163-109-110-163-40-200q0-106 40-199t109-163 163-110 200-40q106 0 199 40t163 109 110 163 40 200zm-512 384h8q78 0 146-31t120-84 80-122 30-147q0-77-29-146t-81-123-119-84-147-31h-8v768zM192 960q26 0 45 19t19 45q0 26-19 45t-45 19H64q-26 0-45-19t-19-45q0-26 19-45t45-19h128zm1792 0q26 0 45 19t19 45q0 26-19 45t-45 19h-128q-26 0-45-19t-19-45q0-26 19-45t45-19h128zM448 1536q26 0 45 19t19 45q0 26-19 45l-128 128q-19 19-45 19t-45-19-19-45q0-26 19-45l128-128q19-19 45-19zm1344 192q0 26-19 45t-45 19q-26 0-45-19l-128-128q-19-19-19-45t19-45 45-19q26 0 45 19l128 128q19 19 19 45zm-704 128v128q0 26-19 45t-45 19q-26 0-45-19t-19-45v-128q0-26 19-45t45-19q26 0 45 19t19 45z"})),Ci=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M319 640q-21 0-32-22t-22-54-23-66-39-61q-27-27-62-40t-66-23-53-20-22-34q0-22 21-33t53-20 67-23 61-41q26-27 39-62t22-66 21-53 34-22q19 0 29 15t17 38 16 52 25 57 41 52 68 38q3 1 19 6t33 11 32 10 16 5q25 10 25 36 0 23-22 34t-53 21-67 23-60 39q-28 28-41 63t-22 67-21 52-34 21zm1537-384q40 0 75 15t61 41 41 61 15 75v1152q0 40-15 75t-41 61-61 41-75 15H192q-40 0-75-15t-61-41-41-61-15-75V483q31 10 63 19t55 32v1q2 2 6 8t4 8v1049q0 26 19 45t45 19h320v-192q0-40 15-75t41-61 61-41 75-15h640q40 0 75 15t61 41 41 61 15 75v192h320q26 0 45-19t19-45V448q0-26-19-45t-45-19H755q13-29 13-64 0-17-3-33t-10-31h1101zm-448 1216q0-26-19-45t-45-19H704q-26 0-45 19t-19 45v192h768v-192zm-64-640q0 66-25 124t-68 102-102 69-125 25q-66 0-124-25t-102-68-69-102-25-125q0-66 25-124t68-102 102-69 125-25q66 0 124 25t102 68 69 102 25 125zm-512 0q0 40 15 75t41 61 61 41 75 15q40 0 75-15t61-41 41-61 15-75q0-40-15-75t-41-61-61-41-75-15q-40 0-75 15t-61 41-41 61-15 75zM623 938q6 3 10 8t5 13q0 14-13 20t-31 13-40 14-37 24q-15 15-23 36t-14 39-14 32-19 14q-12 0-19-13t-13-31-14-40-24-37q-16-16-37-24t-39-14-32-13-13-20q0-12 13-19t32-13 39-14 36-23q13-13 21-34t16-40 14-34 19-14q11 0 16 9t10 23 10 31 14 34 25 31 42 23q2 1 11 4t20 6 20 6 9 3z"})),wi=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048"},e.createElement("path",{d:"M1920 1544q0 75-30 143t-82 120-120 82-144 31H504q-75 0-143-30t-120-82-82-120-31-144v-520q0-27 10-50t27-40 41-28 50-10h256V640H256q-27 0-50-10t-41-27-27-40-10-51V256q0-27 10-50t27-40 41-28 50-10h256q26 0 49 10t41 27 28 41 10 50v256h256V256q0-27 10-50t27-40 41-28 50-10h520q75 0 143 30t120 82 82 120 31 144v1040zM1792 507q0-50-20-95t-55-80-80-55-96-21h-133v256q0 55-38 91-39 37-90 37h-256v256q0 55-38 91-39 37-90 37H640v256q0 55-38 91-39 37-90 37H256v128q0 51 20 97t54 82 79 56 98 21h1034q50 0 95-20t80-55 55-80 21-96V507zM256 256v256h256V256H256zm1024 0h-256v256h256V256zM896 896V640H640v256h256zm-384 128H256v256h256v-256z"})),Si=e.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M6.5 8C6.5 7.86458 6.54948 7.7474 6.64844 7.64844L12.7969 1.5H8C7.86458 1.5 7.7474 1.45052 7.64844 1.35156C7.54948 1.2526 7.5 1.13542 7.5 1C7.5 0.864583 7.54948 0.747396 7.64844 0.648438C7.7474 0.549479 7.86458 0.5 8 0.5H14C14.1354 0.5 14.2526 0.549479 14.3516 0.648438C14.4505 0.747396 14.5 0.864583 14.5 1V7C14.5 7.13542 14.4505 7.2526 14.3516 7.35156C14.2526 7.45052 14.1354 7.5 14 7.5C13.8646 7.5 13.7474 7.45052 13.6484 7.35156C13.5495 7.2526 13.5 7.13542 13.5 7V2.21094L7.35156 8.35156C7.29948 8.39844 7.24479 8.4349 7.1875 8.46094C7.13542 8.48698 7.07292 8.5 7 8.5C6.86458 8.5 6.7474 8.45052 6.64844 8.35156C6.54948 8.2526 6.5 8.13542 6.5 8ZM3.4375 14.5C3.04688 14.5 2.67188 14.4219 2.3125 14.2656C1.95833 14.1042 1.64583 13.8906 1.375 13.625C1.10938 13.3542 0.895833 13.0417 0.734375 12.6875C0.578125 12.3281 0.5 11.9531 0.5 11.5625V4.4375C0.5 4.04688 0.578125 3.67448 0.734375 3.32031C0.895833 2.96094 1.10938 2.64844 1.375 2.38281C1.64583 2.11198 1.95833 1.89844 2.3125 1.74219C2.67188 1.58073 3.04688 1.5 3.4375 1.5H6C6.13542 1.5 6.2526 1.54948 6.35156 1.64844C6.45052 1.7474 6.5 1.86458 6.5 2C6.5 2.13542 6.45052 2.2526 6.35156 2.35156C6.2526 2.45052 6.13542 2.5 6 2.5H3.46094C3.20052 2.5 2.95052 2.55469 2.71094 2.66406C2.47656 2.76823 2.26823 2.91146 2.08594 3.09375C1.90885 3.27083 1.76562 3.47917 1.65625 3.71875C1.55208 3.95312 1.5 4.20052 1.5 4.46094V11.5391C1.5 11.7995 1.55208 12.0495 1.65625 12.2891C1.76562 12.5234 1.90885 12.7318 2.08594 12.9141C2.26823 13.0911 2.47656 13.2344 2.71094 13.3438C2.95052 13.4479 3.20052 13.5 3.46094 13.5H10.5391C10.8099 13.5 11.0625 13.4453 11.2969 13.3359C11.5365 13.2266 11.7448 13.0807 11.9219 12.8984C12.099 12.7161 12.2396 12.5052 12.3438 12.2656C12.4479 12.0208 12.5 11.7656 12.5 11.5V9C12.5 8.86458 12.5495 8.7474 12.6484 8.64844C12.7474 8.54948 12.8646 8.5 13 8.5C13.1354 8.5 13.2526 8.54948 13.3516 8.64844C13.4505 8.7474 13.5 8.86458 13.5 9V11.5625C13.5 11.9531 13.4193 12.3281 13.2578 12.6875C13.1016 13.0417 12.888 13.3542 12.6172 13.625C12.3516 13.8906 12.0391 14.1042 11.6797 14.2656C11.3255 14.4219 10.9531 14.5 10.5625 14.5H3.4375Z"})),ki=e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("rect",{x:"0.5",y:"0.5",width:"15",height:"15",rx:"7.5"}),e.createElement("path",{d:"M6.99805 8V3.99805C6.99805 3.86133 7.02344 3.73242 7.07422 3.61133C7.12891 3.49023 7.20117 3.38477 7.29102 3.29492C7.38477 3.20508 7.49219 3.13477 7.61328 3.08398C7.73438 3.0293 7.86328 3.00195 8 3.00195C8.13672 3.00195 8.26562 3.0293 8.38672 3.08398C8.50781 3.13477 8.61328 3.20508 8.70312 3.29492C8.79688 3.38477 8.86914 3.49023 8.91992 3.61133C8.97461 3.73242 9.00195 3.86133 9.00195 3.99805V8C9.00195 8.13672 8.97461 8.26562 8.91992 8.38672C8.86914 8.50781 8.79688 8.61523 8.70312 8.70898C8.61328 8.79883 8.50781 8.87109 8.38672 8.92578C8.26562 8.97656 8.13672 9.00195 8 9.00195C7.86328 9.00195 7.73438 8.97656 7.61328 8.92578C7.49219 8.87109 7.38477 8.79883 7.29102 8.70898C7.20117 8.61523 7.12891 8.50781 7.07422 8.38672C7.02344 8.26562 6.99805 8.13672 6.99805 8ZM6.75195 12.002C6.75195 11.8301 6.78516 11.668 6.85156 11.5156C6.91797 11.3633 7.00781 11.2305 7.12109 11.1172C7.23438 11.0039 7.36523 10.9141 7.51367 10.8477C7.66602 10.7812 7.82812 10.748 8 10.748C8.17188 10.748 8.33203 10.7812 8.48047 10.8477C8.63281 10.9141 8.76562 11.0039 8.87891 11.1172C8.99219 11.2305 9.08203 11.3633 9.14844 11.5156C9.21484 11.668 9.24805 11.8301 9.24805 12.002C9.24805 12.1738 9.21484 12.3359 9.14844 12.4883C9.08203 12.6367 8.99219 12.7676 8.87891 12.8809C8.76562 12.9941 8.63281 13.084 8.48047 13.1504C8.32812 13.2168 8.16797 13.25 8 13.25C7.82812 13.25 7.66602 13.2168 7.51367 13.1504C7.36523 13.084 7.23438 12.9941 7.12109 12.8809C7.00781 12.7676 6.91797 12.6367 6.85156 12.4883C6.78516 12.3359 6.75195 12.1738 6.75195 12.002Z"})),Ti=e.createElement("svg",{width:"16",height:"14",viewBox:"0 0 16 14",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M8 0.5V3.5H7V0.5H8ZM3 7.5V8.5H0V7.5H3ZM4.67188 4.46094L3.96094 5.17188L1.84375 3.04688L2.54688 2.34375L4.67188 4.46094ZM13.1562 3.04688L11.0391 5.17188L10.3281 4.46094L12.4531 2.34375L13.1562 3.04688ZM16 11C16 11.1354 15.9505 11.2526 15.8516 11.3516C15.7526 11.4505 15.6354 11.5 15.5 11.5H3.5C3.36458 11.5 3.2474 11.4505 3.14844 11.3516C3.04948 11.2526 3 11.1354 3 11C3 10.8646 3.04948 10.7474 3.14844 10.6484C3.2474 10.5495 3.36458 10.5 3.5 10.5H5.05469L5.02344 10.4766C4.85677 10.3203 4.71094 10.1458 4.58594 9.95312C4.46094 9.76042 4.35417 9.55729 4.26562 9.34375C4.17708 9.13021 4.10938 8.91146 4.0625 8.6875C4.02083 8.45833 4 8.22917 4 8C4 7.51562 4.09115 7.0625 4.27344 6.64062C4.45573 6.21354 4.70573 5.84115 5.02344 5.52344C5.34115 5.20573 5.71094 4.95573 6.13281 4.77344C6.5599 4.59115 7.01562 4.5 7.5 4.5C7.98438 4.5 8.4375 4.59115 8.85938 4.77344C9.28646 4.95573 9.65885 5.20573 9.97656 5.52344C10.2943 5.84115 10.5443 6.21354 10.7266 6.64062C10.9089 7.0625 11 7.51562 11 8C11 8.08333 10.9948 8.16667 10.9844 8.25C10.9792 8.33333 10.9714 8.41667 10.9609 8.5H13.5C13.6354 8.5 13.7526 8.54948 13.8516 8.64844C13.9505 8.7474 14 8.86458 14 9C14 9.13542 13.9505 9.2526 13.8516 9.35156C13.7526 9.45052 13.6354 9.5 13.5 9.5H6.5C6.36458 9.5 6.2474 9.45052 6.14844 9.35156C6.04948 9.2526 6 9.13542 6 9C6 8.86458 6.04948 8.7474 6.14844 8.64844C6.2474 8.54948 6.36458 8.5 6.5 8.5H9.95312C9.98438 8.33854 10 8.17188 10 8C10 7.65625 9.93229 7.33333 9.79688 7.03125C9.66667 6.72917 9.48698 6.46615 9.25781 6.24219C9.03385 6.01302 8.77083 5.83333 8.46875 5.70312C8.16667 5.56771 7.84375 5.5 7.5 5.5C7.15625 5.5 6.83073 5.56771 6.52344 5.70312C6.22135 5.83333 5.95573 6.01302 5.72656 6.24219C5.5026 6.46615 5.32552 6.72917 5.19531 7.03125C5.0651 7.33333 5 7.65625 5 8C5 8.34375 5.0651 8.66927 5.19531 8.97656C5.32552 9.27865 5.5026 9.54427 5.72656 9.77344C5.95573 9.9974 6.22135 10.1745 6.52344 10.3047C6.83073 10.4349 7.15625 10.5 7.5 10.5H15.5C15.6354 10.5 15.7526 10.5495 15.8516 10.6484C15.9505 10.7474 16 10.8646 16 11ZM12.5 12.5C12.6354 12.5 12.7526 12.5495 12.8516 12.6484C12.9505 12.7474 13 12.8646 13 13C13 13.1354 12.9505 13.2526 12.8516 13.3516C12.7526 13.4505 12.6354 13.5 12.5 13.5H5.5C5.36458 13.5 5.2474 13.4505 5.14844 13.3516C5.04948 13.2526 5 13.1354 5 13C5 12.8646 5.04948 12.7474 5.14844 12.6484C5.2474 12.5495 5.36458 12.5 5.5 12.5H12.5Z"})),Ei=n(26672),Pi=!1;function Ii(){var e;Pi||((0,r.K1)({icons:(e={},e[Ei.Hs]=To,e[Ei.hB]=Eo,e[Ei.Ip]=Po,e[Ei.K$]=Io,e[Ei.pf]=Ao,e[Ei.TU]=Ro,e[Ei.Pj]=Lo,e[Ei.H0]=Mo,e[Ei.fs]=Bo,e[Ei.bI]=Oo,e[Ei.Te]=Fo,e[Ei.Jc]=Do,e[Ei.K_]=Uo,e[Ei.Z2]=zo,e[Ei.tK]=No,e["Brightness-Havana"]=jo,e["Highlights-Havana"]=Wo,e["Exposure-Havana"]=Ho,e["Contrast-Havana"]=qo,e["Saturation-Havana"]=Vo,e["Shadows-Havana"]=Zo,e["Tint-Havana"]=Ko,e["Vignette-Havana"]=Go,e["Temperature-Havana"]=Xo,e["FlipHorizontal-Havana"]=Yo,e["FlipVertical-Havana"]=Qo,e["ImageFilter-Havana"]=Jo,e["FitPageRoundedEdge-Havana"]=ei,e["ActualSizeRoundedEdge-Havana"]=$o,e["ActiveFilterCheckmark-Havana"]=ti,e["ActiveBackgroundCheckmark-Havana"]=ni,e["Back-Havana"]=ri,e["Forward-Havana"]=oi,e["ArrowMaximize-Havana"]=ii,e["SmallArrowMaximize-Havana"]=ai,e["SmallSingleArrow-Havana"]=si,e["freehandNoArrowIcon-Havana"]=di,e["freehandSingleArrowIcon-Havana"]=pi,e["freehandDoubleArrowIcon-Havana"]=fi,e["lineStyleIcon-Havana"]=hi,e["UndoIcon-Havana"]=li,e["RedoIcon-Havana"]=ui,e["RetouchIcon-Havana"]=ci,e["BlurIcon-Havana"]=mi,e["VideoBackgroundIcon-Havana"]=gi,e["SparklyEraseIcon-Havana"]=vi,e["CaretSolidUpIcon-Havana"]=yi,e["CaretSolidDownIcon-Havana"]=bi,e["ColorIcon-Havana"]=xi,e["LightIcon-Havana"]=_i,e["VideoPersonSparkle-Havana"]=Ci,e["ResolutionIcon-Havana"]=wi,e["DownloadModel-Havana"]=Si,e["ImportantBadgeIcon-Havana"]=ki,e["SoftnessIcon-Havana"]=Ti,e)}),Pi=!0)}var Ai=[un.x8,un.km,un.Zc,un.X4,un.VO,un.NF,un.jp,un.ts,un.VQ,un.io,un.Nr];var Ri=n(83458),Li=n(19376);var Mi=n(48678);function Bi(t,n,r){var o=(0,e.useContext)(ke.x).strings;return(0,Mi.NI)(t/n,r)?(0,Li.J)(o.editor_imageDimensionWithAspectRatioAriaLive,t.toString(),n.toString(),r.x.toString(),r.y.toString()):(0,Li.J)(o.editor_imageDimensionAriaLive,t.toString(),n.toString())}var Oi={position:"absolute",top:-1,width:1,height:1,margin:-1,padding:0,border:0,overflow:"hidden"},Fi=e.memo((function(t){var n=t.message;return e.createElement(e.Fragment,null,e.createElement("div",{role:"status","aria-live":"assertive","aria-atomic":"true",style:Oi},n))}));var Di=e.memo((function(t){var n=t.cropWidth,r=t.cropHeight,o=t.aspectRatio,i=t.cropTopLeftCornerFromImageOrigin,a=t.panViewTopLeftCornerFromCropOrigin,s=t.currentZoom,l=t.ariaAnnouncementScenario,u=t.ariaAnnouncementMessage,c=t.setAriaAnnouncement,d=t.setAriaAnnouncementScenario;return function(t,n,r,o,i,a){var s=Bi(r,o,i);(0,e.useEffect)((function(){"CropImageDimension"===(null===a||void 0===a?void 0:a.type)&&(a.cropDimension.width===r&&a.cropDimension.height===o||t(s),n(void 0))}),[s,r,o,i,t,n,a])}(c,d,n,r,o,l),function(t,n,r,o){var i=(0,e.useContext)(ke.x).strings;(0,e.useEffect)((function(){if("CropImageMove"===(null===o||void 0===o?void 0:o.type)){var e=(0,Un.zN)(r,o.cropTopLeftCornerFromImageOrigin),a=r.x.toString(),s=r.y.toString();t(e?(0,Li.J)(i.crop_rectangleCannotMoveInCurrentDirectionAriaLive,a,s):(0,Li.J)(i.crop_rectanglePositionAriaLive,a,s)),n(void 0)}}),[o,r,t,n,i])}(c,d,i,l),function(t,n,r,o){var i=(0,e.useContext)(ke.x).strings;(0,e.useEffect)((function(){if("Zoom"===(null===o||void 0===o?void 0:o.type)){var e=Math.round(100*o.zoom),a=Math.round(100*r);if(e!==a){var s=(0,Li.J)(i.editor_zoomPercentAriaLive,a.toString());t(s)}n(void 0)}}),[o,r,i,t,n])}(c,d,s,l),function(t,n,r,o){var i=(0,e.useContext)(ke.x).strings;(0,e.useEffect)((function(){if("PanView"===(null===o||void 0===o?void 0:o.type)){var e=r.x.toString(),a=r.y.toString();t((0,Li.J)(i.nonCrop_panViewPositionAriaLive,e,a)),n(void 0)}}),[o,r,t,n,i])}(c,d,a,l),e.createElement(Fi,{message:u})})),Ni=(0,kn.Mz)([$n.ln,$n.NX],(function(e,t){var n=(0,Hn.SM)(t),r={x:n.left,y:n.top},o=(0,Vn.bM)(e),i=(0,Un.Bp)(o,r);return(0,Un.hi)(i)})),Ui=n(64591),zi=n(79268),ji=n(6494),Vi=(0,kn.Mz)([$n.ln,$n.Tu],(function(e,t){var n=(0,Mi.$1)(e);return(0,Mi.mK)(n,t)})),Wi=(0,kn.Mz)([$n.KD,Vi],(function(e,t){return(0,ji.wM)(e)?e.ratio:t})),Hi={setAriaAnnouncement:Je.f9,setAriaAnnouncementScenario:Je.Dc},qi=(0,ge.Ng)((function(e){var t=e.ariaAnnouncement,n=t.ariaAnnouncementScenario,r=t.ariaAnnouncementMessage,o=(0,zi.M)(e);return{cropWidth:(0,Ri.Ho)(e),cropHeight:(0,Ri.G1)(e),aspectRatio:Wi(e),cropTopLeftCornerFromImageOrigin:Ni(e),currentZoom:(0,Ui.j)(e),ariaAnnouncementScenario:n,ariaAnnouncementMessage:r,panViewTopLeftCornerFromCropOrigin:o}}),Hi)(Di),Ki=function(t){var n=t.enableAdjustments,r=t.enableSharpness,o=t.enableFilters,i=t.enableAutoEnhance,a=t.enableMarkup,s=t.enabledRetouchModes,l=t.experimental_enableInPaintingDevUi,u=t.enableUndoRedo,c=t.children,d=t.enableMarkupText,p=t.enableBackground,f=t.enableAIRelight,h=t.enableAIRelightDevUI,m=t.disableWebGL2Support,g=t.enableStylizer,v=t.experimental_enableStylizerDevUi,y=t.enableResize;return e.createElement(Wr.u.Provider,{value:{enableAdjustments:!!n,enableSharpness:!!r,enableFilters:!!o,enableAutoEnhance:!!i,enableMarkup:!!a,enabledRetouchModes:null!==s&&void 0!==s?s:[],experimental_enableInPaintingDevUi:!!l,enableUndoRedo:!!u,enableMarkupText:!!d,enableBackground:!!p,enableAIRelight:!!f,enableAIRelightDevUI:!!h,disableWebGL2Support:!!m,enableStylizer:!!g,experimental_enableStylizerDevUi:!!v,enableResize:!!y}},c)};function Gi(){return n.e(22).then(n.bind(n,46890))}var Zi=n(42610),Xi=(0,ge.Ng)((function(e){return{activeEditorActivity:e.uiState.activeEditorActivity,activeEditorActivityInputType:e.uiState.activeEditorActivityInputType}}))((function(t){var n=t.activeEditorActivity,r=t.activeEditorActivityInputType,o=(0,e.useRef)(n),i=(0,e.useContext)(ve.b).logEditorActivityEvent,a=(0,e.useContext)(Wr.u).enabledRetouchModes;return(0,e.useLayoutEffect)((function(){var e,t=window.requestAnimationFrame((function(){e=setTimeout((function(){var e=(0,Zi.g2)(n);e&&i({editorActivityName:n,previousEditorActivityName:o.current,loadTimeInMs:e,inputType:r}),o.current=n}))}));return function(){clearTimeout(e),window.cancelAnimationFrame(t)}}),[n,r,i,a]),e.createElement(e.Fragment,null)})),Yi=n(56537),Qi=n(55018);function Ji(e){var t=new Set;return e.forEach((function(e){var n;return t.add(null!==(n=e.groupId)&&void 0!==n?n:e.sequence)})),t.size}function $i(e){return Ji(e.redoStack.concat(e.undoStack))}function ea(e,t){var n=(0,Qi.e)(e).sort((function(e,t){return e.sequence-t.sequence})),r=n[n.length-1-(null!==t&&void 0!==t?t:0)];return{sequence:null===r||void 0===r?void 0:r.sequence,id:null===r||void 0===r?void 0:r.id,sequentialDuplicateAction:null===r||void 0===r?void 0:r.sequentialDuplicateAction,groupId:null===r||void 0===r?void 0:r.groupId}}function ta(e){var t=ea(e),n=t.groupId;return void 0!==n?function(e,t){return(0,Qi.e)(e).filter((function(e){return e.groupId===t}))}(e,n):[t]}var na=n(38275),ra=n(55873),oa=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},ia=function(){function e(e,t,n){this.stackOverrideDisableUndo=!1,this.stackOverrideDisableRedo=!1,this.maxStackSize=e,this.undoRedoStacks=[],this.undoRedoDispatcher=t,this.onChange=new ra.J,this.onUndo=new ra.J,this.onRedo=new ra.J,this.logUndoRedoEvent=n,this.stackOverrideDisableUndoSet=new Set,this.stackOverrideDisableRedoSet=new Set}return e.prototype.undoItem=function(e){var t;this.undoRedoDispatcher.undo({timestamp:e.sequence,id:e.id}),this.onUndo.notifyListeners(e.id),null===(t=this.logUndoRedoEvent)||void 0===t||t.call(this,{undoRedoItemId:e.id,actionType:"Undo",currentStackSize:this.totalStackSize(),telemetryId:e.telemetryId})},e.prototype.undo=function(){var e=this;this.canUndo()&&ta(this.undoRedoStacks.map((function(e){return e.undoStack}))).sort((function(e,t){return t.sequence-e.sequence})).forEach((function(t){e.undoItem(t)}))},e.prototype.canUndo=function(){return!this.stackOverrideDisableUndo&&this.hasUndoItems()},e.prototype.hasUndoItems=function(){return this.undoRedoStacks.some((function(e){return e.undoStack.length>0}))},e.prototype.setDisableUndoOverride=function(e){var t=e.disabled,n=e.id;t?this.stackOverrideDisableUndoSet.add(n):this.stackOverrideDisableUndoSet.delete(n),this.stackOverrideDisableUndo=this.stackOverrideDisableUndoSet.size>0,this.onChange.notifyListeners()},e.prototype.setDisableRedoOverride=function(e){var t=e.disabled,n=e.id;t?this.stackOverrideDisableRedoSet.add(n):this.stackOverrideDisableRedoSet.delete(n),this.stackOverrideDisableRedo=this.stackOverrideDisableRedoSet.size>0,this.onChange.notifyListeners()},e.prototype.redoItem=function(e){var t;this.undoRedoDispatcher.redo({timestamp:e.sequence,id:e.id}),this.onRedo.notifyListeners(e.id),null===(t=this.logUndoRedoEvent)||void 0===t||t.call(this,{undoRedoItemId:e.id,actionType:"Redo",currentStackSize:this.totalStackSize(),telemetryId:e.telemetryId})},e.prototype.redo=function(){var e=this;this.canRedo()&&ta(this.undoRedoStacks.map((function(e){return e.redoStack}))).sort((function(e,t){return t.sequence-e.sequence})).forEach((function(t){e.redoItem(t)}))},e.prototype.canRedo=function(){return!this.stackOverrideDisableRedo&&this.hasRedoItems()},e.prototype.hasRedoItems=function(){return this.undoRedoStacks.some((function(e){return e.redoStack.length>0}))},e.prototype.registerOrNotifyStackChanged=function(e){var t=this.getStackIndex(e.id);if(t>=0){var n=$i(this.undoRedoStacks[t])<$i(e);this.undoRedoStacks[t]=e,n&&this.undoRedoDispatcher.clearRedoStacks()}else this.undoRedoStacks.push(e);this.onChange.notifyListeners();var r=this.undoRedoStacks.map((function(e){return e.undoStack})),o=ea(r),i=ea(r,1),a=this.getDuplicateSequenceRange(o,i);a&&this.undoRedoDispatcher.collapseStackItems(a);var s=oa([],this.verifyMaxSizeAndGetCleanupSequence(),!0);this.undoRedoDispatcher.removeStackItems(s),function(e){for(var t=e.length-1;t>0;t--)if(e[t].sequence<e[t-1].sequence)throw new Error("The undo redo stack contains sequences that are out of order")}(e.undoStack)},e.prototype.getStackIndex=function(e){return this.undoRedoStacks.findIndex((function(t){return t.id===e}))},e.prototype.totalStackSize=function(){return Ji((0,Qi.e)(this.undoRedoStacks.map((function(e){return e.undoStack.concat(e.redoStack)}))))},e.prototype.verifyMaxSizeAndGetCleanupSequence=function(){var e=[];if(this.totalStackSize()>=this.maxStackSize){for(var t=(0,na.$1)(this.undoRedoStacks[0].undoStack),n=0;n<=this.undoRedoStacks.length-2;n++){var r=(0,na.$1)(this.undoRedoStacks[n].undoStack),o=(0,na.$1)(this.undoRedoStacks[n+1].undoStack);t=r&&o?r.sequence<o.sequence?r:o:null!==r&&void 0!==r?r:o}t&&e.push(t.sequence)}return e},e.prototype.getDuplicateSequenceRange=function(e,t){if(e.sequence&&t.sequence&&e.id===t.id&&e.sequentialDuplicateAction===t.sequentialDuplicateAction)switch(e.sequentialDuplicateAction){case lt.Z.KeepLast:return{start:t.sequence,end:e.sequence};case lt.Z.KeepAll:}},e}(),aa=n(22039),sa={undo:Yi.tN,redo:Yi.ZS,clearRedoStacks:Yi.r,removeStackItems:Yi.Z0,collapseStackItems:Yi.WL},la=(0,ge.Ng)(null,sa)((function(t){var n=t.undo,r=t.redo,o=t.clearRedoStacks,i=t.removeStackItems,a=t.collapseStackItems,s=t.children,l=(0,e.useContext)(ve.b).logUndoRedoEvent,u=(0,e.useMemo)((function(){return new ia(100,{undo:n,redo:r,clearRedoStacks:o,removeStackItems:i,collapseStackItems:a},l)}),[o,a,l,r,i,n]);return e.createElement(aa.t.Provider,{value:{combinedUndoRedoCoordinator:u}},s)})),ua=function(t){var n=t.undoRedoStack,r=t.disableUndoRedoOverride,o=(0,e.useContext)(aa.t).combinedUndoRedoCoordinator;return(0,e.useEffect)((function(){null===o||void 0===o||o.registerOrNotifyStackChanged(n),r&&(null===o||void 0===o||o.setDisableUndoOverride(r),null===o||void 0===o||o.setDisableRedoOverride(r))}),[n,o,r]),null},ca=(0,kn.Mz)([function(e){return e.colorAdjustments.disableUndoRedoOverride}],(function(e){return{disabled:!!e,id:un.km}})),da=(0,ge.Ng)((function(e){return{undoRedoStack:e.colorAdjustments.undoRedoStack,disableUndoRedoOverride:ca(e)}}))(ua),pa=(0,ge.Ng)((function(e){return{undoRedoStack:e.filters.undoRedoStack}}))(ua),fa=(0,ge.Ng)((function(e){return{undoRedoStack:e.autoEnhance.undoRedoStack}}))(ua),ha=n(12856),ma=(0,kn.Mz)([ha.su],(function(e){return{disabled:e,id:un.X4}})),ga=(0,ge.Ng)((function(e){return{undoRedoStack:e.markup.undoRedoStack,disableUndoRedoOverride:ma(e)}}))(ua),va=(0,ge.Ng)((function(e){return{undoRedoStack:e.transformTools.undoRedoStack}}))(ua),ya=(0,ge.Ng)((function(e){return{undoRedoStack:e.relight.undoRedoStack}}))(ua);function ba(e,t,n){t.forEach((function(t){t.ctrlKey!==e.ctrlKey||t.shiftKey!==e.shiftKey||t.code!==e.code&&t.keyCode!==e.keyCode||t.handler(n,e)}))}var xa=function(t,n,r){(0,e.useEffect)((function(){if(t){var e=function(e){e instanceof KeyboardEvent&&ba(e,n,!0)},o=function(e){e instanceof KeyboardEvent&&ba(e,n,!1)};return t.addEventListener("keydown",e,r),t.addEventListener("keyup",o,r),function(){t.removeEventListener("keydown",e,r),t.removeEventListener("keyup",o,r)}}}),[t,n,r])},_a=n(13950);var Ca=function(t){var n=t.htmlElementForKeyboardControl,r=(0,e.useContext)(Wr.u).enableUndoRedo;return function(e,t,n){var r=[{code:"KeyZ",keyCode:_a.rC.Z,handler:function(t){t&&(null===e||void 0===e||e.undo())},ctrlKey:!0,shiftKey:!1},{code:"KeyY",keyCode:_a.rC.Y,handler:function(t){t&&(null===e||void 0===e||e.redo())},ctrlKey:!0,shiftKey:!1}];xa(t,n?r:[])}((0,e.useContext)(aa.t).combinedUndoRedoCoordinator,n,r),null},wa=(0,ge.Ng)((function(e){return{undoRedoStack:e.texturePatch.undoRedoStack}}))(ua),Sa=n(68415),ka=n(97495),Ta=n(76131),Ea=n(2989),Pa=n(4749),Ia=n(4203),Aa=n(27148);function Ra(e,t,n){var r={};return e.forEach((function(e){var o;Object.assign(r,((o={})[t[e.key]]=(0,Li.J)(n,"{0}",e.locString),o))})),r}var La=function(){return La=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},La.apply(this,arguments)},Ma=function(e){var t;return La(La(La({},function(e){return Ra([{key:Oe.F.Brightness,locString:e.adjustment_brightness},{key:Oe.F.Contrast,locString:e.adjustment_contrast},{key:Oe.F.Exposure,locString:e.adjustment_exposure},{key:Oe.F.Highlights,locString:e.adjustment_highlights},{key:Oe.F.Saturation,locString:e.adjustment_saturation},{key:Oe.F.Shadows,locString:e.adjustment_shadows},{key:Oe.F.Temperature,locString:e.adjustment_temperature},{key:Oe.F.Tint,locString:e.adjustment_tint},{key:Oe.F.Vignette,locString:e.adjustment_vignette}],Aa.w,e.undoRedo_colorAdjustmentsAriaLive)}(e)),function(e){var t=[{key:"Original",locString:e.filter_nameOriginal},{key:"Punch",locString:e.filter_namePunch},{key:"Golden",locString:e.filter_nameGolden},{key:"Radiate",locString:e.filter_nameRadiate},{key:"Warm Contrast",locString:e.filter_nameWarmContrast},{key:"Calm",locString:e.filter_nameCalm},{key:"Cool Light",locString:e.filter_nameCoolLight},{key:"Vivid Cool",locString:e.filter_nameVividCool},{key:"Dramatic Cool",locString:e.filter_nameDramaticCool},{key:"BW",locString:e.filter_nameBw},{key:"BW Cool",locString:e.filter_nameBwCool},{key:"BW Warm",locString:e.filter_nameBwWarm},{key:"BW High Contrast",locString:e.filter_nameBwHighContrast},{key:"Burn",locString:e.filter_nameBurn},{key:"Film",locString:e.filter_nameFilm},{key:"Vintage",locString:e.filter_nameVintage}],n={customFilter:(0,Li.J)(e.undoRedo_filterAriaLive,"{0}","")};return Object.assign(n,Ra(t,ct,e.undoRedo_filterAriaLive)),n}(e)),((t={})[St]=e.undoRedo_autoEnhanceAriaLive,t[Ta.I.inkContent]=e.undoRedo_markupInkContentAriaLive,t[Ta.I.textContent]=e.undoRedo_markupInkContentAriaLive,t[Ta.I.eraseContent]=e.undoRedo_markupEraseContentAriaLive,t[Ta.I.clearAllMarkupContent]=e.undoRedo_markupClearAllMarkupContentAriaLive,t[Pa.p.zoomToCrop]=e.undoRedo_transformCropAriaLive,t[Pa.p.pinchToCrop]=e.undoRedo_transformCropAriaLive,t[Pa.p.cropWithCropHandles]=e.undoRedo_transformCropAriaLive,t[Pa.p.mirrorImageX]=e.undoRedo_transformMirrorImageAriaLive,t[Pa.p.mirrorImageY]=e.undoRedo_transformMirrorImageAriaLive,t[Pa.p.rotateCropBy90]=e.undoRedo_transformRotationAriaLive,t[Pa.p.rotateWithRotationBar]=e.undoRedo_transformRotationAriaLive,t[Pa.p.setAspectRatio]=e.undoRedo_transformAspectRatioAriaLive,t[Ea.B.spotFix]=e.undoRedo_spotFixAriaLive,t[Ea.B.blur]=e.undoRedo_blurAriaLive,t[Ea.B.maskBrush]=e.undoRedo_maskBrushAriaLive,t[ka.h]=e.undoRedo_imageBackgroundAriaLive,t[Sa.L]=e.undoRedo_focalPointAriaLive,t[sn]=e.undoRedo_previewSuperResolutionAriaLive,t[$t]=e.undoRedo_appliedSuperResolutionAriaLive,t[Ia.h]=void 0,t))},Ba=n(64267),Oa=n.n(Ba),Fa={setAriaAnnouncement:Je.f9},Da=(0,ge.Ng)(null,Fa)((function(t){var n=t.setAriaAnnouncement,r=(0,e.useContext)(aa.t).combinedUndoRedoCoordinator,o=(0,e.useContext)(ke.x).strings,i=(0,e.useMemo)((function(){return Ma(o)}),[o]),a=(0,e.useCallback)((function(e,t){var r=i[e];r&&n((0,Li.J)(r,"Undo"===t?o.toolbar_undo:o.toolbar_redo))}),[o.toolbar_redo,o.toolbar_undo,n,i]);return(0,e.useEffect)((function(){var e=Oa()((function(e){return a(e,"Undo")}),500,{leading:!0,trailing:!1}),t=Oa()((function(e){return a(e,"Redo")}),500);return null===r||void 0===r||r.onUndo.addListener(e),null===r||void 0===r||r.onRedo.addListener(t),function(){null===r||void 0===r||r.onUndo.removeListener(e),null===r||void 0===r||r.onRedo.removeListener(t)}}),[r,a]),null})),Na=n(75656),Ua=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},za=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function ja(e,t){return Ua(this,void 0,void 0,(function(){var n=this;return za(this,(function(r){return[2,Promise.all(t.map((function(t){return Ua(n,void 0,void 0,(function(){var n;return za(this,(function(r){switch(r.label){case 0:return[4,e.get(t.idValue)];case 1:if(!(n=r.sent().payload))throw new Error("Could not find texture patch in cache.");return[2,{id:n.id,parts:n.parts.map((function(e){return e.serialize()})),imageId:n.imageId}]}}))}))})))]}))}))}var Va=function(){return Va=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Va.apply(this,arguments)},Wa=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Ha=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},qa=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function Ka(e,t,n,r,o,i,a,s,l,u,c,d){return Wa(this,void 0,void 0,(function(){var p,f,h;return Ha(this,(function(m){switch(m.label){case 0:return p=void 0,d?(f=qa(qa([],i.texturePatchInfos,!0),i.removedTexturePatchInfos,!0),[4,ja(d,f)]):[3,2];case 1:p=m.sent(),m.label=2;case 2:return h=Jn(e,t,n,r,o,i,a,s,l,u,c),[2,Va(Va({},h),{texturePatch:Va(Va({},h.texturePatch),{texturePatches:p})})]}}))}))}var Ga=n(34354);function Za(e,t){return void 0===t&&(t=Ga.Lf),Nn(e.adjustments,e.filters,e.autoEnhance,e.markup,e.texturePatch,e.imageBackground,e.relight,e.imageWasReplaced,e.resize)?void 0:function(e,t,n,r){if(void 0===r&&(r=Ga.Lf),e&&t&&n){var o=(0,Wn.D)(e),i=(0,Hn.Vq)(t),a=(0,Hn.Vq)((0,Hn.SM)(o));if(!(0,Vn.ft)(a,i,10))return;var s=(0,Hn.tX)(o);if(Math.abs(n.x-s.x)>.1||Math.abs(n.y-s.y)>.1)return;var l=(0,Ga.kY)(e);if(!l)return;return(0,Ga.Io)(r,l)}}(e.transforms.imageTransform,e.transforms.cropRectangle,e.transforms.originalImageSize,t)}function Xa(t){var n=(0,e.useContext)(io),r=n.clearImageCacheExceptId,o=n.clearImageCache;return(0,e.useCallback)((function(e,n,i){var a=null===e||void 0===e?void 0:e.imageIdInCache;t({shouldAnimate:n,fullImageSize:null===e||void 0===e?void 0:e.fullImageSize,editorActivity:i}),a?r(a):o()}),[o,r,t])}var Ya=function(){return Ya=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ya.apply(this,arguments)},Qa=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Ja=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},$a={getEdits:function(){return Qa(void 0,void 0,void 0,(function(){return Ja(this,(function(e){throw new Error("not implemented")}))}))},resetEdits:function(){throw new Error("not implemented")},setEdits:function(){throw new Error("not implemented")},hasEdits:function(){throw new Error("not implemented")},hasFocalPointEditsOnly:function(){throw new Error("not implemented")},getEditsAsExifOrientation:function(){throw new Error("not implemented")}};var es={resetEdits:et.zj,setEdits:et.y2,replaceImage:et.sP},ts=(0,ge.Ng)((function(e){var t=e.colorAdjustments,n=e.filters,r=e.autoEnhance,o=e.markup,i={imageMatrix:(0,Na.T)(e),cropMatrix:e.transformTools.cropInteraction.uvToWorld,originalImageSize:e.transformTools.image.originalPixelSize,aspectRatio:e.transformTools.cropInteraction.aspectRatio,shouldInvertOriginalAspectRatio:e.transformTools.cropInteraction.shouldInvertOriginalAspectRatio,undoRedoStack:e.transformTools.undoRedoStack},a=e.texturePatch,s=e.imageBackground,l=e.relight,u=e.focalPoint,c=e.imageWasReplaced,d=e.resize,p=e.uiState.activeEditorActivity;return{transformOperationProps:i,colorAdjustmentProps:t,filterProps:n,autoEnhanceProps:r,markupProps:o,texturePatchProps:a,aspectRatiosList:e.transformTools.cropInteraction.aspectRatiosList,imageBackgroundProps:s,relightProps:l,focalPointProps:u,imageWasReplacedProps:c,resizeProps:d,editorActivity:p}}),es)((function(t){var n=this,r=t.transformOperationProps,o=t.colorAdjustmentProps,i=t.filterProps,a=t.autoEnhanceProps,s=t.markupProps,l=t.texturePatchProps,u=t.imageBackgroundProps,c=t.relightProps,d=t.focalPointProps,p=t.imageWasReplacedProps,f=t.resizeProps,h=t.aspectRatiosList,m=t.resetEdits,g=t.setEdits,v=t.onEditsChanged,y=t.setTexturePatchCache,b=t.getTexturePatchCache,x=t.editorActivity,_=t.forwardedRef,C=(0,e.useMemo)((function(){return Jn(r,o,i,a,s,l,u,c,d,p,f)}),[r,o,i,a,s,l,u,c,d,p,f]),w=(0,Se.wj)();(0,e.useEffect)((function(){v&&v()}),[C,v]);var S=(0,e.useCallback)((function(e){var t=Ve(e,h),r=t.isValid,o=t.message;r?Qa(n,void 0,void 0,(function(){return Ja(this,(function(t){switch(t.label){case 0:return[4,null===y||void 0===y?void 0:y(e.texturePatch.texturePatches)];case 1:return t.sent(),g(e),[2]}}))})):w({id:"SetEditsIgnored",message:"ValidationError: ".concat(o)})}),[h,y,g,w]),k=Xa(m);return(0,e.useImperativeHandle)(_,(function(){return{getEdits:function(e){return Qa(n,void 0,void 0,(function(){var t;return Ja(this,(function(n){return e?(t=null===b||void 0===b?void 0:b(),[2,Ka(r,o,i,a,s,l,u,c,d,p,f,t)]):[2,Jn(r,o,i,a,s,l,u,c,d,p,f)]}))}))},resetEdits:function(){k(p.imageToResetTo,!1,x)},setEdits:S,hasEdits:function(){return Zn(Jn(r,o,i,a,s,l,u,c,d,p,f))},hasFocalPointEditsOnly:function(){return jn((e=Jn(r,o,i,a,s,l,u,c,d,p,f)).focalPoint)&&!Gn(e.transforms)&&!Nn(e.adjustments,e.filters,e.autoEnhance,e.markup,e.texturePatch,e.imageBackground,e.relight,e.imageWasReplaced,e.resize);var e},getEditsAsExifOrientation:function(e){return Za(Jn(r,o,i,a,s,l,u,c,d,p,f),e)}}}),[S,b,r,o,i,a,s,l,u,c,d,p,f,k,x]),null})),ns=(0,e.forwardRef)((function(t,n){return e.createElement(ts,Ya({},t,{forwardedRef:n}))})),rs=function(){return rs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},rs.apply(this,arguments)},os={getUiState:function(){},resetUiState:function(){},setUiState:function(){},addUserFacingMessage:function(){},getMaskingUiState:function(){}};var is={setUiState:Qe.WP,resetUiState:Qe.zc,addUserFacingMessage:Qe.us},as=(0,ge.Ng)((function(e){return{uiState:e.uiState,maskingUiState:e.maskingUi}}),is)((function(t){var n=t.uiState,r=t.resetUiState,o=t.setUiState,i=t.onUiStateChanged,a=t.addUserFacingMessage,s=t.forwardedRef,l=t.maskingUiState,u=(0,e.useRef)(n),c=(0,e.useRef)(l);return(0,e.useEffect)((function(){u.current=n,i&&i()}),[n,i]),(0,e.useEffect)((function(){c.current=l}),[l]),(0,e.useImperativeHandle)(s,(function(){return{getUiState:function(){return rs({},u.current)},resetUiState:r,setUiState:o,addUserFacingMessage:a,getMaskingUiState:function(){return rs({},c.current)}}}),[r,o,a]),null})),ss=(0,e.forwardRef)((function(t,n){return e.createElement(as,rs({},t,{forwardedRef:n}))})),ls=n(51448);var us=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},cs=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function ds(){var t=this,n=(0,e.useContext)(lo.Z),r=n.image,o=n.offscreenRenderer,i=function(t){var n=(0,Se.wj)();return(0,e.useCallback)((function(){return!(0,ls.r)(t)&&(n({id:"SaveFailed",message:"Full size image has not loaded."}),!0)}),[n,t])}(r);return{getEditedImage:(0,e.useCallback)((function(e,n){return void 0===e&&(e=r),us(t,void 0,void 0,(function(){return cs(this,(function(t){return i()?[2,null]:o?[2,o.getEditedImage(e,void 0,void 0,n)]:[2,null]}))}))}),[i,r,o]),getEditedImageBytes:(0,e.useCallback)((function(e,n){return void 0===e&&(e=r),us(t,void 0,void 0,(function(){return cs(this,(function(t){return i()?[2,null]:o?[2,o.getEditedImageBytes(e,void 0,void 0,n)]:[2,null]}))}))}),[i,r,o]),getImageLayerBytes:(0,e.useCallback)((function(e){return us(t,void 0,void 0,(function(){return cs(this,(function(t){return o?[2,o.getImageLayerBytes(e)]:[2,null]}))}))}),[o]),getImageRegionLayerBytes:(0,e.useCallback)((function(e,t){return o?o.getImageRegionLayerBytes(e,t):null}),[o])}}var ps=n(18699),fs=n(53591),hs=(0,kn.Mz)($n.dg,(function(e){return(0,fs.E)(e,-ps.YQ).uvToWorld})),ms=(0,kn.Mz)($n.dg,(function(e){return(0,fs.E)(e,ps.RL).uvToWorld})),gs=n(11684),vs=(0,kn.Mz)($n.dg,(function(e){return(0,gs.o)(e,(0,Vn.YD)(e.view.worldToView))})),ys=(0,kn.Mz)([$n.KE,$n.V5,$n.ln,hs,vs],(function(e,t,n,r,o){return e&&(0,Vn.t7)(n,r)||t&&o.zoomIsMaximum})),bs=n(69893),xs=(0,kn.Mz)([$n.KE,$n.V5,$n.ln,ms,$n.sO],(function(e,t,n,r,o){return e&&(0,Vn.t7)(n,r)||t&&o===bs.m.fitCropRectInView})),_s=function(){return _s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_s.apply(this,arguments)},Cs={zoomIn:function(){},zoomOut:function(){}};var ws={handleZoomDeltaChange:He.w_},Ss=(0,ge.Ng)((function(e){var t=!e.transformTools.cropInteraction.enableZoomToCrop&&!e.transformTools.view.enableZoomToView;return{zoomInDisabled:t||ys(e),zoomOutDisabled:t||xs(e)}}),ws)((function(t){var n=t.forwardedRef,r=t.handleZoomDeltaChange,o=t.zoomInDisabled,i=t.zoomOutDisabled;return(0,e.useImperativeHandle)(n,(function(){return{zoomIn:function(){o||r(-ps.YQ)},zoomOut:function(){i||r(ps.YQ)}}}),[o,i,r]),null})),ks=(0,e.forwardRef)((function(t,n){return e.createElement(Ss,_s({},t,{forwardedRef:n}))})),Ts=n(80163);function Es(e,t,n,r){var o=e.length/r/t;return{x:t+n.left+n.right,y:o+n.top+n.bottom}}function Ps(e,t){var n=function(e,t,n,r,o){void 0===o&&(o=0);var i=Es(e,t,n,r),a=i.x,s=i.y,l=new Uint8ClampedArray(a*s*r);if(0!==o&&l.fill(o),a<1||s<1)throw new Error("Invalid frame size for pixels bytes");for(var u=Math.max(0,-n.top),c=Math.max(0,-n.left),d=Math.max(0,n.top),p=Math.max(0,n.left),f=Math.max(0,n.bottom),h=Math.max(0,n.right),m=t*r,g=a*r,v=l.length-f*g-h*r,y=(a-p-h)*r,b=u*m+c*r,x=d*g+p*r,_=m,C=y+(h+p)*r;x<v;){var w=e.subarray(b,b+y);l.set(w,x),x+=C,b+=_}return l}(e.bytes,e.width,t,(0,Ts.x)(e.format)),r=Es(e.bytes,e.width,t,(0,Ts.x)(e.format));return{bytes:n,width:r.x,height:r.y,format:e.format,id:"imageWithFrame_"+(0,eo.b)().toString()}}var Is={top:0,left:0,right:0,bottom:0};var As=function(){return As=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},As.apply(this,arguments)},Rs=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Ls=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Ms=function(t){var n=ds(),r=n.getEditedImage,o=n.getEditedImageBytes,i=n.getImageLayerBytes,a=n.getImageRegionLayerBytes,s=(0,e.useRef)($a),l=(0,e.useRef)(os),u=(0,e.useRef)(Cs),c=(0,e.useContext)(lo.Z),d=c.setImage,p=c.setImageLayer;return(0,e.useImperativeHandle)(t,(function(){return{getEdits:function(e){return s.current.getEdits(e)},setEdits:function(e){return s.current.setEdits(e)},resetEdits:function(){s.current.resetEdits()},hasEdits:function(){return s.current.hasEdits()},hasFocalPointEditsOnly:function(){return s.current.hasFocalPointEditsOnly()},getEditsAsExifOrientation:function(e){return s.current.getEditsAsExifOrientation(e)},experimental_bakeEditsWithFrame:function(e){return Rs(void 0,void 0,void 0,(function(){var t;return Ls(this,(function(n){switch(n.label){case 0:return[4,o()];case 1:return(t=n.sent())&&(s.current.resetEdits(),function(e,t){return e.top===t.top&&e.left===t.left&&e.right===t.right&&e.bottom===t.bottom}(e,Is)||(t=Ps(t,e)),d(As(As({},(0,vo.W)()),{main:t,sourceImageKind:"FullSize"}),{editType:"BakeEditsWithFrame"})),[2]}}))}))},experimental_setImageLayer:p,getEditedImage:r,getEditedImageBytes:o,getImageLayerBytes:i,getImageRegionLayerBytes:a,getUiState:function(){return l.current.getUiState()},setUiState:function(e){return l.current.setUiState(e)},getMaskingUiState:function(){return l.current.getMaskingUiState()},resetUiState:function(){return l.current.resetUiState()},addUserFacingMessage:function(e){return l.current.addUserFacingMessage(e)},zoomIn:function(){return u.current.zoomIn()},zoomOut:function(){return u.current.zoomOut()},replaceImageAndResetEdits:function(e,t){d(e,t)}}}),[r,o,i,a,d,p]),{editOperationsRef:s,editUiStateRef:l,editViewingRef:u}},Bs=(0,e.forwardRef)((function(t,n){var r=t.onEditsChanged,o=t.onUiStateChanged,i=t.setTexturePatchCache,a=t.getTexturePatchCache,s=Ms(n),l=s.editOperationsRef,u=s.editUiStateRef,c=s.editViewingRef;return e.createElement(e.Fragment,null,e.createElement(ns,{ref:l,setTexturePatchCache:i,getTexturePatchCache:a,onEditsChanged:r}),e.createElement(ks,{ref:c}),e.createElement(ss,{ref:u,onUiStateChanged:o}))}));Bs.displayName="ImageEditorRefContainer";var Os=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Fs=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};var Ds=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Ns=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};var Us=n(75234),zs={spotFix:Us.d,magicErase:Us.d,backgroundSegmentation:null,stylizer:null,objectSegmentation:null,normalMap:null},js=n(54986);function Vs(t){(0,e.useEffect)((function(){var e=function(e){return go(e)?e.main:e}(t);if(e&&function(e){return!!e.bytes}(e)&&e.format!==js.A.RGBA)throw new Error("main image layer does not support any format other than RGBA")}),[t])}var Ws=(0,ge.Ng)((function(e){return{undoRedoStack:e.imageBackground.undoRedoStack}}))(ua),Hs=(0,ge.Ng)((function(e){return{undoRedoStack:e.focalPoint.undoRedoStack}}))(ua);var qs=n(45784),Ks=n(13855);function Gs(e){switch(e){case"FullSize":return me.MainImage;case"Thumbnail":return me.Thumbnail;case"Resized":return me.ResizedImage;case"NoImage":throw new Error("getTelemetryComponentFromImageKind: Image kind must not be NoImage");default:throw new to.x(e)}}var Zs=function(){return Zs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Zs.apply(this,arguments)},Xs=e.createContext({}),Ys=function(){function e(){this._listeners=[]}return e.prototype.addListener=function(e){this._listeners.push(e)},e.prototype.removeListener=function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))},e.prototype.notifyListeners=function(){this._listeners.forEach((function(e){e()}))},e}(),Qs=function(){function e(e){void 0===e&&(e=[]),this._effects=[],this._effectNameToOrder=new Map,this.onChange=new Ys,this._effects=e}return e.prototype.getUniformFormatter=function(e){var t=this;return function(n){var r=t._effectNameToOrder.get(e.getName());if(void 0===r)throw new Error("All effects need to be registered with an order");return n.split("@").join("_"+r)}},e.prototype.getOrderForEffectName=function(e){var t=this._effectNameToOrder.get(e);if(void 0===t)throw new Error("No order defined for : "+e);return t},e.prototype.sortEffects=function(){var e=this;this._effects.sort((function(t,n){return e.getOrderForEffectName(t.getName())-e.getOrderForEffectName(n.getName())}))},e.prototype.getShaderProgramName=function(){return this._effects.reduce((function(e,t){return e+" "+t.getName()}),"image")},e.prototype.getUniformNames=function(){var e=this,t=[];return this._effects.forEach((function(n){t=t.concat(n.getUniformNames(e.getUniformFormatter(n)))})),t},e.prototype.getSamplerNames=function(){var e=this,t=[];return this._effects.forEach((function(n){n.getSamplerNames&&(t=t.concat(n.getSamplerNames(e.getUniformFormatter(n))))})),t},e.prototype.getEffects=function(){return this._effects},e.prototype.effectOrderExists=function(e){return Array.from(this._effectNameToOrder.values()).includes(e)},e.prototype.registerEffect=function(e,t){if(this.unRegisterEffect(e),this.effectOrderExists(t))throw new Error("Order already exists: ".concat(t,". Each registered effect must have a unique order."));this._effects.push(e),this._effectNameToOrder.set(e.getName(),t),this.sortEffects(),this.onChange.notifyListeners()},e.prototype.unRegisterEffect=function(e){var t=this._effects.length;this._effects=this._effects.filter((function(t){return t.getName()!==e.getName()})),this._effects.length!==t&&(this._effectNameToOrder.delete(e.getName()),this.onChange.notifyListeners())},e.prototype.getHeaderCode=function(){var e=this,t=this._effects.reduce((function(t,n){return n.getFunctions(e.getUniformFormatter(n)).forEach((function(e){t[e]=""})),t}),{});return"// functions -- \n"+Object.keys(t).join("\n\n")+this._effects.reduce((function(t,n){return t+n.getHeaderCode(e.getUniformFormatter(n))}),"// shader effects -- \n")},e.prototype.getBodyCode=function(){var e=this;return this._effects.reduce((function(t,n){return t+n.getShaderFunctionBody(e.getUniformFormatter(n))}),"// shader effects -- \n")},e.prototype.onBeforeBabylonRender=function(e){var t=this;this._effects.forEach((function(n){n.onBeforeBabylonRender(e,t.getUniformFormatter(n))}))},e}(),Js="\n#ifndef HSV2RGB\n#define HSV2RGB\nvec3  hsv2rgb( in vec3 c )\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n#endif\n",$s="\n#ifndef RGB2HSV\n#define RGB2HSV\nvec3 rgb2hsv(in vec3 c) {\n    float high = max(c.r, max(c.g, c.b));\n    float d = high - min(c.r, min(c.g, c.b));\n    return vec3(d == 0. ? 0. :\n        (\n            high == c.r ? mod((c.g - c.b)/d, 6.) :\n            high == c.g ? (c.b - c.r)/d + 2. :\n            (c.r - c.g)/d + 4.\n        )/6.,\n        high <= 0. ? 0. : d/high,\n        high);\n}\n#endif\n",el="\n#ifndef GAMMALINEARSPACE\n#define GAMMALINEARSPACE\n\nconst float LinearEncodePowerApprox = 2.2;\nconst float GammaEncodePowerApprox = 1.0 / LinearEncodePowerApprox;\n\nvec3 toLinearSpace(vec3 color)\n{\n    return pow(color, vec3(LinearEncodePowerApprox));\n}\n\nvec3 toGammaSpace(vec3 color)\n{\n    return pow(color, vec3(GammaEncodePowerApprox));\n}\n#endif\n",tl=n(17514),nl=n(72538),rl=n(61490),ol="position",il=n(44051),al=n(87210),sl=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},ll=[il.k.colorOverride,il.k.colorOverrideLevel,il.k.renderTargetSize,il.k.mainTextureSampler,il.k.singleTileMainTextureSampler,il.k.singleTilePreSharpenTextureSampler,il.k.singleTileTempTextureSampler,il.k.singleTileBackgroundTextureSampler,il.k.screenPixelPos,il.k.transform,il.k.transformInverse,il.k.uv,il.k.singleTileTextureUvTransform,il.k.overlayTextureSampler,il.k.overlayTextureAlpha,il.k.backgroundMaskTextureSampler,il.k.eraseMaskTextureSampler,il.k.normalMapTextureSampler,il.k.isRenderingForExport,il.k.originalTextureSampler,il.k.subTexturePixelSize,il.k.fullTexturePixelSize,il.k.objectSegmentationPreviewTextureSampler,il.k.sharpness],ul=[ol],cl=[il.k.mainTextureSampler,il.k.singleTileMainTextureSampler,il.k.singleTilePreSharpenTextureSampler,il.k.singleTileTempTextureSampler,il.k.singleTileBackgroundTextureSampler,il.k.overlayTextureSampler,il.k.backgroundMaskTextureSampler,il.k.eraseMaskTextureSampler,il.k.normalMapTextureSampler,il.k.originalTextureSampler,il.k.objectSegmentationPreviewTextureSampler];function dl(){var e=il.k.screenPixelPos,t=il.k.renderTargetSize,n=il.k.transform,r=il.k.transformInverse,o=ol;return"\n    #ifdef GL_ES\n    precision highp float;\n    #endif\n\n    attribute vec4 ".concat(o,";\n    varying highp vec2 ").concat(e,";\n    uniform vec2 ").concat(t,";\n    uniform mat3 ").concat(n,";\n    uniform mat3 ").concat(r,";\n    varying vec3 uvPosition;\n\n    void main(void) {\n      vec3 pos = vec3(").concat(o,".x* 0.5 + 0.5, ").concat(o,".y* 0.5 + 0.5, 1.0) * ").concat(n,";\n\n      ").concat(e," = pos.xy;\n      uvPosition = vec3(").concat(e,".x, ").concat(e,".y,1.0) * ").concat(r,";\n\n      //convert to GL coordinates.\n      pos.x = (pos.x / ").concat(t,".x) * 2.0 - 1.0;\n      pos.y = (-pos.y /").concat(t,".y) * 2.0 + 1.0;\n\n      gl_Position = vec4(pos.x,pos.y,0.0,1.0);\n    }\n  ")}var pl=function(e,t){var n=il.k.uv,r=il.k.singleTileTextureUvTransform,o=il.k.screenPixelPos,i=il.k.mainTextureSampler,a=il.k.singleTileMainTextureSampler,s=il.k.singleTilePreSharpenTextureSampler,l=il.k.singleTileTempTextureSampler,u=il.k.colorOverrideLevel,c=il.k.colorOverride,d=il.k.transform,p=il.k.transformInverse,f=il.k.renderTargetSize,h=il.k.isRenderingForExport,m=il.k.subTexturePixelSize,g=il.k.fullTexturePixelSize,v=il.k.sharpness;return"\n    #ifdef GL_ES\n    precision highp float;\n    #endif\n    varying highp vec2 ".concat(o,";\n    uniform vec4 ").concat(c,";\n    uniform float ").concat(u,";\n    uniform mat3 ").concat(d,";\n    uniform mat3 ").concat(p,";\n    uniform vec2 ").concat(f,";\n    uniform float ").concat(h,";\n    uniform vec2 ").concat(m,";\n    uniform vec2 ").concat(g,";\n    varying vec3 uvPosition;\n    uniform mat3 ").concat(r,";\n\n    ").concat(e,"\n\n    ").concat(tl.N.reduce((function(e,t){return e+"\n  #ifdef ".concat((0,nl.T)(t),"\n    uniform sampler2D ").concat((0,rl.X)(t),";\n  #endif\n  ")}),""),"\n\n    #ifdef ").concat((0,nl.T)("singleTilePreSharpen"),"\n      uniform float ").concat(v,";\n    #endif\n\n\n    ").concat(el,"\n\n    // when using a mat3 to transform 2D points, the z coordinate should always be 1.0\n    #define Z_COORDINATE_2D 1.0\n\n      vec4 sampleTextureOrSampleFakeMipMaps(sampler2D sampler, vec2 uv){\n        #ifdef ").concat(al.t$,"  \n          vec3 originOffset = vec3(0.,0.,Z_COORDINATE_2D) * ").concat(p,";\n            vec3 pixelOffset = vec3(0.5,0.5,Z_COORDINATE_2D);\n            if(").concat(h,"==1.0){\n              pixelOffset = vec3(0.,0.,Z_COORDINATE_2D);\n            }\n            vec3 uvOffset3 = pixelOffset * ").concat(p,";\n            uvOffset3 -= originOffset;\n            vec2 uvOffset = uvOffset3.xy;\n            vec2 diagonalOffset = vec2(uvOffset.x,-uvOffset.y);\n            return 0.2 * (  texture2D(sampler,uv)\n                              + texture2D(sampler,uv - uvOffset) \n                              + texture2D(sampler,uv + uvOffset)\n                              + texture2D(sampler,uv + diagonalOffset)\n                              + texture2D(sampler,uv - diagonalOffset)\n                              );\n        #else\n          return texture2D(sampler,uv);\n        #endif\n      }\n\n    vec4 getTextureColor(vec2 uv){\n      #ifdef ").concat((0,nl.T)("main"),"\n          vec4 mainColor = sampleTextureOrSampleFakeMipMaps(").concat(i,", uv);\n      #elif ").concat((0,nl.T)("singleTileMain"),"\n        vec3 uvInSingleTileTexture =  vec3(uv.x,uv.y,Z_COORDINATE_2D) * ").concat(r,";\n        vec4 mainColor = texture2D(").concat(a,", uvInSingleTileTexture.xy);\n      #elif ").concat((0,nl.T)("singleTileTemp"),"\n        vec3 uvInSingleTileTexture =  vec3(uv.x,uv.y,Z_COORDINATE_2D) * ").concat(r,";\n        vec4 mainColor = texture2D(").concat(l,", uvInSingleTileTexture.xy);\n      #else\n        vec4 mainColor = ").concat(c,";\n      #endif\n\n      #ifdef ").concat((0,nl.T)("singleTilePreSharpen"),"\n        vec3 uvInSingleTileTexture2 =  vec3(uv.x,uv.y,Z_COORDINATE_2D) * ").concat(r,";\n        vec4 preSharpenColor = texture2D(").concat(s,", uvInSingleTileTexture2.xy);\n        if(").concat(v," > 0.5)\n        {\n          mainColor.rgb = mainColor.rgb * 2.0 - preSharpenColor.rgb;//subtract the blurred image from the original image\n        }\n        else if (").concat(v," < 0.5)\n        {\n          mainColor.rgb = preSharpenColor.rgb;//add the blurred image to the original image\n        }\n      #endif\n\n      return mainColor;\n    }\n\n    void main(void) {\n\n        float finalAlphaMultiply = 1.;\n        float overlayTextureAlphaOverride = 1.;\n        vec3 ").concat(n," = uvPosition;\n        \n        #ifdef ").concat(al.wO,"\n          gl_FragColor = vec4(0.);\n          vec4 mainTextureColor = vec4(0.);\n        #else\n          gl_FragColor = getTextureColor(").concat(n,".xy);\n          vec4 mainTextureColor = gl_FragColor;\n          gl_FragColor = mix(gl_FragColor,").concat(c,",").concat(u,");\n        #endif\n\n        // effect 'body' code is inserted here.\n        // effect can can modify the above variables.\n        ").concat(t,"\n\n        gl_FragColor.a *= finalAlphaMultiply;\n    }\n  ")};function fl(e,t){return void 0===t&&(t=e.getShaderProgramName()),{name:t,attributeNames:ul,uniformNames:sl(sl([],e.getUniformNames(),!0),ll,!0),samplerNames:sl(sl([],e.getSamplerNames(),!0),cl,!0),vertexShader:dl(),fragmentShader:pl(e.getHeaderCode(),e.getBodyCode())}}var hl,ml=function(){return(0,e.useMemo)((function(){return new Qs}),[])},gl=n(33994);function vl(t){var n=(0,e.useContext)(gl.A).renderList,r=(0,e.useRef)((function(){n.requestRender()}));(0,e.useLayoutEffect)((function(){r.current()}),t)}!function(e){e[e.main=0]="main",e[e.singleTileMain=1]="singleTileMain",e[e.singleTileTemp=2]="singleTileTemp",e[e.singleTileBackground=3]="singleTileBackground",e[e.lut=4]="lut",e[e.overlay=5]="overlay",e[e.backgroundMask=6]="backgroundMask",e[e.original=7]="original",e[e.eraseMask=8]="eraseMask",e[e.normalMap=9]="normalMap",e[e.singleTilePreSharpen=10]="singleTilePreSharpen",e[e.objectSegmentationPreview=11]="objectSegmentationPreview"}(hl||(hl={}));var yl=n(20369);function bl(t,n,r,o,i){void 0===o&&(o=!1);var a=(0,Se.wj)();!function(t,n,r){var o=n?(0,so.f9)(n):null,i=(0,e.useRef)(t);i.current=t,(0,e.useLayoutEffect)((function(){i.current()}),[o,r])}((0,e.useCallback)((function(){t&&(null===r||void 0===r||r.getTexture(t,i,n,o,a))}),[t,n,r,a,o,i]),t,r)}var xl=function(){return xl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xl.apply(this,arguments)},_l={disposalCondition:"whenSourceIdChanges",shouldDisposeWhenSourceIsNull:!0};function Cl(t,n,r,o,i){var a=function(t,n,r){return(0,e.useCallback)((function(){t&&(null===n||void 0===n||n.releaseTexture(t.id),r())}),[n,t,r])}(n,r,i);!function(t){var n=(0,e.useRef)(t);n.current=t,(0,e.useEffect)((function(){return function(){n.current()}}),[])}(a);var s=function(e,t,n){var r=xl(xl({},_l),n),o=r.disposalCondition,i=r.shouldDisposeWhenSourceIsNull,a="whenSourceIdChanges"===o&&function(e,t){return!!e&&(null===t||void 0===t?void 0:t.id)!==(0,so.f9)(e)}(e,t)||i&&null===e;return a}(t,n,o);!function(t,n){var r=(0,e.useRef)(t);!0===t&&!1===r.current&&n(),r.current=t}(s,a),function(t,n){var r=(0,e.useRef)(t);r.current&&r.current.id!==(null===t||void 0===t?void 0:t.id)&&(null===n||void 0===n||n.releaseTexture(r.current.id));r.current=t}(n,r)}function wl(t,n,r,o,i,a){var s;void 0===o&&(o=!1),void 0===a&&(a={});var l=(0,e.useRef)(void 0),u=(0,yl.V)();bl(t,n,r,o,(0,e.useCallback)((function(e){l.current=e,null===i||void 0===i||i({x:e.width,y:e.height}),u()}),[i,u]));return Cl(t,l.current,r,a,(function(){l.current=void 0})),(null===(s=l.current)||void 0===s?void 0:s.texture)||null}var Sl=n(12617);var kl=n(81134),Tl=n(90839);function El(e){return{x:e[0],y:e[1],z:e[2],w:e[3]}}var Pl=n(32665);var Il=n(38673),Al=function(){return Al=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Al.apply(this,arguments)},Rl=Al(Al({},(0,Il.C)(!0)),{singleTileMain:!1,singleTilePreSharpen:!1,singleTileTemp:!1,singleTileBackground:!1});function Ll(e){return Rl[e]}var Ml=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function Bl(e,t,n,r,o,i,a,s,l,u){void 0===s&&(s=!1);var c=null===o||void 0===o?void 0:o.main,d=(0,Pl.A)(null===c||void 0===c?void 0:c.orientation,e);if(c&&0!==c.parts.length)c.parts.forEach((function(e,p){var f=(0,Vn.ZG)((0,Vn.iQ)(e.rect.left/c.width,e.rect.top/c.height),(0,Vn.U3)(e.rect.width/c.width,e.rect.height/c.height)),h=(0,Vn.ZG)(d,f);if(!e.texture)throw new Error("texture part is missing texture");Ol(h,f,t,s,{x:c.width,y:c.height},n,r,function(e,t){var n=(0,vo.W)();return tl.N.forEach((function(r){var o,i=null===t||void 0===t?void 0:t[r];if(i){var a=Ll(r)?e:0;n[r]=(null===(o=i.parts[a])||void 0===o?void 0:o.texture)||null}})),n}(p,o),i,a,l,null===u||void 0===u?void 0:u.map((function(e){var t=e.id,n=e.textures.parts[p].texture;if(!n)throw new Error("Texture does not exist");return{id:t,texture:n}})))}));else{var p=(0,Vn.uz)(),f=c?{x:c.width,y:c.height}:Un.xd;Ol(d,p,t,s,f,n,r,void 0,i,a)}}var Ol=function(e,t,n,r,o,i,a,s,l,u,c,d){var p,f;if((null===a||void 0===a?void 0:a.effect.isReady())&&a&&l&&u&&(0,Vn.mh)(e)){var h=a.effect;u.applyEffectWrapper(a),c?h.setFloat2(il.k.renderTargetSize,c.width,c.height):h.setFloat2(il.k.renderTargetSize,(null===(p=l.getRenderingCanvas())||void 0===p?void 0:p.width)||0,(null===(f=l.getRenderingCanvas())||void 0===f?void 0:f.height)||0),h.setMatrix3x3(il.k.transform,new Float32Array(Ml(Ml([],e,!0),[0,0,1],!1))),h.setMatrix3x3(il.k.transformInverse,new Float32Array(Ml(Ml([],(0,Vn.eE)(e),!0),[0,0,1],!1))),h.setFloat(il.k.isRenderingForExport,r?1:0),h.setMatrix3x3(il.k.singleTileTextureUvTransform,new Float32Array(Ml(Ml([],t,!0),[0,0,1],!1)));var m=null===s||void 0===s?void 0:s.main;if(s&&m){!function(e,t){tl.N.forEach((function(n){var r=t[n];if(r){var o=(0,rl.X)(n);e.effect.setTexture(o,r)}}))}(a,s),h.setFloat(il.k.colorOverrideLevel,0);var g=m.getSize();h.setFloat2(il.k.subTexturePixelSize,g.width,g.height),h.setFloat2(il.k.fullTexturePixelSize,o.x,o.y)}else{var v=i||qs.tL;h.setVector4(il.k.colorOverride,El(v)),h.setFloat(il.k.colorOverrideLevel,1)}null===d||void 0===d||d.forEach((function(e){var t=e.id,n=e.texture;h.setTexture(t,n)})),n.onBeforeBabylonRender(h),(null===s||void 0===s?void 0:s.overlay)||h.setFloat(il.k.overlayTextureAlpha,0),u.render(a,c)}};function Fl(t){var n=(0,e.useState)(void 0),r=n[0],o=n[1],i=(0,e.useContext)(kl.M).effectWrapperManager,a=(0,e.useRef)(!0);a.current=!0,(0,e.useLayoutEffect)((function(){return function(){a.current=!1}}),[]);var s=(0,e.useRef)(t.fragmentShader);return s.current=t.fragmentShader,(0,e.useLayoutEffect)((function(){i&&i.getEffectWrapper(t).then((function(e){e.effect.rawFragmentSourceCode===s.current&&a.current&&o(e)}),(function(e){throw new Error(e)}))}),[t,i]),r}function Dl(t,n){var r=(0,e.useContext)(gl.A).renderList;(0,e.useLayoutEffect)((function(){if(r){var e=(0,eo.b)();return r.register(e,t,n),function(){r.unregister(e)}}}),[r,t,n]),(0,e.useLayoutEffect)((function(){r&&r.requestRender()}),[r])}var Nl=(0,vo.W)(),Ul=function(t){var n=t.zIndex,r=t.color,o=t.transform,i=t.textureLayers,a=void 0===i?Nl:i,s=(0,e.useContext)(kl.M),l=s.engine,u=s.effectRenderer,c=(0,e.useContext)(Xs).registry;if(!c)throw new Error("effect registry not found on ImageEffectContext.Provider");!function(t){var n=(0,yl.V)(),r=(0,e.useRef)(),o=(0,e.useCallback)((function(){r.current=window.setTimeout((function(){void 0!==r.current&&n()}),0)}),[n]);(0,e.useEffect)((function(){return t.onChange.addListener(o),function(){t.onChange.removeListener(o),void 0!==r.current&&(clearTimeout(r.current),r.current=void 0)}}),[t,o])}(c);var d=function(t,n,r,o,i,a,s){var l=(0,e.useRef)(t);return l.current=t,(0,e.useCallback)((function(){Bl(l.current,n,r,o,i,a,s)}),[n,r,o,i,a,s])}(o,c,r,Fl(function(t){var n=t.getShaderProgramName();return(0,e.useMemo)((function(){return fl(t,n)}),[t,n])}(c)),a,l,u);return Dl(d,n),vl(o),null},zl=n(99261),jl=function(){return jl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},jl.apply(this,arguments)},Vl=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};var Wl=n(14586),Hl=function(){return Hl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Hl.apply(this,arguments)},ql=function(t){var n=t.children,r=t.image,o=t.onMainTextureLoaded,i=t.onOverlayTextureLoaded,a=t.dynamicLayers,s=(0,e.useContext)(kl.M),l=s.engine,u=s.textureManager,c=s.onTextureLoaded,d=(0,e.useContext)(lo.Z).isExpectingThumbnailThenFullImage,p=ml(),f=function(t,n,r,o,i,a,s){var l=(0,e.useCallback)((function(e){null===s||void 0===s||s(),null===i||void 0===i||i({sizeInPixels:e,shouldChangeOriginalSizeAndResetTransformsOnSizeChange:!o,exifOrientation:(0,Sl._)(n)})}),[s,i,o,n]),u=(0,e.useCallback)((function(e){null===s||void 0===s||s(),null===a||void 0===a||a()}),[a,s]),c=wl(n.main,hl.main,t,!!r.main,l,{disposalCondition:"whenNewTextureLoads"}),d=wl(n.singleTileMain,hl.singleTileMain,t,!!r.singleTileMain,s),p=wl(n.singleTilePreSharpen,hl.singleTilePreSharpen,t,!!r.singleTilePreSharpen,s),f=wl(n.singleTileTemp,hl.singleTileTemp,t,!!r.singleTileTemp,s),h=wl(n.singleTileBackground,hl.singleTileBackground,t,!!r.singleTileBackground,s),m=wl(n.original,hl.original,t,!!r.original,s,{disposalCondition:"whenNewTextureLoads"}),g=wl(n.overlay,hl.overlay,t,!!r.overlay,u),v=wl(n.backgroundMask,hl.backgroundMask,t,!!r.backgroundMask,s),y=wl(n.eraseMask,hl.eraseMask,t,!!r.eraseMask,s),b=wl(n.normalMap,hl.normalMap,t,!!r.normalMap,s),x=wl(n.objectSegmentationPreview,hl.objectSegmentationPreview,t,!!r.objectSegmentationPreview,s),_=(0,e.useMemo)((function(){return{main:c,singleTileMain:d,singleTilePreSharpen:p,singleTileTemp:f,singleTileBackground:h,overlay:g,backgroundMask:v,eraseMask:y,normalMap:b,original:m,objectSegmentationPreview:x}}),[c,d,p,f,h,g,v,y,b,m,x]);return vl([_]),_}(u,r,(0,Tl.W)(l),d,o,i,c);return function(t,n,r,o,i){var a=(0,e.useState)([]),s=a[0],l=a[1],u=(0,e.useRef)([]),c=(0,e.useRef)(new Set),d=(0,yl.V)(),p=(0,Se.wj)(),f=(0,e.useCallback)((function(e){u.current.push(e),c.current.delete(e.id),l((function(t){return Vl(Vl([],t,!0),[{id:e.id,texture:e.texture}],!1)})),null===i||void 0===i||i(),d()}),[i,d]),h=(0,e.useCallback)((function(e,n){e&&(null===t||void 0===t||t.getTexture(e,f,n,o,p))}),[t,f,o,p]),m=(0,e.useCallback)((function(e){null===t||void 0===t||t.releaseTexture(e)}),[t]);(0,e.useEffect)((function(){r&&n&&r.forEach((function(e){var t=e.layerId,r=e.format;if(u.current.every((function(e){return e.id!==t}))&&!c.current.has(t)){var o=(0,zl.y)(n);if(!o)return null;var i={width:o.x,height:o.y,orientation:(0,Sl._)(n),id:t,format:r},a=o.x*o.y*(0,Ts.x)(r),s=jl(jl({},i),{bytes:new Uint8ClampedArray(a)});c.current.add(t),h(s,0)}}))}),[r,n,h]),(0,e.useEffect)((function(){r?(u.current=u.current.filter((function(e){return!!r.find((function(t){return t.layerId===e.id}))||(m(e.id),!1)})),l(u.current)):(u.current.forEach((function(e){m(e.id)})),u.current=[],l([]))}),[m,r]),vl([s])}(u,r,a,(0,Wl.t)(l),c),e.createElement(Xs.Provider,{value:{registry:p}},n,e.createElement(Ul,Hl({textureLayers:f},t)))},Kl=n(56164),Gl=e.lazy((function(){return n.e(2).then(n.bind(n,33893))})),Zl=function(t){var n=t.image,r=t.isApplyingTexturePatchesPromiseRef;return e.createElement(e.Suspense,{fallback:null},e.createElement(Gl,{image:n,isApplyingTexturePatchesPromiseRef:r}))},Xl=e.lazy((function(){return n.e(3).then(n.bind(n,92727))})),Yl=function(t){var n=t.image,r=t.isApplyingTexturePatchesPromiseRef;return e.createElement(e.Suspense,{fallback:null},e.createElement(Xl,{image:n,isApplyingTexturePatchesPromiseRef:r}))},Ql=function(){return Ql=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ql.apply(this,arguments)},Jl=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},$l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function eu(e){return Jl(this,void 0,void 0,(function(){return $l(this,(function(t){return[2,new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=function(e){n(e)},r.decoding=r.decoding||"auto",r.crossOrigin="Anonymous",r.src=e}))]}))}))}var tu=function(){return tu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tu.apply(this,arguments)},nu=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},ru=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function ou(e){return nu(this,void 0,void 0,(function(){var t;return ru(this,(function(n){switch(n.label){case 0:return t=null,e instanceof HTMLImageElement?[4,eu(e.src)]:[3,2];case 1:return t=n.sent(),[3,3];case 2:(0,so.cy)(e)&&(t=tu({},e)),n.label=3;case 3:if(null===t)throw new Error("Unsupported image type");return t.id="".concat(t.id,"-copy"),[2,t]}}))}))}var iu,au=function(){return au=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},au.apply(this,arguments)},su=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},lu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},uu={onMainTextureLoaded:He.Yw,onOverlayTextureLoaded:Qe.xO},cu=(0,ge.Ng)((function(e,t){var n=t.children;return{transform:(0,Ks.h)(e),enableTexturePatching:e.uiState.activeEditorActivity===un.Nr||e.uiState.activeEditorActivity===un.ts||e.uiState.activeEditorActivity===un.NF||e.uiState.activeEditorActivity===un.VO||e.uiState.activeEditorActivity===un.io||e.texturePatch.texturePatchInfos.length>0||e.texturePatch.removedTexturePatchInfos.length>0,dynamicLayers:e.dynamicLayers.layers,children:n}}),uu)(function(t){return(0,e.forwardRef)((function(n,r){var o=n.enableTexturePatching,i=n.disableTexturePatchIndexedDbStorage,a=(0,e.useRef)(null);return e.createElement(e.Fragment,null,e.createElement(Kl.XB,{shouldCreateSessionCache:o,disableTexturePatchIndexedDbStorage:i},o&&e.createElement(Zl,{image:n.image,isApplyingTexturePatchesPromiseRef:a}),o&&e.createElement(Yl,{image:n.image,isApplyingTexturePatchesPromiseRef:a}),e.createElement(t,Ql({},n,{ref:r}))))}))}(function(t){return(0,e.forwardRef)((function(n,r){var o;o=n.image,(0,e.useLayoutEffect)((function(){if((0,so.XG)(o)){var e=Gs((0,so.G3)(o));performance.clearMarks(e),performance.mark(e)}}),[o]);var i=function(t){var n=(0,e.useContext)(ve.b).logPageLoadTimeEvent,r=(0,e.useRef)({x:0,y:0}),o=(0,e.useContext)(lo.Z).image;return(0,e.useCallback)((function(e){if(t&&t(e),r.current!==e.sizeInPixels){var i=Gs((0,so.G3)(o)),a=window.requestAnimationFrame((function(){setTimeout((function(){n({pageLoadTimeMs:_e(i),component:i})}))}));return r.current=e.sizeInPixels,function(){window.cancelAnimationFrame(a)}}}),[t,o,n])}(n.onMainTextureLoaded);return e.createElement(t,Zs({},n,{onMainTextureLoaded:i,ref:r}))}))}((iu=ql,(0,e.forwardRef)((function(t,n){var r=this,o=t.setImageLayer,i=t.image,a=t.onMainTextureLoaded,s=(0,e.useCallback)((function(e){a&&a(e);var t=(0,so.XG)(i);t&&o&&su(r,void 0,void 0,(function(){var e;return lu(this,(function(n){switch(n.label){case 0:return[4,ou(t)];case 1:return e=n.sent(),o("original",e),[2]}}))}))}),[i,a,o]);return e.createElement(iu,au({},t,{onMainTextureLoaded:s,ref:n}))}))))));function du(e,t){var n=e[t];if(!n)throw new Error("Could not find ink brush with id ".concat(t));return{inkBrush:n,id:t}}function pu(e){return e.toString(16).padStart(2,"0")}var fu=n(79488),hu=n(93286);var mu=n(75558);function gu(e,t,n,r){var o,i="#"+pu((o=t.drawingAttributes.color).r)+pu(o.g)+pu(o.b),a=(0,fu.nw)(e,i),s=function(e,t){switch(t){case hu.p.Pen:return e.markup_markupToolbarPenAriaLabel;case hu.p.Highlighter:return e.markup_markupToolbarHighlighterAriaLabel;default:throw new to.x(t)}}(e,n.inkType),l=(0,mu.nZ)(t.drawingAttributes.height,r),u=(0,mu.VP)(r)(l).toString();return(0,Li.J)(e.markup_addedInkStrokeAriaLive,s,a,u)}var vu=function(){return vu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vu.apply(this,arguments)},yu=(0,e.memo)((function(t){var n=t.addInkContent,r=t.setAriaAnnouncement,o=t.inkBrush,i=(0,e.useContext)(gn.O_),a=i.InkCanvasInteraction,s=i.localizationStrings,l=i.inkConfigurations,u=(0,e.useCallback)((function(e){n(e);var t=gu(s,e,o,l[o.inkType]);r(t)}),[n,o,l,s,r]);return e.createElement(a,vu({},t,{addInkContent:u}))})),bu={addInkContent:vt.FS,setAriaAnnouncement:Je.f9},xu=(0,ge.Ng)((function(e){return{cssToPhysicalPixelRatio:e.transformTools.device.pixelRatio,imageViewTransform:(0,Ks.h)(e)}}),bu)(yu),_u=n(15057);var Cu=n(97150);(0,Cu.hN)([{rawString:".display_fe015d88{position:absolute;z-index:2;-webkit-transform:translateX(-50%);transform:translateX(-50%);border-radius:2px;font-size:14px;line-height:20px;padding:4px 8px;pointer-events:none;text-align:center;opacity:0}.visible_fe015d88{opacity:1;-webkit-transition:opacity .25s;transition:opacity .25s}"}]);const wu="display_fe015d88",Su="visible_fe015d88";var ku=function(){return ku=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ku.apply(this,arguments)},Tu=e.memo((function(t){var n,r,o=t.children,i=t.visible,a=void 0!==i&&i,s=t.style,l=void 0===s?{}:s,u=(0,I.D)(),c=(0,E.A)(wu,a&&Su),d=(0,_u.n)(u.palette.white);return e.createElement("div",{className:c,style:ku({color:"".concat(u.palette.neutralPrimary),background:d&&(n=d,r=.6,void 0===r?"rgb(".concat(n.r,", ").concat(n.g,", ").concat(n.b,")"):"rgba(".concat(n.r,", ").concat(n.g,", ").concat(n.b,", ").concat(r,")"))},l),"data-test-id":"aspect_ratio_display","aria-hidden":a?"false":"true"},o)})),Eu=function(){return Eu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Eu.apply(this,arguments)},Pu=e.lazy((function(){return n.e(5).then(n.bind(n,3429))})),Iu=function(t){return e.createElement(e.Suspense,{fallback:null},e.createElement(Pu,Eu({},t)))},Au=function(){return Au=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Au.apply(this,arguments)},Ru=(0,e.memo)((function(t){var n=t.isMarkupKeyboardInputActive?"none":"pointer",r=(0,e.useContext)(gn.O_).markupToolbarStyles,o=(0,e.useMemo)((function(){return Au({borderRadius:"8px",padding:"0",bottom:"0",left:"50%"},null===r||void 0===r?void 0:r.canvasContainer)}),[r]);return e.createElement(Tu,{style:o,visible:!0},e.createElement(Iu,Au({cursor:n},t)))})),Lu=n(41063),Mu=(0,kn.Mz)([function(e){return e.markup.markupContentItems}],(function(e){return e.some((function(e){return e.contentType===Lu.A.InkContent}))})),Bu={setActiveMarkupInkBrushId:Qe.O,setActiveMarkupToolType:Qe.lZ,setInkBrush:Qe.Xc,setShowInkStylePicker:Qe.xE,clearAllMarkupContent:vt.YG,setAriaAnnouncement:Je.f9,setStrokeShapeTipVisibilityState:Qe.Ao},Ou=(0,ge.Ng)((function(e){return{activeMarkupToolType:e.uiState.markupUiState.activeMarkupToolType,enableClearAllMarkup:Mu({markup:e.markup}),showInkStylePicker:e.uiState.markupUiState.showInkStylePicker,strokeShapeTipVisibilityState:e.uiState.markupUiState.strokeShapeTipVisibilityState,isMarkupKeyboardInputActive:e.uiState.markupUiState.isKeyboardInputActive}}),Bu)(Ru),Fu=(0,e.memo)((function(t){var n=t.inkBrushes,r=t.activeInkBrushId,o=t.showGapBetweenToolbarAndStylePicker,i=t.showStylePickerInFullWidth,a=t.dialogType,s=t.stylePickerPopUpPositionSource,l=t.shouldOmitInkContent,u=du(n,r);return e.createElement(e.Fragment,null,e.createElement(Ou,{inkBrushes:n,activeInkBrushId:r,showGapBetweenToolbarAndStylePicker:o,showStylePickerInFullWidth:i,clearAllMarkupConfirmationDialogType:a,stylePickerPopUpPositionSource:s}),e.createElement(xu,{inkBrush:u.inkBrush,shouldOmitInkContent:l}))})),Du=(0,ge.Ng)((function(e){return{inkBrushes:e.uiState.markupUiState.inkBrushes,activeInkBrushId:e.uiState.markupUiState.activeInkBrushId}}))(Fu);function Nu(t,n,r){var o=(0,e.useRef)(t),i=(0,e.useContext)(gn.O_).localizationStrings,a=(0,e.useCallback)((function(e){var t,a,s,l=(t=i,a=e.length,s=o.current.length,(0,Li.J)(t.markup_removedInkStrokesAriaLive,a.toString(),s.toString()));n(e),r(l)}),[i,o,n,r]);return o.current=t,a}var Uu=function(){return Uu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Uu.apply(this,arguments)},zu=(0,e.memo)((function(t){var n=t.markupContentItems,r=t.setAriaAnnouncement,o=t.removeMarkupContent,i=t.setShouldUpdateImageOverlay,a=t.shouldCleanupMarkup,s=t.disabled,l=(0,e.useContext)(gn.O_).Canvas,u=n.length>0;!function(t){var n=(0,e.useContext)(lo.Z).setImageLayer;(0,e.useEffect)((function(){t&&n("overlay",null)}),[t,n])}(!s),function(t,n,r){(0,e.useEffect)((function(){r&&t(n)}),[r,n,t])}(i,u,!s),function(t,n){var r=(0,e.useContext)(gn.O_).setCanvasMethods;(0,e.useEffect)((function(){!t&&n&&r(gn.OU)}),[t,r,n])}(u,a);var c=Nu(n,o,r);return s?null:e.createElement(l,Uu({},t,{removeMarkupContent:c}))})),ju=(0,kn.Mz)([$n.qx,$n.PO,$n.A],(function(e,t,n){var r=e||t;return(0,Vn.ZG)(r,n)})),Vu=(0,kn.Mz)([$n.NX,$n.ln],(function(e,t){return!(0,Vn.ft)(e,t,Kn.G)})),Wu=n(70104);function Hu(e){return Math.max(1.5,Math.ceil(.2*e))}function qu(e){var t=e<12?3:2;return Math.max(e/2+t,4)}var Ku='<path d="M2.61668 8.01447L2.95461 7.67687L4.80895 5.82223L4.81034 5.82084L6.148 4.48324V4.803C6.148 5.44733 6.6703 5.96967 7.3146 5.96967C7.959 5.96967 8.4813 5.44733 8.4813 4.803V1.75556C8.4813 1.74038 8.481 1.72526 8.4805 1.71018C8.4921 1.3982 8.3785 1.08066 8.1396 0.841709C7.9006 0.602758 7.5831 0.489234 7.2711 0.500811C7.256 0.500271 7.2409 0.5 7.2257 0.5H4.14777C3.50344 0.5 2.9811 1.02233 2.9811 1.66667C2.9811 2.311 3.50344 2.83333 4.14777 2.83333H4.49803L0.966869 6.36445C0.685479 6.62925 0.522129 6.9496 0.502069 7.28601C0.482019 7.62218 0.608909 7.93241 0.828849 8.15235C1.04879 8.3723 1.35902 8.49919 1.69519 8.47915C2.03157 8.4591 2.35189 8.29579 2.61668 8.01447Z" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>',Gu='<path d="M4.4835 7.16661L5.82698 5.8229L5.82702 5.82287L5.82972 5.82017L7.1667 4.48324V4.803C7.1667 5.44733 7.689 5.96966 8.3333 5.96966C8.9777 5.96966 9.5 5.44733 9.5 4.803V1.75555C9.5 1.74038 9.4997 1.72526 9.4992 1.71018C9.5108 1.3982 9.3972 1.08066 9.1583 0.841709C8.9193 0.602756 8.6018 0.489233 8.2898 0.50081C8.2747 0.500271 8.2596 0.5 8.2444 0.5H5.16647C4.52214 0.5 3.99981 1.02233 3.99981 1.66667C3.99981 2.311 4.52214 2.83333 5.16647 2.83333H5.51674L2.83333 5.5167V5.15776C2.83333 4.51343 2.311 3.9911 1.66667 3.9911C1.02234 3.9911 0.5 4.51343 0.5 5.15776V8.24438C0.5 8.25955 0.50027 8.27468 0.50081 8.28975C0.48923 8.60174 0.60276 8.91928 0.84171 9.15823C1.08066 9.39718 1.3982 9.51071 1.71019 9.49913C1.72527 9.49967 1.74039 9.49994 1.75556 9.49994H4.8219C5.46623 9.49994 5.98857 8.9776 5.98857 8.33327C5.98857 7.68894 5.46623 7.16661 4.8219 7.16661H4.4835Z" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>';function Zu(e,t,n,r){var o=Hu(t),i=2*t+2*n;return"\n    <svg\n      height='".concat(i,"'\n      width='").concat(i,"'\n      xmlns='http://www.w3.org/2000/svg'\n      viewBox='0 0 ").concat(i," ").concat(i,"'\n    >\n      <circle\n        cx='50%'\n        cy='50%'\n        r='").concat(t,"'\n        stroke='white'\n        stroke-width='").concat(o,"'\n        fill='").concat(e,"'\n        shape-rendering='geometricPrecision'\n      />\n      '").concat(function(e,t,n,r,o){var i=e/2+n+t+r,a=e/2;switch(o){case Wu.x.NoArrow:return;case Wu.x.SingleArrow:return function(e,t){return"\n    <svg x='".concat(e,"' y='").concat(t,'\' width="9" height="9" viewBox="0 0 9 9" fill="black" xmlns="http://www.w3.org/2000/svg">\n    ').concat(Ku,"\n    </svg>")}(i,a);case Wu.x.DoubleArrow:return function(e,t){return"\n    <svg x='".concat(e,"' y='").concat(t,'\' width="10" height="10" viewBox="0 0 10 10" fill="black" xmlns="http://www.w3.org/2000/svg">\n    ').concat(Gu,"\n    </svg>")}(i,a)}}(i,o,t,1,r),"'\n      </svg>")}function Xu(e,t){var n=Math.max(10,t),r=n/2,o=n/5;return"url(data:image/svg+xml;base64,".concat(window.btoa(function(e,t){var n=Math.min(.1*t,1.5),r=t/2,o=t;return"<svg\n      height='".concat(o,"'\n      width='").concat(r,"'\n      xmlns='http://www.w3.org/2000/svg'\n      viewBox='0 0 ").concat(r," ").concat(o,"'\n    >\n      <rect\n        height='").concat(o,"'\n        width='").concat(r,"'\n        cx='50%'\n        cy='50%'\n        stroke='white'\n        stroke-width='").concat(n,"'\n        fill='").concat(e,"'\n      />\n    </svg>")}(e,n)),") ").concat(r-o," ").concat(r)}var Yu=window.btoa("<svg width='48' height='47' viewBox='0 0 48 47' fill='none' xmlns='http://www.w3.org/2000/svg'>\n<g filter='url(#filter0_dd)'>\n  <circle cx='24' cy='20' r='16' fill='white' fill-opacity='0.8'/>\n</g>\n<defs>\n  <filter id='filter0_dd' x='0.8' y='2.38419e-07' width='46.4' height='46.4' filterUnits='userSpaceOnUse' color-interpolation-filters='sRGB'>\n    <feFlood flood-opacity='0' result='BackgroundImageFix'/>\n    <feColorMatrix in='SourceAlpha' type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0'/>\n    <feOffset dy='3.2'/>\n    <feGaussianBlur stdDeviation='3.6'/>\n    <feColorMatrix type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0'/>\n    <feBlend mode='normal' in2='BackgroundImageFix' result='effect1_dropShadow'/>\n    <feColorMatrix in='SourceAlpha' type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0'/>\n    <feOffset dy='0.6'/>\n    <feGaussianBlur stdDeviation='0.9'/>\n    <feColorMatrix type='matrix' values='0 \n0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0'/>\n    <feBlend mode='normal' in2='effect1_dropShadow' result='effect2_dropShadow'/>\n    <feBlend mode='normal' in='SourceGraphic' in2='effect2_dropShadow' result='shape'/>\n  </filter>\n</defs>\n</svg>");var Qu=n(13246),Ju=(0,kn.Mz)([ha.vA,ha.ji,ha.qI],(function(e,t,r){var o=du(t,r).inkBrush,i=o.thicknessInCssPixels,a=o.htmlColor,s=o.strokeShape,l=n(62276),u=n(28607);switch(e){case Qu.Gu:return function(e,t,n){var r=qu(t);return"url(data:image/svg+xml;base64,".concat(window.btoa(Zu(e,r,15,n)),") ").concat(r+15," ").concat(r+15)}(a,i,s.arrowMode)+", url(".concat(l.default,"), crosshair");case Qu.iw:return Xu(a,i)+", url(".concat(l.default,"), crosshair");case Qu.j9:return"url(data:image/svg+xml;base64,".concat(Yu,") 24 20, url(").concat(u.default,"), default");case Qu.Qm:default:return"default"}})),$u=n(42838),ec={removeMarkupContent:vt.Sp,setActiveMarkupToolType:Qe.lZ,setAriaAnnouncement:Je.f9,setShouldUpdateImageOverlay:Qe.ib,setStrokeShapeTipVisibilityState:Qe.Ao,setMarkupCursorScreenPosition:Qe.w4,moveMarkupCursorScreenPositionBy:Qe.Mh,setIsKeyboardInputActive:Qe.ey,addMarkupContent:vt.FS,updateMarkupContent:$u.L,setShowInkStylePicker:Qe.xE,setLinePreviewCoords:Qe.bl,setActiveMarkupContentId:vt.ny,setMarkupTextSelection:vt.sU,setMarkupTextStyleAttributes:vt.eM},tc=(0,ge.Ng)((function(e){var t=e.transformTools,n=t.view,r=n.viewportPixelSize,o=n.viewportCssSize,i=t.image.originalPixelSize,a=t.device.pixelRatio;return{cropViewTransform:ju(e),imageViewTransform:(0,Ks.h)(e),originalImagePixelSize:i,cssToPhysicalPixelRatio:a,width:r.x,height:r.y,cssWidth:o.width,cssHeight:o.height,markupContentItems:e.markup.markupContentItems,shouldCleanupMarkup:void 0!==e.uiState.nextEditorActivity&&e.uiState.activeEditorActivity===un.X4,activeMarkupToolType:e.uiState.markupUiState.activeMarkupToolType,previousActiveMarkupToolType:e.uiState.markupUiState.previousActiveMarkupToolType,activeInkBrush:e.uiState.markupUiState.inkBrushes[e.uiState.markupUiState.activeInkBrushId],cursor:Ju(e),hidden:e.uiState.activeEditorActivity!==un.X4,disabled:e.uiState.activeEditorActivity!==un.X4&&(0===e.markup.markupContentItems.length&&0===e.markup.undoRedoStack.redoStack.length||!e.uiState.waitingForMarkupOverlayTexture),isKeyboardInputActive:e.uiState.markupUiState.isKeyboardInputActive,cursorScreenPos:e.uiState.markupUiState.markupCursorScreenPosition,linePreviewCoords:e.uiState.markupUiState.linePreviewCoords,markupTextStyleAttributes:e.markup.markupTextStyleAttributes,activeMarkupContentId:e.markup.activeMarkupContentId}}),ec)(zu),nc=e.memo((function(t){var n=t.activeEditorActivity,r=t.match,o=t.children;return(Array.isArray(r)?r.some((function(e){return e===n})):r===n)?e.createElement(e.Fragment,null,o):null})),rc=(0,ge.Ng)((function(e){return{activeEditorActivity:e.uiState.activeEditorActivity}}),null)(nc),oc=(0,e.memo)((function(t){var n=t.showGapBetweenToolbarAndStylePicker,r=void 0!==n&&n,o=t.showStylePickerInFullWidth,i=void 0!==o&&o,a=t.dialogType,s=t.stylePickerPopUpPositionSource,l=t.showMarkupToolbar,u=void 0===l||l,c=t.isEditorFocused,d=(0,e.useContext)(Wr.u).enableMarkup,p=(0,e.useContext)(gn.O_),f=p.markupToolbarStyles,h=(0,p.getMarkupToolbarPosition)(f);return d?e.createElement(e.Fragment,null,e.createElement(tc,{isEditorFocused:c}),u&&"Inline"!==h?e.createElement(rc,{match:un.X4},e.createElement(Du,{key:"".concat(h,"InkConnect"),showGapBetweenToolbarAndStylePicker:r,showStylePickerInFullWidth:i,dialogType:a,stylePickerPopUpPositionSource:s})):null):null})),ic=e.memo((function(t){var n=t.handleSizeCss,r=t.handleHitAreaSizeCss,o=t.setCropHandleSizeCss;return(0,e.useLayoutEffect)((function(){o({handleSizeCss:n,handleHitAreaSizeCss:r})}),[o,n,r]),null})),ac={setCropHandleSizeCss:He.Vq},sc=(0,ge.Ng)(void 0,ac)(ic),lc=function(){function e(e,t,n){void 0===n&&(n=void 0),this._name=e,this._defineIdentifierName=t,this._shaderInputProvider=n}return e.prototype.getName=function(){return this._name},e.prototype.getUniformNames=function(e){return[]},e.prototype.getFunctions=function(){return[]},e.prototype.getHeaderCode=function(e){return"\n#define ".concat(this._defineIdentifierName)},e.prototype.getShaderFunctionBody=function(e){return""},e.prototype.onBeforeBabylonRender=function(e,t){var n;null===(n=this._shaderInputProvider)||void 0===n||n.onBeforeBabylonRender(e,t)},e}(),uc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cc=function(e){function t(){return e.call(this,"MainImageShader",(0,nl.T)("main"))||this}return uc(t,e),t}(lc),dc=null,pc=null;function fc(){dc=new Qs;var e=new cc;dc.registerEffect(e,0),pc=fl(dc)}function hc(){if(dc||fc(),!dc)throw new Error("imageEffectRegistry is not initialized");return dc}var mc=n(86),gc=n(7668);var vc=n(77551),yc="NoiseBlurShader",bc="uBlurRadius@",xc="uInvertMask@",_c=function(){function e(e,t,n){void 0===n&&(n=!0),this._blurRadiusInTexturePixels=1,this._shouldInvertMask=!1,this._isWebGL2=!1,this._sourceLayerName=e,this._maskLayerName=t,this._isWebGL2=n}return e.prototype.getMaskLayerName=function(){return this._maskLayerName},e.prototype.setBlurRadiusInTexturePixels=function(e){this._blurRadiusInTexturePixels=e},e.prototype.setShouldInvertMask=function(e){this._shouldInvertMask=e},e.prototype.getName=function(){return yc+this._sourceLayerName+this._maskLayerName?"_".concat(this._maskLayerName):""},e.prototype.getUniformNames=function(e){return[e(bc),e(xc)]},e.prototype.getFunctions=function(){var e,t,n=void 0===this._maskLayerName;return[el,(e=!!this._maskLayerName&&(0,vc.S)(this._maskLayerName,this._isWebGL2),t=n,void 0===t&&(t=!1),"\n#define NUM_SAMPLES 32\n#define GOLDEN_ANGLE_IN_RADIANS 2.39996\n\n".concat("\n#ifndef RANDOM_FLOAT_FROM_VECTOR_2\n#define RANDOM_FLOAT_FROM_VECTOR_2\nfloat randomFloatFromVector2(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n#endif\n","\n\nvec2 getBlurUv(float blurRadius, vec2 textureSizeInPixels){\n    return vec2( blurRadius / textureSizeInPixels.x , blurRadius / textureSizeInPixels.y );\n}\n\nvec2 getNormalizedSpiralOffsetAtSampleIndex(int sampleIndex,float randomInitialAngle){\n    float normalizedRadius = float(sampleIndex)/float(NUM_SAMPLES-1);\n    normalizedRadius = pow(normalizedRadius,0.5);//take the square root to make the samples approximate equal amounts of area. ie, more samples at larger radii.\n    float theta = float(sampleIndex)*GOLDEN_ANGLE_IN_RADIANS + randomInitialAngle;\n    vec2 normalizedOffset = normalizedRadius*vec2(cos(theta),sin(theta));\n    return normalizedOffset;\n}\n\nvec4 sampleWithNoiseBlur( sampler2D sampler,").concat(t?"":"sampler2D maskSampler,"," vec2 uvMain,vec2 uvMask, float blurRadiusInPixels, vec2 maskTextureSizeInPixels,vec2 mainTextureSizeInPixels, float invertMask){\n\n    vec2 blurUvMask = getBlurUv(blurRadiusInPixels,maskTextureSizeInPixels);\n    vec2 blurUvMain = getBlurUv(blurRadiusInPixels,mainTextureSizeInPixels);\n\n    vec4 result = vec4(0.);\n    float randomAngle = 2.*3.141992*randomFloatFromVector2(uvMain);\n    \n    float maskValues[NUM_SAMPLES];\n    float sumOfMaskValues = 0.;\n    for(int i=0;i<NUM_SAMPLES;i++){\n        vec2 normalizedOffset = getNormalizedSpiralOffsetAtSampleIndex(i,randomAngle);\n        vec2 uvMask2 = uvMask + blurUvMask*normalizedOffset;\n        float maskValue = ").concat(t?"1.0":"texture2D(maskSampler,uvMask2).".concat(e?"r":"a"),";\n        maskValue = mix(maskValue,1.-maskValue,invertMask);\n        maskValues[i] = maskValue;\n        sumOfMaskValues += maskValue;\n    }\n\n    float averageMaskValue = sumOfMaskValues / float(NUM_SAMPLES);\n\n    // Decrease the blur radius as the mask gets closer to 0.\n    // This helps to the foreground from bleeding into the blurred background.\n    blurUvMain *= averageMaskValue;\n    blurUvMask *= averageMaskValue;\n\n    float sumOfWeights = 0.;\n    vec4 originalColor = texture2D(sampler,uvMain);\n    float maskValue = maskValues[0];\n    float weight = maskValue * originalColor.a;\n    result.rgb = toLinearSpace(originalColor.rgb * weight);\n    sumOfWeights += weight;\n\n    for(int i=1;i<NUM_SAMPLES;i++){\n        vec2 normalizedOffset = getNormalizedSpiralOffsetAtSampleIndex(i,randomAngle);\n        vec2 uvMain2 = uvMain + blurUvMain*normalizedOffset;\n        vec4 sampledColor = texture2D(sampler,uvMain2);\n        float maskValue = maskValues[i];\n        float weight = maskValue * sampledColor.a;\n        sampledColor.rgb = toLinearSpace(sampledColor.rgb);\n        result += sampledColor * weight;\n        sumOfWeights += weight;\n    }\n\n    if(sumOfWeights<0.1){\n        //if the weights are too low, just return the original pixel.\n        return originalColor;\n    }\n        \n    result /= float(sumOfWeights);\n    result.rgb = mix(originalColor.rgb,toGammaSpace(result.rgb),maskValue);\n    result.a = originalColor.a;\n\n    return result;\n}\n"))]},e.prototype.getHeaderCode=function(e){return e(" //".concat(yc,"\n    //disable main texture sampling because this effect overrides it.\n    #define ").concat(al.wO,"\n    ").concat(this._maskLayerName?(0,gc.A)(this._maskLayerName):"","\n    ").concat((0,gc.A)(this._sourceLayerName),"\n    uniform float ").concat(e(bc),";\n    uniform float ").concat(e(xc),";\n    "))},e.prototype.getShaderFunctionBody=function(e){var t=Ll(this._sourceLayerName);return e("//".concat(yc,"\n      {             \n          vec2 sourceTextureUv = ").concat(t?"".concat(il.k.uv,".xy"):"(vec3(".concat(il.k.uv,".x,").concat(il.k.uv,".y,1.0) * ").concat(il.k.singleTileTextureUvTransform,").xy"),";\n          \n          vec2 sourceTextureSizeInPixels = ").concat("".concat(t?il.k.subTexturePixelSize:il.k.fullTexturePixelSize),";\n          \n          gl_FragColor = sampleWithNoiseBlur(                                                                         \n            ").concat((0,rl.X)(this._sourceLayerName),",\n            ").concat(this._maskLayerName?(0,rl.X)(this._maskLayerName)+",":"","\n            sourceTextureUv,\n            ").concat(il.k.uv,".xy,\n            ").concat(e(bc),",\n            ").concat(il.k.subTexturePixelSize,",\n            sourceTextureSizeInPixels,\n            ").concat(e(xc),"\n            );\n\n          mainTextureColor = gl_FragColor;\n      }\n    "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setFloat(t(bc),this._blurRadiusInTexturePixels),e.setFloat(t(xc),this._shouldInvertMask?1:0)},e}(),Cc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wc=function(e){function t(){return e.call(this,"SingleTileMainImageShader",(0,nl.T)("singleTileMain"))||this}return Cc(t,e),t}(lc),Sc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kc=function(e){function t(){return e.call(this,"SingleTileTempShader",(0,nl.T)("singleTileTemp"))||this}return Sc(t,e),t}(lc);var Tc=function(){function e(e,t,n){this._imageEffectRegistry=new Qs,this._blurShader=new _c(t,n,e),this._imageEffectRegistry.registerEffect(function(e){switch(e){case"main":return new cc;case"singleTileMain":return new wc;case"singleTileTemp":return new kc;default:throw new Error("Unhandled source layer name: ".concat(e))}}(t),0),this._imageEffectRegistry.registerEffect(this._blurShader,1)}return e.prototype.getShaderProgramSource=function(){return fl(this._imageEffectRegistry)},e.prototype.getImageEffectRegistry=function(){return this._imageEffectRegistry},e.prototype.setBlurRadiusInTexturePixels=function(e){this._blurShader.setBlurRadiusInTexturePixels(e)},e.prototype.getBlurMaskLayerName=function(){return this._blurShader.getMaskLayerName()},e}(),Ec=n(71198);function Pc(e,t){var n=e.x/e.y;return{x:Math.min(t,Math.floor(n*t)),y:Math.min(t,Math.floor(t/n))}}var Ic=n(2339);function Ac(e){var t=e.getCaps().maxTextureSize;return Math.min(4096,"number"===typeof t&&t||2048)}var Rc=n(62090);var Lc=function(){return Lc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Lc.apply(this,arguments)};function Mc(e,t,n,r,o,i,a,s){var l=Ac(t),u=Pc({x:e.width,y:e.height},l);s||((s=(0,vo.W)()).main=Lc(Lc({},e),{orientation:Ga.Lf}));!function(e,t,n,r,o,i,a,s,l){void 0===s&&(s=!0),void 0===l&&(l=qs.tL);var u=i.x,c=i.y;Bl((0,Rc.p)((0,Vn.U3)(u,c),Vn.Ml,c/2),r,l,n,o,e,t,s,a)}(t,n,i,a,s,u,o,!0)}function Bc(t){var n=(0,e.useContext)(kl.M),r=n.engine,o=n.textureManager,i=n.effectRenderer,a=n.effectWrapperManager,s=(0,e.useContext)(gl.A).renderList,l=(0,e.useContext)(lo.Z).setImageLayer,u=(0,e.useRef)(null);(0,e.useEffect)((function(){u.current=null,l(t,null)}),[t,l]);var c=(0,e.useCallback)((function(){s.requestRender()}),[s]);return(0,e.useCallback)((function(e,n,s,d){if(!r)throw new Error("No engine");if(!o)throw new Error("No texture manager");if(!i)throw new Error("No effect renderer");if(!a)throw new Error("No effect wrapper manager");if(!e)throw new Error("No existing main texture");var p=Ac(r),f=Pc({x:e.width,y:e.height},p),h=u.current||r.createRenderTargetTexture({width:f.x,height:f.y},{generateMipMaps:!1});if(Mc(e,r,i,0,h,n,s,d),null===u.current){u.current=h;var m=new Ec.Dl(h.texture);m.wrapU=Ec.YM.TEXTURE_CLAMP_ADDRESSMODE,m.wrapV=Ec.YM.TEXTURE_CLAMP_ADDRESSMODE;var g={texture:m,dispose:function(){h.dispose()}},v={top:0,left:0,width:f.x,height:f.y},y={width:v.width,height:v.height,orientation:Ga.Lf,parts:[{texture:g.texture,rect:v}]},b={width:v.width,height:v.height,id:"renderedTexture_"+(0,Ic.b)().toString(),texture:y,dispose:g.dispose};l(t,b)}c()}),[r,o,i,a,l,t,c])}var Oc=function(){return Oc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Oc.apply(this,arguments)};function Fc(t,n,r,o){var i=(0,e.useContext)(kl.M),a=i.engine,s=i.textureManager,l=i.effectRenderer,u=i.effectWrapperManager,c=(0,e.useContext)(lo.Z).image,d=o.getBlurMaskLayerName(),p=void 0!==d,f=c&&(0,so.k_)(c)?c.main:null,h=c&&d&&(0,so.k_)(c)?c[d]:null,m=c&&(0,so.k_)(c)?c[t]:null,g=f&&(null===s||void 0===s?void 0:s.getAlreadyLoadedTexture(f)),v=h&&(null===s||void 0===s?void 0:s.getAlreadyLoadedTexture(h)),y=m&&(null===s||void 0===s?void 0:s.getAlreadyLoadedTexture(m)),b=Bc(n);return(0,e.useCallback)((function(e){if(!a)throw new Error("No engine");if(!s)throw new Error("No TextureManager");if(!l)throw new Error("No effect renderer");if(!u)throw new Error("No effect wrapper manager");if(!g)throw new Error("No existing main texture");if(p&&!v)throw new Error("No existing mask texture");o.setBlurRadiusInTexturePixels(e);var n=(0,vo.W)();n[t]=y||null,n.backgroundMask=v||null,n.main=Oc(Oc({},g),{orientation:Ga.Lf}),b(g,r,o.getImageEffectRegistry(),n)}),[t,a,s,l,u,g,v,y,b,r,o,p])}var Dc=n(61403);function Nc(){var t=(0,e.useContext)(lo.Z).image,n=t&&(0,so.k_)(t)?t.main:null,r=(0,e.useContext)(kl.M).textureManager,o=n&&(null===r||void 0===r?void 0:r.getAlreadyLoadedTexture(n));if(o)return o.parts.length>1}function Uc(){var t=Nc();return(0,e.useMemo)((function(){return{pass1SourceLayer:t?"singleTileMain":"main",pass1TargetLayer:"singleTileTemp",pass2SourceLayer:"singleTileTemp",pass2TargetLayer:"singleTileBackground"}}),[t])}function zc(t,n,r,o){var i=Uc(),a=i.pass1SourceLayer,s=i.pass1TargetLayer,l=i.pass2SourceLayer,u=i.pass2TargetLayer,c=Fc(a,s,t,n),d=(0,e.useRef)(c);d.current=c;var p=Fc(l,u,r,o),f=(0,e.useRef)(p);f.current=p;var h=(0,e.useRef)(0);return function(t,n){var r=(0,Dc.H)(t);(0,e.useEffect)((function(){r&&n()}),[r,n])}(l,(0,e.useCallback)((function(){p(.7*h.current)}),[p])),(0,e.useMemo)((function(){return Oa()((function(e){h.current=e,window.requestAnimationFrame((function(){d.current(.3*e),f.current(.7*e)}))}),100,{trailing:!0})}),[])}var jc=n(64570);function Vc(t,n,r,o,i,a,s,l,u,c,d,p){var f=Nc(),h=function(t){var n=hc(),r=(0,e.useRef)(void 0),o=(0,e.useContext)(kl.M).textureManager,i=(0,e.useContext)(lo.Z).image,a=i&&(0,so.k_)(i)?i.main:null;r.current=a&&(null===o||void 0===o?void 0:o.getAlreadyLoadedTexture(a));var s=Bc("singleTileMain");return(0,e.useCallback)((function(){if(!t)throw new Error("No effect wrapper");if(!r.current)throw new Error("No existing main texture");s(r.current,t,n)}),[s,t,n])}(c),m=zc(a,s,l,u),g=function(t,n){var r=Fc(Nc()?"singleTileMain":"main","singleTilePreSharpen",t,n),o=(0,e.useRef)(r);return o.current=r,(0,e.useMemo)((function(){return Oa()((function(e){var t=2*(e-.5),n=8*Math.abs(t);t<0&&(n*=.5),window.requestAnimationFrame((function(){o.current(n)}))}),100,{trailing:!0})}),[])}(d,p),v=(0,e.useContext)(lo.Z).image,y=v&&(0,so.k_)(v)?v.main:null,b=(0,Dc.H)("main"),x=(0,Dc.H)("singleTileMain"),_=(0,e.useRef)(""),C=(0,e.useRef)(""),w=(0,e.useRef)(jc.nS);(0,e.useEffect)((function(){if(n&&y&&b){var e="".concat(y.id,"_").concat(t),a="".concat(y.id,"_").concat(t,"_").concat(i,"_").concat(r),s=f&&x||!f&&b,l=a!==C.current&&s&&r>0,u=f&&_.current!==e,c=o!==w.current&&o!==jc.nS&&s;(u||l||c)&&(u&&(_.current=e),l&&(C.current=a),c&&(w.current=o),setTimeout((function(){u&&h(),l&&m(r),c&&g(o)}),0))}}),[y,t,h,b,i,m,n,r,o,f,x,g])}var Wc=e.memo((function(e){var t=e.mainTextureContentHash,n=e.maskTextureContentHash,r=e.blurRadius,o=e.sharpness;return Vc(t,e.enabled,r,o,n,e.blurPass1EffectWrapper,e.blurPass1EffectRegistry,e.blurPass2EffectWrapper,e.blurPass2EffectRegistry,e.mainImageEffectWrapper,e.preSharpenEffectWrapper,e.preSharpenEffectRegistry),null})),Hc=function(){return Hc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Hc.apply(this,arguments)},qc=e.memo((function(t){var n=Uc(),r=n.pass1SourceLayer,o=n.pass2SourceLayer,i="backgroundMask",a=(0,mc.h)(),s=(0,e.useMemo)((function(){return new Tc(a,r,i)}),[r,i,a]),l=Fl(s.getShaderProgramSource()),u=(0,e.useMemo)((function(){return new Tc(a,o,i)}),[o,i,a]),c=Fl(u.getShaderProgramSource()),d=Fl(function(){if(pc||fc(),!pc)throw new Error("shaderSource is not initialized");return pc}()),p=(0,e.useMemo)((function(){return new Tc(a,r)}),[r,a]),f=Fl(p.getShaderProgramSource());return l&&c&&d&&f?e.createElement(Wc,Hc({blurPass1EffectWrapper:l,blurPass1EffectRegistry:s,blurPass2EffectWrapper:c,blurPass2EffectRegistry:u,mainImageEffectWrapper:d,preSharpenEffectWrapper:f,preSharpenEffectRegistry:p},t)):null})),Kc=function(){return Kc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Kc.apply(this,arguments)},Gc=e.memo((function(t){var n=(0,e.useContext)(kl.M).textureManager,r=(0,e.useContext)(lo.Z).image,o=r&&(0,so.k_)(r)?r.main:null,i=r&&(0,so.k_)(r)?r.backgroundMask:null,a=o&&(null===n||void 0===n?void 0:n.getAlreadyLoadedTexture(o)),s=i&&(null===n||void 0===n?void 0:n.getAlreadyLoadedTexture(i)),l=(0,e.useRef)(!1),u=t.enabled&&a&&s,c=t.enabled&&a&&t.sharpness!==jc.nS;return l.current||u||c?(l.current=!0,e.createElement(qc,Kc({},t))):null})),Zc=n(38400),Xc=(0,kn.Mz)([Zc.n9,function(e,t){return t}],(function(e,t){return e.reduce((function(e,n){return(0,Bn.n)(n.algorithmParameters.layerToPatch,t)&&(e+=n.idValue.toString()+"_"),e}),"")})),Yc=n(34745),Qc=n(82085);var Jc=(0,kn.Mz)([ir.pw,$n.NC,ir.OA],(function(e,t,n){return"BlurredBackground"===n.type?function(e,t){var n=(0,Yc.U4)(Qc.u2,Qc.q1,e);return Math.max(Qc.sR,Qc.Rh*t)*n}(e.blurLevel,Math.max(t.x,t.y)):0})),$c=(0,ge.Ng)((function(e){var t=(0,ha.po)(e)===un.NF,n="BlurredBackground"===(0,ir.OA)(e).type,r=e.colorAdjustments.baseAdjustments.sharpness!==jc.nS;return{mainTextureContentHash:Xc(e,"main"),maskTextureContentHash:Xc(e,"backgroundMask"),blurRadius:Jc(e),sharpness:e.colorAdjustments.baseAdjustments.sharpness,enabled:n||r||t}}),{})(Gc);function ed(e,t){var n=(0,_u.n)(e);if(!n)throw new Error("Invalid Css color string: ".concat(e));return"rgba(".concat(n.r,", ").concat(n.g,", ").concat(n.b,", ").concat(t,")")}function td(t){return(0,e.useMemo)((function(){var e=function(e){if(e){var t=(0,_u.n)(e);return t&&[t.r/255,t.g/255,t.b/255,t.a||1]}}(t),n=qs.Wf;return e&&(n=[e[0],e[1],e[2],1]),n}),[t])}var nd,rd=n(69290),od=function(){return od=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},od.apply(this,arguments)},id=function(){function e(e){this.cache={},this.engine=e}return e.prototype.getEffectWrapper=function(e){var t=e.name;if(this.cache[t])return this.cache[t].effectWrapperPromise;var n=new Ec.$G(od({engine:this.engine},e)),r=new Promise((function(e,t){n.effect.onError=function(e,n){t(n)},n.effect.executeWhenCompiled((function(){e(n)}))}));return this.cache[t]={effectWrapper:n,effectWrapperPromise:r},r},e}();function ad(e,t){switch(t){case nd.ALPHA_COMBINE:null===e||void 0===e||e.alphaState.setAlphaBlendFunctionParameters(WebGL2RenderingContext.SRC_ALPHA,WebGL2RenderingContext.ONE_MINUS_SRC_ALPHA,WebGL2RenderingContext.ONE,WebGL2RenderingContext.ONE),null===e||void 0===e||e.setAlphaMode(Ec.YM.ALPHA_COMBINE);break;case nd.ALPHA_SOURCE_ONLY:null===e||void 0===e||e.alphaState.setAlphaBlendFunctionParameters(WebGL2RenderingContext.ONE,WebGL2RenderingContext.ZERO,WebGL2RenderingContext.ONE,WebGL2RenderingContext.ZERO)}}function sd(e){ad(e,nd.ALPHA_COMBINE)}!function(e){e[e.ALPHA_COMBINE=0]="ALPHA_COMBINE",e[e.ALPHA_SOURCE_ONLY=1]="ALPHA_SOURCE_ONLY"}(nd||(nd={}));var ld=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ud=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ld(t,e),Object.defineProperty(t.prototype,"needPOTTextures",{get:function(){return!1},enumerable:!1,configurable:!0}),t}(Ec.wB);var cd=function(){function e(e,t,n){var r=this;this.getTexture=function(e,t,n,o,i,a){void 0===o&&(o=!1);var s=r.getTextureId(e);if(!(e instanceof HTMLImageElement)||e.complete&&e.currentSrc){var l=r._loadableTexturesMap.has(s)&&r._loadableTexturesMap.get(s);if(l)return l.refCount++,void(l.isLoaded?l.texture&&t({height:l.loadedHeight,width:l.loadedWidth,id:l.id,texture:l.texture}):l.onReadyCallbacksList.push(t));var u=[t],c=r._missingTextureIdToTextureLoadedCallbacksMap.get(s);c&&(u.push.apply(u,c),r._missingTextureIdToTextureLoadedCallbacksMap.delete(s));var d=r._loadableTexturesMap;d.set(s,{id:s,isLoaded:!1,onReadyCallbacksList:u,refCount:1}),(0,so.K8)(e)&&r._disposableTexturesMap.set(s,e.dispose),r._textureLoadFn(e,(function(e,t,n){var r=d.get(s);if(r){var o={id:s,isLoaded:!0,onReadyCallbacksList:r.onReadyCallbacksList,refCount:r.refCount,texture:e,loadedHeight:n,loadedWidth:t};d.set(s,o),o.onReadyCallbacksList.forEach((function(r){r&&r({id:s,height:n,width:t,texture:e})}))}}),(function(e){i(e)}),n,o,a)}else i({id:"ImageNotLoaded",message:"The image ".concat(s," is not yet loaded")})},this.dispose=function(){r._loadableTexturesMap.forEach((function(e){r._disposeTextureById(e.id)})),r._loadableTexturesMap.clear()},this.decrementTextureRefCount=function(e){var t=r._loadableTexturesMap.get(e);t&&(t.refCount<=1?r.releaseTexture(e):t.refCount--)},this.releaseTexture=function(e){r._disposeTextureById(e)},this.getTextureBytes=function(e,t){return r._getTextureBytes(r.getAlreadyLoadedTextureOrThrow(e),t)},this.getTextureSize=function(e){var t=r.getAlreadyLoadedTextureOrThrow(e);return{x:t.width,y:t.height}},this.registerTextureLoadedCallback=function(e,t){var n=r._loadableTexturesMap.get(e);if(n)n&&n.onReadyCallbacksList.push(t),n.isLoaded&&t({id:e,height:n.loadedHeight,width:n.loadedWidth,texture:n.texture});else{var o=r._missingTextureIdToTextureLoadedCallbacksMap.get(e);o?o.push(t):r._missingTextureIdToTextureLoadedCallbacksMap.set(e,[t])}},this.unRegisterTextureLoadedCallback=function(e,t){var n=r._loadableTexturesMap.get(e);n&&(n.onReadyCallbacksList=n.onReadyCallbacksList.filter((function(e){return e!==t})));var o=r._missingTextureIdToTextureLoadedCallbacksMap.get(e);o&&r._missingTextureIdToTextureLoadedCallbacksMap.set(e,o.filter((function(e){return e!==t})))},this._disposeTextureById=function(e){var t;r._disposableTexturesMap.has(e)&&(null===(t=r._disposableTexturesMap.get(e))||void 0===t||t(),r._disposableTexturesMap.delete(e));var n=r._loadableTexturesMap.get(e);(null===n||void 0===n?void 0:n.isLoaded)&&(r._textureUnloadFn(n.texture),r._loadableTexturesMap.delete(e))},this._textureLoadFn=e,this._textureUnloadFn=t,this._getTextureBytes=n,this._loadableTexturesMap=new Map,this._disposableTexturesMap=new Map,this._missingTextureIdToTextureLoadedCallbacksMap=new Map}return e.prototype.getAlreadyLoadedTexture=function(e){var t="string"===typeof e?e:(0,so.f9)(e);return this._getTexture(t)},e.prototype.getAlreadyLoadedTextureOrThrow=function(e){var t=this.getAlreadyLoadedTexture(e);if(!t)throw new Error("texture not found for "+e);return t},e.prototype.getTextureId=function(e){var t=(0,so.f9)(e);if(""===t)throw new Error("Image id cannot be empty");return t},e.prototype._getTexture=function(e){var t=this._loadableTexturesMap.has(e)&&this._loadableTexturesMap.get(e);if(t&&t.isLoaded)return t.texture},e}();function dd(e,t,n){return function(e,t,n){return Math.min(n/e,n/t)}(e,t,Ac(n))<1}function pd(e,t){if(t<=0)throw new RangeError("Invalid max Size");for(var n=[],r=0,o=0;o<e.height;){for(;r<e.width;)n.push({left:e.left+r,top:e.top+o,width:Math.min(e.width-r,t),height:Math.min(e.height-o,t)}),r+=t;r=0,o+=t}return n}var fd=n(92262);function hd(e,t){var n;if((0,so.K8)(e))throw Error("Error: Cannot extract subImage from image of type ImageFromBabylonMultiTexture");return(0,so.OK)(e)?e.renderCanvas(e.canvasMethods.getHTMLCanvas,{x:e.width,y:e.height},t,null!==(n=e.orientation)&&void 0!==n?n:Ga.Lf):t.width===e.width&&t.height===e.height&&0===t.left&&0===t.top?e:(0,so.cy)(e)?function(e,t){if(!(0,so.oR)(e.width,e.height,e.format,e.bytes))throw Error("Error: Could not extract subImage from invalid ImageBytes array");var n=(0,fd.R)(e,e.width,t);return{bytes:n.bytes,format:n.format,width:t.width,height:t.height,id:md(e,t)}}(e,t):function(e,t){var n=document.createElement("canvas");n.width=t.width,n.height=t.height,n.id=md(e,t);var r=n.getContext("2d");if(!r)return;r.drawImage(e,t.left,t.top,t.width,t.height,0,0,t.width,t.height);return n}(e,t)}function md(e,t){return(0,so.f9)(e)+"".concat(t.left,"_").concat(t.top,"_").concat(t.width,"_").concat(t.height)}var gd=n(22744),vd=n(94271);var yd=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},bd=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function xd(e,t,n,r,o,i){return yd(this,void 0,void 0,(function(){var a,s,l,u,c,d=this;return bd(this,(function(p){switch(p.label){case 0:if((0,so.K8)(e))return[2,e.texture];a={top:0,left:0,width:e.width,height:e.height},s=[],p.label=1;case 1:return p.trys.push([1,3,,4]),l=pd(a,o),u=function(o){return yd(d,void 0,void 0,(function(){var a,s,l,u;return bd(this,(function(c){switch(c.label){case 0:return[4,(0,vd.y)()];case 1:if(c.sent(),!(a=hd(e,o)))throw new Error("Failed to create sub texture");return s=function(e,t,n,r){if((0,so.cy)(e))return function(e,t,n,r){if(dd(e.width,e.height,n))return void r({id:"ImageTooBig",message:"The supplied image size of"+" ".concat(e.width,"x").concat(e.height," ")+"exceeds max texture size of ".concat(Ac(n))});var o=function(e){switch(e){case js.A.RGBA:return Ec.YM.TEXTUREFORMAT_RGBA;case js.A.RGB:return Ec.YM.TEXTUREFORMAT_RGB;case js.A.A:return Ec.YM.TEXTUREFORMAT_RED}}(e.format),i=new Uint8Array(e.bytes.buffer,e.bytes.byteOffset,e.bytes.byteLength);return n.createRawTexture(i,e.width,e.height,o,t,!1,Ec.YM.TEXTURE_TRILINEAR_SAMPLINGMODE,null,Ec.YM.TEXTURETYPE_UNSIGNED_BYTE)}(e,t,n,r);if(e instanceof HTMLImageElement)return function(e,t,n,r){var o=void 0,i=function(e){r({id:"CreateTextureFailed",message:"Babylon engine.createTexture failed with message: ".concat(e)})};if(o=n.createTexture(null,!t,!1,null,void 0,null,i,e),!o)return void r({id:"CreateTextureFailed",message:"failed to get canvas from imageElement"});if(o.width!==e.width||o.height!==e.height)throw new Error("Babylon engine.createTexture created a texture with the wrong size");return o.format=Ec.YM.TEXTUREFORMAT_RGBA,o}(e,t,n,r);if(e instanceof HTMLCanvasElement)return function(e,t,n,r){var o,i=function(e){var t=e.width,n=e.height,r=document.createElement("canvas");r.width=t,r.height=n;var o=r.getContext("2d");if(o)return o.scale(1,-1),o.drawImage(e,0,0,t,n,0,0,e.width,-1*e.height),r}(e);if(i){var a=null!==(o=new Ec.tj(i,{generateMipMaps:t,engine:n,samplingMode:Ec.YM.TEXTURE_TRILINEAR_SAMPLINGMODE}).getInternalTexture())&&void 0!==o?o:void 0;return a?a.format=Ec.YM.TEXTUREFORMAT_RGBA:r({id:"CreateTextureFailed",message:"Failed to create HtmlElementTexture"}),a}r({id:"CreateTextureFailed",message:"Failed to flip canvas"})}(e,t,n,r);return}(a,t,n,i),s?((l=new Ec.Dl(null))._texture=s,l.wrapR=Ec.YM.TEXTURE_CLAMP_ADDRESSMODE,l.wrapU=Ec.YM.TEXTURE_CLAMP_ADDRESSMODE,l.wrapV=Ec.YM.TEXTURE_CLAMP_ADDRESSMODE,l.anisotropicFilteringLevel=r,(0,so.OK)(e)&&(u=e.canvasMethods.restoreHTMLCanvas)&&u(),[2,{texture:l,rect:o}]):[2]}}))}))},[4,(0,gd.h)(l,u).promise];case 2:return s=p.sent().filter((function(e){return!!e})),[3,4];case 3:return c=p.sent(),i({id:"CreateTextureFailed",message:c instanceof Error?c.message:"sub texture extraction failed."}),[3,4];case 4:return[2,{width:e.width,height:e.height,parts:s,orientation:(0,Sl.A)(e)}]}}))}))}var _d=n(62919),Cd=n(75795);function wd(e){switch(e){case Ec.YM.TEXTUREFORMAT_RGBA:return js.A.RGBA;case Ec.YM.TEXTUREFORMAT_RGB:return js.A.RGB;case Ec.YM.TEXTUREFORMAT_RED:return js.A.A}throw new Error("babylonJsFormat unsupported")}function Sd(e,t,n){if(!t)throw new Error("engine not available!");if(!t._gl)throw new Error("gl not available!");var r=e.getInternalTexture();if(!r)throw new Error("could not get internal texture!");var o=n.left,i=n.top,a=n.width,s=n.height,l=(0,Ts.x)(js.A.RGBA),u=new Uint8Array(a*s*l);return t._readTexturePixelsSync(r,a,s,void 0,void 0,u,void 0,void 0,o,i),function(e,t,n,r){var o=wd(t),i=(0,Ts.x)(js.A.RGBA),a=(0,Ts.x)(o);if(o!==js.A.RGBA){for(var s=new Uint8ClampedArray(n*r*a),l=0;l<e.length;l+=i)for(var u=0;u<a;u++)s[l/i+u]=e[l+u];return s}return e}(new Uint8ClampedArray(u.buffer,u.byteOffset,u.byteLength),r.format,a,s)}var kd=n(72369),Td=n(6411);function Ed(e,t,n){if(!(0,Cd.uR)({top:t.y,left:t.x,width:e.width,height:e.height},{top:0,left:0,width:n.width,height:n.height}))throw new RangeError("Src of "+e.width+"x"+e.height+" at ("+t.x+","+t.y+") is not within dst "+n.width+"x"+n.height+" to be copied.");if(!(0,so.oR)(e.width,e.height,e.format,e.bytes)||!(0,so.oR)(n.width,n.height,n.format,n.bytes))throw Error("Byte array does not have a valid length.");for(var r=e.bytes,o=n.bytes,i=(0,Ts.x)(e.format),a=e.width*i,s=(n.width-e.width)*i,l=0,u=(t.y*n.width+t.x)*i,c=e.bytes.byteLength;l<c;)o.set(r.subarray(l,l+a),u),l+=a,u+=a+s}function Pd(e,t,n){var r,o;if(0===e.parts.length)throw new Error("BabylonMultiTexture has no parts");var i=null===(o=null===(r=e.parts[0].texture)||void 0===r?void 0:r.getInternalTexture())||void 0===o?void 0:o.format;if(void 0===i)throw new Error("Could not get format from first texture part");var a=wd(i),s=(0,Ts.x)(a),l=new Uint8ClampedArray(t.width*t.height*s);return e.parts.forEach((function(e){!function(e,t,n,r,o){var i=(0,Cd.FR)(t,e.rect);if(i&&(0,kd.I)(i)){var a=(0,Td.w)(i,e.rect),s=e.texture;if(!s)throw new Error("texture part texture is missing");var l=Sd(s,n,a),u=i.left-t.left,c=i.top-t.top;Ed({bytes:l,width:a.width,height:a.height,format:o,id:"src-copyRectangleInMultiTextureFromTexturePartToBytes"},{x:u,y:c},{bytes:r,width:t.width,height:t.height,format:o,id:"dest-copyRectangleInMultiTextureFromTexturePartToBytes"})}}(e,t,n,l,a)})),{bytes:l,format:a}}function Id(t){var n=t?Ac(t):void 0,r=(0,e.useMemo)((function(){if(t){return new cd((function(e,n,r,o,i,a){void 0===i&&(i=!0),void 0===a&&(a=Ec.YM.TEXTURE_DEFAULT_ANISOTROPIC_FILTERING_LEVEL);var s=Ac(t);i=!!(0,Wl.t)(t)&&i;var l=function(){return r({id:"CreateTextureFailed",message:"loadTexture failed to create a texture"})};xd(e,i,t,a,s,r).then((function(t){t?(0,_d.M)(e)?n(t,t.height,t.width):n(t,t.width,t.height):l()})).catch((function(){l()}))}),(function(e){e.parts.forEach((function(e){var t;null===(t=e.texture)||void 0===t||t.dispose()}))}),(function(e,n){return Pd(e,n,t)}))}}),[t]);return function(t){var n=(0,e.useContext)(ve.b).logMaxTextureSizeEvent;(0,e.useEffect)((function(){t&&n({value:t})}),[n,t])}(n),(0,e.useEffect)((function(){return function(){return null===r||void 0===r?void 0:r.dispose()}}),[r]),r}var Ad=n(53011),Rd=n(77990),Ld=n(71898),Md=e.memo((function(t){var n=t.children,r=t.width,o=t.height,i=t.cssWidth,a=t.cssHeight,s=t.tabIndex,l=t.onPointerDown,u=t.onPointerMove,c=t.onPointerUp,d=t.onWheel,p=t.onTouchDown,f=t.onTouchMove,h=t.onTouchUp,m=t.onDoubleTap,g=t.onUnmount,v=t.cssToPhysicalPixelRatio,y=t.color,b=t.isAnimating,x=t.title,_=(0,e.useState)(null),C=_[0],w=_[1],S=(0,e.useState)(0),k=S[0],T=S[1],E=function(t){var n=(0,e.useContext)(Wr.u).disableWebGL2Support,r=(0,e.useRef)(),o=(0,e.useRef)(),i=(0,e.useRef)();return(0,e.useLayoutEffect)((function(){if(t){var e=new ud(t,!1,{alpha:!0,antialias:!1,stencil:!1,depth:!1,disableWebGL2Support:n,xrCompatible:!1}),a=new Ec.J5(e);sd(e),e.setViewport({x:0,y:0,width:1,height:1}),r.current=e,o.current=a,i.current=new id(e)}return function(){var e;null===(e=r.current)||void 0===e||e.dispose(),r.current=void 0,o.current=void 0,i.current=void 0}}),[t,n]),[r.current,o.current,i.current]}(C),P=E[0],I=E[1],A=E[2];!function(t){var n=(0,e.useContext)(ve.b).logWarningEvent;(0,e.useEffect)((function(){if(t){var e=t.onContextLostObservable.add((function(){n({id:"WebGlContextLost",message:"WebGL context was lost on a WebGL canvas."})}));return function(){t.onContextLostObservable.remove(e)}}}),[t,n])}(P),(0,Ad.R)({htmlElement:C,cssToPhysicalPixelRatio:v,onPointerDown:l,onPointerMove:u,onPointerUp:c,onUnmount:g}),(0,Rd.s)(C),(0,Ld.O)(v,C,d),(0,rd.y)(v,C,p,f,h,m);var R=Id(P),L=(0,e.useCallback)((function(){T((function(e){return e+1}))}),[]),M=(0,e.useMemo)((function(){return{canvasContextIsValid:!0,canvas:C||void 0,textureManager:R,engine:P,effectRenderer:I,effectWrapperManager:A,onTextureLoaded:L,numTexturesLoaded:k}}),[C,R,P,I,A,L,k]),B=t.cursor||"default";Dl((0,e.useCallback)((function(){P&&y&&P.clear({r:y[0],g:y[1],b:y[2],a:y[3]},!0,!0)}),[P,y]),-1);var O=(0,e.useContext)(gl.A).renderList;return(0,e.useLayoutEffect)((function(){C&&(C.width=r,C.height=o,O.renderNow())}),[r,o,C,O]),e.createElement(kl.M.Provider,{value:M},e.createElement("canvas",{"data-test-id":b?"canvas-animating":"canvas-idle",tabIndex:s,"aria-hidden":void 0===s||s<0,ref:w,style:{cursor:B,width:i,height:a,touchAction:"none",display:"block",position:"absolute",outline:"none"},title:x}),n)}));function Bd(t,n,r){var o=(0,e.useRef)(t);return{zoomIn:(0,e.useCallback)((function(){r(-ps.YQ),n({type:"Zoom",zoom:o.current})}),[n,r]),zoomOut:(0,e.useCallback)((function(){r(ps.RL),n({type:"Zoom",zoom:o.current})}),[n,r])}}var Od=n(72930),Fd=n(89334),Dd=n(17755),Nd=(0,kn.Mz)([$n.BX],(function(e){return(0,Dd.o8)(e)})),Ud={handlePointerMove:et.Td,handlePointerDown:et.my,handlePointerUp:et.JI,handleMouseWheel:He.tc,handleTouchDown:He.Em,handleTouchMove:He.Vb,handleTouchUp:He.mz,handleDoubleTap:He.aY,handleCleanup:He.P6,handleFrameTick:He.nl,abortCurrentMode:He.Rs,setAriaAnnouncementScenario:Je.Dc,handleZoomDeltaChange:He.w_},zd=(0,ge.Ng)((function(e){var t=e.transformTools,n=t.animations,r=n.needsFrameTick,o=n.image.animatedMatrix,i=t.device.pixelRatio,a=t.view,s=a.viewportPixelSize,l=a.viewportCssSize,u=e.uiState.activeEditorActivity,c=(0,Na.T)(e),d=(0,Na.b)(e),p=o||c,f=(0,Ui.j)(e);return{imageTransformValues:p,imagePixelSize:d,canvasPixelSize:s,canvasCssSize:l,isPointerInImage:(0,Fd.u)(e),isPointerOverCropHandle:Nd(e),cursorStyle:(0,Od.g)(e),cssToPhysicalPixelRatio:i,needsFrameTick:r,currentZoom:f,activeEditorActivity:u}}),Ud)((function(t){var n=t.handlePointerDown,r=t.handlePointerMove,o=t.handlePointerUp,i=t.handleMouseWheel,a=t.handleTouchDown,s=t.handleTouchMove,l=t.handleTouchUp,u=t.handleDoubleTap,c=t.handleCleanup,d=t.handleFrameTick,p=t.abortCurrentMode,f=t.setAriaAnnouncementScenario,h=t.handleZoomDeltaChange,m=t.cssToPhysicalPixelRatio,g=t.needsFrameTick,v=t.canvasPixelSize,y=t.canvasCssSize,b=t.isPointerInImage,x=t.isPointerOverCropHandle,_=t.cursorStyle,C=t.backgroundColor,w=t.currentZoom,S=t.children,k=t.animationSpeedMultiplier,T=t.activeEditorActivity,E=(0,e.useContext)(ke.x).strings,P=td((0,I.D)().palette.neutralLighterAlt),A=(0,e.useMemo)((function(){if(T===un.x8){if(x)return E.crop_cornerTooltip;if(b)return E.crop_rectangleTooltip}}),[T,b,x,E]),R=(0,e.useCallback)((function(e){i(e),f({type:"Zoom",zoom:w})}),[i,f,w]);(0,e.useEffect)((function(){var e=0,t=null!==k&&void 0!==k?k:1;t<=0&&(console.warn("animationSpeedMultiplier ignored. Value must be > 0."),t=1);var n=function(){e=window.requestAnimationFrame(n),d((new Date).getTime()*t)};if(g)return e=window.requestAnimationFrame(n),function(){window.cancelAnimationFrame(e)}}),[g,d,k]);var L=Bd(w,f,h),M=L.zoomIn,B=L.zoomOut;return(0,e.useEffect)((function(){var e=function(e){"Esc"!==e.key&&"Escape"!==e.key||p(),e.ctrlKey&&("+"===e.key||"="===e.key||e.keyCode===_a.CS||e.keyCode===_a.Ts?(e.preventDefault(),M()):"-"!==e.key&&e.keyCode!==_a.rB||(e.preventDefault(),B()))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[p,M,B]),e.createElement(gl.X,null,e.createElement(Md,{width:v.x,height:v.y,color:C||P,cssWidth:y.width,cssHeight:y.height,title:A,cursor:_,onPointerDown:n,onPointerMove:r,onPointerUp:o,onWheel:R,onTouchDown:a,onTouchMove:s,onTouchUp:l,onDoubleTap:u,onUnmount:c,cssToPhysicalPixelRatio:m,isAnimating:g},S))}));function jd(e,t,n,r){if(void 0===n&&(n={left:0,top:0,width:t.x,height:t.y}),e){var o=e({x:n.width,y:n.height},function(e,t,n){return(0,Vn.ZG)((0,Vn.iQ)(-t.left,-t.top),(0,Vn.U3)(e.x,e.y),(0,Vn.eE)((0,Ga.Rb)(n)))}(t,n,r));return o&&(o.id=(0,eo.b)().toString()),null!==o&&void 0!==o?o:void 0}}var Vd=function(){return Vd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Vd.apply(this,arguments)};function Wd(e,t){void 0===t&&(t=void 0);var n=(0,zl.y)(e);if(!n)return null;var r={width:n.x,height:n.y,orientation:(0,Sl._)(e),id:"markupOverlay"+(0,eo.b)().toString()};if(!t){var o=js.A.RGBA,i=n.x*n.y*(0,Ts.x)(o);return Vd(Vd({},r),{bytes:new Uint8ClampedArray(i),format:o})}return t.getHTMLCanvas?Vd(Vd({},r),{canvasMethods:t,renderCanvas:jd}):null}var Hd=e.memo((function(t){var n=t.shouldSetMarkupOverlay,r=t.shouldSetEmptyMarkupOverlay,o=t.currentContentHash,i=t.setWaitingForMarkupOverlayTexture,a=(0,e.useContext)(lo.Z),s=a.image,l=a.setImageLayer,u=(0,e.useContext)(gn.O_),c=u.canvasMethods,d=u.wetCanvasIsReady,p=u.setCanvasMethods,f=(0,e.useRef)((function(){throw new Error("generateMarkupOverlayImage function is empty")})),h=(0,e.useRef)(o),m=(0,e.useCallback)((function(){i(!0),d&&(f.current(),p(gn.OU))}),[p,i,d]);return(0,e.useEffect)((function(){f.current=function(){if(!(c.getHTMLCanvas&&c.restoreHTMLCanvas&&s))throw new Error("canvasMethods missing in generateMarkupOverlayImage");l("overlay",Wd(s,c))}}),[c,s,l]),(0,e.useEffect)((function(){h.current!==o&&(n?m():r&&""===o&&s&&l("overlay",Wd(s)),h.current=o)}),[s,d,p,n,r,i,m,o,l]),(0,e.useEffect)((function(){var e=(0,so.k_)(s)&&s.overlay;n&&!e&&m()}),[d,s,p,i,n,m]),null})),qd={setWaitingForMarkupOverlayTexture:Qe.ed},Kd=(0,ge.Ng)((function(e){var t=e.uiState.activeEditorActivity===un.X4,n=e.markup.markupContentItems.length>0,r=e.markup.undoRedoStack.redoStack.length>0,o=n||r,i=o&&!t&&!!(0,$n.Wi)(e),a=o&&t&&void 0!==e.uiState.nextEditorActivity,s=e.markup.markupContentItems.map((function(e){return"".concat(e.id)})).join("_"),l=!t;return{originalImagePixelSize:e.transformTools.image.originalPixelSize,shouldSetMarkupOverlay:i||a,currentContentHash:s,shouldSetEmptyMarkupOverlay:l}}),qd)(Hd),Gd=(0,e.createContext)({textures:{},urlsById:{},loadUrls:function(){}}),Zd=function(){return Zd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Zd.apply(this,arguments)},Xd=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Yd=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function Qd(t,n){var r=(0,e.useContext)(Wr.u).enableFilters,o=(0,Se.wj)(),i=(0,e.useState)({}),a=i[0],s=i[1],l=(0,e.useCallback)((function(){Gi().then((function(e){var t=e.defaultLutUrlDictionary;s(t)})).catch((function(e){return o({id:"CodeSplitFailed",message:"Failed to load LUT data URLs"})}))}),[o]),u=function(t,n,r,o){var i=this,a=(0,e.useState)({}),s=a[0],l=a[1],u=(0,Se.wj)(),c=(0,e.useCallback)((function(e){return Xd(i,void 0,void 0,(function(){var t;return Yd(this,(function(r){switch(r.label){case 0:return[4,eu(e)];case 1:return t=r.sent(),[2,new Promise((function(r,o){n&&n.getTexture(t,(function(t){r(Zd(Zd({},t),{url:e}))}),hl.lut,!1,(function(e){var t={id:"CreateLutThumbnailTextureFailed",message:"LutThumbnailTexture: "+e.message};u(t),o()}),1)}))]}}))}))}),[u,n]),d=(0,e.useCallback)((function(e){return null===n||void 0===n?void 0:n.decrementTextureRefCount(e)}),[n]);return(0,e.useEffect)((function(){if(t&&r.length>0){var e=!0,n=[],a=(0,gd.h)(r,(function(t){return Xd(i,void 0,void 0,(function(){var r;return Yd(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),Pn(t)&&o[t.lutUrlId]?[4,c(o[t.lutUrlId])]:[3,2];case 1:if(r=i.sent(),e)return n.push(r.id),[2,r];d(r.id),i.label=2;case 2:return[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}}))}))})),s=a.promise,u=a.cancel;return s.then((function(t){if(e){var n={};t.forEach((function(e){return e&&(n[e.url]=e.texture)})),l(n)}}),(function(){})),function(){u(),e=!1,n.forEach((function(e){return d(e)})),n=[],l({})}}}),[r,t,c,d,o]),s}(r,t,n,a);return(0,e.useMemo)((function(){return{textures:u,urlsById:a,loadUrls:l}}),[u,a,l])}var Jd=(0,e.memo)((function(t){var n=t.filters,r=t.children,o=Qd((0,e.useContext)(kl.M).textureManager,n);return e.createElement(Gd.Provider,{value:o},r)})),$d=(0,ge.Ng)((function(e){return{filters:e.filters.availableFilters}}))(Jd),ep=n(30979),tp=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},np=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};var rp=function(e,t){e.width=t.x,e.height=t.y};function op(e,t,n,r){n(),ip(e,t),r.renderNow()}var ip=function(e,t){e.width=t.x,e.height=t.y};function ap(e,t,n,r){return tp(this,void 0,void 0,(function(){var o,i,a,s,l;return np(this,(function(u){switch(u.label){case 0:return o=[null,function(){}],n&&e?(a=function(){},s=new Promise((function(e){return a=e})),l=function(e){i=e,a()},n.getTexture(e,l,t,!0,r),[4,s]):[3,2];case 1:u.sent(),i&&i.texture&&(o=[i.texture,function(){i&&n.decrementTextureRefCount(i.id)}]),u.label=2;case 2:return[2,o]}}))}))}function sp(e,t,n){var r;return tp(this,void 0,void 0,(function(){var o,i,a,s,l,u,c,d;return np(this,(function(p){switch(p.label){case 0:o=(0,vo.W)(),i=[],a=0,s=tl.E,p.label=1;case 1:return a<s.length?(l=s[a],e[l]?[4,ap(null!==(r=e[l])&&void 0!==r?r:void 0,hl[l],t,n)]:[3,3]):[3,4];case 2:u=p.sent(),c=u[0],d=u[1],c&&(o[l]=c,i.push(d)),p.label=3;case 3:return a++,[3,1];case 4:return[2,[o,function(){i.forEach((function(e){return e()}))}]]}}))}))}var lp=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},up=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function cp(e){return lp(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,u,c,d,p,f,h,m,g,v,y,b,x,_,C;return up(this,(function(w){switch(w.label){case 0:return t=e.image,n=e.renderList,r=e.canvas,o=e.renderImage,i=e.textureManager,a=e.customEdits,s=e.errorCallback,l=e.engine,u=e.waitForRenderingToBeReady,c=e.setEffectLevels,d=e.restoreOverlayCanvas,p=e.cropTransformValues,f=e.imageTransformValues,[4,sp(t,i,s)];case 1:return h=w.sent(),m=h[0],g=h[1],null===d||void 0===d||d(),r&&(null===m||void 0===m?void 0:m.main)?(a&&(p=(0,Hn.Vq)(a.cropRectangle),f=(0,Wn.D)(a.imageTransform)),[4,u(m,c)]):[2,null];case 2:return w.sent(),v={x:r.width,y:r.height},y=(0,Hn.SM)(p),rp(r,{x:y.width,y:y.height}),l&&(b=function(e,t,n,r){var o=n.getRenderWidth(),i=n.getRenderHeight(),a=(0,Hn.SM)(e),s=a.width,l=a.height;(0,ep.F)(s)&&(0,ep.F)(l)||r({id:"InvalidInput",message:"Expected integer input values for getTransformsToFitOutputImageInCanvas(). Received cropRectangle values of (width: ".concat(s,", height: ").concat(l,").")});var u=Math.min(o/s,i/l);return u<1?(r({id:"ImageTooBig",message:"Output image was resized because it exceeds max canvas drawing buffer size (width: ".concat(o,", height: ").concat(i,"), use getEditedImageBytes to get the full image data")}),{scaledCropTransform:(0,Vn.ZG)((0,Vn.U3)(u),e),scaledImageTransform:(0,Vn.ZG)((0,Vn.U3)(u),t)}):void 0}(p,f,l,s),b&&(p=b.scaledCropTransform,f=b.scaledImageTransform,y=(0,Hn.SM)(p),rp(r,{x:y.width,y:y.height}))),x=(0,Vn.ZG)((0,Vn.iQ)(-y.left,-y.top),f),_=(0,Vn.ZG)((0,Vn.iQ)(-y.left,-y.top),p),o(x,m,_,c),C=function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return null===n||void 0===n||n.drawImage(e,0,0),t}(r),op(r,v,g,n),C||s({id:"CreateEditedImageFailed",message:"Could not create edited image in HTMLCanvasElement format."}),[2,C]}}))}))}var dp=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},pp=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function fp(e){return dp(this,void 0,void 0,(function(){var t,n,r;return pp(this,(function(o){switch(o.label){case 0:return t=e.getRenderWidth(),n=e.getRenderHeight(),[4,e.readPixels(0,0,t,n,true)];case 1:return r=o.sent(),[2,(0,so.bt)(t,n,js.A.RGBA,new Uint8ClampedArray(r.buffer))]}}))}))}var hp=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},mp=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function gp(e){return hp(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,u,c,d,p,f,h,m,g,v,y,b,x,_,C=this;return mp(this,(function(w){switch(w.label){case 0:return t=e.image,n=e.renderList,r=e.canvas,o=e.renderImage,i=e.textureManager,a=e.customEdits,s=e.errorCallback,l=e.engine,u=e.waitForRenderingToBeReady,c=e.setEffectLevels,d=e.restoreOverlayCanvas,p=e.cropTransformValues,f=e.imageTransformValues,[4,sp(t,i,s)];case 1:return h=w.sent(),m=h[0],g=h[1],null===d||void 0===d||d(),r&&(null===m||void 0===m?void 0:m.main)&&l?(a&&(p=(0,Hn.Vq)(a.cropRectangle),f=(0,Wn.D)(a.imageTransform)),[4,u(m,c)]):[2,null];case 2:w.sent(),v={x:r.width,y:r.height},y=function(e,t){var n=(0,Vn.vt)(e),r=(0,Hn.KN)(t).y;return(0,Rc.p)(n,Vn.Ml,r)}(f,p),b=(0,Hn.SM)(p),x=pd(b,2048),_=(0,so.bt)(b.width,b.height,js.A.RGBA);try{return x.forEach((function(e){return hp(C,void 0,void 0,(function(){var t,n,i,a,s;return mp(this,(function(u){switch(u.label){case 0:return rp(r,{x:e.width,y:e.height}),t=(0,Vn.iQ)(-e.left,-e.top),n=(0,Vn.ZG)(t,y),i=(0,Vn.ZG)(t,p),o(n,m,i,c),[4,fp(l)];case 1:if(!(a=u.sent()))throw new Error("Error: Could not create edited image in ImageBytes format.");return(s=(0,Cd.ez)(e,-b.top,-b.left)).top=b.height-s.top-s.height,Ed(a,{x:s.left,y:s.top},_),[2]}}))}))})),op(r,v,g,n),[2,_]}catch(S){return s({id:"CreateEditedImageFailed",message:S instanceof Error?S.message:"unknown error"}),op(r,v,g,n),[2,null]}return[2]}}))}))}var vp=n(98565),yp=function(){return yp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yp.apply(this,arguments)},bp=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},xp=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};var _p=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Cp="VignetteShader",wp="uCropTransformInverse@",Sp="uLevel@",kp=function(){function e(){this._transform=(0,Vn.uz)(),this._level=0}return e.prototype.setTransform=function(e){this._transform=e},e.prototype.getTransform=function(){return this._transform},e.prototype.setLevel=function(e){this._level=e},e.prototype.getName=function(){return Cp},e.prototype.getUniformNames=function(e){return[e(wp),e(Sp)]},e.prototype.getFunctions=function(e){return[]},e.prototype.getHeaderCode=function(e){return e("\n          //".concat(Cp,"---\n          uniform mat3 ").concat(wp,";\n          uniform float ").concat(Sp,";\n        "))},e.prototype.getShaderFunctionBody=function(e){return e("\n        //".concat(Cp,"---\n        vec3 normalizedPos@ = vec3(").concat(il.k.screenPixelPos,".x, ").concat(il.k.screenPixelPos,".y,1.0) * ").concat(wp,";\n\n        float shouldMix@ = step(0.0, normalizedPos@.x) * step(0.0, normalizedPos@.y) * step(0.0, 1.0 - normalizedPos@.x) * step(0.0, 1.0 - normalizedPos@.y);\n        float dist@ = distance(normalizedPos@.xy, vec2(0.5));\n        float vignetteSize@ = 0.5;\n        float gradient@ = smoothstep(0.8, vignetteSize@ * 0.799, dist@ * (abs(").concat(Sp," * 0.525) + vignetteSize@));\n        vec3 color@ = gl_FragColor.rgb;\n\n        // white\n        if(").concat(Sp,"< 0.) {\n          color@ = mix(vec3(1.), gl_FragColor.rgb, gradient@);\n        }\n\n        // black\n        if(").concat(Sp,"> 0.) {\n          color@ = mix(vec3(0.), gl_FragColor.rgb, gradient@);\n        }\n\n        gl_FragColor.rgb = mix(gl_FragColor.rgb, color@, shouldMix@);\n      "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setMatrix3x3(t(wp),new Float32Array(_p(_p([],(0,Vn.eE)(this._transform),!0),[0,0,1],!1))),e.setFloat(t(Sp),this._level)},e}(),Tp=n(85599);function Ep(){var t=(0,e.useContext)(Wr.u).enableFilters,n=(0,e.useContext)(Gd),r=n.textures,o=n.urlsById,i=n.loadUrls,a=!t||0!==Object.keys(r).length&&0!==Object.keys(o).length;return function(t,n){var r=(0,e.useRef)((function(){})),o=(0,e.useState)((function(){return new Promise((function(e){return r.current=e}))}))[0];return(0,e.useEffect)((function(){t&&r.current()}),[t]),(0,e.useCallback)((function(){return n&&n(),o}),[n,o])}(a,a?void 0:i)}var Pp="level@",Ip="lookup2D@",Ap="uBlueSlicesIn2DLayout@",Rp="uTexSize@",Lp="LutShader",Mp=function(){function e(){this._level=0,this._configuration={numRedSamplesPerSlice:0,numGreenSamplesPerSlice:0,numBlueSlicesPerRowIn2DLayout:0,numBlueSlicesPerColumnIn2DLayout:0}}return e.prototype.setLevel=function(e){this._level=e},e.prototype.getLevel=function(){return this._level},e.prototype.setTexture=function(e){this._texture=e},e.prototype.getTexture=function(){return this._texture},e.prototype.setConfiguration=function(e){this._configuration=e},e.prototype.getConfiguration=function(){return this._configuration},e.prototype.getBlueSlicesIn2DLayout=function(){return{x:this._configuration.numBlueSlicesPerRowIn2DLayout,y:this._configuration.numBlueSlicesPerColumnIn2DLayout}},e.prototype.calculateTextureSize=function(){return(0,Un.DI)(this.getBlueSlicesIn2DLayout(),{x:this._configuration.numRedSamplesPerSlice,y:this._configuration.numGreenSamplesPerSlice})},e.prototype.getUniformNames=function(e){return[e(Pp),e(Ap),e(Rp)]},e.prototype.getSamplerNames=function(e){return[e(Ip)]},e.prototype.getName=function(){return Lp},e.prototype.getFunctions=function(e){return["\nvec4 getColorInLookupTable(in vec4 color, in sampler2D lookupTable, in vec2 blueSlicesIn2DLayout, in vec2 texSize) {\n    color = clamp(color, 0., 1.);\n\n    mediump float unboundBlueSlice = color.b * (blueSlicesIn2DLayout.x * blueSlicesIn2DLayout.y - 1.);\n\n    // Find the nearest lower bound quad location\n    mediump vec2 lowerBoundBlueSlice;\n    lowerBoundBlueSlice.y = floor(floor(unboundBlueSlice) / blueSlicesIn2DLayout.x);\n    lowerBoundBlueSlice.x = floor(unboundBlueSlice) - (lowerBoundBlueSlice.y * blueSlicesIn2DLayout.x);\n\n    // Find the nearest upper bound quad location\n    mediump vec2 upperBoundBlueSlice;\n    upperBoundBlueSlice.y = floor(ceil(unboundBlueSlice) / blueSlicesIn2DLayout.x);\n    upperBoundBlueSlice.x = ceil(unboundBlueSlice) - (upperBoundBlueSlice.y * blueSlicesIn2DLayout.x);\n\n    // Within the slices, find the position of the rg values in UV space\n    highp vec2 texPos1 = (lowerBoundBlueSlice / blueSlicesIn2DLayout) + vec2(0.5, 0.5) / texSize + (((vec2(1., 1.) / blueSlicesIn2DLayout) - vec2(1., 1.) / texSize) * color.rg);\n    highp vec2 texPos2 = (upperBoundBlueSlice / blueSlicesIn2DLayout) + vec2(0.5, 0.5) / texSize + (((vec2(1., 1.) / blueSlicesIn2DLayout) - vec2(1., 1.) / texSize) * color.rg);\n\n    // Get the two colors that we will interpolate in the LUT texture\n    lowp vec4 newColor1 = texture2D(lookupTable, texPos1);\n    lowp vec4 newColor2 = texture2D(lookupTable, texPos2);\n\n    // Interpolate between the two depending on our blue channel\n    lowp vec4 newColor = mix(newColor1, newColor2, fract(unboundBlueSlice));\n    return newColor;\n}"]},e.prototype.getHeaderCode=function(e){return e("\n//look up table effect---\n        uniform float ".concat(Pp,";\n        uniform sampler2D ").concat(Ip,";\n        uniform vec2 ").concat(Ap,";\n        uniform vec2 ").concat(Rp,";\n        "))},e.prototype.getShaderFunctionBody=function(e){return e("\n//look up table effect---\n        vec4 tempColor@ = getColorInLookupTable(gl_FragColor, ".concat(Ip,", ").concat(Ap,", ").concat(Rp,");\n        gl_FragColor.rgb = mix(gl_FragColor.rgb,tempColor@.rgb, ").concat(Pp,");\n        "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setFloat(t(Pp),this._level),this._texture&&e.setTexture(t(Ip),this._texture),e.setVector2(t(Ap),this.getBlueSlicesIn2DLayout()),e.setVector2(t(Rp),this.calculateTextureSize())},e}();function Bp(e){return e.getEffects().find((function(e){return e.getName()===Lp}))}function Op(){var t=(0,e.useContext)(Xs).registry,n=(0,e.useRef)(t);return n.current=t,(0,e.useCallback)((function(e){if(void 0!==e)return!0;if(n.current)return function(e){var t=Bp(e);return void 0!==t&&0!==t.getLevel()}(n.current);throw new Error("effectRegistryRef.current not set in getHasLuts")}),[])}var Fp=n(86354),Dp=n(66169);var Np=6,Up=23,zp=(0,e.forwardRef)((function(t,n){var r=(0,e.useContext)(kl.M),o=r.canvasContextIsValid,i=r.canvas,a=r.engine,s=r.effectRenderer,l=r.textureManager;if(!o)throw new SyntaxError("Invalid BabylonCanvasComponentContext.  The BabylonOffscreenImageRenderConnectImpl component must be used within an BabylonCanvas component");var u=(0,e.useContext)(Xs).registry;if(!u)throw new SyntaxError("Invalid ImageEffectContext.  The BabylonOffscreenImageRenderConnect component must be used within an BabylonImage component");var c=(0,e.useContext)(Gd),d=(0,e.useRef)(c);d.current=c;var p=(0,e.useRef)(void 0),f=function(t){var n=(0,e.useContext)(Xs).registry;if(!n)throw new SyntaxError("Invalid ImageEffectContext.  The BabylonOffscreenImageRenderConnect component must be used within an BabylonImage component");var r=(0,e.useContext)(kl.M).effectWrapperManager,o=Ep(),i=Op();return(0,e.useCallback)((function(e,a){return new Promise((function(s,l){var u=i(a),c=fl(n);if(u&&!Bp(n)){var d=new Mp;n.registerEffect(d,Np)}if(null!==e.overlay&&!(0,Fp.v)(n)){var p=new Dp.y;n.registerEffect(p,Up)}var f=null===r||void 0===r?void 0:r.getEffectWrapper(c);if(!f)return l("missing effect wrapper promise!");f.then((function(e){if(t.current=e,!u)return s();o().then(s,l)}),l)}))}),[o,n,i,r,t])}(p);if(!be().getState().transformTools)throw new Error("Invalid redux store in BabylonOffscreenImageRenderConnect, must contain ITransformToolsState");return function(t,n,r,o,i,a){var s=this,l=(0,e.useContext)(ve.b),u=l.logFailedToGetEditedImageEvent,c=l.logSuperResolutionAppliedEvent,d=(0,e.useContext)(gl.A).renderList,p=(0,e.useContext)(gn.O_).canvasMethods,f=(0,e.useContext)(lo.Z).image,h=(0,e.useRef)(f);h.current=f;var m=(0,e.useContext)($r).resizedImageWithStatus.image,g=(0,e.useRef)(m);g.current=m;var v=(0,Se.wj)(),y=be(),b=(0,e.useCallback)((function(e,t){if(e){var n=Wd(e,p);if(n)return yp(yp({},e),{overlay:n})}return e}),[p]);(0,e.useImperativeHandle)(i,(function(){var e={renderList:d,canvas:t,textureManager:n,engine:a,waitForRenderingToBeReady:o};return{getEditedImageBytes:function(t,n,o,i){return bp(s,void 0,void 0,(function(){var s,l,d,f,h,m,x,_,C,w;return xp(this,(function(S){switch(S.label){case 0:return s=null,a?(null===(w=g.current)||void 0===w?void 0:w.main)&&(0,so.cy)(g.current.main)?(s=g.current.main,c({scenario:"export",isIntentional:!1}),[3,3]):[3,1]:[3,3];case 1:return l=y.getState(),d=l.transformTools,f=d.cropInteraction.uvToWorld,h=d.image,m=h._preciseUvToWorld,x=h.originalPixelSize,_=b(t,x),C=function(e,t,n,o){r(e,t,n,o,i)},[4,gp(yp(yp({},e),{renderImage:C,image:_,cropTransformValues:f,imageTransformValues:m,customEdits:n,errorCallback:v,setEffectLevels:o,restoreOverlayCanvas:p.restoreHTMLCanvas}))];case 2:s=S.sent(),S.label=3;case 3:return s?s.id=(0,vp.g)():u(),[2,s]}}))}))},getEditedImage:function(n,o,i,a){return bp(s,void 0,void 0,(function(){var s,l,c,d,f,h,m,x,_,C;return xp(this,(function(w){switch(w.label){case 0:return s=null,t?(null===(C=g.current)||void 0===C?void 0:C.main)&&(0,so.cy)(g.current.main)?(s=null,v({id:"GetEditedImageFailed",message:"Cannot call getEditedImage when there is a resized image. Must use getEditedImageBytes instead."}),[3,3]):[3,1]:[3,3];case 1:return l=y.getState(),c=l.transformTools,d=c.cropInteraction.uvToWorld,f=c.image,h=f._preciseUvToWorld,m=f.originalPixelSize,x=b(n,m),_=function(e,t,n,o){r(e,t,n,o,a)},[4,cp(yp(yp({},e),{renderImage:_,image:x,cropTransformValues:d,imageTransformValues:h,customEdits:o,errorCallback:v,setEffectLevels:i,restoreOverlayCanvas:p.restoreHTMLCanvas}))];case 2:s=w.sent(),w.label=3;case 3:return s||u(),[2,s]}}))}))},getImageLayerBytes:function(e){var t=h.current;if(!t)throw new Error("texture not found in getImageLayerBytes");var r=t[e],o=r&&(null===n||void 0===n?void 0:n.getAlreadyLoadedTexture(r));if(!o)return Promise.resolve(null);if(!a)throw new Error("engine not defined");var i=o.width,s=o.height,l=Pd(o,{top:0,left:0,width:i,height:s},a),u=l.bytes,c=l.format;return Promise.resolve({bytes:u,width:i,height:s,orientation:void 0,format:c,id:(0,vp.g)()})},getImageRegionLayerBytes:function(e,t){var r=h.current;if(!r)throw new Error("texture not found in getImageLayerBytes");var o=r[e],i=o&&(null===n||void 0===n?void 0:n.getAlreadyLoadedTexture(o));if(!i)return null;if(!a)throw new Error("engine not defined");var s=Pd(i,t,a),l=s.bytes,u=s.format;return{bytes:l,width:t.width,height:t.height,format:u,id:(0,vp.g)()}}}}),[d,t,n,r,a,o,y,b,v,p,u,c])}(i,l,(0,e.useCallback)((function(e,t,n,r,o){var i=void 0,l=function(e,t){var n=void 0,r=e.getEffects().find((function(e){return e.getName()===Cp}));return r&&t&&(n=r.getTransform(),r.setTransform(t)),function(){r&&n&&r.setTransform(n)}}(u,n),c=(0,Tp.G)(u,t.overlay?1:0);if(r&&(i=r(u,{lutTextures:d.current.textures,lutUrlsById:d.current.urlsById})),!p.current)throw new Error("missing effectWrapper!");var f,h=o?{r:(f=o)[0],g:f[1],b:f[2],a:f[3]}:{r:1,g:1,b:1,a:1};null===a||void 0===a||a.clear(h,!0,!1),function(e,t){1===t.a?ad(e,nd.ALPHA_COMBINE):ad(e,nd.ALPHA_SOURCE_ONLY)}(a,h),Bl(e,u,qs.Pw,p.current,t,a,s,!0),function(e){sd(e)}(a),i&&i(),l(),c()}),[u,a,s]),f,n,a),null}));function jp(e){var t=e.toString();return t.includes(".")?t:t+"."}var Vp="CIRCLE_CURSOR_SHADER_NAME",Wp="uCursorScreenPos@",Hp="uRotationInRadians@",qp="uCursorRadius@",Kp=jp(16),Gp=function(){function e(){this._cursorScreenPosition={x:0,y:0},this._animTimeMilliseconds=0,this._cursorRadiusInScreenPixels=20}return e.prototype.setCursorScreenPosition=function(e){this._cursorScreenPosition=e},e.prototype.setAnimTimeMilliseconds=function(e){this._animTimeMilliseconds=e},e.prototype.setCursorRadiusInScreenPixels=function(e){this._cursorRadiusInScreenPixels=e},e.prototype.getName=function(){return Vp},e.prototype.getUniformNames=function(e){return[e(Wp),e(Hp),e(qp)]},e.prototype.getFunctions=function(e){return["\n#ifndef SMOOTH_BUMP\n#define SMOOTH_BUMP\nfloat smoothBump(float x1,float x2, float x3, float x4,float x){\n  return mix(smoothstep(x1,x2,x),1. - smoothstep(x3,x4,x),step(x3,x));\n}\n#endif\n"]},e.prototype.getHeaderCode=function(e){return e("\n        //".concat(Vp,"\n        uniform vec2 ").concat(Wp,";\n        uniform float ").concat(Hp,";\n        uniform float ").concat(qp,";\n        "))},e.prototype.getShaderFunctionBody=function(e){return e("\n            //".concat(Vp,"\n            {\n              float distance@ = distance(").concat(Wp,", ").concat(il.k.screenPixelPos,");                \n              float alpha@ = smoothBump(").concat(qp,"-1.0,").concat(qp,",").concat(qp," + ").concat(jp(1),",").concat(qp," + ").concat(jp(1),"+1.0, distance@);\n\n              if(alpha@ > 0.){\n                vec2 offset@ = normalize(").concat(il.k.screenPixelPos," - ").concat(Wp,"); \n                float theta@ = atan(offset@.y, offset@.x) + ").concat(Hp,";\n                float arcLenth@ = ").concat(qp,"*theta@;\n                float numDashesInCircle@ = ").concat(Kp,";\n                float dashLength@ = 2. * ").concat(Math.PI," * ").concat(qp," / numDashesInCircle@;\n                float lineAlt@ = mod(arcLenth@, dashLength@ * 2.);\n                float bumpVal@ = smoothBump(dashLength@ * 0.5 - 0.5,dashLength@ * 0.5 + 0.5,dashLength@ * 1.5 - 0.5,dashLength@ * 1.5 + 0.5,  lineAlt@);\n                vec4 color1@ = vec4(1., 1., 1., 1.);\n                vec4 color2@ = vec4(0., 0., 0., 1.);\n                gl_FragColor =  mix(gl_FragColor,mix(color1@,color2@, bumpVal@), alpha@);\n              }\n            }\n        "))},e.prototype.getRotationInRadians=function(){return-2*Math.PI*(this._animTimeMilliseconds%5e3)/5e3},e.prototype.onBeforeBabylonRender=function(e,t){e.setFloat2(t(Wp),this._cursorScreenPosition.x,this._cursorScreenPosition.y),e.setFloat(t(Hp),this.getRotationInRadians()),e.setFloat(t(qp),this._cursorRadiusInScreenPixels)},e}(),Zp=n(88114);function Xp(t,n,r){void 0===r&&(r=!0);var o=(0,e.useContext)(Xs).registry;if(!o)throw new Error("effectRegistry missing in useRegisterShaderEffect");var i=(0,e.useRef)(),a=(0,e.useCallback)((function(){i.current&&(o.unRegisterEffect(i.current),i.current=void 0)}),[o]);r?i.current!==t&&(a(),o.registerEffect(t,n),i.current=t):a(),(0,e.useLayoutEffect)((function(){return function(){a()}}),[a])}var Yp=function(t){var n=t.cursorScreenPosition,r=t.enabled,o=t.cursorRadiusInScreenPixels,i=t.order,a=t.disableAnimation,s=(0,e.useMemo)((function(){return new Gp}),[]);s.setCursorScreenPosition(n);var l=(0,e.useState)(0),u=l[0],c=l[1];return(0,e.useEffect)((function(){if(!a&&r){var e=setInterval((function(){c((new Date).getTime())}),100);return function(){clearInterval(e)}}}),[a,r,c]),s.setAnimTimeMilliseconds(u),s.setCursorRadiusInScreenPixels(o),vl([n.x,n.y,u,o]),Xp(s,i,r),null},Qp=function(){return Qp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qp.apply(this,arguments)},Jp=e.memo((function(t){var n=ml();return e.createElement(Xs.Provider,{value:{registry:n}},t.children,e.createElement(Ul,Qp({},t)))}));var $p=(0,e.memo)((function(t){var n,r,o=t.cursorScreenPosition,i=t.cursorContainerSizeInScreenPixels,a=t.cursorRadiusInScreenPixels,s=t.visible,l=t.pointerIsDown,u=t.disableAnimation,c=(0,Zp.B)(),d=(n={width:i,height:i},r=o,(0,e.useMemo)((function(){return r?(0,Hn.Vq)(function(e,t){return{left:e.x-t.width/2,top:e.y-t.height/2,width:t.width,height:t.height}}(r,n)):void 0}),[r,n]));return d&&o?e.createElement(Jp,{key:c,transform:d,color:qs.Wf,zIndex:2},e.createElement(Yp,{cursorScreenPosition:o,cursorRadiusInScreenPixels:a,enabled:s&&!l,disableAnimation:u,order:0})):null})),ef=n(68789),tf=n(70011),nf=n(20791),rf=(0,kn.Mz)([Ui.j,tf.ZU],(function(e,t){return(0,nf.Y)(t,e)})),of=(0,ge.Ng)((function(e){var t=rf(e),n=2*(t+1);return{cursorScreenPosition:(0,tf.AZ)(e),cursorContainerSizeInScreenPixels:n,visible:(0,ef.D)(e),cursorRadiusInScreenPixels:t,pointerIsDown:(0,$n.An)(e)}}))($p),af=function(t){var n=t.canvasPixelSize,r=t.pointerPos,o=t.visible,i=td((0,I.D)().palette.neutralPrimary);if(!r)return null;var a=e.createElement(e.Fragment,null),s=e.createElement(e.Fragment,null);if(o){var l={left:0,top:r.y,width:n.x,height:1};a=e.createElement(Jp,{zIndex:2,color:i,transform:(0,Hn.Vq)(l)});var u={left:r.x,top:0,width:1,height:n.y};s=e.createElement(Jp,{zIndex:2,color:i,transform:(0,Hn.Vq)(u)})}return e.createElement(e.Fragment,null,a,s)},sf=(0,ge.Ng)((function(e){var t=e.transformTools.view.viewportPixelSize,n=(0,Ur.IG)(e);return{canvasPixelSize:t,pointerPos:(0,tf.AZ)(e),visible:"selectingRectangle"===n}}),{})(af),lf=n(28556),uf=n(69148),cf=n(81552),df="RectangleSoftnessShader",pf="uSoftness@",ff="uAspectRatio@",hf=function(){function e(){this._softness=0,this._aspectRatio=1}return e.prototype.setSoftness=function(e){this._softness=e},e.prototype.setAspectRatio=function(e){this._aspectRatio=e},e.prototype.getName=function(){return df},e.prototype.getUniformNames=function(e){return[e(pf),e(ff)]},e.prototype.getFunctions=function(e){return[]},e.prototype.getHeaderCode=function(e){return e("\n        //".concat(df,"---\n        uniform float ").concat(pf,";\n        uniform float ").concat(ff,";\n        "))},e.prototype.getShaderFunctionBody=function(e){var t=il.k.uv;return e("\n    // ".concat(df,"---\n    {\n      float softnessAlpha = 1.;\n      vec2 size = vec2(1.0, 1.0 / ").concat(ff,");\n      float offset = min(size.x, size.y) * 0.5 * ").concat(pf,";\n      vec2 pos = ").concat(t,".xy * size;\n      float distanceFromOffset = 0.;\n      float T = offset;\n      float L = offset;\n      float B = size.y - offset;\n      float R = size.x - offset;\n      if (pos.x < L) {\n        if (pos.y < T) {\n          vec2 TL = vec2(L, T);\n          distanceFromOffset = distance(TL, pos);\n        } else if (pos.y > B) {\n          vec2 BL = vec2(L, B);\n          distanceFromOffset = distance(BL, pos);\n        } else {\n          distanceFromOffset = L - pos.x;\n        }\n      } else if (pos.x > R) {\n        if (pos.y < T) {\n          vec2 TR = vec2(R, T);\n          distanceFromOffset = distance(TR, pos);\n        } else if (pos.y > B) {\n          vec2 BR = vec2(R, B);\n          distanceFromOffset = distance(BR, pos);\n        } else {\n          distanceFromOffset = pos.x - R;\n        }\n      } else {\n        if (pos.y < T) {\n          distanceFromOffset = T - pos.y;\n        } else if (pos.y > B) {\n          distanceFromOffset = pos.y - B;\n        }\n      }\n      softnessAlpha = 1. - smoothstep(0.,offset,distanceFromOffset);\n      gl_FragColor.a *= softnessAlpha;\n    }\n    "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setFloat(t(pf),this._softness),e.setFloat(t(ff),this._aspectRatio)},e}(),mf=(0,e.memo)((function(t){var n=t.softness,r=t.aspectRatio,o=t.order,i=(0,e.useMemo)((function(){return new hf}),[]);return i.setSoftness(n),i.setAspectRatio(r),vl([n,r]),Xp(i,o,0!==n),null})),gf=(0,e.memo)((function(t){var n=t.imageUvToView,r=t.selectedUvPositions,o=t.isVisible,i=t.softness;if(!o)return null;var a=(0,uf.J)(r,n);if(!a)return null;var s=a.width/a.height,l=(0,lf.h)(r,n);return l?e.createElement(Jp,{key:"MaskingRectangleSelection",transform:(0,Vn.ZG)(n,l),color:cf.mK,zIndex:2},e.createElement(mf,{softness:i,aspectRatio:s,order:0})):null})),vf=n(28019),yf=(0,ge.Ng)((function(e){var t=(0,Rr.c)(e),n=(0,Ur.IG)(e);return{selectedUvPositions:(0,Ur.Vv)(e),imageUvToView:t,isVisible:"selectingRectangle"===n,softness:(0,vf.ur)(e)}}),{})(gf),bf=n(82258);function xf(e){return function(e){for(var t=e.length,n=new Uint8ClampedArray(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n}(window.atob(e))}var _f=n(46115),Cf=function(){return Cf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Cf.apply(this,arguments)},wf=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Sf=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},kf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Tf=(0,e.forwardRef)((function(t,n){var r=(0,bf.B)();return(0,e.useImperativeHandle)(n,(function(){return{getTexturePatchCache:function(){return r},deserializeTexturePatches:function(e){return wf(void 0,void 0,void 0,(function(){var t,n,o,i;return Sf(this,(function(a){switch(a.label){case 0:if(!r)throw new Error("Texture patch cache not initialized");t=0,n=e,a.label=1;case 1:return t<n.length?(o=n[t],i=o.parts.map((function(e){var t=e.updatedSubPixelsDataUri,n=e.originalSubPixelsDataUri,r=e.updatedFormat,o=e.originalFormat,i=kf(e,["updatedSubPixelsDataUri","originalSubPixelsDataUri","updatedFormat","originalFormat"]),a=xf(t),s=xf(n);return(0,_f.Y)(Cf({updatedSubPixels:{bytes:a,format:r},originalSubPixels:{bytes:s,format:o}},i))})),[4,r.add({id:o.id,parts:i,imageId:o.imageId})]):[3,4];case 2:a.sent(),a.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}}}),[r]),null})),Ef="\nvec4 threeColorGradientAt(vec4 color1,vec4 color2,vec4 color3,vec3 stops,float t){\n    float t1 = stops[0];\n    float t2 = stops[1];\n    float t3 = stops[2];\n    t = clamp(t,0.,1.);\n    float w1 = 1.0 - smoothstep(t1, t2, t);\n    float w2 = min(smoothstep(t1, t2, t),smoothstep(t3, t2,t));\n    float w3 = smoothstep(t2,t3, t);\n    return w1 * color1 + w2 * color2 + w3 * color3;\n  }\n",Pf=n(61540),If=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Af="AnimatingBorderShader",Rf="uInnerRectangleTransformInverse@",Lf="uColor1@",Mf="uColor2@",Bf="uColor3@",Of="uStops@",Ff="uRotationOffset@",Df=[{color:(0,Pf.i)("#98ECFE",1),stopPercent:.35},{color:(0,Pf.i)("#0093F9",1),stopPercent:.7},{color:(0,Pf.i)("#003D92",1),stopPercent:.9}],Nf=[Df[0].stopPercent,Df[1].stopPercent,Df[2].stopPercent],Uf=function(){function e(){this._transform=(0,Vn.uz)(),this._rotationOffset=0}return e.prototype.setTransform=function(e){this._transform=e},e.prototype.setRotationOffset=function(e){this._rotationOffset=e},e.prototype.getName=function(){return Af},e.prototype.getUniformNames=function(e){return[e(Rf),e(Lf),e(Mf),e(Bf),e(Of),e(Ff)]},e.prototype.getFunctions=function(e){return[Ef]},e.prototype.getHeaderCode=function(e){return e("\n        //".concat(Af,"---\n        uniform mat3 ").concat(Rf,";\n        uniform vec4 ").concat(Lf,";\n        uniform vec4 ").concat(Mf,";\n        uniform vec4 ").concat(Bf,";\n        uniform vec3 ").concat(Of,";\n        uniform float ").concat(Ff,";\n        "))},e.prototype.getShaderFunctionBody=function(e){return e("\n            //".concat(Af,"---\n            {\n              \n              vec3 normalizedPos = vec3(").concat(il.k.screenPixelPos,".x,").concat(il.k.screenPixelPos,".y,1.0) * ").concat(Rf,";\n\n              float isOutsideInnerRectangle = 1. - step(0.0, normalizedPos.x) * step(0.0, normalizedPos.y) * step(0.0, 1.0 - normalizedPos.x) * step(0.0, 1.0 - normalizedPos.y);\n              \n              float x = mix(-1.,1.,").concat(il.k.uv,".x);\n              float y = mix(-1.,1.,").concat(il.k.uv,".y);\n              float PI = 3.141592;\n              float angle = atan(x,y);\n              float normalizedAngle = (angle + PI) / (2.0 * PI);\n\n              float speedMultiplier = 0.5;//decrease speed by half because there are two gradients per full rotation.              \n              //makes two gradients, that are mirrors of each other, so that there is no seam.\n              float t = abs(mix(-1.,1.,mod(normalizedAngle + ").concat(Ff,"*speedMultiplier, 1.0)));\n              \n              vec4 gradientColor = threeColorGradientAt(").concat(Lf,",").concat(Mf,",").concat(Bf,",").concat(Of,",t); \n              gl_FragColor = mix(vec4(gl_FragColor.r,gl_FragColor.g,gl_FragColor.b,0.), gradientColor, isOutsideInnerRectangle);\n            }\n        "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setFloat4.apply(e,If([t(Lf)],Df[0].color,!1)),e.setFloat4.apply(e,If([t(Mf)],Df[1].color,!1)),e.setFloat4.apply(e,If([t(Bf)],Df[2].color,!1)),e.setFloat3.apply(e,If([t(Of)],Nf,!1)),e.setFloat(t(Ff),this._rotationOffset),e.setMatrix3x3(t(Rf),new Float32Array(If(If([],(0,Vn.eE)(this._transform),!0),[0,0,1],!1)))},e}(),zf=75/700;var jf=function(t){var n=t.transform,r=t.order,o=(0,e.useMemo)((function(){return new Uf}),[]);return o.setTransform(n),vl(n),Xp(o,r),function(t){var n=(0,e.useContext)(gl.A).renderList;(0,e.useEffect)((function(){if(n){var e=0,r=setInterval((function(){e+=zf,t.setRotationOffset(e),n.requestRender()}),75);return function(){clearInterval(r)}}}),[t,n])}(o),null},Vf=(0,e.memo)((function(t){var n=t.innerRectangleTransform,r=t.outerRectangleTransform;return e.createElement(Jp,{transform:r,zIndex:4},e.createElement(jf,{transform:n,order:0}))})),Wf=(0,ge.Ng)((function(e){var t=ju(e),n=e.transformTools.device.pixelRatio,r=Math.round(5*n),o=e.transformTools.view.viewportPixelSize,i={top:r,left:r,width:o.x-2*r,height:o.y-2*r},a=(0,Hn.SM)(t),s=(0,Cd.FR)(i,a),l=s?(0,Hn.Vq)(s):t;return{innerRectangleTransform:l,outerRectangleTransform:(0,Vn.Aj)(l,r)}}))(Vf),Hf=(0,e.memo)((function(t){return t.hasFullImageTexturePatchRequest?e.createElement(Wf,null):null})),qf=n(46081),Kf=(0,kn.Mz)([Zc.bq],(function(e){return e.some((function(e){return e.maskParameters.maskType===qf.D.FullImageMask&&(0,Bn.n)(e.algorithmParameters.layerToPatch,"backgroundMask")}))})),Gf=(0,ge.Ng)((function(e){return{hasFullImageTexturePatchRequest:Kf(e)}}))(Hf),Zf=n(22654),Xf=n(76984),Yf=(0,e.memo)((function(t){var n=t.allTexturePatchRequests,r=(0,Zf.z)(),o=(0,Xf.M)(n);return!r&&o?e.createElement(Wf,null):null})),Qf=(0,ge.Ng)((function(e){return{allTexturePatchRequests:(0,Lr.N)(e)}}))(Yf),Jf="CirclePlaceHolderShader",$f=function(){function e(){}return e.prototype.getName=function(){return Jf},e.prototype.getUniformNames=function(e){return[]},e.prototype.getFunctions=function(e){return[]},e.prototype.getHeaderCode=function(e){return""},e.prototype.getShaderFunctionBody=function(e){return e("\n      //".concat(Jf," ---\n      {\n        vec2 uvCenter = vec2(0.5,0.5);\n        float distanceFromCenter = length(").concat(il.k.uv,".xy - uvCenter);\n        finalAlphaMultiply =  1. - smoothstep(0.48,0.5,distanceFromCenter);\n      }  \n      "))},e.prototype.onBeforeBabylonRender=function(e,t){},e}(),eh=function(t){var n=t.enabled,r=void 0===n||n,o=t.order;return Xp((0,e.useMemo)((function(){return new $f}),[]),o,!!r),null},th=[.929,.922,.914,.8],nh=[.784,.776,.769,.8];function rh(t,n,r,o,i,a){void 0===a&&(a=100);var s=(0,e.useState)(n),l=s[0],u=s[1];return(0,e.useEffect)((function(){if(t){var e=Date.now(),s=setInterval((function(){var t=Date.now()-e;if(t<o)u(n);else{var a=.5+.5*Math.sin((t-o)*Math.PI*2/i);u(function(e,t,n){return[(0,Yc.Cc)(e[0],t[0],n),(0,Yc.Cc)(e[1],t[1],n),(0,Yc.Cc)(e[2],t[2],n),(0,Yc.Cc)(e[3],t[3],n)]}(n,r,a))}}),a);return function(){clearInterval(s)}}u(n)}),[t,n,r,o,i,a]),l}var oh=(0,e.memo)((function(t){var n=t.allTexturePatchRequests,r=t.imageUvToView,o=t.disabled,i=function(e,t){void 0===t&&(t=th);var n=rh(e,th,nh,3e3,2e3);return e?n:t}(0!==n.length);return!(0,e.useContext)(lo.Z).image||o?null:e.createElement(e.Fragment,null,n.map((function(t){var n=t.maskParameters,o=n.maskType===qf.D.RectangleMask||n.maskType===qf.D.CircleMask?n.rectUvToImageUv:void 0;return void 0!==o?e.createElement(Jp,{key:t.idValue,transform:(0,Vn.ZG)(r,o),color:i,zIndex:2},n.maskType===qf.D.CircleMask&&e.createElement(eh,{order:0})):null})))})),ih=(0,ge.Ng)((function(e){var t=e.uiState.activeEditorActivity===un.NF&&!(0,ir.ui)(e),n=(0,Rr.c)(e);return{allTexturePatchRequests:(0,Lr.N)(e),imageUvToView:n,disabled:t}}))(oh),ah=n(66788),sh=n(10499),lh=(0,kn.Mz)([$n.b7,$n.Wg],(function(e,t){return(0,sh.Ie)(e,t)})),uh=(0,kn.Mz)([function(e){return(0,ah.ec)(e.transformTools.animations.gridLineVisibility,e.transformTools.animations.currentTime,sh.O$)},function(e){return(0,ah.ec)(e.transformTools.animations.dismissGridLineVisibility,e.transformTools.animations.currentTime,sh.JV)},$n.Hx,$n.PO,$n.ln,$n.Wg],(function(e,t,n,r,o,i){return(0,sh.Jm)(n,r,o,e,t,i)})),ch=n(44121),dh="\nfloat shadowLevel(vec2 shadowPos, mat3 handleTransform, mat3 cropTransform) {\n  #define shadowSamples 15\n  float angle = 0.;\n  float total = 0.;\n  float fSamples = float(shadowSamples);\n\n  for(int i = 0; i < shadowSamples; i++) {\n    float normalizedRadius = sqrt(float(i + 1) / fSamples);\n    float r = 5. * normalizedRadius;\n    vec2 sampleDir = vec2(cos(angle), sin(angle));\n    total += handleShape(shadowPos + sampleDir * r, handleTransform, cropTransform);\n    angle += 2.39996;\n  }\n\n  return total / fSamples;\n}\n",ph="\nfloat inTransform(mat3 posToUv, vec2 pixelPos){\n  vec3 uv = vec3(pixelPos, 1.) * posToUv;\n  if(uv.x < 0. || uv.x > 1. || uv.y < 0. || uv.y > 1.) {\n    return 0.;\n  }\n  return 1.;\n}\n",fh="\nfloat handleShape(in vec2 pixelPos, mat3 handleTransform, mat3 cropTransform) {\n  float inCrop = inTransform(cropTransform, pixelPos);\n  float inHandleRect = inTransform(handleTransform, pixelPos);\n  return clamp(inHandleRect - inCrop, 0., 1.);\n}\n",hh="\nvec4 cropHandle(in vec4 handleColor, in vec2 pixelPos, mat3 handleTransform, mat3 cropTransform, float shadowSize) {\n  vec4 fragColor = vec4(0.);\n  vec2 shadowOffset = vec2(0., 3.);\n  vec4 shadowColor = vec4(vec3(0.), 0.33);\n\n  float inHandle = handleShape(pixelPos, handleTransform, cropTransform);\n  if(inHandle >= 1. ) { //if we are in the shape, no need to calculate the shadow.\n      return mix(fragColor, handleColor, handleColor.a);\n  } else {\n    vec2 shadowPos = pixelPos - shadowOffset;\n    float shadowBlend = shadowLevel(shadowPos, handleTransform, cropTransform);\n    return mix(fragColor, shadowColor, shadowBlend);\n  }\n}\n",mh=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},gh="CropHandleShapeShader",vh="uShadowSize@",yh="uCropTransformInverse@",bh="uHandleTransformInverse@",xh=function(){function e(){this._shadowSize=3,this._cropTransform=(0,Vn.uz)(),this._handleTransform=(0,Vn.uz)()}return e.prototype.setShadowSize=function(e){this._shadowSize=e},e.prototype.setCropTransform=function(e){this._cropTransform=e},e.prototype.setHandleTransform=function(e){this._handleTransform=e},e.prototype.getName=function(){return gh},e.prototype.getUniformNames=function(e){return[e(vh),e(yh),e(bh)]},e.prototype.getFunctions=function(){return[ph,fh,dh,hh]},e.prototype.getHeaderCode=function(e){return e("//".concat(gh,"---\n        uniform float ").concat(vh,";\n        uniform mat3 ").concat(yh,";\n        uniform mat3 ").concat(bh,";\n    "))},e.prototype.getShaderFunctionBody=function(e){return e("//".concat(gh,"---\n        gl_FragColor = cropHandle(gl_FragColor,").concat(il.k.screenPixelPos,".xy,").concat(bh,",").concat(yh,",").concat(vh,");\n        "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setFloat(t(vh),this._shadowSize),e.setMatrix3x3(t(yh),new Float32Array(mh(mh([],(0,Vn.eE)(this._cropTransform),!0),[0,0,1],!1))),e.setMatrix3x3(t(bh),new Float32Array(mh(mh([],(0,Vn.eE)(this._handleTransform),!0),[0,0,1],!1)))},e}(),_h=function(t){var n=t.visible,r=t.shadowSize,o=t.cropTransform,i=t.handleTransform,a=t.order,s=(0,e.useMemo)((function(){return new xh}),[]);return s.setShadowSize(r),s.setCropTransform(o),s.setHandleTransform(i),vl([n]),Xp(s,a,n),null},Ch=n(2171),wh=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Sh="u_FillColor",kh="a_VerticesData",Th={name:"VertexListRender",attributeNames:[kh],uniformNames:[Sh],vertexShader:"\n  attribute vec2 ".concat(kh,";\n  void main(void) {\n      gl_Position = vec4(").concat(kh,".xy, 0., 1.);\n  }"),fragmentShader:"\n  uniform vec4 ".concat(Sh,";\n  void main(void) {\n      gl_FragColor = ").concat(Sh,";\n  }")};var Eh=function(t){var n=t.transform,r=t.canvasSize,o=t.zIndex,i=td((0,I.D)().palette.neutralDark),a=function(t,n,r){var o=(0,e.useState)(),i=o[0],a=o[1],s=(0,e.useState)(),l=s[0],u=s[1],c=(0,e.useMemo)((function(){return new Float32Array(2*n)}),[n]),d=(0,e.useContext)(kl.M).engine,p=Fl(Th);return(0,e.useEffect)((function(){var e,t=new Float32Array(2*n);if(d&&p){var r=((e={})[kh]=new Ec.Rc(d,t,kh,!0,!1,2,!1),e);if(d.webGLVersion>=2){var o=d.recordVertexArrayObject(r,null,p.effect);return d.bindVertexArrayObject(o,null),u(o),a(r),function(){d.releaseVertexArrayObject(o),r[kh].dispose()}}return d.bindBuffers(r,null,p.effect),a(r),function(){r[kh].dispose()}}}),[d,p,n]),[(0,e.useCallback)((function(e){c.set(e)}),[c]),(0,e.useCallback)((function(){if(d&&p&&i&&c){var e=p.effect;d.enableEffect(e),i[kh].update(c),l?d.bindVertexArrayObject(l,null):d.bindBuffers(i,null,p.effect),e.setFloat4.apply(e,wh([Sh],r,!1)),d.drawArraysType(t,0,n)}}),[d,p,c,t,n,i,l,r])]}(Ec.YM.MATERIAL_LineLoopDrawMode,4,i),s=a[0],l=a[1],u=(0,e.useMemo)((function(){return(0,Vn.ZG)((0,Vn.iQ)(-1,1),(0,Vn.U3)(2/r.x,-2/r.y),(0,Vn.Aj)(n,.5))}),[n,r]);return vl(u),(0,e.useLayoutEffect)((function(){var e=(0,Vn.bi)(u).reduce((function(e,t){return e.push(t.x,t.y),e}),[]);s(e)}),[r,u,s]),Dl(l,o),null};var Ph=function(t){var n=t.cropTransform,r=t.handlePos,o=t.cropHandlePhysicalPixelSize,i=t.zIndex,a=t.cssToPhysicalPixelRatio,s=t.canvasSize,l=t.visible,u=t.isFocused,c=td((0,I.D)().palette.neutralDark),d=3*(a=a||1),p=function(e,t,n,r){var o=(0,Ch.yU)(e),i=(0,Vn.Zv)(r),a=(0,Vn.AG)(r),s=t,l=t,u=(0,Un.jR)((0,Vn.bq)(r)),c=(0,Un.jR)((0,Vn.YH)(r)),d=3*t+2;u<d&&(s=Math.round((u-2)/3),s=Math.max(s,n)),c<d&&(l=Math.round((c-2)/3),l=Math.max(l,n));var p=(0,Un.Bp)((0,Vn.vo)(r,o),(0,Un.If)((0,Un.m1)(i,(0,Yc.Cc)(n,s-n,o.x)),(0,Un.m1)(a,(0,Yc.Cc)(n,l-n,o.y)))),f=(0,Vn.ao)(r);return(0,Wn.D)({x:p.x,y:p.y,width:s,height:l,rotation:f})}(r,o,Math.round(3*a),n),f=(0,Vn.Aj)(p,2*d),h=(0,Vn.Aj)(p,Math.round(4*a));return e.createElement(e.Fragment,null,e.createElement(Jp,{zIndex:i,color:c,transform:f},e.createElement(_h,{shadowSize:d,visible:l,cropTransform:n,handleTransform:p,order:0})),u&&e.createElement(Eh,{canvasSize:s,transform:h,zIndex:i+1}))},Ih=n(3493);var Ah="a_lineData",Rh="u_lineAlpha",Lh={name:"GridLines",attributeNames:[Ah],uniformNames:[Rh],vertexShader:"\n  attribute vec3 ".concat(Ah,";\n  varying float distanceFromBeginningOfTheLine;\n  varying vec2 vPos;\n  void main(void) {\n      vPos =  ").concat(Ah,".xy;\n      distanceFromBeginningOfTheLine = ").concat(Ah,".z;\n      gl_Position = vec4(").concat(Ah,".xy, 0., 1.);\n  }"),fragmentShader:"\n  varying vec2 vPos;\n  varying float distanceFromBeginningOfTheLine;\n  uniform float ".concat(Rh,";\n  void main(void){\n      float lineAlt = step(mod(distanceFromBeginningOfTheLine, ").concat(8,".0 * 2.0), ").concat(8,".0);\n      vec3 currentLineCurrentPixelColor = mix(vec3(1.0,1.0,1.0), vec3(0.8,0.8,0.8), lineAlt);\n      vec4 targetColorWithAlpha = vec4(currentLineCurrentPixelColor, ").concat(Rh," * ").concat(.75,");\n      gl_FragColor = targetColorWithAlpha;\n  }")},Mh=function(t){var n=t.linesCount,r=t.cropRect,o=t.alpha,i=t.canvasSize,a=(0,e.useContext)(kl.M).engine,s=Fl(Lh),l=(0,e.useState)(),u=l[0],c=l[1],d=(0,e.useState)(),p=d[0],f=d[1],h=2*n,m=(0,e.useMemo)((function(){return(0,Cd.Af)(r,i.x,i.y)}),[r,i]),g=(0,e.useMemo)((function(){return new Float32Array(6*h)}),[h]);return(0,e.useLayoutEffect)((function(){for(var e=m.width/(n+1),t=m.height/(n+1),o=0;o<n;o++){var i=6*o*2,a=e*(o+1),s=t*(o+1);g[i+0]=m.left+a,g[i+1]=m.top,g[i+2]=0,g[i+3]=m.left+a,g[i+4]=m.top-m.height,g[i+5]=r.height,g[i+6]=m.left,g[i+7]=m.top-s,g[i+8]=0,g[i+9]=m.left+m.width,g[i+10]=m.top-s,g[i+11]=r.width}}),[m,r,n,g]),(0,e.useLayoutEffect)((function(){var e,t=void 0,n=void 0,r=new Float32Array(6*h);return a&&s&&((e={})[Ah]=new Ec.Rc(a,r,Ah,!0,!1,3,!1),t=e,a.webGLVersion>=2?(n=a.recordVertexArrayObject(t,null,s.effect),a.bindVertexArrayObject(n,null)):a.bindBuffers(t,null,s.effect),c(t),f(n)),function(){n&&(null===a||void 0===a||a.releaseVertexArrayObject(n)),t&&t[Ah].dispose()}}),[a,s,n,h]),Dl((0,e.useCallback)((function(){a&&s&&u&&g&&(a.enableEffect(s.effect),u[Ah].update(g),p?a.bindVertexArrayObject(p,null):a.bindBuffers(u,null,s.effect),s.effect.setFloat(Rh,o),a.drawArraysType(Ec.YM.MATERIAL_LineListDrawMode,0,2*h))}),[u,a,g,s,o,p,h]),Number.MAX_VALUE),vl(Object.values(r)),null},Bh={setCssToPhysicalPixelRatio:He.xI,setCropHandleSizeCss:He.Vq},Oh=(0,ge.Ng)((function(e){var t=e.transformTools,n=t.device.pixelRatio,r=t.view.viewportPixelSize,o=t.cropInteraction,i=o.mode,a=o.focusedHandleIndex,s=o.isKeyboardFocused,l=t.cropUiDisplay.handleSizeCss,u=t.pointer.movePos,c=t.image.loadedPixelSize;return{cropTransform:ju(e),canvasPixelSize:r,numCropGridLines:lh(e),cropGridLinesVisibilityValue:uh(e),cropUiMode:i,cropHandlePhysicalPixelSize:(0,Ch.zq)(l,n),cssToPhysicalPixelRatio:n,pointerPos:u,focusedHandle:a,isKeyboardFocused:s,visible:!!c}}),Bh)((function(t){var n=t.cropHandlePhysicalPixelSize,r=t.canvasPixelSize,o=t.cropTransform,i=t.cropUiMode,a=t.numCropGridLines,s=t.cropGridLinesVisibilityValue,l=t.pointerPos,u=t.focusedHandle,c=t.isKeyboardFocused,d=t.visible,p=t.cssToPhysicalPixelRatio,f=i!==ch.I.draggingView&&i!==ch.I.selectingFirstCorner&&i!==ch.I.selectingSecondCorner,h=(0,e.useMemo)((function(){return(0,Hn.SM)(o)}),[o]),m=function(t){var n=(0,e.useState)(!1),r=n[0],o=n[1],i=(0,e.useRef)(t);return i.current=t,(0,e.useLayoutEffect)((function(){if(t){var e=window.requestAnimationFrame((function(){setTimeout((function(){o(i.current)}))}));return function(){window.cancelAnimationFrame(e)}}}),[t]),t&&r}(d);return m?e.createElement(e.Fragment,null,[Ih.Q.TopLeft,Ih.Q.TopCenter,Ih.Q.TopRight,Ih.Q.SideLeft,Ih.Q.SideRight,Ih.Q.BottomLeft,Ih.Q.BottomCenter,Ih.Q.BottomRight].map((function(t){var i="cropHandle"+t;return e.createElement(Ph,{key:i,handlePos:t,isFocused:t===u&&c,cropHandlePhysicalPixelSize:n,cropTransform:o,canvasSize:r,zIndex:3,cssToPhysicalPixelRatio:p,visible:f})})),i!==ch.I.selectingFirstCorner&&e.createElement(Eh,{canvasSize:r,transform:o,zIndex:2}),e.createElement(af,{canvasPixelSize:r,pointerPos:l,visible:i===ch.I.selectingFirstCorner}),e.createElement(Mh,{cropRect:h,linesCount:a,alpha:s,canvasSize:r})):null})),Fh=function(){function e(e,t){this._levelUniformName=e,this._mapNormalizedToShaderValue=t,this._level=0}return e.prototype.onBeforeBabylonRender=function(e){e.setFloat(this._levelUniformName,this._mapNormalizedToShaderValue(this._level))},e.prototype.setLevel=function(e){this._level=e},e.prototype.getLevel=function(){return this._level},e}(),Dh=n(73553);var Nh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uh=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.name=t,o.defineIdentifierName=n,o.shaderInputProvider=r,o}return Nh(t,e),t.prototype.getLevel=function(){return this.shaderInputProvider.getLevel()},t.prototype.setLevel=function(e){return this.shaderInputProvider.setLevel(e)},t}(lc),zh=function(t,n,r){var o=t.levelUniformName,i=t.mapNormalizedToShaderValue,a=t.defName,s=(0,e.useMemo)((function(){return new Fh(o,i)}),[o,i]),l=(0,e.useMemo)((function(){return new Uh(t.defName,a,s)}),[a,s,t]);s.setLevel((0,Dh.q)(r,0,1)),vl([r]),Xp(l,n,r!==jc.nS)},jh=n(52569),Vh=[.04,1,4],Wh={defName:"BRIGHTNESS",levelUniformName:"uBrightnessLevel",mapNormalizedToShaderValue:function(e){return(0,jh.a)(Vh,e)}},Hh=function(){return Wh},qh=(0,ge.Ng)((function(e){return{level:e.colorAdjustments.baseAdjustments.brightness}}))((function(e){var t=e.level,n=e.order,r=Hh();return zh(r,n,t),null})),Kh=n(42570),Gh=(0,ge.Ng)((function(e){return{devicePixelRatio:e.transformTools.device.pixelRatio}}))((function(t){var n=t.devicePixelRatio,r=t.checkerboardSize,o=t.lightCheckerColor,i=t.darkCheckerColor,a=t.order,s=(0,e.useMemo)((function(){return new Kh.x}),[]);return s.setDevicePixelRatio(n),s.setCheckerboardSize(r),s.setLightCheckerColor(o),s.setDarkCheckerColor(i),vl([n,r,o,i]),Xp(s,a),null})),Zh=function(){function e(e,t,n){this._negativeVectorUniformName=e,this._neutralVectorUniformName=t,this._positiveVectorUniformName=n,this._negativeVector=[0,0,0,0],this._neutralVector=[0,0,0,0],this._positiveVector=[0,0,0,0]}return e.prototype.onBeforeBabylonRender=function(e){e.setVector4(this._negativeVectorUniformName,El(this._negativeVector)),e.setVector4(this._neutralVectorUniformName,El(this._neutralVector)),e.setVector4(this._positiveVectorUniformName,El(this._positiveVector))},e.prototype.setData=function(e,t,n){this._negativeVector=e,this._neutralVector=t,this._positiveVector=n},e}();function Xh(e,t){return{r:e.r-t.r,g:e.g-t.g,b:e.b-t.b,a:e.a-t.a}}var Yh=em(0);function Qh(e,t,n,r){e=(0,Dh.q)(e,0,360),t=(0,Dh.q)(t,-100,100),n=(0,Dh.q)(n,-100,100),r=(0,Dh.q)(r,-100,100);var o,i,a=function(e,t){var n=e,r=Jh(t);r*=.5,r<0&&(r*=-1,n=(e+180)%360);return[n,r]}(e,t),s=a[0],l=a[1],u=function(e){var t=Jh(e);return 50+.25*t}(r),c=function(e,t,n){var r,o,i,a=(0,Dh.q)(e,0,359),s=(0,Dh.q)(t/100,0,1),l=(0,Dh.q)(n/100,0,1);if(0===s)r=l,o=l,i=l;else{a/=60;var u=Math.floor(a),c=a-u,d=l*(1-s),p=l*(1-s*c),f=l*(1-s*(1-c));switch(u){case 0:r=l,o=f,i=d;break;case 1:r=p,o=l,i=d;break;case 2:r=d,o=l,i=f;break;case 3:r=d,o=p,i=l;break;case 4:r=f,o=d,i=l;break;default:r=l,o=d,i=p}}return{r:r,g:o,b:i,a:1}}(s,l,u);return o=2,(c={r:(i=c).r*o,g:i.g*o,b:i.b*o,a:i.a*o}).a=function(e){return 1+.01*e}(n),c}function Jh(e){return Math.sign(e)*e*e/100}function $h(e,t){var n,r,o=Qh(e.hue,e.density,e.saturation,e.value);return r=t,{r:(n=o).r*r.r,g:n.g*r.g,b:n.b*r.b,a:n.a*r.a}}function em(e){return{hue:30,density:0,saturation:0,value:e}}function tm(e){return[e.r,e.g,e.b,e.a]}var nm=function(){return nm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},nm.apply(this,arguments)},rm=[-65,0,100],om={negativeVectorUniformName:"vCameraColorCurveNegative",neutralVectorUniformName:"vCameraColorCurveNeutral",positiveVectorUniformName:"vCameraColorCurvePositive"},im=nm(nm({defName:"COLORCURVES"},om),{createColorCurveVectors:function(e,t,n){return function(e,t,n){var r=Qh(30,0,0,e),o=$h(em(t),r),i=$h(Yh,r),a=$h(em(n),r),s=Xh(o,i),l=i;return{negativeVector:tm(Xh(i,a)),neutralVector:tm(l),positiveVector:tm(s)}}((0,Yc.Cc)(-100,100,e),(0,jh.a)(rm,t),(0,Yc.Cc)(-100,100,n))},getUniformNames:function(){return Object.values(om)}}),am=function(){return im},sm=e.memo((function(t){var n,r=t.exposureNormalizedSliderLevel,o=t.highlightsNormalizedSliderLevel,i=t.shadowsNormalizedSliderLevel,a=t.order,s=am(),l=(n=s,(0,e.useMemo)((function(){var e=new Zh(n.negativeVectorUniformName,n.neutralVectorUniformName,n.positiveVectorUniformName);return[e,new lc(n.defName,n.defName,e)]}),[n])),u=l[0],c=l[1],d=s.createColorCurveVectors(r,o,i),p=d.negativeVector,f=d.neutralVector,h=d.positiveVector;return u.setData(p,f,h),vl([r,o,i]),Xp(c,a,r!==jc.nS||o!==jc.nS||i!==jc.nS),null}));var lm=(0,ge.Ng)((function(e){return{exposureNormalizedSliderLevel:e.colorAdjustments.baseAdjustments.exposure,highlightsNormalizedSliderLevel:e.colorAdjustments.baseAdjustments.highlights,shadowsNormalizedSliderLevel:e.colorAdjustments.baseAdjustments.shadows}}))(sm),um={defName:"CONTRAST",highLevelValuesUniformName:"uContrastHighValues",lowLevelValuesUniformName:"uContrastLowValues",mapNormalizedToShaderValue:(0,Yc.kv)(-1,1),getContrastValues:function(e){return{lowLevelValues:{x:2*e,y:1-e,z:0},highLevelValues:{x:2*-e,y:1+3*e,z:-e}}}},cm=function(){return um},dm=e.memo((function(t){var n=t.level,r=t.order,o=cm(),i=(0,e.useMemo)((function(){var e=cm(),t=new pm(e.lowLevelValuesUniformName,e.highLevelValuesUniformName);return[t,new lc(e.defName,e.defName,t)]}),[]),a=i[0],s=i[1],l=o.getContrastValues(o.mapNormalizedToShaderValue(n)),u=l.highLevelValues,c=l.lowLevelValues;return a.setLevels(u,c),vl([n]),Xp(s,r,n!==jc.nS),null}));var pm=function(){function e(e,t){this._lowLevelValuesUniformName=e,this._highLevelValuesUniformName=t,this._lowLevelValues={x:0,y:0,z:0},this._highLevelValues={x:0,y:0,z:0}}return e.prototype.onBeforeBabylonRender=function(e){e.setVector3(this._lowLevelValuesUniformName,this._lowLevelValues),e.setVector3(this._highLevelValuesUniformName,this._highLevelValues)},e.prototype.setLevels=function(e,t){this._lowLevelValues=e,this._highLevelValues=t},e}(),fm=(0,ge.Ng)((function(e){return{level:e.colorAdjustments.baseAdjustments.contrast}}))(dm),hm=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},mm="CropMaskShader",gm="uCropTransformInverse@",vm="uOutsideVisibility@",ym=function(){function e(){this._transform=(0,Vn.uz)(),this._outsideVisibility=.3}return e.prototype.setTransform=function(e){this._transform=e},e.prototype.setOutsideLightness=function(e){this._outsideVisibility=e},e.prototype.getName=function(){return mm},e.prototype.getUniformNames=function(e){return[e(gm),e(vm)]},e.prototype.getFunctions=function(e){return[]},e.prototype.getHeaderCode=function(e){return e("\n        //".concat(mm,"---\n        uniform mat3 ").concat(gm,";\n        uniform float ").concat(vm,";\n        "))},e.prototype.getShaderFunctionBody=function(e){return e("\n            //".concat(mm,"---\n            vec3 normalizedPos@ = vec3(").concat(il.k.screenPixelPos,".x,").concat(il.k.screenPixelPos,".y,1.0) * ").concat(gm,";\n\n            float isOutsideCropRegion = 1. - step(0.0, normalizedPos@.x) * step(0.0, normalizedPos@.y) * step(0.0, 1.0 - normalizedPos@.x) * step(0.0, 1.0 - normalizedPos@.y);\n            \n            float applyCropMask = mix(isOutsideCropRegion, 0., ").concat(il.k.isRenderingForExport,");\n\n            finalAlphaMultiply = mix(finalAlphaMultiply, ").concat(vm,", applyCropMask);\n        "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setMatrix3x3(t(gm),new Float32Array(hm(hm([],(0,Vn.eE)(this._transform),!0),[0,0,1],!1))),e.setFloat(t(vm),this._outsideVisibility)},e}(),bm=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},xm=n(70961),_m=(0,kn.Mz)([function(e){return(0,ah.ec)(e.transformTools.animations.outsideCropVisibility,e.transformTools.animations.currentTime,xm.xD)},function(e){return(0,ah.ec)(e.transformTools.animations.dismissOutsideCropVisibility,e.transformTools.animations.currentTime,xm.IL)},$n.An,$n.Wg,ha.po],(function(e,t,n,r,o){return(0,xm.eY)(n,e,t,r,o)})),Cm=(0,ge.Ng)((function(e){return{transform:ju(e),outsideVisibilityValue:_m(e),isImageCropped:Vu(e)}}))((function(t){var n=t.transform,r=t.outsideVisibilityValue,o=t.isImageCropped,i=t.order,a=(0,e.useMemo)((function(){return new ym}),[]);return a.setTransform(n),a.setOutsideLightness(r),vl(bm([r],n,!0)),Xp(a,i,o),null})),wm=(0,ge.Ng)((function(e){var t=e.filters.activeFilter;return{level:e.filters.filterLevel,activeFilter:t}}))((function(t){var n=t.level,r=t.activeFilter,o=t.disabled,i=t.order,a=(0,e.useContext)(Gd),s=a.textures,l=a.urlsById,u=a.loadUrls,c=(0,e.useMemo)((function(){return new Mp}),[]),d=Pn(r);0===Object.keys(l).length&&d&&0!==n&&u();var p=l[r.lutUrlId],f=d&&p?s[p]:void 0,h=f?f.parts[0].texture:void 0,m=h&&!o?n:0;return c.setLevel(m),d&&r.config&&c.setConfiguration(r.config),c.setTexture(h),vl([m,r,h]),Xp(c,i,0!==m),null})),Sm={defName:"SATURATION",levelUniformName:"uSaturationLevel",mapNormalizedToShaderValue:(0,Yc.kv)(-1,1)},km=function(){return Sm},Tm=e.memo((function(e){var t=e.saturationNormalizedSliderLevel,n=e.order,r=km();return zh(r,n,t),null})),Em=(0,ge.Ng)((function(e){return{saturationNormalizedSliderLevel:e.colorAdjustments.baseAdjustments.saturation}}))(Tm),Pm={mapNormalizedToShaderValue:(0,Yc.kv)(-.7,.7)},Im=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Am=(0,ge.Ng)((function(e){return{transform:ju(e),level:e.colorAdjustments.baseAdjustments.vignette}}))((function(t){var n=t.transform,r=t.level,o=t.order,i=(0,e.useMemo)((function(){return new kp}),[]),a=Pm.mapNormalizedToShaderValue;return i.setTransform(n),i.setLevel(a(r)),vl(Im([r],n,!0)),Xp(i,o,r!==jc.nS),null})),Rm=.003256,Lm=6502.078125,Mm=[3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252],Bm=function(e,t,n){return{r:Mm[0]*e+Mm[1]*t+Mm[2]*n,g:Mm[3]*e+Mm[4]*t+Mm[5]*n,b:Mm[6]*e+Mm[7]*t+Mm[8]*n}},Om=[{u:.18006,v:.26352,slope:-.24341,recipTemp:0},{u:.18066,v:.26589,slope:-.25479,recipTemp:1e-5},{u:.18133,v:.26846,slope:-.26876,recipTemp:2e-5},{u:.18208,v:.27119,slope:-.28539,recipTemp:1/33333},{u:.18293,v:.27407,slope:-.3047,recipTemp:4e-5},{u:.18388,v:.27709,slope:-.32675,recipTemp:5e-5},{u:.18494,v:.28021,slope:-.35156,recipTemp:1/16667},{u:.18611,v:.28342,slope:-.37915,recipTemp:1/14286},{u:.1874,v:.28668,slope:-.40955,recipTemp:8e-5},{u:.1888,v:.28997,slope:-.44278,recipTemp:1/11111},{u:.19032,v:.29326,slope:-.47888,recipTemp:1e-4},{u:.19462,v:.30141,slope:-.58204,recipTemp:1/8e3},{u:.19962,v:.30921,slope:-.70471,recipTemp:1/6667},{u:.20525,v:.31647,slope:-.84901,recipTemp:1/5714},{u:.21142,v:.32312,slope:-1.0182,recipTemp:2e-4},{u:.21807,v:.32909,slope:-1.2168,recipTemp:1/4444},{u:.22511,v:.33439,slope:-1.4512,recipTemp:1/4e3},{u:.23247,v:.33904,slope:-1.7298,recipTemp:1/3636},{u:.2401,v:.34308,slope:-2.0637,recipTemp:1/3333},{u:.24792,v:.34655,slope:-2.4681,recipTemp:1/3077},{u:.25591,v:.34951,slope:-2.9641,recipTemp:1/2857},{u:.264,v:.352,slope:-3.5814,recipTemp:1/2677},{u:.27218,v:.35407,slope:-4.3633,recipTemp:4e-4},{u:.28039,v:.35577,slope:-5.3762,recipTemp:1/2353},{u:.28863,v:.35714,slope:-6.7262,recipTemp:1/2222},{u:.29685,v:.35823,slope:-8.5955,recipTemp:1/2105},{u:.30505,v:.35907,slope:-11.324,recipTemp:5e-4},{u:.3132,v:.35968,slope:-15.628,recipTemp:1/1905},{u:.32129,v:.36011,slope:-23.325,recipTemp:1/1818},{u:.32931,v:.36038,slope:-40.77,recipTemp:1/1739},{u:.33724,v:.36051,slope:-116.45,recipTemp:1/1667}],Fm=function(e,t){var n=function(e,t){for(var n=1/e,r=1;r<Om.length&&!(n<Om[r].recipTemp);r++);r===Om.length&&r--;var o=Om[r-1],i=Om[r],a=(0,Yc.U4)(o.recipTemp,i.recipTemp,n),s=o.slope/Math.sqrt(1+o.slope*o.slope),l=i.slope/Math.sqrt(1+i.slope*i.slope),u=(0,Yc.Cc)(s,l,a),c=(0,Yc.Cc)(o.u,i.u,a),d=(0,Yc.Cc)(o.v,i.v,a),p=t/Math.sqrt(1+u*u),f=c+p,h=d+u*p;if(h>-.1*f+.4){var m=(-.1*f+.4-h)/(-.1*(f-c)+d-h);f=(0,Yc.Cc)(f,c,m),h=(0,Yc.Cc)(h,d,m)}return{y:1,u:f,v:h}}(e,t);return function(e,t,n){var r=0,o=0;return e>=1e-7&&(r=6*t*e/(4*n),o=e*(6*(4-t)-60*n)/(12*n)),[r,e,o]}(n.y,n.u,n.v)},Dm={defName:"WHITE_BALANCE",mapSliderValueToTint:function(e){return e=(0,Yc.Cc)(-1,1,e),[Rm,1.25*e/100+Rm]},whiteBalanceGainUniformName:"uWhiteBalanceGain",mapSliderValueToKelvinTemperature:function(e){var t=Lm,n=Lm;return(e=(0,Yc.Cc)(-1,1,e))>0?t=(0,Yc.Cc)(Lm,1e4,e):e<0&&(t=(0,Yc.Cc)(Lm,4e3,-e)),[t,n]},mapTemperatureAndTintToRBGains:function(e,t,n,r){var o=(0,Dh.q)(e,1667,Number.MAX_VALUE),i=Fm(o,n),a=Fm(t,r),s=Bm.apply(void 0,i),l=Bm.apply(void 0,a);return[l.r/l.g/(s.r/s.g),l.b/l.g/(s.b/s.g)]}},Nm=function(){return Dm},Um=function(){function e(e){this._whiteBalanceGainUniformName=e,this._whiteBalanceGainVector={r:1,g:1,b:1}}return e.prototype.onBeforeBabylonRender=function(e){e.setColor3(this._whiteBalanceGainUniformName,this._whiteBalanceGainVector)},e.prototype.setGains=function(e,t){this._whiteBalanceGainVector={r:e,g:1,b:t}},e}(),zm=e.memo((function(t){var n=t.tintLevel,r=t.temperatureLevel,o=t.order,i=Nm(),a=i.mapSliderValueToTint,s=i.mapSliderValueToKelvinTemperature,l=i.mapTemperatureAndTintToRBGains,u=i.whiteBalanceGainUniformName,c=i.defName,d=s(r),p=d[0],f=d[1],h=a(n),m=l(p,f,h[0],h[1]),g=m[0],v=m[1],y=function(t,n){return(0,e.useMemo)((function(){var e=new Um(t);return[e,new lc(n,n,e)]}),[t,n])}(u,c),b=y[0],x=y[1];return b.setGains(g,v),vl([n,r]),Xp(x,o,n!==jc.nS||r!==jc.nS),null}));var jm=(0,ge.Ng)((function(e){return{tintLevel:e.colorAdjustments.baseAdjustments.tint,temperatureLevel:e.colorAdjustments.baseAdjustments.temperature}}))(zm),Vm="uZoomLevel@",Wm=function(){function e(){this._zoomLevel=1}return e.prototype.setZoomLevel=function(e){this._zoomLevel=e},e.prototype.getName=function(){return"ZoomToPixelsShader"},e.prototype.getUniformNames=function(e){return[e(Vm)]},e.prototype.getFunctions=function(){return[]},e.prototype.getHeaderCode=function(e){return e(" //ZoomToPixels effect---\n    uniform float ".concat(Vm,";"))},e.prototype.getShaderFunctionBody=function(e){return e("//ZoomToPixels effect---\n        if(".concat(il.k.isRenderingForExport," == 0.){\n            vec2 screenTranslationInPixels@ = (vec3(0.0,0.0,1.0) * ").concat(il.k.transform,").xy;\n            vec2 zoomVec2@ = vec2(").concat(Vm,");\n            vec2 pixelPosOffset@ = mod(screenTranslationInPixels@, zoomVec2@);\n            vec2 pixelPosRounded@ = floor((").concat(il.k.screenPixelPos,"- pixelPosOffset@)/zoomVec2@ )*").concat(Vm," + 0.5*zoomVec2@;\n            vec3 uv@ = vec3(pixelPosRounded@.x + pixelPosOffset@.x, pixelPosRounded@.y + pixelPosOffset@.y,1.0) * ").concat(il.k.transformInverse,";\n            gl_FragColor = getTextureColor(uv@.xy);\n            mainTextureColor = gl_FragColor;\n\n            // Texture may not be set so use the color override to show that instead (these are set in ShadersBase.ts)\n            gl_FragColor = mix(gl_FragColor,").concat(il.k.colorOverride,",").concat(il.k.colorOverrideLevel,");\n\n            //modify the uv so that subsequent effect code will use this uv value when sampling textures.\n            ").concat(il.k.uv,".xy = uv@.xy;\n        }\n        "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setFloat(t(Vm),this._zoomLevel)},e}(),Hm=e.memo((function(t){var n=t.zoomLevel,r=t.order,o=(t.originalImageSize,(0,e.useMemo)((function(){return new Wm}),[]));return o.setZoomLevel(n),vl([n]),Xp(o,r,n>1),null}));Hm.displayName="ZoomToPixelsEffect";var qm=(0,ge.Ng)((function(e){return{zoomLevel:(0,Ui.j)(e),originalImageSize:e.transformTools.image.originalPixelSize}}))(Hm),Km=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Gm=Nm(),Zm=Hh(),Xm=km(),Ym=cm(),Qm=am(),Jm=Km([Gm.whiteBalanceGainUniformName,Zm.levelUniformName,Xm.levelUniformName,Ym.highLevelValuesUniformName,Ym.lowLevelValuesUniformName],Qm.getUniformNames(),!0),$m="\n#ifdef ".concat(Gm.defName,"\n  uniform vec3 ").concat(Gm.whiteBalanceGainUniformName,";\n#endif\n#ifdef ").concat(Zm.defName,"\n  uniform float ").concat(Zm.levelUniformName,";\n#endif\n#ifdef ").concat(Xm.defName,"\n  uniform float ").concat(Xm.levelUniformName,";\n  const float SATURATION_RED_K = 9437.0 / 32768.0;\n  const float SATURATION_GREEN_K = 1.0 - SATURATION_RED_K;\n#endif\n#ifdef ").concat(Ym.defName,"\n  uniform vec3 ").concat(Ym.lowLevelValuesUniformName,";\n  uniform vec3 ").concat(Ym.highLevelValuesUniformName,";\n\n  float TransformChannelContrast(in float channelLevel, in vec3 low, in vec3 high) {\n    vec3 levels = mix(low, high, step(channelLevel, 0.5));\n    return ((levels.x * channelLevel + levels.y) * channelLevel) + levels.z;\n  }\n#endif\n#ifdef ").concat(Qm.defName,"\n  uniform vec4 ").concat(Qm.negativeVectorUniformName,";\n  uniform vec4 ").concat(Qm.neutralVectorUniformName,";\n  uniform vec4 ").concat(Qm.positiveVectorUniformName,";\n#endif\n\n  struct Adjustments {\n    #ifdef ").concat(Gm.defName,"\n      vec3 whiteBalanceGain;\n    #endif\n    #ifdef ").concat(Zm.defName,"\n      float brightness;\n    #endif\n    #ifdef ").concat(Xm.defName,"\n      float saturation;\n    #endif\n    #ifdef ").concat(Ym.defName,"\n      vec3 contrastLowLevels;\n      vec3 contrastHighLevels;\n    #endif\n    #ifdef ").concat(Qm.defName,"\n      vec4 colorCurvesNeutralVector;\n      vec4 colorCurvesPositiveVector;\n      vec4 colorCurvesNegativeVector;\n    #endif\n    float dummy; //structs cannot be empty, so add a dummy member in case none of the above are defined.\n  };\n\n  ").concat($s,"\n  ").concat(Js,"\n  ").concat(el,"\n  ").concat("\n#ifndef GETLUMINANCE\n#define GETLUMINANCE\n\nconst vec3 LuminanceEncodeApprox = vec3(0.2126, 0.7152, 0.0722);\nfloat getLuminance(vec3 color)\n{\n    return clamp(dot(color, LuminanceEncodeApprox), 0., 1.);\n}\n#endif\n","\n\n  vec4 ApplyAdjustments(in Adjustments adj, in vec4 c) {\n    vec4 result = c.rgba;\n\n    #ifdef ").concat(Gm.defName,"\n      // Apply White Balance (Gamma Space)\n      result.rgb *= adj.whiteBalanceGain.rgb;\n    #endif\n\n    result.rgb = toLinearSpace(result.rgb);\n\n    #ifdef ").concat(Zm.defName,"\n      // Apply Brightness (Linear Space)\n      result.rgb *= adj.brightness;\n    #endif\n\n    #ifdef ").concat(Xm.defName,"\n      // Apply Saturation (Linear Space)\n      float saturatedR = result.r + (result.r - result.g) * SATURATION_GREEN_K * adj.saturation;\n      float saturatedG = result.g + (result.g - result.r) * SATURATION_RED_K   * adj.saturation;\n      float saturatedB = result.b + (result.b - SATURATION_RED_K * result.r - SATURATION_GREEN_K * result.g) * adj.saturation;\n      result.rgb = clamp(vec3(saturatedR, saturatedG, saturatedB), vec3(0.0), vec3(1.0));\n    #endif\n\n    result.rgb = toGammaSpace(result.rgb);\n\n    #ifdef ").concat(Qm.defName,"\n      // Apply Color Curves (Gamma Space)\n      // https://github.com/BabylonJS/Babylon.js/blob/6adcf34c72f322949fe04b9ccbe3fc5faf7206a1/src/Shaders/ShadersInclude/imageProcessingFunctions.fx\n      float luma = getLuminance(result.rgb);\n      vec2 curveMix = clamp(vec2(luma * 3.0 - 1.5, luma * -3.0 + 1.5), vec2(0.0), vec2(1.0));\n      vec4 colorCurve = adj.colorCurvesNeutralVector + curveMix.x * adj.colorCurvesPositiveVector - curveMix.y * adj.colorCurvesNegativeVector;\n      result.rgb *= colorCurve.rgb;\n      result.rgb = mix(vec3(luma), result.rgb, colorCurve.a);\n    #endif\n\n    result = clamp(result, 0.0, 1.0);\n\n    #ifdef ").concat(Ym.defName,"\n      // Apply Contrast (Gamma Space)\n      // Assumption: Value is clamped. Otherwise high contrast levels cause strange colors with high brightness/exposure\n      result.r = TransformChannelContrast(result.r, adj.contrastLowLevels, adj.contrastHighLevels);\n      result.g = TransformChannelContrast(result.g, adj.contrastLowLevels, adj.contrastHighLevels);\n      result.b = TransformChannelContrast(result.b, adj.contrastLowLevels, adj.contrastHighLevels);\n    #endif\n\n    result = clamp(result, 0.0, 1.0);\n    return result;\n  }\n"),eg="\n  Adjustments adj;\n\n  #ifdef ".concat(Gm.defName,"\n    adj.whiteBalanceGain = ").concat(Gm.whiteBalanceGainUniformName,";\n  #endif\n\n  #ifdef ").concat(Zm.defName,"\n    adj.brightness = ").concat(Zm.levelUniformName,";\n  #endif\n\n  #ifdef ").concat(Xm.defName,"\n    adj.saturation = ").concat(Xm.levelUniformName,";\n  #endif\n\n  #ifdef ").concat(Ym.defName,"\n    adj.contrastLowLevels = ").concat(Ym.lowLevelValuesUniformName,";\n    adj.contrastHighLevels = ").concat(Ym.highLevelValuesUniformName,";\n  #endif\n\n  #ifdef ").concat(Qm.defName,"\n    adj.colorCurvesNeutralVector = ").concat(Qm.neutralVectorUniformName,";\n    adj.colorCurvesPositiveVector = ").concat(Qm.positiveVectorUniformName,";\n    adj.colorCurvesNegativeVector = ").concat(Qm.negativeVectorUniformName,";\n  #endif\n\n  gl_FragColor = ApplyAdjustments(adj, gl_FragColor);\n"),tg=function(){function e(){}return e.prototype.getName=function(){return"AdjustmentsShader"},e.prototype.getUniformNames=function(e){return Jm},e.prototype.getFunctions=function(){return[]},e.prototype.getHeaderCode=function(e){return $m},e.prototype.getShaderFunctionBody=function(e){return eg},e.prototype.onBeforeBabylonRender=function(e,t){},e}(),ng=(0,ge.Ng)((function(e){return{enabled:!En(e.colorAdjustments,(0,Be.GK)(e.colorAdjustments.adjustmentsByDynamicLayer))}}))((function(t){var n=t.children,r=t.enabled,o=t.order;return Xp((0,e.useMemo)((function(){return new tg}),[]),o,r),r?e.createElement(e.Fragment,null,n):null})),rg="uCursorScreenPos@",og="uCursorRadius@",ig=jp(20),ag=jp(60),sg=function(){function e(){this._cursorScreenPosition={x:0,y:0},this._cursorRadiusInScreenPixels=20}return e.prototype.setCursorScreenPosition=function(e){this._cursorScreenPosition=e},e.prototype.setCursorRadiusInScreenPixels=function(e){this._cursorRadiusInScreenPixels=e},e.prototype.getName=function(){return"REMOVE_MARKUP_NEAR_CURSOR_SHADER_NAME"},e.prototype.getUniformNames=function(e){return[e(rg),e(og)]},e.prototype.getFunctions=function(e){return[]},e.prototype.getHeaderCode=function(e){return e("\n        //RemoveMarkupNearCursorShader effect---\n        uniform vec2 ".concat(rg,";\n        uniform float ").concat(og,";\n    "))},e.prototype.getShaderFunctionBody=function(e){return e("\n        // RemoveMarkupNearCursorShader effect---\n          float distance@ = distance(".concat(rg,", ").concat(il.k.screenPixelPos,");\n          overlayTextureAlphaOverride = \n              smoothstep(").concat(og," + ").concat(ig,",\n                         ").concat(og," + ").concat(ag,", \n                         distance@);\n    "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setFloat2(t(rg),this._cursorScreenPosition.x,this._cursorScreenPosition.y),e.setFloat(t(og),this._cursorRadiusInScreenPixels)},e}(),lg=(0,ge.Ng)((function(e){return{cursorScreenPosition:(0,tf.AZ)(e),enabled:(0,ef.D)(e),cursorRadiusInScreenPixels:(0,tf.ZU)(e)}}))((function(t){var n=t.cursorScreenPosition,r=t.enabled,o=t.cursorRadiusInScreenPixels,i=t.order,a=(0,e.useMemo)((function(){return new sg}),[]);return a.setCursorScreenPosition(n),a.setCursorRadiusInScreenPixels(o),vl([n.x,n.y,o]),Xp(a,i,r),null})),ug="DarkeningShader",cg=function(){function e(){}return e.prototype.getName=function(){return ug},e.prototype.getFunctions=function(){return[]},e.prototype.getHeaderCode=function(e){return""},e.prototype.getUniformNames=function(e){return[]},e.prototype.getShaderFunctionBody=function(e){return e("\n    //".concat(ug,"\n    if(").concat(il.k.isRenderingForExport," == 0.){\n      vec4 result = gl_FragColor.rgba;\n      result.rgb *= 0.5;\n      gl_FragColor =result;\n    }\n  "))},e.prototype.onBeforeBabylonRender=function(e,t){},e}(),dg=(0,ge.Ng)((function(e){return{enabled:e.brushCursor.radiusIsChanging}}))((function(t){var n=t.enabled,r=t.order;return Xp((0,e.useMemo)((function(){return new cg}),[]),r,n),null})),pg=function(){function e(){this._level=.5,this._contrastStretchingParams={alpha:1,beta:0}}return e.prototype.setContrastStretchingParams=function(e){this._contrastStretchingParams=e},e.prototype.setLevel=function(e){this._level=e},e.prototype.getName=function(){return"AutoEnhanceShader"},e.prototype.getUniformNames=function(e){return[e("uLevel@"),e("uContrastStretchingParams@"),e("uEnhanceAlgorithm@"),e("uEqualizationCoefficient@")]},e.prototype.getFunctions=function(e){return[$s,Js]},e.prototype.getHeaderCode=function(e){return e("\n          //AutoEnhance effect---\n          uniform float uLevel@;\n          uniform vec2 uContrastStretchingParams@;\n          uniform int uEnhanceAlgorithm@;\n          uniform float uEqualizationCoefficient@;\n          ")},e.prototype.getShaderFunctionBody=function(e){return e("\n    {\n        //AutoEnhance effect---  \n        vec3 hsv = rgb2hsv(gl_FragColor.rgb);\n        float origGrey = hsv[2];\n        \n        float enhancedGrey_CS = (origGrey * uContrastStretchingParams@.x) + uContrastStretchingParams@.y;\n        enhancedGrey_CS = min(enhancedGrey_CS, 1.0);\n\n        // Increase Saturation a bit\n        hsv[1] = min(1.0, hsv[1] * 1.07);\n\n        vec3 enhancedRGB_CS = hsv2rgb(vec3(hsv[0], hsv[1], enhancedGrey_CS));\n        gl_FragColor.rgb = mix(gl_FragColor.rgb, enhancedRGB_CS, uLevel@);\n    }\n      ")},e.prototype.onBeforeBabylonRender=function(e,t){e.setFloat(t("uLevel@"),this._level),e.setFloat2(t("uContrastStretchingParams@"),this._contrastStretchingParams.alpha,this._contrastStretchingParams.beta)},e}(),fg=(0,ge.Ng)((function(e){var t=e.autoEnhance,n=t.isAutoEnhanceOn,r=t.contrastStretchingParams,o=t.level;return{level:n?o:0,contrastStretchingParams:r}}))((function(t){var n=t.level,r=t.contrastStretchingParams,o=t.order,i=(0,e.useMemo)((function(){return new pg}),[]);return i.setContrastStretchingParams(r),i.setLevel(n),vl([r,n]),Xp(i,o,0!==n),null})),hg=function(t){var n=t.alpha,r=t.order,o=(0,e.useMemo)((function(){return new Dp.y}),[]);return o.setOverlayAlpha(n),vl([n]),Xp(o,r,n>0),null},mg=(0,e.memo)((function(t){var n=t.disable,r=t.order,o=n?0:1;return e.createElement(hg,{alpha:o,order:r})})),gg=(0,kn.Mz)([er,tr,nr,rr,or.A,ha.hg,$n.$E,$n.xk,ir.Oi,sr.qr,ar,lr,cr],(function(e,t,n,r,o,i,a,s,l,u,c,d,p){var f=pr({transformTools:Ke.SZ,colorAdjustments:e,filters:t,autoEnhance:n,markup:r,texturePatch:o,imageBackground:l,relight:u,focalPoint:c,imageWasReplaced:d,resize:p}),h=!a,m=s===ch.I.draggingView;return i&&f&&h&&!m})),vg=(0,ge.Ng)((function(e){var t=e.uiState,n=t.waitingForActiveEditorActivityToComplete,r=t.activeEditorActivity,o=e.markup.markupContentItems.length>0,i=n&&r===un.X4,a=gg(e);return{disable:i||!o||a}}))(mg),yg=n(30655),bg=n(8090),xg="uMaskLevel@",_g=function(){function e(e){this._maskLevel=0,this._isWebGL2=!1,this._isWebGL2=e}return e.prototype.setMaskLevel=function(e){this._maskLevel=e},e.prototype.getMaskLevel=function(){return this._maskLevel},e.prototype.getName=function(){return"SecondaryMaskShader"},e.prototype.getUniformNames=function(e){return[e(xg)]},e.prototype.getFunctions=function(){return[]},e.prototype.getHeaderCode=function(e){return e(" //SecondaryMask effect---\n    ".concat((0,gc.A)("backgroundMask"),"\n    uniform float ").concat(e(xg),";\n    "))},e.prototype.getShaderFunctionBody=function(e){var t=e(xg),n=(0,bg.B)("backgroundMask");return e("//SecondaryMask effect---\n    \n    ".concat((0,yg.J)("backgroundMask",!!this._isWebGL2),"\n    {\n      float maskLevel = ").concat(t," * ").concat(n,";\n              \n      if(").concat(t," >= 0.)\n      {\n        //positive mask\n        gl_FragColor = mix( gl_FragColor, mainTextureColor, 1. - maskLevel );\n      }\n      else\n      {\n        //negative / inverted mask.\n        gl_FragColor = mix( gl_FragColor, mainTextureColor, -maskLevel );\n      }\n    }\n    "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setFloat(t(xg),this._maskLevel)},e}(),Cg=(0,ge.Ng)((function(e){return{maskLevel:e.colorAdjustments.maskLevel}}))((function(t){var n=t.maskLevel,r=t.order,o=(0,mc.h)(),i=(0,e.useMemo)((function(){return new _g(o)}),[o]);return i.setMaskLevel(n),vl([n]),Xp(i,r,0!==n),null})),wg=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function Sg(e,t,n){return e+((0,vc.S)(t,!!n)?"":".a")}var kg=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Tg="MaskLayerVisualizationShader",Eg="MagicEraseMaskLayerVisualizationShader",Pg="ObjectSegmentationPreviewMaskLayerVisualizationShader",Ig="uInvertMask@",Ag="uCropTransformInverse@",Rg="uColor1@",Lg="uColor2@",Mg="uColor3@",Bg="uStops@",Og="uStripeWidth@",Fg="uStripePixelOffset@",Dg="uMaskOpacity@",Ng=function(){function e(e,t){this._maskVisualizationGradient=cf.dO,this._shouldInvertMask=!1,this._transform=(0,Vn.uz)(),this._stripePixelOffset=0,this._stripeWidth=18,this._maskOpacity=1,this._isWebGL2=!1,this._maskLayerName=e,this._isWebGL2=t}return e.prototype.setColorGradient=function(e){this._maskVisualizationGradient=e},e.prototype.setCropTransform=function(e){this._transform=e},e.prototype.setShouldInvertMask=function(e){this._shouldInvertMask=e},e.prototype.setStripeWidth=function(e){this._stripeWidth=e},e.prototype.setStripePixelOffset=function(e){this._stripePixelOffset=e},e.prototype.setMaskOpacity=function(e){this._maskOpacity=e},e.prototype.getName=function(){switch(this._maskLayerName){case"backgroundMask":return Tg;case"eraseMask":return Eg;case"objectSegmentationPreview":return Pg;default:throw new Error("Invalid mask layer name")}},e.prototype.getUniformNames=function(e){return[e(Ig),e(Ag),e(Rg),e(Lg),e(Mg),e(Bg),e(Og),e(Fg),e(Dg)]},e.prototype.getFunctions=function(e){return[Ef,"\n#define SQUARE_ROOT_OF_TWO 1.41421356237;\nfloat getNormalizedDiagonalPosition(vec2 uv){\n  vec2 diagonalDirection = normalize(vec2(1.,1.));\n  return 1. - dot(diagonalDirection,uv) / SQUARE_ROOT_OF_TWO;\n}\n","\nvec4 getStripeColor(vec2 pixelPos ,float pixelOffset,float stripeWidth,vec4 color1,vec4 color2,vec2 direction ){\n    float stripeDistance = dot(pixelPos,direction) + pixelOffset;\n    float inStripe = step(1., min(stripeWidth,mod(stripeDistance,stripeWidth*2.)) / stripeWidth );\n    return mix( color1, color2 , inStripe);\n}\n"]},e.prototype.getHeaderCode=function(e){var t="";switch(this._maskLayerName){case"backgroundMask":t="\n        //".concat(Tg,"---\n        ").concat((0,gc.A)("backgroundMask"),"\n      ");break;case"eraseMask":t="\n        //".concat(Eg,"---\n        ").concat((0,gc.A)("eraseMask"),"\n      ");break;case"objectSegmentationPreview":t="\n        //".concat(Pg,"---\n        ").concat((0,gc.A)("objectSegmentationPreview"),"\n        ");break;default:throw new Error("Invalid mask layer name")}return e(" \n    ".concat(t,"\n    uniform float ").concat(Ig,";\n    uniform mat3 ").concat(Ag,";\n    uniform vec4 ").concat(Rg,";\n    uniform vec4 ").concat(Lg,";\n    uniform vec4 ").concat(Mg,";\n    uniform vec3 ").concat(Bg,";\n    uniform float ").concat(Og,";\n    uniform float ").concat(Fg,";\n    uniform float ").concat(Dg,";     \n    "))},e.prototype.getShaderFunctionBody=function(e){var t=il.k.screenPixelPos,n=il.k.isRenderingForExport,r=(0,yg.J)(this._maskLayerName,!!this._isWebGL2),o=Sg((0,bg.B)(this._maskLayerName),this._maskLayerName,!!this._isWebGL2);return e("\n    //".concat(this.getName(),"---\n    ").concat(r,"\n    {\n      vec3 uvPositionInImage = vec3(").concat(t,".x,").concat(t,".y,1.0) * ").concat(Ag,";\n\n      float sumOfMaskAlphas =  ").concat(Rg,".a + ").concat(Lg,".a + ").concat(Mg,".a; \n    \n      if(sumOfMaskAlphas > 0. && ").concat(n," == 0.)\n      {\n        float fadeInBegin = 0.0;\n        float fadeInEnd = 1.0;\n        \n        float revealAlpha = smoothstep(fadeInBegin, fadeInEnd,  ").concat(Dg,");\n    \n        float t = getNormalizedDiagonalPosition(uvPositionInImage.xy);\n        vec4 maskColor = threeColorGradientAt(").concat(Rg,",").concat(Lg,",").concat(Mg,",").concat(Bg,",t);\n\n        vec4 stripeColor1 = vec4(0.,0.,0.,0.2);\n        vec4 stripeColor2 = vec4(1.,1.,1.,0.2);\n        vec2 stripeDirection = vec2(1.,1.);\n        vec4 stripeColor = getStripeColor(").concat(t,".xy,").concat(Fg,",").concat(Og,",stripeColor1,stripeColor2,stripeDirection);\n        maskColor.rgb = mix(maskColor.rgb,stripeColor.rgb,stripeColor.a);\n\n        float maskTextureValue = ").concat(o,";\n        float blendParam = mix(maskTextureValue,1.-maskTextureValue,").concat(Ig,") * maskColor.a * revealAlpha;\n        gl_FragColor.rgb = mix( gl_FragColor.rgb, maskColor.rgb, blendParam );\n      }\n    }\n    "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setMatrix3x3(t("uCropTransformInverse@"),new Float32Array(kg(kg([],(0,Vn.eE)(this._transform),!0),[0,0,1],!1)));var n=this._maskVisualizationGradient;e.setFloat4.apply(e,kg([t(Rg)],n[0].color,!1)),e.setFloat4.apply(e,kg([t(Lg)],n[1].color,!1)),e.setFloat4.apply(e,kg([t(Mg)],n[2].color,!1));var r=[n[0].stopPercent,n[1].stopPercent,n[2].stopPercent];e.setFloat3.apply(e,kg([t(Bg)],r,!1)),e.setFloat(t(Og),this._stripeWidth),e.setFloat(t(Fg),this._stripePixelOffset),e.setFloat(t(Ig),this._shouldInvertMask?1:0),e.setFloat(t(Dg),this._maskOpacity)},e}();var Ug=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},zg=(0,e.memo)((function(t){var n=t.enabled,r=t.shouldInvertMask,o=t.order,i=t.maskVisualizationGradient,a=t.cropUvToWorld,s=t.stripeWidthInPhysicalPixels,l=t.maskOpacity,u=t.disableStripeAnimation,c=t.maskLayerName,d=t.hasMaskedArea,p=(0,mc.h)(),f=new Ng(c,p);f.setColorGradient(i),f.setShouldInvertMask(r),f.setCropTransform(a),f.setStripeWidth(s),f.setMaskOpacity(l),function(e){var t=e[0].stopPercent,n=e[1].stopPercent,r=e[2].stopPercent;vl(wg(wg(wg(wg([],e[0].color,!0),e[0].color,!0),e[0].color,!0),[t,n,r],!1))}(i),vl(Ug([r,s,l],a,!0));var h=(0,Dc.H)(c),m=n&&h;return Xp(f,o,m),function(t,n){var r=(0,e.useContext)(gl.A).renderList;(0,e.useEffect)((function(){if(r&&n){var e=0,o=setInterval((function(){e--,t.setStripePixelOffset(e),r.requestRender()}),75);return function(){clearInterval(o)}}}),[t,r,n])}(f,!u&&(m&&d&&l>0)),null})),jg=(0,kn.Mz)([Lr.N],(function(e){return e.some((function(e){return e.maskParameters.maskType===qf.D.FromLayer}))})),Vg=n(22381);var Wg=(0,ge.Ng)((function(e,t){var n,r=(0,Ur.at)(e).maskParameters,o=jg(e),i=ju(e),a=e.transformTools.device.pixelRatio,s=(0,Ur.P6)(e),l=t.maskLayerName;return{enabled:!("eraseMask"===(n=l)||"backgroundMask"===n)||s===l,showPlaceholderAnimation:o,shouldInvertMask:r.maskType===qf.D.FromLayer&&r.shouldInvertMask,maskVisualizationGradient:cf.dO,cropUvToWorld:i,stripeWidthInPhysicalPixels:Math.ceil(cf.dL*a),maskOpacity:(0,Ur.a8)(e),hasMaskedArea:(0,Vg.G)(e.texturePatch.texturePatchInfos,l)}}))(zg),Hg=function(){function e(e){this._isWebGL2=e}return e.prototype.getName=function(){return"ViewOriginalShader"},e.prototype.getUniformNames=function(e){return[]},e.prototype.getFunctions=function(){return[]},e.prototype.getHeaderCode=function(e){return e(" //ViewOriginal effect---\n    ".concat((0,gc.A)("original"),"\n    "))},e.prototype.getShaderFunctionBody=function(e){var t=il.k.isRenderingForExport,n=(0,bg.B)("original"),r=!this._isWebGL2;return e("//ViewOriginal effect---\n        ".concat((0,yg.J)("original",this._isWebGL2,r),"\n        if (").concat(t," == 0.) {\n          gl_FragColor = ").concat(n,";\n        }\n        "))},e.prototype.onBeforeBabylonRender=function(e,t){},e}();var qg=e.memo((function(t){var n=t.enabled,r=t.order,o=t.showLightsOnCanvas,i=t.setShowLightsOnCanvas,a=(0,mc.h)(),s=(0,e.useMemo)((function(){return new Hg(a)}),[a]);return function(t,n,r){var o=(0,e.useRef)(n);(0,e.useEffect)((function(){t&&n?(o.current=!0,r(!1)):!t&&o.current&&(o.current=!1,r(!0))}),[t,n,r])}(n,o,i),Xp(s,r,n),null}));qg.displayName="ViewOriginalEffect";var Kg={setShowLightsOnCanvas:Xt.EG},Gg=(0,ge.Ng)((function(e){return{enabled:gg(e),showLightsOnCanvas:(0,sr.IO)(e)}}),Kg)(qg);var Zg=n(13272);var Xg=1e7;var Yg=e.memo((function(t){var n=t.isAutoEnhanceOn,r=t.setAutoEnhanceParameters,o=function(){var t=(0,e.useContext)(kl.M),n=t.textureManager,r=t.engine;return(0,e.useCallback)((function(e,t){var o=null===n||void 0===n?void 0:n.getAlreadyLoadedTexture(e);if(!o)throw new Error("useGetPixelBytes: texture not found for "+e);if(!r)throw new Error("engine not defined");return Pd(o,t,r)}),[r,n])}(),i=(0,e.useContext)(lo.Z).image,a=(0,Dc.H)("main");return(0,e.useEffect)((function(){if(n&&a){var e=function(e,t,n){var r=null===e||void 0===e?void 0:e.main;if(!r)throw Error("Main image is null");var o=(0,Zg.T)(e);if(void 0===o)throw new Error("No oriented size for image");var i={width:o.x,height:o.y,top:0,left:0};return n&&(0,so.cy)(r)?{bytes:r.bytes,format:r.format}:t(r,i)}(i,o,!0),t=e.format===js.A.RGBA?4:3,s=e.bytes.byteLength/t,l=function(e,t){var n=(0,Ts.x)(e.format),r=e.bytes;if(n<3)throw new Error("calculateHistogram only supports RGB and RGBA formats");var o=n;t>Xg&&(o*=Math.ceil(t/Xg));for(var i=new Array(256).fill(0),a=0;a+2<r.length;a+=o)i[Math.max(r[a],r[a+1],r[a+2])]++;return i}(e,s),u=function(e,t,n){var r=function(e,t,n){for(var r=0,o=e.length,i=t*n,a=0,s=0;s<e.length;s++)if((a+=e[s])>i){r=s;break}for(a=0,s=e.length-1;s>=0;s--)if((a+=e[s])>i){o=s;break}return{lowThreshold:r,highThreshold:o}}(e,t,n),o=r.lowThreshold,i=r.highThreshold-o,a=255/(i=Math.max(i,1));return{alpha:a,beta:-a*o/384}}(l,.011,s),c=u.alpha,d=u.beta;r({alpha:c,beta:d})}}),[n,i,o,r,a]),null})),Qg={setAutoEnhanceParameters:It},Jg=(0,ge.Ng)((function(e){return{isAutoEnhanceOn:e.autoEnhance.isAutoEnhanceOn}}),Qg)(Yg),$g=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},ev="ReplaceBackgroundMaskWithColorShader",tv="uHasColor@",nv="uColor@",rv=function(){function e(e){this._isWebGL2=!1,this._isWebGL2=e}return e.prototype.setColor=function(e){this._color=e},e.prototype.getName=function(){return ev},e.prototype.getUniformNames=function(e){return[e(tv),e(nv)]},e.prototype.getFunctions=function(e){return[]},e.prototype.getHeaderCode=function(e){return e("\n        //".concat(ev,"\n        ").concat((0,gc.A)("backgroundMask"),"\n        uniform float ").concat(tv,";\n        uniform vec4 ").concat(nv,";\n        "))},e.prototype.getShaderFunctionBody=function(e){var t=Sg((0,bg.B)("backgroundMask"),"backgroundMask",!!this._isWebGL2);return"\n            //".concat(ev,"\n            ").concat((0,yg.J)("backgroundMask",!!this._isWebGL2),"\n            {\n              float colorWeight = ").concat(t,";\n              vec4 targetColor = mix(vec4(gl_FragColor.rgb,0.), ").concat(e(nv),", ").concat(e(tv),");\n              gl_FragColor = mix(gl_FragColor, targetColor, colorWeight);\n            }\n        ")},e.prototype.onBeforeBabylonRender=function(e,t){e.setFloat(t(tv),void 0===this._color||0===this._color[3]?0:1),e.setFloat4.apply(e,$g([t(nv)],this._color||qs.Wf,!1))},e}();var ov=(0,kn.Mz)([ha.po,Ur.bo,Ur.a8],(function(e,t,n){var r=t.maskType,o=n>0;return(e===un.Nr||e===un.ts||e===un.NF)&&r===qf.D.FromLayer&&o}));var iv=(0,kn.Mz)([gg,ov,ha.po,ir.OA,ir.PG,ir.pS],(function(e,t,n,r,o,i){if(!e&&!t){if(n!==un.NF)return function(e){var t=void 0;return"ColorRGBABackground"===(null===e||void 0===e?void 0:e.type)?t=e.color:"TransparentBackground"===(null===e||void 0===e?void 0:e.type)&&(t=qs.OG),t}(r);var a=void 0;return"ColorRGBABackground"===o&&"ColorRGBABackground"===i.ColorRGBABackground.type?a=i.ColorRGBABackground.color:"TransparentBackground"===o&&(a=qs.OG),a}})),av=(0,ge.Ng)((function(e){return{color:iv(e)}}))((function(t){var n=t.color,r=t.order,o=(0,mc.h)(),i=(0,e.useMemo)((function(){return new rv(o)}),[o]);i.setColor(n);var a=function(e){return e||[null,null,null,null]}(n);return vl(a),Xp(i,r,!!n),null})),sv=n(88400),lv=n(63010),uv=(0,e.memo)((function(e){var t=e.enabled,n=e.order,r=e.lightSources,o=e.globalIntensity,i=e.showDebugNormalMap,a=e.texturePatches,s=new sv.jM;s.setLightSources(r),s.setGlobalIntensity(o),s.setDisplayNormalMap(i),vl([r,o,i]);var l=(0,lv.V)("normalMap").id,u=(0,Vg.G)(a,"normalMap",[l]);return Xp(s,n,t&&u),null})),cv=(0,ge.Ng)((function(e){return{enabled:(0,sr.My)(e),lightSources:e.relight.lightSources,globalIntensity:e.relight.globalIntensity,showDebugNormalMap:6===e.relight.presetIndex&&e.relight.lightSources.every((function(e){return!e.isOn})),texturePatches:(0,Zc.n9)(e)}}))(uv);function dv(e){return"BlurredBackground"===e.type&&e.blurLevel>0}var pv=(0,kn.Mz)([ir.OA,ov],(function(e,t){return dv(e)&&!t})),fv="SingleTileBackgroundRgbLayerVisualizationShader",hv="uIsVisible@",mv=function(){function e(e){this._isVisible=!1,this._isWebGL2=!1,this._isWebGL2=e}return e.prototype.setIsVisible=function(e){this._isVisible=e},e.prototype.getName=function(){return fv},e.prototype.getUniformNames=function(e){return[e(hv)]},e.prototype.getFunctions=function(e){return[]},e.prototype.getHeaderCode=function(e){return e("\n    //".concat(fv,"---\n    ").concat((0,gc.A)("singleTileBackground"),"\n    ").concat((0,gc.A)("backgroundMask"),"\n    uniform float ").concat(e(hv),";\n    "))},e.prototype.getShaderFunctionBody=function(e){var t=il.k.isRenderingForExport,n=il.k.singleTileTextureUvTransform,r=il.k.uv,o=Sg((0,bg.B)("backgroundMask"),"backgroundMask",!!this._isWebGL2);return e("\n    //".concat(fv,"---\n    ").concat((0,yg.J)("backgroundMask",!!this._isWebGL2),"\n    {\n      float maskValue = ").concat(o,";\n      vec3 uvInSingleTileTexture =  vec3(").concat(r,".x,").concat(r,".y,1.0) * ").concat(n,";\n      vec4 backgroundTextureValue = texture2D(").concat((0,rl.X)("singleTileBackground"),", uvInSingleTileTexture.xy);\n      gl_FragColor.rgb = mix( gl_FragColor.rgb, backgroundTextureValue.rgb, ").concat(t," * maskValue);\n      gl_FragColor.rgb = mix( gl_FragColor.rgb, backgroundTextureValue.rgb, (1.0 - ").concat(t,") * ").concat(e(hv)," * maskValue );\n    }\n    "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setFloat(t(hv),this._isVisible?1:0)},e}(),gv=(0,e.memo)((function(t){var n=t.enabled,r=t.isVisible,o=t.order,i=(0,mc.h)(),a=(0,e.useMemo)((function(){return new mv(i)}),[i]),s=(0,Dc.H)("singleTileBackground");return a.setIsVisible(r&&s),vl([r]),Xp(a,o,n),null})),vv=(0,ge.Ng)((function(e){return{enabled:dv((0,ir.OA)(e)),isVisible:pv(e)}}))(gv),yv=function(t){var n=t.order;return Xp((0,e.useMemo)((function(){return new cc}),[]),n),null},bv=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xv=function(e){function t(){return e.call(this,"FakeMipMapEffectShader",al.t$)||this}return bv(t,e),t}(lc),_v=1/3,Cv=e.memo((function(t){var n=t.zoomLevel,r=t.order,o=(0,e.useMemo)((function(){return new xv}),[]),i=(0,e.useContext)(kl.M).engine;return Xp(o,r,!(0,Wl.t)(i)&&n<_v),null}));Cv.displayName="FakeMipMapsEffect";var wv=(0,ge.Ng)((function(e){return{zoomLevel:(0,Ui.j)(e)}}))(Cv),Sv="SHARPNESS_SHADER_NAME",kv=function(){function e(){this._sharpness=0}return e.prototype.setSharpness=function(e){this._sharpness=e},e.prototype.getName=function(){return Sv},e.prototype.getUniformNames=function(e){return[]},e.prototype.getFunctions=function(){return[]},e.prototype.getHeaderCode=function(e){return e(" //".concat(Sv,"---\n    ").concat((0,gc.A)("singleTilePreSharpen"),"\n    "))},e.prototype.getShaderFunctionBody=function(e){return""},e.prototype.onBeforeBabylonRender=function(e,t){e.setFloat(il.k.sharpness,this._sharpness)},e}(),Tv=e.memo((function(t){var n=t.sharpness,r=t.order,o=(0,e.useMemo)((function(){return new kv}),[]);return Xp(o,r,(0,Dc.H)("singleTilePreSharpen")&&n!==jc.nS),o.setSharpness(n),vl([n]),null}));Tv.displayName="SharpnessEffect";var Ev=(0,ge.Ng)((function(e){return{sharpness:e.colorAdjustments.baseAdjustments.sharpness}}))(Tv),Pv=function(){return Pv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pv.apply(this,arguments)},Iv=e.memo((function(t){var n=t.disableMaskLayerVisualizationStripeAnimation,r=t.checkerBoardEffectVisualProps,o=(0,e.useContext)(Wr.u),i=o.enableAdjustments,a=o.enableFilters,s=o.enabledRetouchModes,l=o.enableAutoEnhance,u=o.enableBackground,c=o.enableMarkup,d=o.experimental_enableInPaintingDevUi,p=o.enableSharpness,f=o.enableAIRelight;return e.createElement(e.Fragment,null,e.createElement(yv,{order:0}),e.createElement(qm,{order:1}),e.createElement(wv,{order:2}),i&&p&&e.createElement(Ev,{order:3}),u&&e.createElement(vv,{order:4}),f&&e.createElement(cv,{order:5}),a&&e.createElement(wm,{order:Np}),i&&e.createElement(e.Fragment,null,e.createElement(ng,{order:12},e.createElement(jm,{order:7}),e.createElement(qh,{order:8}),e.createElement(fm,{order:9}),e.createElement(lm,{order:10}),e.createElement(Em,{order:11}))),s.length>0&&e.createElement(e.Fragment,null,e.createElement(lg,{order:13}),e.createElement(dg,{order:14})),u&&e.createElement(av,{order:15}),i&&e.createElement(Am,{order:16}),l&&e.createElement(e.Fragment,null,e.createElement(Jg,null),e.createElement(fg,{order:17})),d&&e.createElement(Cg,{order:18}),e.createElement(Gg,{order:19}),e.createElement(Gh,Pv({order:20},r)),u&&e.createElement(Wg,{disableStripeAnimation:n,maskLayerName:"backgroundMask",order:21}),s.length>0&&e.createElement(Wg,{disableStripeAnimation:n,maskLayerName:"eraseMask",order:22}),d&&e.createElement(Wg,{disableStripeAnimation:!0,maskLayerName:"objectSegmentationPreview",order:25}),c&&e.createElement(vg,{order:Up}),e.createElement(Cm,{order:24}))})),Av=n(40685),Rv=(0,e.memo)((function(t){return t.hasStylizerTexturePatchRequest?e.createElement(Wf,null):null})),Lv=(0,kn.Mz)([Lr.N],(function(e){return e.some((function(e){return"main"===e.algorithmParameters.layerToPatch}))})),Mv=(0,ge.Ng)((function(e){return{hasStylizerTexturePatchRequest:Lv(e)}}))(Rv),Bv=n(74439),Ov=(0,e.memo)((function(t){var n=t.allTexturePatchRequests;return(0,Bv.j)(n,"objectSegmentation")?e.createElement(Wf,null):null})),Fv=(0,ge.Ng)((function(e){return{allTexturePatchRequests:(0,Lr.N)(e)}}))(Ov),Dv=n(90247);var Nv=e.memo((function(t){var n=t.mainLayerContentHash;return function(t,n,r){var o=(0,e.useContext)(kl.M).textureManager,i=(0,e.useContext)(lo.Z).image,a=(0,Dv.C)(),s=i&&(0,so.k_)(i)?i[n]:null,l=(0,Dc.H)(n),u=(0,e.useRef)("");(0,e.useEffect)((function(){if(t&&l&&s&&i&&o){var e="".concat(s.id,"_").concat(r);u.current!==e&&(a.notifyContentHashChanged(n,r,i,o),u.current=e)}}),[a,t,n,r,i,s,l,o])}(t.enabled,"main",n),null})),Uv=(0,ge.Ng)((function(e){return{mainLayerContentHash:Xc(e,"main"),enabled:(0,$n.L1)(e)}}))(Nv),zv=(0,e.memo)((function(){return"loading"===(0,e.useContext)($r).resizedImageWithStatus.status?e.createElement(Wf,null):null})),jv=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Vv="UV_REVEAL_SHADER_NAME",Wv="uMaxU@",Hv="uViewToUvTransform@",qv=function(){function e(){this._maxU=1,this._viewToUvTransform=new Float32Array(9)}return e.prototype.setMaxU=function(e){this._maxU=e},e.prototype.setUvToViewTransform=function(e){this._viewToUvTransform=new Float32Array(jv(jv([],(0,Vn.eE)(e),!0),[0,0,1],!1))},e.prototype.getName=function(){return Vv},e.prototype.getUniformNames=function(e){return[e(Wv),e(Hv)]},e.prototype.getFunctions=function(e){return[]},e.prototype.getHeaderCode=function(e){return e("\n    // ".concat(Vv,"\n    uniform float ").concat(Wv,";\n    uniform mat3 ").concat(Hv,";\n    "))},e.prototype.getShaderFunctionBody=function(e){var t=il.k.screenPixelPos;return e("\n    // ".concat(Vv,"\n    {\n      vec3 uvPos = vec3(").concat(t,".x,").concat(t,".y,1.0) * ").concat(Hv,";\n      if(uvPos.x < ").concat(Wv,")\n      {\n        discard;\n      }\n    }\n    "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setMatrix3x3(t(Hv),this._viewToUvTransform),e.setFloat(t(Wv),this._maxU)},e}(),Kv=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Gv=function(t){var n=t.maxU,r=t.uvToView,o=t.order,i=(0,e.useMemo)((function(){return new qv}),[]);return i.setMaxU(n),i.setUvToViewTransform(r),vl(Kv([n],r,!0)),Xp(i,o),null},Zv=(0,e.memo)((function(t){var n=t.viewCropTransform,r=t.zIndex,o=(0,e.useContext)($r),i=o.resizedImageWithStatus,a=o.revealPosViewSpace,s=(0,Vn.J)(n,{x:a,y:0}).x,l=null===i||void 0===i?void 0:i.image;if(!l||!l.main||"loaded"!==i.status)return null;var u=(0,Hn.SM)(n).width,c={x:l.main.width,y:l.main.height},d=u/c.x;return e.createElement(ql,{image:l,transform:n,zIndex:r},e.createElement(yv,{order:0}),e.createElement(Hm,{zoomLevel:d,originalImageSize:c,order:1}),e.createElement(Gv,{order:2,maxU:s,uvToView:n}))})),Xv=(0,ge.Ng)((function(e){return{viewCropTransform:ju(e)}}),{})(Zv),Yv="ROUNDED_RECTANGLE_SHADER_NAME",Qv="uRectParams@",Jv="uRectColor@",$v="uBorderColor@",ey="uBorderThickness@",ty="uCornerRadius@",ny=function(){function e(){this._posX=0,this._posY=0,this._width=44,this._height=105,this._cornerRadius=7,this._color=[0,0,0,0],this._borderColor=[0,0,0,0],this._borderThickness=2}return e.prototype.setRectangle=function(e){this._posX=e.left,this._posY=e.top,this._width=e.width,this._height=e.height},e.prototype.setColor=function(e){this._color=e},e.prototype.setBorderColor=function(e){this._borderColor=e},e.prototype.setBorderThickness=function(e){this._borderThickness=e},e.prototype.getName=function(){return Yv},e.prototype.getFunctions=function(e){return["\n#ifndef ROUNDED_BOX_SDF\n#define ROUNDED_BOX_SDF\nfloat roundedBoxSDF(vec2 centerPosition, vec2 size, float radius) {\n    return length(max(abs(centerPosition) - size + radius, 0.0)) - radius;\n}\n#endif\n"]},e.prototype.getHeaderCode=function(e){return e("\n        //".concat(Yv,"\n\t\t\t\t").concat((0,gc.A)("main"),"\n        uniform vec4 ").concat(Qv,";\n        uniform vec4 ").concat(Jv,";\n        uniform vec4 ").concat($v,";\n        uniform float ").concat(ty,";\n        uniform float ").concat(ey,";\n        "))},e.prototype.getUniformNames=function(e){return[e(Qv),e(Jv),e($v),e(ty),e(ey)]},e.prototype.getShaderFunctionBody=function(e){return e("\n        //".concat(Yv,"\n        {\n            vec2 pixelCoord = gl_FragCoord.xy;\n            vec2 rectCenter = ").concat(Qv,".xy;\n            vec2 rectSize = ").concat(Qv,".zw/2.0;\n            float insideAntiAlias = -0.5;\n            float outsideAntiAlias = 0.5;\n            float insideAntiAliasBorder = ").concat(ey," - 0.5;\n            float outsideAntiAliasBorder = ").concat(ey," + 0.5;\n            vec4 borderColorTransparent = vec4(").concat($v,".xyz, 0.);\n            \n            float distanceToRect = roundedBoxSDF(pixelCoord - rectCenter, rectSize, ").concat(ty,");\n            \n            if (distanceToRect < insideAntiAlias) { // inside the rectangle\n                gl_FragColor = ").concat(Jv,";\n            } else if (distanceToRect < outsideAntiAlias){ // anti-aliasing between the rectangle and the border\n                gl_FragColor = mix(").concat(Jv,", ").concat($v,", smoothstep(insideAntiAlias, outsideAntiAlias, distanceToRect));\n            } else if (distanceToRect < insideAntiAliasBorder) { // border\n                gl_FragColor = ").concat($v,";\n            } else if (distanceToRect < outsideAntiAliasBorder) { // anti-aliasing between the border and the outside\n                gl_FragColor = mix(").concat($v,", borderColorTransparent, smoothstep(insideAntiAliasBorder, outsideAntiAliasBorder, distanceToRect));\n            } else { // outside the block but inside the container rectangle\n                discard;\n                // disable the line above and enable the line below to see/test the container rectangle\n\t\t\t\t\t\t\t\t// gl_FragColor = vec4(1.,0.,0.,1.);\n            }\n        }\n        "))},e.prototype.onBeforeBabylonRender=function(e,t){e.setVector4(t(Qv),{x:this._posX,y:this._posY,z:this._width,w:this._height}),e.setVector4(t(Jv),El(this._color)),e.setVector4(t($v),El(this._borderColor)),e.setFloat(t(ty),this._cornerRadius),e.setFloat(t(ey),this._borderThickness)},e}(),ry=(0,ge.Ng)((function(e){return{zoomLevel:(0,Ui.j)(e)}}))((function(t){var n=t.zIndex,r=t.rectangle,o=t.color,i=t.borderColor,a=t.borderThickness,s=(0,e.useMemo)((function(){return new ny}),[]);return s.setRectangle(r),s.setColor(o),s.setBorderColor(i),s.setBorderThickness(a),vl([r.left,r.top,r.width,r.height,o,i]),Xp(s,n,!0),null}));function oy(e){return"loaded"===e}function iy(e){var t=2*e,n=30*e,r=80*e;return{lineThickness:2*e,borderThickness:t,blockWidth:n,blockHeight:r,blockContainerWidth:n+2*t+4*e,blockContainerHeight:r+2*t,exchangeIconWidth:20*e,exchangeIconHeight:23*e}}function ay(e){var t=iy(e),n=t.blockContainerWidth;return{handleWidth:n,handleHeight:t.blockContainerHeight,lineWidth:n}}var sy=function(){return sy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},sy.apply(this,arguments)},ly=[.459,.459,.459,.7],uy=ly,cy=function(t,n,r){var o=function(t,n,r){var o=(0,e.useState)(void 0),i=o[0],a=o[1];return(0,e.useEffect)((function(){var e,o=new Blob([t],{type:"image/svg+xml"});e=URL.createObjectURL(o);var i=new Image(n,r);return i.src=e,a(i),function(){e&&URL.revokeObjectURL(e)}}),[t,n,r]),i}((0,e.useMemo)((function(){return(0,Li.J)('\n<svg width="20" height="23" viewBox="0 0 20 23" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M13.7067 0.252598L19.6942 5.42157C20.0486 5.72754 20.0811 6.20627 19.7915 6.54393L19.695 6.64068L13.7075 11.8213C13.3178 12.1585 12.6852 12.1591 12.2947 11.8226C11.9397 11.5167 11.9068 11.0376 12.1965 10.6997L12.2932 10.6029L16.578 6.89655L0.999014 6.89731C0.493246 6.89731 0.0752726 6.57283 0.00911131 6.15184L0 6.03481C0 5.59816 0.375829 5.23729 0.863454 5.18018L0.999014 5.17231L16.5807 5.17155L12.294 1.4724C11.9393 1.1662 11.9071 0.687045 12.1972 0.349382L12.2939 0.252644C12.6486 -0.0535773 13.2036 -0.0814305 13.5947 0.169097L13.7067 0.252598ZM19.9909 16.8465L20 16.9635C20 17.4002 19.6242 17.761 19.1366 17.8181L19.001 17.826L3.42174 17.825L7.7124 21.5273C8.06725 21.8334 8.09962 22.3126 7.80964 22.6504L7.71293 22.7471C7.35848 23.0535 6.80346 23.0815 6.41224 22.8311L6.30015 22.7477L0.306071 17.5769C-0.0487516 17.2709 -0.0812262 16.7917 0.208794 16.454L0.305485 16.3572L6.29957 11.1779C6.68954 10.8409 7.32208 10.8407 7.7124 11.1773C8.06725 11.4834 8.09962 11.9626 7.80964 12.3004L7.71293 12.3971L3.42707 16.1L19.001 16.101C19.5068 16.101 19.9247 16.4254 19.9909 16.8465Z" fill="{0}"/>\n</svg>\n',t.palette.neutralPrimary)}),[t.palette.neutralPrimary]),n,r);return function(t){var n=(0,Se.wj)(),r=(0,e.useState)(void 0),o=r[0],i=r[1];return(0,e.useEffect)((function(){if(void 0!==t){var e=!0;return t.decode().then((function(){e&&i(t)})).catch((function(r){e&&n({id:"ImageNotLoaded",message:"Error decoding image "+t.src})})),function(){e=!1}}}),[n,t]),o}(o)},dy=(0,e.memo)((function(t){var n=t.zIndex,r=t.canvasPixelSize,o=t.devicePixelRatio,i=(0,I.D)(),a=(0,Pf.i)(i.palette.white,.9),s=a,l=iy(o),u=l.lineThickness,c=l.borderThickness,d=l.blockWidth,p=l.blockHeight,f=l.blockContainerWidth,h=l.blockContainerHeight,m=l.exchangeIconWidth,g=l.exchangeIconHeight,v=cy(i,m,g),y=(0,e.useMemo)((function(){if(v)return(0,so.c7)(v,"FullSize")}),[v]),b=(0,e.useContext)($r),x=b.revealPosViewSpace;if(!oy(b.resizedImageWithStatus.status))return null;var _=x,C=r.y/2-h/2,w=r.y/2+h/2,S={left:_-u/2,top:0,width:u,height:C},k=sy(sy({},S),{left:S.left+u}),T=sy(sy({},S),{left:S.left-u}),E={left:_-u/2,top:w,width:u,height:r.y-w},P=sy(sy({},E),{left:E.left+u}),A=sy(sy({},E),{left:E.left-u}),R={left:_-f/2,top:C,width:f,height:h},L={left:_,top:r.y/2,width:d,height:p},M=v&&{left:_-v.width/2,top:r.y/2-v.height/2,width:v.width,height:v.height};return e.createElement(e.Fragment,null,e.createElement(Jp,{zIndex:n,color:qs.OG,transform:(0,Hn.Vq)(R)},e.createElement(ry,{zIndex:n+1,rectangle:L,color:a,borderColor:ly,borderThickness:c})),e.createElement(Jp,{zIndex:n+2,color:s,transform:(0,Hn.Vq)(S)}),e.createElement(Jp,{zIndex:n+2,color:uy,transform:(0,Hn.Vq)(T)}),e.createElement(Jp,{zIndex:n+2,color:uy,transform:(0,Hn.Vq)(k)}),e.createElement(Jp,{zIndex:n+2,color:s,transform:(0,Hn.Vq)(E)}),e.createElement(Jp,{zIndex:n+2,color:uy,transform:(0,Hn.Vq)(A)}),e.createElement(Jp,{zIndex:n+2,color:uy,transform:(0,Hn.Vq)(P)}),y&&M&&e.createElement(ql,{image:y,zIndex:n+3,transform:(0,Hn.Vq)(M)},e.createElement(yv,{order:0})))})),py=(0,ge.Ng)((function(e){var t=e.transformTools;return{canvasPixelSize:t.view.viewportPixelSize,devicePixelRatio:t.device.pixelRatio}}),{})(dy),fy=e.memo((function(t){var n=t.cropWidth,r=t.cropHeight,o=t.position,i=t.opacity,a=t.transform,s=void 0===a?"translateX(-50%)":a,l=hy(n,r),u=l.imageDimension,c=l.imageDimensionAriaLabel;return e.createElement(Tu,{style:{top:o.y,left:o.x,transform:s,opacity:i},visible:i>0},e.createElement("span",{"aria-label":c},u))}));function hy(t,n){var r=(0,e.useContext)(ke.x).strings,o=t.toString(),i=n.toString();return{imageDimension:(0,Li.J)(r.editor_imageDimensionLabelFormatString,o,i),imageDimensionAriaLabel:(0,Li.J)(r.editor_imageDimensionAriaLabelFormatString,o,i)}}var my=(0,e.memo)((function(t){var n=t.zIndex,r=t.originalImagePixelSize,o=t.devicePixelRatio,i=t.resizeFactor,a=(0,e.useContext)($r),s=a.revealPosViewSpace,l=a.resizedImageWithStatus,u=hy(r.width,r.height).imageDimension,c=hy(r.width*i,r.height*i).imageDimension;if("loaded"!==l.status)return null;var d=s/o;return e.createElement(e.Fragment,null,e.createElement(Tu,{style:{bottom:8,left:d,transform:"translateX(calc(-100% - 5px))",width:"max-content",zIndex:n},visible:!0},u),e.createElement(Tu,{style:{bottom:8,left:d,transform:"translateX(5px)",width:"max-content",zIndex:n},visible:!0},c))})),gy=(0,ge.Ng)((function(e){return{originalImagePixelSize:(0,Ri.U9)(e),devicePixelRatio:e.transformTools.device.pixelRatio,resizeFactor:e.resize.resizeFactor}}),{})(my),vy=(0,e.memo)((function(t){return t.showAnimatingBorder?e.createElement(Wf,null):null})),yy=(0,ge.Ng)((function(e){return{showAnimatingBorder:(0,sr.lM)(e)}}))(vy),by=function(){return by=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},by.apply(this,arguments)},xy=(0,e.memo)((function(t){var n=t.animationSettings,r=t.texturePatchCacheMethodsRef,o=t.isEditorFocused,i=t.cropHandleSizeCss,a=void 0===i?Av.US:i,s=t.cropHandleHitAreaSizeCss,l=void 0===s?Av.Oc:s,u=t.editorCanvasBackgroundColor,c=t.markupProps,d=t.showBackgroundSegmentationAnimatingBorder,p=void 0===d||d,f=t.checkerBoardEffectVisualProps,h=(0,e.useContext)(lo.Z),m=h.image,g=h.setOffscreenRenderer,v=h.setImageLayer;return e.createElement(zd,{animationSpeedMultiplier:null===n||void 0===n?void 0:n.animationSpeedMultiplier,backgroundColor:u},e.createElement(rc,{match:un.x8},e.createElement(sc,{handleSizeCss:a,handleHitAreaSizeCss:l}),e.createElement(Oh,null)),e.createElement(cu,{image:m,setImageLayer:v,color:qs.Wf,zIndex:1},e.createElement(Tf,{ref:r}),e.createElement($d,null,e.createElement(zp,{ref:g}),e.createElement(Iv,{disableMaskLayerVisualizationStripeAnimation:null===n||void 0===n?void 0:n.disableMaskLayerVisualizationStripes,checkerBoardEffectVisualProps:f}))),e.createElement(rc,{match:un.VO},e.createElement(of,{disableAnimation:null===n||void 0===n?void 0:n.disableCircleBrushCursorRotation}),e.createElement(ih,null),e.createElement(Qf,null),e.createElement(yy,null)),e.createElement(rc,{match:[un.NF,un.Nr,un.ts]},e.createElement(ih,null),p&&e.createElement(Gf,null),e.createElement(of,{disableAnimation:null===n||void 0===n?void 0:n.disableCircleBrushCursorRotation})),e.createElement(rc,{match:[un.Nr,un.ts]},e.createElement(yf,null),e.createElement(sf,null),e.createElement(Fv,null)),e.createElement(rc,{match:[un.ts]},e.createElement(Mv,null),e.createElement(yy,null)),e.createElement(rc,{match:[un.VQ]},e.createElement(zv,null),e.createElement(yy,null),e.createElement(Xv,{zIndex:3}),e.createElement(py,{zIndex:4}),e.createElement(gy,{zIndex:4})),e.createElement(rc,{match:[un.io]},e.createElement(yy,null)),e.createElement(oc,by({isEditorFocused:o},c)),e.createElement(Kd,null),e.createElement($c,null),e.createElement(Uv,null))})),_y=(0,e.memo)(xy),Cy=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wy="html",Sy="svg",ky=function(e,t){var n,r,o,i={};if(e===wy)o=document.createElement("div");else{if(e!==Sy)throw new Error('Invalid element type "'+e+'" for createPortalNode: must be "html" or "svg".');o=document.createElementNS("http://www.w3.org/2000/svg","g")}if(t&&"object"===typeof t)for(var a=0,s=Object.entries(t.attributes);a<s.length;a++){var l=s[a],u=l[0],c=l[1];o.setAttribute(u,c)}var d={element:o,elementType:e,setPortalProps:function(e){i=e},getInitialPortalProps:function(){return i},mount:function(t,o){if(o!==r){if(d.unmount(),t!==n&&!function(e,t){if(t===wy)return e instanceof HTMLElement;if(t===Sy)return e instanceof SVGElement;throw new Error('Unrecognized element type "'+t+'" for validateElementType.')}(t,e))throw new Error('Invalid element type for portal: "'+e+'" portalNodes must be used with '+e+" elements, but OutPortal is within <"+t.tagName+">.");t.replaceChild(d.element,o),n=t,r=o}},unmount:function(e){e&&e!==r||n&&r&&(n.replaceChild(r,d.element),n=void 0,r=void 0)}};return d},Ty=function(n){function r(e){var t=n.call(this,e)||this;return t.addPropsChannel=function(){Object.assign(t.props.node,{setPortalProps:function(e){t.setState({nodeProps:e})}})},t.state={nodeProps:t.props.node.getInitialPortalProps()},t}return Cy(r,n),r.prototype.componentDidMount=function(){this.addPropsChannel()},r.prototype.componentDidUpdate=function(){this.addPropsChannel()},r.prototype.render=function(){var n=this,r=this.props,o=r.children,i=r.node;return t.createPortal(e.Children.map(o,(function(t){return e.isValidElement(t)?e.cloneElement(t,n.state.nodeProps):t})),i.element)},r}(e.PureComponent),Ey=function(t){function n(n){var r=t.call(this,n)||this;return r.placeholderNode=e.createRef(),r.passPropsThroughPortal(),r}return Cy(n,t),n.prototype.passPropsThroughPortal=function(){var e=Object.assign({},this.props,{node:void 0});this.props.node.setPortalProps(e)},n.prototype.componentDidMount=function(){var e=this.props.node;this.currentPortalNode=e;var t=this.placeholderNode.current,n=t.parentNode;e.mount(n,t),this.passPropsThroughPortal()},n.prototype.componentDidUpdate=function(){var e=this.props.node;this.currentPortalNode&&e!==this.currentPortalNode&&(this.currentPortalNode.unmount(this.placeholderNode.current),this.currentPortalNode.setPortalProps({}),this.currentPortalNode=e);var t=this.placeholderNode.current,n=t.parentNode;e.mount(n,t),this.passPropsThroughPortal()},n.prototype.componentWillUnmount=function(){var e=this.props.node;e.unmount(this.placeholderNode.current),e.setPortalProps({})},n.prototype.render=function(){return e.createElement("div",{ref:this.placeholderNode})},n}(e.PureComponent),Py=ky.bind(null,wy),Iy=(ky.bind(null,Sy),n(22254)),Ay=function(){},Ry=function(t){var n=t.isOnline,r=t.msaStatus,o=t.onMSALogin,i=t.onMSALogout,a=t.onMSABlocked,s=t.onMSABanned,l=t.hostError,u=t.onDismissHostError,c=t.children;return e.createElement(Iy.E.Provider,{value:{isOnline:n,msaStatus:null!==r&&void 0!==r?r:"SignedOut",onMSALogin:null!==o&&void 0!==o?o:Ay,onMSALogout:null!==i&&void 0!==i?i:Ay,onMSABlocked:null!==a&&void 0!==a?a:Ay,onMSABanned:null!==s&&void 0!==s?s:Ay,onDismissHostError:null!==u&&void 0!==u?u:Ay,hostError:l}},c)},Ly=n(47140),My=function(t){var n=t.children,r=t.doesImageContainFaces,o=t.imageCreationExtensionState,i=t.stylizerPivotTeachingTipState,a=t.onDownloadImageCreationExtension,s=t.onStylizerPivotTeachingTipDismissed,l=t.setStylizerPivotTeachingTipState;return e.createElement(Ly.U.Provider,{value:{imageCreationExtensionState:null!==o&&void 0!==o?o:"Unavailable",onDownloadImageCreationExtension:null!==a&&void 0!==a?a:function(){},doesImageContainFaces:null!==r&&void 0!==r?r:void 0,stylizerPivotTeachingTipState:i||"alreadyShown",onStylizerPivotTeachingTipDismissed:s||function(){},setStylizerPivotTeachingTipState:l||function(){}}},n)},By=(0,ge.Ng)((function(e){return{undoRedoStack:e.imageWasReplaced.undoRedoStack}}))(ua),Oy=(0,ge.Ng)((function(e){return{undoRedoStack:e.resize.undoRedoStack,disableUndoRedoOverride:void 0}}))(ua),Fy=function(){return Fy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fy.apply(this,arguments)};function Dy(e){return void 0!==e.current}Ii();var Ny=(0,e.forwardRef)((function(t,n){var r=t.image,o=t.componentSize,i=t.onSave,a=t.onMSALogin,s=t.onMSALogout,l=t.onMSABlocked,u=t.onMSABanned,c=t.onDownloadImageCreationExtension,d=t.onLinkClicked,p=t.onRenderSaveMenu,f=t.localization,h=t.telemetryCallback,m=t.onError,g=t.onClose,v=t.onEditsChanged,y=t.onUiStateChanged,b=t.onResetEditsConfirmationDialog,x=t.defaultEdits,_=t.initialEdits,C=t.initialUiState,w=t.pivotKeyOrder,S=t.serializedState,k=t.layout,T=t.customCommandBarButtons,E=t.enableAdjustments,P=t.enableSharpness,A=t.enableFilters,R=t.enableAutoEnhance,L=t.enabledRetouchModes,M=t.experimental_enableInPaintingDevUi,B=t.enableUndoRedo,O=t.enableBackground,F=t.enableAIRelight,D=t.enableAIRelightDevUI,N=t.enableFocalPoint,U=t.enableStylizer,z=t.experimental_enableStylizerDevUi,j=t.enableResize,V=t.disableWebGL2Support,W=t.cssToPhysicalPixelRatio,H=t.onDecideEnabledSaveTypes,q=t.sessionFullImageSize,K=t.animationSettings,G=t.children,Z=t.enableMarkupText,X=t.aspectRatiosDisplayedInOrder,Y=t.texturePatchAlgorithmOverrides,Q=t.isCopyToClipboardVisible,J=void 0!==Q&&Q,$=t.isOnline,ee=t.msaStatus,te=t.doesImageContainFaces,ne=t.imageCreationExtensionState,re=t.hostError,oe=t.onDismissHostError,ie=t.stylizerPivotTeachingTipState,ae=t.setStylizerPivotTeachingTipState,se=t.onStylizerPivotTeachingTipDismissed,le=t.onRequestResizedImage,ue=t.onCancelResizeOperation;(0,e.useEffect)((function(){performance.mark(me.Editor)}),[]);var ce=(0,I.D)(),de=(0,e.useState)(!1),pe=de[0],fe=de[1],he=(0,e.useContext)(gn.O_).enableMarkup,ge=function(){var t=this,n=(0,e.useState)(null),r=n[0],o=n[1],i=(0,e.useCallback)((function(e){return Os(t,void 0,void 0,(function(){return Fs(this,(function(t){switch(t.label){case 0:return e&&r?[4,r.deserializeTexturePatches(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}),[r]);return{setTexturePatchCacheMethods:o,setTexturePatchCache:i,getTexturePatchCache:(0,e.useCallback)((function(){return null===r||void 0===r?void 0:r.getTexturePatchCache()}),[r])}}(),ve=ge.setTexturePatchCacheMethods,ye=ge.setTexturePatchCache,be=ge.getTexturePatchCache;!function(t,n,r){var o=this;(0,e.useLayoutEffect)((function(){n()&&Ds(o,void 0,void 0,(function(){return Ns(this,(function(e){switch(e.label){case 0:return[4,t(null===r||void 0===r?void 0:r.texturePatch.texturePatches)];case 1:return e.sent(),[2]}}))}))}),[n,null===r||void 0===r?void 0:r.texturePatch.texturePatches,t])}(ye,be,_);!function(t,n,r){var o=(0,e.useContext)(gn.O_).scriptsToLoadJSBundles;(0,e.useEffect)((function(){n&&n===t&&Gi()}),[n,t]),(0,e.useEffect)((function(){r&&r===t&&o.forEach((function(e){e()}))}),[r,t,o])}(!0,null!==A&&void 0!==A&&A,he);var xe=(0,e.useMemo)((function(){return function(e,t,n,r,o,i,a,s,l,u,c){var d=[];return(null!==c&&void 0!==c?c:Ai).forEach((function(c){switch(c){case un.x8:d.push({itemIcon:"Crop",itemKey:un.x8,localizationKey:"pivot_crop",ariaDescriptionLocalizationKey:"pivot_cropAriaDescription"});break;case un.km:e&&d.push({itemIcon:"Equalizer",itemKey:un.km,localizationKey:"pivot_adjustment",ariaDescriptionLocalizationKey:"pivot_adjustmentAriaDescription"});break;case un.Zc:t&&d.push({itemIcon:"ImageFilter-Havana",itemKey:un.Zc,localizationKey:"pivot_filter",ariaDescriptionLocalizationKey:"pivot_filterAriaDescription"});break;case un.X4:n&&d.push({itemIcon:"Brush",itemKey:un.X4,localizationKey:"pivot_markup",ariaDescriptionLocalizationKey:"pivot_markupAriaDescription"});break;case un.VO:r&&r.length>0&&d.push({itemIcon:"SparklyEraseIcon-Havana",itemKey:un.VO,localizationKey:r.includes(Ht.I.MagicErase)?"pivot_erase":"pivot_retouch",ariaDescriptionLocalizationKey:"pivot_retouchAriaDescription",isAIBadgeEnabled:!0});break;case un.NF:i&&d.push({itemIcon:"AutoEnhanceOn",itemKey:un.NF,localizationKey:"pivot_background",ariaDescriptionLocalizationKey:"pivot_backgroundAriaDescription",isAIBadgeEnabled:!0});break;case un.io:a&&d.push({itemIcon:"Lightbulb",itemKey:un.io,localizationKey:"pivot_relight",ariaDescriptionLocalizationKey:"pivot_relightAriaDescription"});break;case un.Nr:o&&d.push({itemIcon:"Brush",itemKey:un.Nr,localizationKey:"pivot_inpaint"});break;case un.jp:s&&d.push({itemIcon:"FocalPoint",itemKey:un.jp,localizationKey:"pivot_focalpoint",ariaDescriptionLocalizationKey:"pivot_focalpointAriaDescription"});break;case un.ts:l&&d.push({itemIcon:"VideoPersonSparkle-Havana",itemKey:un.ts,localizationKey:"pivot_stylizer",ariaDescriptionLocalizationKey:"pivot_stylizerAriaDescription"});break;case un.VQ:u&&d.push({itemIcon:"ResolutionIcon-Havana",itemKey:un.VQ,localizationKey:"pivot_resize",ariaDescriptionLocalizationKey:"pivot_resizeAriaDescription"});break;default:throw new Error("Unknown pivot item key in pivotKeyOrder: ".concat(c))}})),d}(E,A,he,L,M,O,F,N,U,j,w)}),[E,A,he,L,M,O,F,N,U,j,w]);(null===C||void 0===C?void 0:C.activeEditorActivity)&&function(e,t){for(var n=0;n<e.length;n++)if(e[n].itemKey===t)return;throw new Error("ActiveEditorActivity is not enabled: ".concat(t))}(xe,C.activeEditorActivity);var _e=ce.semanticColors.bodyBackground,Ce=(0,e.useCallback)((function(){fe(!0)}),[fe]),we=(0,e.useCallback)((function(){fe(!1)}),[fe]),Se=(0,e.useRef)(Py()),ke={layout:k,componentSize:o,onSave:i,onRenderSaveMenu:p,onClose:g,pivotItems:xe,isEditorFocused:pe,onEditsChanged:v,onUiStateChanged:y,cssToPhysicalPixelRatio:W,animationSettings:K,customCommandBarButtons:T,texturePatchCacheMethodsRef:ve,isCopyToClipboardVisible:J,canvasContainerPortalNodeRef:Se},Te=(0,e.useMemo)((function(){return{spotFix:(null===Y||void 0===Y?void 0:Y.spotFix)||zs.spotFix,magicErase:(null===Y||void 0===Y?void 0:Y.magicErase)||zs.magicErase,backgroundSegmentation:(null===Y||void 0===Y?void 0:Y.backgroundSegmentation)||zs.backgroundSegmentation,stylizer:(null===Y||void 0===Y?void 0:Y.stylizer)||zs.stylizer,normalMap:(null===Y||void 0===Y?void 0:Y.normalMap)||zs.normalMap,objectSegmentation:(null===Y||void 0===Y?void 0:Y.objectSegmentation)||zs.objectSegmentation}}),[Y]);Vs(r);var Ee=(0,e.useCallback)((function(e,t){var r;if(!n||!Dy(n))throw new Error("imageEditorMethodsRef is not initialized");null===(r=n.current)||void 0===r||r.replaceImageAndResetEdits(e,{editType:"SuperResolution",resizeFactor:t})}),[n]);return e.createElement("div",{onFocus:Ce,onBlur:we,style:{width:o.width,height:o.height,backgroundColor:_e}},e.createElement(Ki,{enableAdjustments:E,enableSharpness:P,enableFilters:A,enableAutoEnhance:!!R,enableMarkup:he,enabledRetouchModes:L,experimental_enableInPaintingDevUi:M,enableUndoRedo:B,enableMarkupText:Z,enableBackground:O,enableAIRelight:F,enableAIRelightDevUI:D,disableWebGL2Support:V,enableStylizer:U,experimental_enableStylizerDevUi:z,enableResize:j},e.createElement(Ry,{isOnline:!!$,msaStatus:ee,onMSALogin:a,onMSALogout:s,onMSABlocked:l,onMSABanned:u,hostError:re,onDismissHostError:oe},e.createElement(My,{doesImageContainFaces:te,imageCreationExtensionState:ne,stylizerPivotTeachingTipState:ie,onDownloadImageCreationExtension:c,setStylizerPivotTeachingTipState:ae,onStylizerPivotTeachingTipDismissed:se},e.createElement(Co,{image:r,localization:f,telemetryCallback:h,onComponentError:m,defaultEdits:x,initialEdits:_,initialUiState:C,serializedState:S,sessionFullImageSize:q,onDecideEnabledSaveTypes:H,onResetEditsConfirmationDialog:b,ariaConfig:k.getAriaConfig?k.getAriaConfig():void 0,aspectRatiosDisplayedInOrder:X,texturePatchAlgorithmsByRole:Te,onRequestResizedImage:le,onAcceptResizedImage:Ee,onCancelResizeOperation:ue,onLinkClicked:d},e.createElement(la,null,e.createElement(Da,null),e.createElement(Ca,{htmlElementForKeyboardControl:document.body}),e.createElement(va,null),e.createElement(da,null),e.createElement(pa,null),e.createElement(fa,null),e.createElement(ga,null),e.createElement(wa,null),e.createElement(Ws,null),e.createElement(By,null),e.createElement(ya,null),e.createElement(Hs,null),e.createElement(Oy,null),Se.current&&e.createElement(Ty,{node:Se.current},e.createElement(_y,Fy({},ke,k.getCanvasContainerProps(ce)))),k.reactNode(ke),e.createElement(Bs,{onEditsChanged:v,onUiStateChanged:y,ref:n,setTexturePatchCache:ye,getTexturePatchCache:be}),G),e.createElement(Xi,null),e.createElement(qi,null))))))}));Ny.displayName="ImageEditor";var Uy=n(44414);const zy=(0,Uy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",children:(0,Uy.jsx)("path",{d:"M1536 1664H697q-65 0-122-26t-99-70-67-102-25-122V512H64q-26 0-45-19T0 448q0-26 19-45t45-19h320V64q0-26 19-45t45-19q26 0 45 19t19 45v1280q0 39 15 74t41 61 62 42 74 15h1280q26 0 45 19t19 45q0 26-19 45t-45 19h-320v320q0 26-19 45t-45 19q-26 0-45-19t-19-45v-320zM640 512V384h711q63 0 120 25t99 68 68 100 26 120v711h-128V704q0-39-15-74t-41-61-62-42-74-15H640z"})}),jy=(0,Uy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",children:(0,Uy.jsx)("path",{d:"M960 192V64q0-26 19-45t45-19q26 0 45 19t19 45v128q0 26-19 45t-45 19q-26 0-45-19t-19-45zM512 448q0 26-19 45t-45 19q-26 0-45-19L275 365q-19-19-19-45t19-45 45-19q26 0 45 19l128 128q19 19 19 45zm1216-192q26 0 45 19t19 45q0 26-19 45l-128 128q-19 19-45 19t-45-19-19-45q0-26 19-45l128-128q19-19 45-19zm-192 768v10q0 104-41 195t-112 160-163 107-196 40q-106 0-199-40t-163-109-110-163-40-200q0-106 40-199t109-163 163-110 200-40q106 0 199 40t163 109 110 163 40 200zm-512 384h8q78 0 146-31t120-84 80-122 30-147q0-77-29-146t-81-123-119-84-147-31h-8v768zM192 960q26 0 45 19t19 45q0 26-19 45t-45 19H64q-26 0-45-19t-19-45q0-26 19-45t45-19h128zm1792 0q26 0 45 19t19 45q0 26-19 45t-45 19h-128q-26 0-45-19t-19-45q0-26 19-45t45-19h128zM448 1536q26 0 45 19t19 45q0 26-19 45l-128 128q-19 19-45 19t-45-19-19-45q0-26 19-45l128-128q19-19 45-19zm1344 192q0 26-19 45t-45 19q-26 0-45-19l-128-128q-19-19-19-45t19-45 45-19q26 0 45 19l128 128q19 19 19 45zm-704 128v128q0 26-19 45t-45 19q-26 0-45-19t-19-45v-128q0-26 19-45t45-19q26 0 45 19t19 45z"})}),Vy=(0,Uy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",children:(0,Uy.jsx)("path",{d:"M1600 0q26 0 45 19t19 45v1093q0 51-20 96t-55 79-80 55-96 21h-22q-11 0-22 1h-45q-22 0-44-1v389q0 52-21 97t-56 80-81 54-98 20q-53 0-99-20t-81-55-55-81-21-100v-384H635q-50 0-95-20t-80-55-55-80-21-96V64q0-26 19-45t45-19h1152zM512 128v768h1024V128h-128v320q0 26-19 45t-45 19q-26 0-45-19t-19-45V128h-128v192q0 26-19 45t-45 19q-26 0-45-19t-19-45V128H512zm1024 896H512v128q0 54 37 91t91 37h192q26 0 45 19t19 45v448q0 27 10 50t27 41 40 27 51 10q27 0 50-10t40-27 28-41 10-50v-448q0-41 28-53t72-12q26 0 54 1t57 2q39 0 74-7t61-32q38-38 38-91v-128z"})}),Wy=(0,Uy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",children:(0,Uy.jsx)("path",{d:"M64 1792q-26 0-45-19t-19-45q0-7 11-43t27-87 36-109 38-112 32-94 19-55q4-13 16-25L1283 99q44-44 101-68t120-24q64 0 121 24t100 68 67 100 25 121q0 63-24 119t-68 102l-162 163q40 44 62 87t23 105q0 51-19 98t-56 83l-184 184q-19 19-45 19t-45-19-19-45q0-26 19-45l184-184q38-38 38-91 0-31-13-56t-36-45l-851 850q-13 13-29 17L80 1790q-10 2-16 2zm98-154l381-96L1635 451q26-26 40-60t14-71q0-39-14-72t-40-59-58-39-73-15q-37 0-71 14t-60 40L280 1283l-118 355zm-6 265l172-43q58 29 120 44t128 16q68 0 133-29t127-72 123-94 119-94 115-73 112-29q32 0 59 10 42 15 69 39t45 55 30 67 25 74q5 17 13 33t21 29q6 7 14 13t19 7q22 0 52-13t62-33 59-39 48-33q30-20 63-37t69-30q17-7 31-7 27 0 45 18t19 46q0 21-13 38t-33 23q-1 2-6 2-47 19-96 51t-99 64-100 55-101 23q-39 0-71-17t-58-46q-23-25-36-52t-24-59q-6-18-14-44t-20-50-30-41-42-17q-38 0-84 29t-100 72-116 94-130 94-144 72-155 29q-111 0-218-36t-196-104l-6-5z"})}),Hy=(0,Uy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",children:(0,Uy.jsx)("path",{d:"M960 640q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45q0-26 19-45t45-19zm0 512q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45q0-26 19-45t45-19zM704 896q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45q0-26 19-45t45-19zm256 0q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45q0-26 19-45t45-19zm320 64q0 26-19 45t-45 19q-26 0-45-19t-19-45q0-26 19-45t45-19q26 0 45 19t19 45zm640 512q0 93-35 174t-96 142-142 96-175 36q-89 0-171-34t-146-97l-195-195-195 195q-63 63-145 97t-172 34q-93 0-174-35t-143-96-96-142-35-175q0-90 34-172t97-145l195-195-195-195q-63-63-97-145T0 448q0-93 35-174t96-142 142-96T448 0q89 0 171 34t146 97l195 195 195-195q63-63 145-97t172-34q93 0 174 35t143 96 96 142 35 175q0 90-34 172t-97 145l-195 195 195 195q63 63 97 145t34 172zM1050 417l453 453 195-196q46-47 70-103t24-123q0-66-25-124t-68-102-102-69-125-25q-66 0-122 24t-104 70l-196 195zM417 870l453-453-196-195q-47-46-103-70t-123-24q-66 0-124 25t-102 68-69 102-25 125q0 66 24 122t70 104l195 196zm453 633l-453-453-195 196q-46 47-70 103t-24 123q0 66 25 124t68 102 102 69 125 25q66 0 122-24t104-70l196-195zM507 960l453 453 453-453-453-453-453 453zm1285 512q0-66-24-122t-70-104l-195-196-453 453 196 195q47 46 103 70t123 24q66 0 124-25t102-68 69-102 25-125z"})}),qy=(0,Uy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",children:(0,Uy.jsx)("path",{d:"M1792 256h-16q-8 0-18 1-17 0-33-2t-30-8-22-20-9-35q0-22 8-34t22-19 30-9 34-2h34v-16q0-8-1-18 0-17 2-33t8-30 20-22 35-9q22 0 34 8t19 22 9 30 2 34v34h34q17 0 33 2t30 8 22 19 9 35q0 22-8 35t-22 19-30 9-34 2h-17q-8 0-17-1v34q0 17-2 33t-8 30-19 22-35 9q-22 0-35-8t-19-22-9-30-2-34v-17q0-8 1-17zM384 512h-16q-8 0-18 1-17 0-33-2t-30-8-22-20-9-35q0-22 8-34t22-19 30-9 34-2h34v-16q0-8-1-18 0-17 2-33t8-30 20-22 35-9q22 0 34 8t19 22 9 30 2 34v34h34q17 0 33 2t30 8 22 19 9 35q0 22-8 35t-22 19-30 9-34 2h-17q-8 0-17-1v34q0 17-2 33t-8 30-19 22-35 9q-22 0-35-8t-19-22-9-30-2-34v-17q0-8 1-17zM0 1803q0-49 18-93t54-80L1117 584q35-35 80-53t94-18q51 0 95 19t78 52 52 77 19 96q0 49-18 94t-53 80L418 1976q-35 35-79 53t-94 19q-51 0-95-19t-78-53-52-77-20-96zM1408 758q0-24-9-45t-26-38-37-25-46-10q-24 0-43 9t-37 23-32 32-31 32l165 166q15-15 32-30t31-33 24-37 9-44zM245 1920q22 0 44-9t39-25l894-894-166-165-894 893q-16 16-25 38t-9 45q0 24 9 45t25 37 37 25 46 10zm1291-256h-16q-8 0-18 1-17 0-33-2t-30-8-22-20-9-35q0-22 8-34t22-19 30-9 34-2h34v-16q0-8-1-18 0-17 2-33t8-30 20-22 35-9q22 0 34 8t19 22 9 30 2 34v34h34q17 0 33 2t30 8 22 19 9 35q0 22-8 35t-22 19-30 9-34 2h-17q-8 0-17-1v34q0 17-2 33t-8 30-19 22-35 9q-22 0-35-8t-19-22-9-30-2-34v-17q0-8 1-17z"})}),Ky=(0,Uy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",children:(0,Uy.jsx)("path",{d:"M987 256L0 1243v-182l805-805h182zm-448 0L0 795V613l357-357h182zm708 187q-63-35-131-50l137-137h182l-188 187zm202 247q-21-66-62-120l315-314h166q6 0 13 2l-432 432zm-25 472q-40-10-86-10 43-42 72-93t47-110l576-576q15 36 15 75v91l-624 623zM704 832q0-66 25-124t68-101 102-69 125-26q69 0 127 26t101 70 67 104 25 127q0 63-25 120t-68 99-100 68-120 26q-68 0-127-24t-104-68-70-101-26-127zm512 0q0-39-15-74t-41-61-62-42-74-15q-39 0-74 15t-61 41-42 62-15 74q0 39 15 74t41 61 62 42 74 15q39 0 74-15t61-41 42-62 15-74zm435 551q-18-66-63-118l460-460v182l-397 396zM15 1675q-15-36-15-75v-91l585-585q15 68 50 131L15 1675zm1676 117h-27v-154l384-385v182l-357 357zM512 1472q0-40 15-75t41-61 61-41 75-15h640q40 0 75 15t61 41 41 61 15 75v320h-128v-320q0-26-19-45t-45-19H704q-26 0-45 19t-19 45v320H512v-320zm-320 320h-12q-6 0-13-2l217-217v219H192z"})}),Gy=(0,Uy.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:(0,Uy.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 0.5C12.1421 0.5 15.5 3.85786 15.5 8C15.5 12.1421 12.1421 15.5 8 15.5C3.85786 15.5 0.5 12.1421 0.5 8C0.5 3.85786 3.85786 0.5 8 0.5ZM12.0547 10.2148C12.0898 10.1367 12.1074 10.0547 12.1074 9.96875C12.1074 9.85938 12.0781 9.75586 12.0195 9.6582C11.9609 9.55664 11.8848 9.47852 11.791 9.42383L9.27148 8L11.791 6.57617C11.8848 6.52148 11.9609 6.44531 12.0195 6.34766C12.0781 6.24609 12.1074 6.14062 12.1074 6.03125C12.1074 5.94531 12.0898 5.86523 12.0547 5.79102C12.0234 5.71289 11.9785 5.64648 11.9199 5.5918C11.8652 5.5332 11.7988 5.48828 11.7207 5.45703C11.6465 5.42188 11.5664 5.4043 11.4805 5.4043C11.375 5.4043 11.2734 5.43164 11.1758 5.48633L8.62695 6.92773V3.99805C8.62695 3.91211 8.60938 3.83203 8.57422 3.75781C8.54297 3.67969 8.49805 3.61328 8.43945 3.55859C8.38477 3.50391 8.31836 3.46094 8.24023 3.42969C8.16602 3.39453 8.08594 3.37695 8 3.37695C7.91406 3.37695 7.83203 3.39453 7.75391 3.42969C7.67969 3.46094 7.61328 3.50391 7.55469 3.55859C7.5 3.61328 7.45508 3.67969 7.41992 3.75781C7.38867 3.83203 7.37305 3.91211 7.37305 3.99805V6.92773L4.82422 5.48633C4.73438 5.43164 4.63281 5.4043 4.51953 5.4043C4.43359 5.4043 4.35156 5.42188 4.27344 5.45703C4.19922 5.48828 4.13281 5.5332 4.07422 5.5918C4.01953 5.64648 3.97461 5.71289 3.93945 5.79102C3.9082 5.86523 3.89258 5.94531 3.89258 6.03125C3.89258 6.14062 3.92188 6.24609 3.98047 6.34766C4.03906 6.44531 4.11523 6.52148 4.20898 6.57617L6.72852 8L4.20898 9.42383C4.11523 9.47852 4.03906 9.55664 3.98047 9.6582C3.92188 9.75586 3.89258 9.85938 3.89258 9.96875C3.89258 10.0547 3.9082 10.1367 3.93945 10.2148C3.97461 10.2891 4.01953 10.3555 4.07422 10.4141C4.13281 10.4688 4.19922 10.5137 4.27344 10.5488C4.35156 10.5801 4.43359 10.5957 4.51953 10.5957C4.625 10.5957 4.72656 10.5684 4.82422 10.5137L7.37305 9.07227V12.002C7.37305 12.0879 7.38867 12.1699 7.41992 12.248C7.45508 12.3223 7.5 12.3867 7.55469 12.4414C7.61328 12.4961 7.67969 12.541 7.75391 12.5762C7.83203 12.6074 7.91406 12.623 8 12.623C8.08594 12.623 8.16602 12.6074 8.24023 12.5762C8.31836 12.541 8.38477 12.4961 8.43945 12.4414C8.49805 12.3867 8.54297 12.3223 8.57422 12.248C8.60938 12.1699 8.62695 12.0879 8.62695 12.002V9.07227L11.1758 10.5137C11.2734 10.5684 11.375 10.5957 11.4805 10.5957C11.5664 10.5957 11.6465 10.5801 11.7207 10.5488C11.7988 10.5137 11.8652 10.4688 11.9199 10.4141C11.9785 10.3555 12.0234 10.2891 12.0547 10.2148Z"})});let Zy=!1;const Xy=(0,Uy.jsx)("span",{style:{display:"flex",borderRadius:"999px",background:"linear-gradient(301deg, #7C9FF9 17.72%, #D884FF 82.65%)",justifyContent:"center",alignItems:"center",width:"19px",height:"14px",margin:"2px",color:"#000000",padding:"1px 4px 3px 4px",fontSize:"12px",lineHeight:"10px",fontWeight:"400"},children:"AI"});var Yy=n(38421),Qy=n(24090);(0,Cu.hN)([{rawString:".layout_desktop_435e4110{width:100%;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.content_container_435e4110{display:grid;width:100%;height:calc(100% - 44px);grid-template-columns:1fr auto auto;grid-template-rows:1fr}.canvas_container_435e4110{position:relative}"}]);const Jy="layout_desktop_435e4110",$y="content_container_435e4110",eb="canvas_container_435e4110";var tb,nb=n(56340),rb=n(65757),ob=n(48842),ib=n(45890),ab=n(70945),sb=n(96042),lb=n(49972),ub=n(39358),cb=n(14030),db=(0,sb.J9)((function(e,t,n,o){var i,a,s,l,u,c,d,p,f,h,m,g,v,y,b=(0,lb.$)(e),x=(0,ub.$)(e),_=e.palette,C=e.semanticColors,w={root:[(0,r.gm)(e,{inset:2,highContrastStyle:{left:4,top:4,bottom:4,right:4,border:"none"},borderColor:"transparent"}),e.fonts.medium,{minWidth:"40px",backgroundColor:_.white,color:_.neutralPrimary,padding:"0 4px",border:"none",borderRadius:0,selectors:(i={},i[r.up]={border:"none"},i)}],rootHovered:{backgroundColor:_.neutralLighter,color:_.neutralDark,selectors:(a={},a[r.up]={color:"Highlight"},a["."+cb._.msButtonIcon]={color:_.themeDarkAlt},a["."+cb._.msButtonMenuIcon]={color:_.neutralPrimary},a)},rootPressed:{backgroundColor:_.neutralLight,color:_.neutralDark,selectors:(s={},s["."+cb._.msButtonIcon]={color:_.themeDark},s["."+cb._.msButtonMenuIcon]={color:_.neutralPrimary},s)},rootChecked:{backgroundColor:_.neutralLight,color:_.neutralDark,selectors:(l={},l["."+cb._.msButtonIcon]={color:_.themeDark},l["."+cb._.msButtonMenuIcon]={color:_.neutralPrimary},l)},rootCheckedHovered:{backgroundColor:_.neutralQuaternaryAlt,selectors:(u={},u["."+cb._.msButtonIcon]={color:_.themeDark},u["."+cb._.msButtonMenuIcon]={color:_.neutralPrimary},u)},rootExpanded:{backgroundColor:_.neutralLight,color:_.neutralDark,selectors:(c={},c["."+cb._.msButtonIcon]={color:_.themeDark},c["."+cb._.msButtonMenuIcon]={color:_.neutralPrimary},c)},rootExpandedHovered:{backgroundColor:_.neutralQuaternaryAlt},rootDisabled:{backgroundColor:_.white,selectors:(d={},d["."+cb._.msButtonIcon]={color:C.disabledBodySubtext,selectors:(p={},p[r.up]=(0,U.Cl)({color:"GrayText"},(0,r.Qg)()),p)},d[r.up]=(0,U.Cl)({color:"GrayText",backgroundColor:"Window"},(0,r.Qg)()),d)},splitButtonContainer:{height:"100%",selectors:(f={},f[r.up]={border:"none"},f)},splitButtonDividerDisabled:{selectors:(h={},h[r.up]={backgroundColor:"Window"},h)},splitButtonDivider:{backgroundColor:_.neutralTertiaryAlt},splitButtonMenuButton:{backgroundColor:_.white,border:"none",borderTopRightRadius:"0",borderBottomRightRadius:"0",color:_.neutralSecondary,selectors:{":hover":{backgroundColor:_.neutralLighter,color:_.neutralDark,selectors:(m={},m[r.up]={color:"Highlight"},m["."+cb._.msButtonIcon]={color:_.neutralPrimary},m)},":active":{backgroundColor:_.neutralLight,selectors:(g={},g["."+cb._.msButtonIcon]={color:_.neutralPrimary},g)}}},splitButtonMenuButtonDisabled:{backgroundColor:_.white,selectors:(v={},v[r.up]=(0,U.Cl)({color:"GrayText",border:"none",backgroundColor:"Window"},(0,r.Qg)()),v)},splitButtonMenuButtonChecked:{backgroundColor:_.neutralLight,color:_.neutralDark,selectors:{":hover":{backgroundColor:_.neutralQuaternaryAlt}}},splitButtonMenuButtonExpanded:{backgroundColor:_.neutralLight,color:_.black,selectors:{":hover":{backgroundColor:_.neutralQuaternaryAlt}}},splitButtonMenuIcon:{color:_.neutralPrimary},splitButtonMenuIconDisabled:{color:_.neutralTertiary},label:{fontWeight:"normal"},icon:{color:_.themePrimary},menuIcon:(y={color:_.neutralSecondary},y[r.up]={color:"GrayText"},y)};return(0,r.TW)(b,x,w,t)})),pb=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,U.C6)(n,t),n.prototype.render=function(){var t=this.props,n=t.styles,r=t.theme;return e.createElement(ob.S,(0,U.Cl)({},this.props,{variantClassName:"ms-Button--commandBar",styles:db(r,n),onRenderDescription:ib.K}))},n=(0,U.Cg)([(0,ab.T)("CommandBarButton",["theme","styles"],!0)],n)}(e.Component),fb=n(95288);!function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(tb||(tb={})),(0,Cu.hN)([{rawString:".EditorCommandBarStack_6bfc61e6{padding:0 12px;overflow:hidden;height:44px}.CommandBarBeginningStackItem_6bfc61e6{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.CommandBarMiddleStackItem_6bfc61e6{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.CommandBarEndStackItem_6bfc61e6{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.CommandBarEndStackItem_6bfc61e6>*{margin:0 4px}.MobileCommandBarStack_6bfc61e6{padding:0 12px;overflow:hidden;height:56px}.MobileCommandBarEndStackItem_6bfc61e6{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0}"}]);const hb="EditorCommandBarStack_6bfc61e6",mb="CommandBarBeginningStackItem_6bfc61e6",gb="CommandBarMiddleStackItem_6bfc61e6",vb="CommandBarEndStackItem_6bfc61e6";var yb=n(84495),bb=n(79847),xb=function(){return xb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xb.apply(this,arguments)};function _b(e,t){return void 0===t&&(t=!0),{root:{color:e.palette.themePrimary,fill:e.palette.themePrimary},rootHovered:{backgroundColor:e.palette.neutralLight},rootPressed:{backgroundColor:e.palette.neutralQuaternaryAlt},rootDisabled:{fill:t?e.palette.neutralTertiary:e.palette.themeTertiary},icon:{width:"16px",height:"16px"}}}function Cb(e){return{backgroundColor:e.palette.themeSecondary,color:e.palette.white,border:"none"}}var wb={root:{fontSize:"18px",width:"18px",height:"18px",lineHeight:"18px"}};var Sb={inset:-3};function kb(e){var t=function(e){return{backgroundColor:e.palette.themePrimary,color:e.palette.white,border:"none"}}(e);return{root:xb(xb({},t),{borderRadius:"4px"}),rootDisabled:{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.neutralTertiary},rootHovered:xb(xb({},t),{opacity:.9}),rootPressed:xb(xb({},t),{backgroundColor:e.palette.themeDark}),rootExpanded:t,rootFocused:(0,r.gm)(e,xb(xb({},Sb),{borderColor:e.palette.black})),label:{fontWeight:"normal"}}}function Tb(e){var t=(0,bb.g)(e);return{root:{color:ed(e.palette.black,t?1:.8956),backgroundColor:"rgba(255,255,255,".concat(t?.0605:.7,")"),border:"1px solid ".concat(ed(e.palette.black,t?.0698:.0578)),borderRadius:"4px"},rootHovered:{backgroundColor:t?"rgba(255,255,255,0.0837)":"rgba(255,255,255,0.5)",opacity:.9},rootPressed:{color:ed(e.palette.black,t?.786:.6063),backgroundColor:t?"rgba(255,255,255,0.0326)":"rgba(255,255,255,0.3)"},rootFocused:(0,r.gm)(e,Sb),rootDisabled:{color:ed(e.palette.black,t?.3628:.3614),backgroundColor:"rgba(255,255,255,".concat(t?.0419:.7,")")},textContainer:{width:"100%"},label:{fontWeight:"normal",overflow:"hidden",textOverflow:"ellipsis"}}}function Eb(t,n){var r=(0,e.useRef)(t);return n||(r.current=t),r.current}var Pb=(0,e.memo)((function(t){var n=t.stackResponseMode,o=t.zoomInDisabled,i=t.zoomOutDisabled,a=t.freezeZoomInOutDisabled,s=t.currentZoom,l=t.setAriaAnnouncementScenario,u=t.handleZoomDeltaChange,c=t.styles,d=(0,I.D)(),p=(0,e.useContext)(ke.x).strings,f=(0,e.useMemo)((function(){return(0,r.TW)(_b(d),c)}),[d,c]),h=Bd(s,l,u),m=h.zoomIn,g=h.zoomOut,v=Eb(o,a),y=Eb(i,a);return e.createElement(e.Fragment,null,n>tb.Small&&e.createElement(e.Fragment,null,e.createElement(yb.K,{key:"ZoomIn",iconProps:{iconName:"ZoomIn"},styles:f,ariaLabel:p.toolbar_zoomInAriaLabel,title:p.toolbar_zoomInTooltip,role:"button",onClick:m,disabled:v,"data-test-id":"zoom-in"}),e.createElement(yb.K,{key:"ZoomOut",iconProps:{iconName:"ZoomOut"},styles:f,ariaLabel:p.toolbar_zoomOutAriaLabel,title:p.toolbar_zoomOutTooltip,role:"button",onClick:g,disabled:y,"data-test-id":"zoom-out"})))})),Ib={handleZoomDeltaChange:He.w_,setAriaAnnouncementScenario:Je.Dc},Ab=(0,ge.Ng)((function(e){var t=!e.transformTools.cropInteraction.enableZoomToCrop&&!e.transformTools.view.enableZoomToView,n=!!e.transformTools.rotationUi.rotationBarPointer.incrementingIdOfPointerThatIsDown;return{currentZoom:(0,Ui.j)(e),zoomInDisabled:t||ys(e),zoomOutDisabled:t||xs(e),freezeZoomInOutDisabled:n}}),Ib)(Pb);(0,Cu.hN)([{rawString:".icon_f183b2ac{-webkit-margin-end:8px;margin-inline-end:8px;-webkit-margin-start:8px;margin-inline-start:8px}"}]);const Rb="icon_f183b2ac";var Lb=function(){return Lb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Lb.apply(this,arguments)},Mb=(0,e.memo)((function(t){var n=t.viewFittingMode,o=t.disabled,i=t.setViewFittingMode,a=t.onClicked,s=t.styles,l=(0,I.D)(),u=(0,e.useContext)(ke.x).strings,c=(0,e.useMemo)((function(){return(0,r.TW)(_b(l),s)}),[l,s]);return e.createElement(yb.K,Lb({key:"ViewingModeToggle",disabled:o,className:Rb,styles:c,role:"button"},n===bs.m.fitCropRectInView?{iconProps:{iconName:"ActualSizeRoundedEdge-Havana"},ariaLabel:u.toolbar_viewActualSizeTooltip,title:u.toolbar_viewActualSizeTooltip,onClick:function(){i(bs.m.actualSize),a()}}:{iconProps:{iconName:"FitPageRoundedEdge-Havana"},ariaLabel:u.toolbar_fitToViewTooltip,title:u.toolbar_fitToViewTooltip,onClick:function(){i(bs.m.fitCropRectInView),a()}}))})),Bb={setViewFittingMode:He.SJ,onClicked:Qe.Op},Ob=(0,ge.Ng)((function(e){var t=e.uiState.activeEditorActivity;return{viewFittingMode:e.transformTools.view.viewFitting.mode,disabled:t===un.x8||t===un.X4}}),Bb)(Mb),Fb=function(){return Fb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fb.apply(this,arguments)},Db=(0,e.memo)((function(t){var n=t.styles,r={color:(0,I.D)().palette.neutralPrimaryAlt,lineHeight:"43px"};return e.createElement("div",{"aria-hidden":"true",style:Fb(Fb({},r),n)},"|")})),Nb=n(394),Ub=n(22421);var zb=n(22926),jb=n(40551),Vb=(0,e.memo)((function(t){var n=t.isVisible,r=t.hostId,o=t.dialogType,i=void 0===o?rb.h.normal:o,a=t.dialogIsBlocking,s=t.styles,l=t.onConfirm,u=t.onCancel,c=(0,e.useMemo)((function(){return(0,zb.h)({dialog:{main:{minHeight:"160px"}}},s)}),[s]),d=(0,e.useContext)(ke.x).strings,p={contentTitle:d.toolbar_resetConfirmDialogContentTitle,contentSubText:d.toolbar_resetConfirmDialogContentSubText,closeButtonAriaLabel:d.toolbar_resetConfirmDialogCloseButtonAriaLabel,confirmText:d.toolbar_resetConfirmDialogConfirmText,confirmAriaLabel:d.toolbar_resetConfirmDialogConfirmAriaLabel,cancelText:d.toolbar_resetConfirmDialogCancelText,cancelAriaLabel:d.toolbar_resetConfirmDialogCancelAriaLabel};return e.createElement(jb.K,{isVisible:n,hostId:r,dialogType:i,dialogIsBlocking:a,dialogStrings:p,styles:c,onConfirm:l,onCancel:u})})),Wb=n(4341),Hb=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},qb=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Kb=(0,e.memo)((function(t){var n=this,o=t.stackResponseMode,i=t.resetDisabled,a=t.resetEdits,s=t.setAriaAnnouncement,l=t.resetButtonStyles,u=t.confirmationDialogStyles,c=t.dialogType,d=t.dialogIsBlocking,p=t.imageToResetTo,f=t.editorActivity,h=(0,I.D)(),m=(0,e.useContext)(ke.x).strings,g=(0,e.useMemo)((function(){return(0,r.TW)(function(e){return{root:{color:e.palette.neutralPrimary,height:"32px"},rootDisabled:{color:e.palette.neutralTertiary},rootHovered:{color:e.palette.neutralPrimary,backgroundColor:e.palette.neutralLight},rootPressed:{color:e.palette.neutralPrimary,backgroundColor:e.palette.neutralQuaternaryAlt},icon:{color:e.palette.themePrimary}}}(h),l)}),[h,l]),v=(0,e.useContext)(kr).onResetEditsConfirmationDialog,y=(0,Wb.J)(v),b=y.showConfirmationDialog,x=y.onConfirmInDialog,_=y.onCancelInDialog,C=y.isHavanaConfirmDialogVisible,w=function(t,n,r,o,i){var a=(0,e.useContext)(ve.b).logEditResetEvent,s=(0,e.useContext)(lo.Z).setImageLayer;return(0,e.useCallback)((function(e){a({inputType:(0,Ub.JR)(e)}),t(o,!0,i),s("overlay",null),n(r)}),[a,t,o,s,n,r,i])}(Xa(a),s,m.toolbar_imageResetFinishedAriaLive,p,f),S=function(e){return Hb(n,void 0,void 0,(function(){return qb(this,(function(t){switch(t.label){case 0:return[4,b().then((function(t){"confirmed"===t&&w(e)})).catch((function(e){}))];case 1:return t.sent(),[2]}}))}))};return e.createElement(e.Fragment,null,e.createElement(Nb.r,{key:"Reset",text:o>tb.Medium?m.toolbar_imageReset:void 0,styles:g,ariaLabel:m.toolbar_imageResetAriaLabel,title:m.toolbar_imageResetTooltip,iconProps:{iconName:"History"},onClick:function(e){return Hb(n,void 0,void 0,(function(){return qb(this,(function(t){return e.persist(),[2,S(e)]}))}))},disabled:i,role:"button","data-test-id":"reset",allowDisabledFocus:!0}),e.createElement("span",{style:{margin:"0px"}},e.createElement(Vb,{onConfirm:x,onCancel:_,isVisible:C,styles:u,dialogType:c,dialogIsBlocking:d})))})),Gb={resetEdits:et.zj,setAriaAnnouncement:Je.f9},Zb=(0,ge.Ng)((function(e){return{resetDisabled:gr(e),imageToResetTo:e.imageWasReplaced.imageToResetTo,editorActivity:e.uiState.activeEditorActivity}}),Gb)(Kb),Xb=n(62441);var Yb=(0,e.memo)((function(t){var n=t.onCancel,o=t.styles,i=t.iconProps,a=(0,I.D)(),s=(0,e.useContext)(ke.x).strings,l=(0,e.useMemo)((function(){return(0,r.TW)(_b(a),o)}),[a,o]),u=function(t){var n=(0,e.useContext)(ve.b).logCancelEvent,r=xe();return(0,e.useCallback)((function(e){n({inputType:(0,Ub.JR)(e)}),r(),t()}),[n,r,t])}(n);return e.createElement(e.Fragment,null,i?e.createElement(yb.K,{key:"Cancel",iconProps:i,styles:l,ariaLabel:s.toolbar_cancelAriaLabel,title:s.toolbar_cancelTooltip,role:"button",onClick:u}):e.createElement(Xb.Y,{key:"Cancel",text:s.toolbar_cancel,styles:l,onClick:u,ariaLabel:s.toolbar_cancelAriaLabel,title:s.toolbar_cancelTooltip}))})),Qb=function(){return Qb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qb.apply(this,arguments)},Jb=e.memo((function(t){var n=t.currentZoom,r=t.styles,o=(0,e.useContext)(ke.x),i=o.localizePercentage,a=o.strings,s=(0,I.D)(),l={color:s.palette.neutralPrimaryAlt,lineHeight:"24px",minWidth:"45px",textAlign:(0,nb.jI)(s)?"left":"right"},u=a;return e.createElement("div",{style:Qb({},null===r||void 0===r?void 0:r.container)},e.createElement("span",{style:Qb(Qb({float:(0,nb.jI)(s)?"left":"right"},l),null===r||void 0===r?void 0:r.label),"aria-label":u.toolbar_zoomLevelAriaLabel},i(n)))})),$b=(0,ge.Ng)((function(e){return{currentZoom:(0,Ui.j)(e)}}))(Jb),ex=n(19323),tx=n(25826);function nx(e){return`rgb(${e[0]}, ${e[1]}, ${e[2]})`}function rx(e,t){return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${t})`}function ox(e){if(!e)throw new Error("Error: Tried to convert null color.");return(0,ex.g)({r:e[0]||0,g:e[1]||0,b:e[2]||0})}function ix(e){return"#ffffff"===e.toLowerCase()||"rgb(255,255,255)"===e.toLowerCase()}const ax=ox([0,0,0]),sx=ox([255,255,255]);function lx(e,t){const n=(0,_u.n)(e);return`rgba(${null===n||void 0===n?void 0:n.r}, ${null===n||void 0===n?void 0:n.g}, ${null===n||void 0===n?void 0:n.b}, ${t})`}const ux="rgba(255,255,255,0.0419)",cx="rgba(0,0,0,0.0373)",dx="rgba(255,255,255,0.0605)",px="rgba(0,0,0,0.0241)",fx={inset:-3};function hx(e){return{backgroundColor:e.palette.themePrimary,color:e.palette.white,border:"none"}}function mx(e){const t=ix(e.palette.black);return{root:{color:lx(e.palette.black,t?1:.8956),backgroundColor:`rgba(255,255,255,${t?.0605:.7})`,border:`1px solid ${lx(e.palette.black,t?.0698:.0578)}`,borderRadius:"4px"},rootHovered:{backgroundColor:t?"rgba(255,255,255,0.0837)":"rgba(255,255,255,0.5)",opacity:.9},rootPressed:{color:lx(e.palette.black,t?.786:.6063),backgroundColor:t?"rgba(255,255,255,0.0326)":"rgba(255,255,255,0.3)"},rootFocused:(0,r.gm)(e,fx),rootDisabled:{color:lx(e.palette.black,t?.3628:.3614),backgroundColor:`rgba(255,255,255,${t?.0419:.7})`},textContainer:{width:"100%"},label:{fontWeight:"normal",overflow:"hidden",textOverflow:"ellipsis"}}}function gx(e){const t=mx(e);return(0,r.TW)(t,{root:{marginLeft:"10px",minWidth:"200px"}})}function vx(e){const t=mx(e);return(0,r.TW)(t,{root:{marginLeft:"10px",minWidth:"100px"}})}function yx(e){const t=hx(e);return{root:{...t,minWidth:"200px"},rootHovered:{...t,opacity:.9},rootPressed:{...t,opacity:.8}}}function bx(e){const t=ix(e.palette.black),n=hx(e),r={height:"32px",paddingRight:"7px",paddingLeft:"7px",minWidth:"unset",width:"100%"};return(0,zb.h)(function(e){const t=ix(e.palette.black),n=hx(e),r=t?"#2C2C2C":"#F9F9F9";return{button:{label:{fontWeight:"normal",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"unset"},flexContainer:{width:"100%"},root:{...n,borderRadius:"4px",margin:"none",minWidth:"100px",paddingInlineStart:"16px"},rootDisabled:{color:`rgba(255,255,255,${t?.5302:1})`,backgroundColor:lx(e.palette.black,t?.1581:.2169)},rootHovered:{...n,opacity:.9},rootPressed:{...n,opacity:.8},rootExpanded:n},contextualMenu:{root:{backgroundColor:r,border:"none","&:hover":{backgroundColor:r,border:"none"},".ms-ContextualMenu-icon":{width:"16px",height:"16px"},minWidth:"150px"},container:{overflow:"hidden",borderRadius:"4px",border:t?"1px solid rgba(0, 0, 0, 0.2)":"1px solid rgba(0, 0, 0, 0.0578)",boxShadow:`0 3px 10px 'rgba(0, 0, 0, ${t?.26:.14}'}`,backgroundColor:r,width:"150px"}},contextualMenuListItemDisabled:{color:lx(e.palette.black,t?.3628:.3614)}}}(e),{button:{menuIcon:{...n,padding:"4px",margin:"none",fontSize:"12px !important"},menuIconDisabled:{color:`rgba(255,255,255,${t?.5302:1})`,backgroundColor:"none"},textContainer:{width:"100%"}},contextualMenuListItem:{...r,color:e.palette.black},contextualMenuListItemDisabled:{...r,color:lx(e.palette.black,t?.3628:.3614)}})}function xx(e){const t=ix(e.palette.black);return{...mx(e),root:{color:lx(e.palette.black,t?1:.8956),backgroundColor:`rgba(255,255,255,${t?.0605:.7})`}}}function _x(e){const t=mx(e);return(0,r.TW)(t,{label:{overflow:"visible"}})}function Cx(e){return{icon:{fill:e.palette.black,width:"16px"},iconDisabled:{fill:e.palette.neutralTertiary},rootDisabled:{backgroundColor:"transparent"},root:{marginLeft:"8px",marginRight:"8px",borderRadius:"4px"},rootHovered:{backgroundColor:e.palette.neutralQuaternary}}}function wx(e){return{icon:{color:e.palette.black},root:{marginLeft:"8px",borderRadius:"4px"},rootHovered:{backgroundColor:e.palette.neutralQuaternary},rootDisabled:{backgroundColor:"transparent"}}}function Sx(e){return{icon:{display:"none"},root:{margin:"0px 2px",borderRadius:"4px"},rootHovered:{backgroundColor:e.palette.neutralQuaternary}}}function kx(e){return{icon:{fill:e.palette.black},iconDisabled:{fill:e.palette.neutralTertiary},root:{margin:"0px 5px 0px 2px",borderRadius:"4px"},rootHovered:{backgroundColor:e.palette.neutralQuaternary},rootDisabled:{backgroundColor:"transparent"}}}function Tx(e){const t="7px",n=ix(e.palette.black)?e.palette.neutralQuaternaryAlt:e.palette.white;return{root:{borderRadius:t},bodyContent:{padding:"8px",background:n},subText:{color:e.palette.neutralPrimary},subComponentStyles:{callout:{beak:{background:n},container:{position:"absolute",width:"284px"},calloutMain:{borderRadius:t},beakCurtain:{borderRadius:t}}}}}function Ex(e){return{color:ix(e.palette.black)?"rgba(255, 255, 255, 0.3628)":"rgba(0, 0, 0, 0.3614)",fontWeight:"lighter",paddingBottom:"8px",fontSize:"30px"}}var Px=(0,e.memo)((function(t){var n=t.styles,o=(0,e.useContext)(aa.t).combinedUndoRedoCoordinator,i=(0,e.useContext)(ke.x).strings,a=(0,I.D)(),s=(0,nb.jI)(a),l=(0,e.useState)(void 0),u=l[0],c=l[1],d=(0,e.useState)(void 0),p=d[0],f=d[1],h=(0,e.useState)(!0),m=h[0],g=h[1],v=(0,e.useState)(!0),y=v[0],b=v[1];return function(t){var n=(0,e.useContext)(aa.t).combinedUndoRedoCoordinator;(0,e.useEffect)((function(){return null===n||void 0===n||n.onChange.addListener(t),t(),function(){null===n||void 0===n||n.onChange.removeListener(t)}}),[n,t])}((0,e.useCallback)((function(){g(!(null===o||void 0===o?void 0:o.canUndo())),b(!(null===o||void 0===o?void 0:o.canRedo()));var e=null===o||void 0===o?void 0:o.hasUndoItems(),t=null===o||void 0===o?void 0:o.hasRedoItems();c((0,r.TW)(_b(a,!e),n)),f((0,r.TW)(_b(a,!t),n))}),[o,n,a])),e.createElement(e.Fragment,null,e.createElement(yb.K,{key:"Undo",iconProps:{iconName:s?"RedoIcon-Havana":"UndoIcon-Havana"},styles:u,ariaLabel:i.toolbar_undoAriaLabel,title:i.toolbar_undo,role:"button",onClick:function(){null===o||void 0===o||o.undo()},disabled:m,"data-test-id":"undo"}),e.createElement(yb.K,{key:"Redo",iconProps:{iconName:s?"UndoIcon-Havana":"RedoIcon-Havana"},styles:p,ariaLabel:i.toolbar_redoAriaLabel,title:i.toolbar_redo,role:"button",onClick:function(){null===o||void 0===o||o.redo()},disabled:y,"data-test-id":"redo"}))}));function Ix(t){var n=(0,e.useContext)(ve.b).logSaveEvent,r=(0,e.useContext)(ve.b).logCopyToClipboardEvent,o=be(),i=xe(),a=(0,e.useCallback)((function(e){return function(a,s){var l,u=o.getState().filters;e===mr.CopyToClipboard?r({entryPoint:s||"ContextMenu"}):(n({saveType:e,filterName:null===(l=null===u||void 0===u?void 0:u.activeFilter)||void 0===l?void 0:l.name,filterIntensity:null===u||void 0===u?void 0:u.filterLevel,inputType:function(){if(a){var e=a;return void 0!==e.buttons?(0,Ub.JR)(e):"Keyboard"}return""}()}),i()),t(e)}}),[o,t,r,n,i]);return{onSaveOriginal:(0,e.useMemo)((function(){return a(mr.SaveAsOriginal)}),[a]),onSaveAsCopy:(0,e.useMemo)((function(){return a(mr.SaveAs)}),[a]),onCopyToClipboard:(0,e.useMemo)((function(){return a(mr.CopyToClipboard)}),[a])}}var Ax=n(21191);const Rx=(0,e.createContext)({imageMetadata:{}}),Lx=()=>(0,e.useContext)(Rx),Mx={toolbar_motionPhotoTeachingTipContentTitle:"Save a copy after editing",toolbar_motionPhotoSaveButtonDisabledTooltip:"Save is disabled for photos with motion. Please save as copy to keep your edits.",toolbar_motionPhotoTeachingTipContentUpdatedText:"Unable to save photos containing motion, so you'll need to save as copy to keep your edits.",toolbar_motionPhotoSaveAsCopyButtonEnabledAriaDescription:"Press the Enter key to save a copy of the edited photo because motion from original file is not transferable.",toolbar_motionPhotoTeachingTipConfirmText:"Ok",toolbar_motionPhotoTeachingTipConfirmAriaLabel:"Dismiss '{0}' message",toolbar_motionPhotoTeachingTipConfirmAriaDescription:"Press the Enter key to select '{0}' to dismiss the message.",toolbar_imageExportOptions:"Save options",toolbar_imageExportOptionsTooltip:"Save options",toolbar_imageExportOptionsAriaLabel:"Press Enter for more save options",toolbar_imageExportOptionsDisabledAriaLabel:"Save options will become available when one or more edit action is applied",toolbar_unsupportedFileExtensionSaveButtonDisabledTooltip:"Save is disabled for this file format. Please save as copy to keep your edits.",toolbar_unsupportedFileExtensionTeachingTipText:"Unable to save {0} photos in their original format, so you'll need to save as copy to keep your edits."};var Bx=n(15798),Ox=n(44358);const Fx={styles:{content:{fontSize:"12px",lineHeight:"16px",fontWeight:"788"}},maxWidth:"190px"},Dx=e=>({gapSpace:6,styles:{root:{background:e.palette.neutralLighter,borderRadius:"4px"},calloutMain:{background:e.palette.neutralLighter}},isBeakVisible:!1});function Nx(t,n,r,o){const i=(0,I.D)();return(0,e.useCallback)(((e,t)=>{const a=function(e,t,n,r){if(null!==r&&void 0!==r&&r.disabled)return;const o=e&&!t;switch(null===r||void 0===r?void 0:r.key){case mr.SaveAsOriginal:if(o)return n.toolbar_imageSaveTransparencyWarningTooltip;break;case mr.SaveAs:if(e)return n.toolbar_imageSaveAsCopyTransparencyTooltip;break;case mr.CopyToClipboard:return n.toolbar_imageCopyToClipboardTooltip;default:return}}(n,r,o,e);return t?a?(0,Uy.jsx)(Bx.S,{content:a,directionalHint:Ox.A.leftCenter,directionalHintForRTL:Ox.A.rightCenter,tooltipProps:Fx,calloutProps:Dx(i),children:t()}):t():null}),[r,n,o,i])}const Ux=(0,e.memo)((function(t){var n,o;let{onSave:i,setHasTeachingTipBeenDismissed:a,onRenderSaveMenu:s,showIcons:l=!0,styles:u,localization:c,fileFormatSupportsTransparency:d,isCopyToClipboardVisible:p=!1,hasTransparencyBeenAdded:f=!1,setIsExportOptionsDropdownMenuOpen:h}=t;const m=(0,e.useContext)(ke.x).strings,{notifyPreSaveListeners:g}=(0,e.useContext)(qr),v=(null===c||void 0===c?void 0:c.strings)||Mx,y=(0,I.D)(),{onSaveOriginal:b,onSaveAsCopy:x,onCopyToClipboard:_}=Ix(i),C=(0,e.useMemo)((()=>(0,r.TW)(function(e){return{root:xb(xb({},Cb(e)),{margin:"none"}),rootDisabled:{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.neutralTertiary},rootHovered:Cb(e),rootPressed:Cb(e),rootExpanded:Cb(e),splitButtonDivider:{backgroundColor:e.palette.themeSecondary},splitButtonDividerDisabled:{backgroundColor:e.palette.neutralQuaternaryAlt},splitButtonMenuButton:{backgroundColor:e.palette.themeSecondary,color:e.palette.white},splitButtonMenuButtonDisabled:{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.neutralTertiary},splitButtonMenuIcon:{color:e.palette.white},splitButtonMenuIconDisabled:{color:e.palette.neutralTertiary}}}(y),null===u||void 0===u?void 0:u.button)),[y,u]),{imageMetadata:w}=Lx(),{isMotionPhoto:S}=w,k="string"===typeof w.unsupportedFileFormat,T=(0,e.useContext)(vr),E=!T.has(mr.SaveAsOriginal)||S||k,P=!T.has(mr.SaveAs),A=!T.has(mr.CopyToClipboard),R=P&&E&&A;function L(){return S?v.toolbar_motionPhotoSaveButtonDisabledTooltip:k?v.toolbar_unsupportedFileExtensionSaveButtonDisabledTooltip:m.toolbar_imageSaveTooltip}const M=(0,e.useCallback)((e=>{g(mr.SaveAsOriginal).then((()=>{b(e)})).catch((()=>{throw new Error("unable to notify listeners")}))}),[g,b]),B=(0,e.useCallback)((e=>{g(mr.SaveAs).then((()=>{x(e)})).catch((()=>{throw new Error("unable to notify listeners")}))}),[g,x]),O=(0,e.useCallback)((e=>{_&&g(mr.CopyToClipboard).then((()=>{_(e,"ContextMenu")})).catch((()=>{throw new Error("unable to notify listeners")}))}),[g,_]),F=(0,e.useCallback)((()=>{h(!0)}),[h]),D=(0,e.useCallback)((()=>{h(!1)}),[h]),N=(0,e.useCallback)((()=>{a(!0)}),[a]),U=f&&!d,z=U&&!E?{iconName:"InfoSolid",styles:{root:{lineHeight:"100%",color:y.palette.neutralTertiary}}}:{iconName:l?"Save":void 0},j=f&&!P?{iconName:"AttentionBadge-Windows",styles:{root:{lineHeight:"100%",fill:y.palette.accent}}}:{iconName:l?"SaveAs":void 0},V=[{key:mr.SaveAs,title:f||P?void 0:m.toolbar_imageSaveAsCopyTooltip,text:m.toolbar_imageSaveAsCopy,ariaLabel:m.toolbar_imageSaveAsCopyAriaLabel,iconProps:j,onClick:B,disabled:P,style:P&&null!==(n=null===u||void 0===u?void 0:u.contextualMenuListItemDisabled)&&void 0!==n?n:null===u||void 0===u?void 0:u.contextualMenuListItem,itemProps:{styles:{linkContent:{flexDirection:"row-reverse"}}}},{key:mr.SaveAsOriginal,title:U||E?void 0:L(),text:m.toolbar_imageSave,ariaLabel:S?v.toolbar_motionPhotoTeachingTipContentUpdatedText:k?v.toolbar_unsupportedFileExtensionTeachingTipText:m.toolbar_imageSaveAriaLabel,iconProps:z,onClick:M,disabled:E,style:E&&null!==(o=null===u||void 0===u?void 0:u.contextualMenuListItemDisabled)&&void 0!==o?o:null===u||void 0===u?void 0:u.contextualMenuListItem,itemProps:{styles:{linkContent:{flexDirection:"row-reverse"},root:{"&:hover":{".ms-ContextualMenu-icon":{color:y.palette.neutralTertiary}}}}}}];var W;p&&V.push({key:mr.CopyToClipboard,title:A?void 0:m.toolbar_imageCopyToClipboardTooltip,text:m.toolbar_imageCopyToClipboard,ariaLabel:m.toolbar_imageCopyToClipboardAriaLabel,iconProps:l?{iconName:"Copy"}:{},onClick:O,disabled:A,style:A&&null!==(W=null===u||void 0===u?void 0:u.contextualMenuListItemDisabled)&&void 0!==W?W:null===u||void 0===u?void 0:u.contextualMenuListItem,itemProps:{styles:{linkContent:{flexDirection:"row-reverse"},root:{".ms-ContextualMenu-icon":{width:"0px",height:"0px"}}}}});const H={items:V,onRenderContextualMenuItem:Nx(L(),f,d,m),onMenuOpened:F,onMenuDismissed:D};return null!==u&&void 0!==u&&u.contextualMenu&&(H.styles=null===u||void 0===u?void 0:u.contextualMenu),s?s({onSave:i,saveMenuItems:V,enabledSaveTypes:T,primaryButtonStyles:C}):(0,Uy.jsx)(Xb.Y,{primary:!0,text:v.toolbar_imageExportOptions,ariaLabel:R?v.toolbar_imageExportOptionsDisabledAriaLabel:v.toolbar_imageExportOptionsAriaLabel,title:v.toolbar_imageExportOptionsTooltip,styles:C,menuProps:H,menuTriggerKeyCode:Ax.c.down,disabled:R,onMenuClick:N,allowDisabledFocus:!0,"data-test-id":"save-options"},"SaveOptions")})),zx=(0,ge.Ng)((e=>{var t;return{hasTransparencyBeenAdded:"TransparentBackground"===(null===(t=e.imageBackground)||void 0===t?void 0:t.backgroundType)}}))(Ux);var jx=n(69187),Vx=n(56624),Wx=n(35928),Hx=n(43973),qx=n(43475),Kx=n(98140),Gx=(0,Vx.Z)(),Zx=e.forwardRef((function(t,n){var r,o,i,a,s,l,u,c=e.useRef(null),d=(0,P.ZY)(),p=(0,Q.a)(c,n),f=(0,Zp.B)("teaching-bubble-content-"),h=(0,Zp.B)("teaching-bubble-title-"),m=null!==(r=t.ariaDescribedBy)&&void 0!==r?r:f,g=null!==(o=t.ariaLabelledBy)&&void 0!==o?o:h,v=t.illustrationImage,y=t.primaryButtonProps,b=t.secondaryButtonProps,x=t.headline,_=t.hasCondensedHeadline,C=t.hasCloseButton,w=void 0===C?t.hasCloseIcon:C,S=t.onDismiss,k=t.closeButtonAriaLabel,T=t.hasSmallHeadline,E=t.isWide,I=t.styles,A=t.theme,R=t.footerContent,L=t.focusTrapZoneProps,M=Gx(I,{theme:A,hasCondensedHeadline:_,hasSmallHeadline:T,hasCloseButton:w,hasHeadline:!!x,isWide:E,primaryButtonClassName:y?y.className:void 0,secondaryButtonClassName:b?b.className:void 0}),B=e.useCallback((function(e){S&&e.which===Ax.c.escape&&S(e)}),[S]);if((0,Kx.x)(d,"keydown",B),v&&v.src&&(i=e.createElement("div",{className:M.imageContent},e.createElement(qx._,(0,U.Cl)({},v)))),x){var O="string"===typeof x?"p":"div";a=e.createElement("div",{className:M.header},e.createElement(O,{role:"heading","aria-level":3,className:M.headline,id:g},x))}if(t.children){var F="string"===typeof t.children?"p":"div";s=e.createElement("div",{className:M.body},e.createElement(F,{className:M.subText,id:m},t.children))}return(y||b||R)&&(l=e.createElement(fb.B,{className:M.footer,horizontal:!0,horizontalAlign:R?"space-between":"end"},e.createElement(fb.B.Item,{align:"center"},e.createElement("span",null,R)),e.createElement(fb.B.Item,null,y&&e.createElement(Wx.j,(0,U.Cl)({},y,{className:M.primaryButton})),b&&e.createElement(Xb.Y,(0,U.Cl)({},b,{className:M.secondaryButton}))))),w&&(u=e.createElement(yb.K,{className:M.closeButton,iconProps:{iconName:"Cancel"},ariaLabel:k,onClick:S})),function(t,n){e.useImperativeHandle(t,(function(){return{focus:function(){var e;return null===(e=n.current)||void 0===e?void 0:e.focus()}}}),[n])}(t.componentRef,c),e.createElement("div",{className:M.content,ref:p,role:"dialog",tabIndex:-1,"aria-labelledby":g,"aria-describedby":m,"data-is-focusable":!0},i,e.createElement(Hx.Y,(0,U.Cl)({isClickableOutsideFocusTrap:!0},L),e.createElement("div",{className:M.bodyContent},a,s,l,u)))})),Xx={root:"ms-TeachingBubble",body:"ms-TeachingBubble-body",bodyContent:"ms-TeachingBubble-bodycontent",closeButton:"ms-TeachingBubble-closebutton",content:"ms-TeachingBubble-content",footer:"ms-TeachingBubble-footer",header:"ms-TeachingBubble-header",headerIsCondensed:"ms-TeachingBubble-header--condensed",headerIsSmall:"ms-TeachingBubble-header--small",headerIsLarge:"ms-TeachingBubble-header--large",headline:"ms-TeachingBubble-headline",image:"ms-TeachingBubble-image",primaryButton:"ms-TeachingBubble-primaryButton",secondaryButton:"ms-TeachingBubble-secondaryButton",subText:"ms-TeachingBubble-subText",button:"ms-Button",buttonLabel:"ms-Button-label"},Yx=(0,sb.J9)((function(){return(0,r.i7)({"0%":{opacity:0,animationTimingFunction:r.cs.easeFunction1,transform:"scale3d(.90,.90,.90)"},"100%":{opacity:1,transform:"scale3d(1,1,1)"}})})),Qx=function(e,t){var n=t||{},r=n.calloutWidth,o=n.calloutMaxWidth;return[{display:"block",maxWidth:364,border:0,outline:"transparent",width:r||"calc(100% + 1px)",animationName:""+Yx(),animationDuration:"300ms",animationTimingFunction:"linear",animationFillMode:"both"},e&&{maxWidth:o||456}]},Jx=function(e,t,n){return t?[e.headerIsCondensed,{marginBottom:14}]:[n&&e.headerIsSmall,!n&&e.headerIsLarge,{selectors:{":not(:last-child)":{marginBottom:14}}}]},$x=function(e){var t,n,o,i=e.hasCondensedHeadline,a=e.hasSmallHeadline,s=e.hasCloseButton,l=e.hasHeadline,u=e.isWide,c=e.primaryButtonClassName,d=e.secondaryButtonClassName,p=e.theme,f=e.calloutProps,h=void 0===f?{className:void 0,theme:p}:f,m=!i&&!a,g=p.palette,v=p.semanticColors,y=p.fonts,b=(0,r.Km)(Xx,p),x=(0,r.gm)(p,{outlineColor:"transparent",borderColor:"transparent"});return{root:[b.root,y.medium,h.className],body:[b.body,s&&!l&&{marginRight:24},{selectors:{":not(:last-child)":{marginBottom:20}}}],bodyContent:[b.bodyContent,{padding:"20px 24px 20px 24px"}],closeButton:[b.closeButton,{position:"absolute",right:0,top:0,margin:"15px 15px 0 0",borderRadius:0,color:g.white,fontSize:y.small.fontSize,selectors:{":hover":{background:g.themeDarkAlt,color:g.white},":active":{background:g.themeDark,color:g.white},":focus":{border:"1px solid "+v.variantBorder}}}],content:(0,U.fX)((0,U.fX)([b.content],Qx(u)),[u&&{display:"flex"}]),footer:[b.footer,{display:"flex",flex:"auto",alignItems:"center",color:g.white,selectors:(t={},t["."+b.button+":not(:first-child)"]={marginLeft:10},t)}],header:(0,U.fX)((0,U.fX)([b.header],Jx(b,i,a)),[s&&{marginRight:24},(i||a)&&[y.medium,{fontWeight:r.BO.semibold}]]),headline:[b.headline,{margin:0,color:g.white,fontWeight:r.BO.semibold,overflowWrap:"break-word"},m&&[{fontSize:y.xLarge.fontSize}]],imageContent:[b.header,b.image,u&&{display:"flex",alignItems:"center",maxWidth:154}],primaryButton:[b.primaryButton,c,x,{backgroundColor:g.white,borderColor:g.white,color:g.themePrimary,whiteSpace:"nowrap",selectors:(n={},n["."+b.buttonLabel]=y.medium,n[":hover"]={backgroundColor:g.themeLighter,borderColor:g.themeLighter,color:g.themeDark},n[":focus"]={backgroundColor:g.themeLighter,border:"1px solid "+g.black,color:g.themeDark,outline:"1px solid "+g.white,outlineOffset:"-2px"},n[":active"]={backgroundColor:g.white,borderColor:g.white,color:g.themePrimary},n)}],secondaryButton:[b.secondaryButton,d,x,{backgroundColor:g.themePrimary,borderColor:g.white,whiteSpace:"nowrap",selectors:(o={},o["."+b.buttonLabel]=[y.medium,{color:g.white}],o[":hover"]={backgroundColor:g.themeDarkAlt,borderColor:g.white},o[":focus"]={backgroundColor:g.themeDark,border:"1px solid "+g.black,outline:"1px solid "+g.white,outlineOffset:"-2px"},o[":active"]={backgroundColor:g.themePrimary,borderColor:g.white},o)}],subText:[b.subText,{margin:0,fontSize:y.medium.fontSize,color:g.white,fontWeight:r.BO.regular}],subComponentStyles:{callout:{root:(0,U.fX)((0,U.fX)([],Qx(u,h)),[y.medium]),beak:[{background:g.themePrimary}],calloutMain:[{background:g.themePrimary}]}}}},e_=(0,jx.I)(Zx,$x,void 0,{scope:"TeachingBubbleContent"}),t_=n(88659),n_={beakWidth:16,gapSpace:0,setInitialFocus:!0,doNotLayer:!1,directionalHint:Ox.A.rightCenter},r_=(0,Vx.Z)(),o_=e.forwardRef((function(t,n){var r=e.useRef(null),o=(0,Q.a)(r,n),i=t.calloutProps,a=t.targetElement,s=t.onDismiss,l=t.hasCloseButton,u=void 0===l?t.hasCloseIcon:l,c=t.isWide,d=t.styles,p=t.theme,f=t.target,h=e.useMemo((function(){return(0,U.Cl)((0,U.Cl)((0,U.Cl)({},n_),i),{theme:p})}),[i,p]),m=r_(d,{theme:p,isWide:c,calloutProps:h,hasCloseButton:u}),g=m.subComponentStyles?m.subComponentStyles.callout:void 0;return function(t,n){e.useImperativeHandle(t,(function(){return{focus:function(){var e;return null===(e=n.current)||void 0===e?void 0:e.focus()}}}),[n])}(t.componentRef,r),e.createElement(t_.P,(0,U.Cl)({target:f||a,onDismiss:s},h,{className:m.root,styles:g,hideOverflow:!0}),e.createElement("div",{ref:o},e.createElement(e_,(0,U.Cl)({},t))))}));o_.displayName="TeachingBubble";var i_=(0,jx.I)(o_,$x,void 0,{scope:"TeachingBubble"});const a_=(0,e.memo)((function(e){var t;let{hasTeachingTipBeenDismissed:n,setHasTeachingTipBeenDismissed:r,teachingTipTarget:o,localization:i,styles:a}=e;const s=(0,I.D)(),l=(0,nb.jI)(s),u=l?"left":"right",c=null===i||void 0===i?void 0:i.strings,{imageMetadata:d}=Lx(),{isMotionPhoto:p}=d,f=null!==(t=d.unsupportedFileFormat)&&void 0!==t&&t;return(p||f)&&!n&&c?(0,Uy.jsxs)(i_,{target:o||void 0,styles:a,calloutProps:{doNotLayer:!0,directionalHint:l?Ox.A.bottomLeftEdge:Ox.A.bottomRightEdge,calloutMaxWidth:284,gapSpace:3},focusTrapZoneProps:{disabled:!0},children:[(0,Uy.jsxs)("div",{style:{fontSize:"14px",padding:"6px 6px 11px"},children:[(0,Uy.jsx)("span",{style:{fontWeight:"bold"},children:c.toolbar_motionPhotoTeachingTipContentTitle}),(0,Uy.jsx)("br",{}),f?(0,Li.J)(c.toolbar_unsupportedFileExtensionTeachingTipText,f):p?c.toolbar_motionPhotoTeachingTipContentUpdatedText:null]}),(0,Uy.jsx)(Wx.j,{style:{width:"50%",float:u,margin:"0px 6px 6px"},styles:kb(s),onClick:()=>{var e;r(!0),null===o||void 0===o||null===(e=o.querySelector("button"))||void 0===e||e.focus()},ariaLabel:(0,Li.J)(c.toolbar_motionPhotoTeachingTipConfirmAriaLabel,c.toolbar_imageSaveAsCopyAriaLabel),ariaDescription:(0,Li.J)(c.toolbar_motionPhotoTeachingTipConfirmAriaDescription,c.toolbar_motionPhotoTeachingTipConfirmText),children:c.toolbar_motionPhotoTeachingTipConfirmText}),(0,Uy.jsx)("div",{style:{clear:"both"}})]}):null}));function s_(e){var t=kb(e),n=Tb(e);return{dialog:{main:{maxWidth:"460px !important",minHeight:"160px",borderRadius:"5px",paddingTop:"8px"}},dialogContent:{title:{padding:"16px 24px 14px 24px",color:e.palette.black},subText:{color:e.palette.black},content:{border:"none"}},dialogFooter:{actions:{margin:"44px 0px 0px"},actionsRight:{margin:"0px -3px",display:"flex"},action:{margin:"0px 3px",flexGrow:"1"}},confirmButton:(0,r.TW)(t,{root:{width:"100%"}}),cancelButton:(0,r.TW)(n,{root:{width:"100%"}})}}const l_={widthNeededToShowSaveButtonOnFirstRow:0,widthNeededToShowPivotsOnFirstRow:873,widthNeededToShowZoomPercentage:1030,widthNeededToShowPivotText:1600},u_={...l_,widthNeededToShowSaveButtonOnFirstRow:562,widthNeededToShowPivotsOnFirstRow:l_.widthNeededToShowPivotsOnFirstRow+62,widthNeededToShowZoomPercentage:l_.widthNeededToShowZoomPercentage+45},c_={widthNeededToShowSaveButtonOnFirstRow:700,widthNeededToShowPivotsOnFirstRow:1220,widthNeededToShowZoomPercentage:1290,widthNeededToShowPivotText:2080};let d_=function(e){return e[e.ExtraExtraSmall=0]="ExtraExtraSmall",e[e.ExtraSmall=1]="ExtraSmall",e[e.Small=2]="Small",e[e.Medium=3]="Medium",e[e.Large=4]="Large",e}({});const p_=e.memo((function(t){let{componentSize:n,localization:r,customItems:o,onSave:i,onClose:a,controlPivot:s,setShowPivotControlText:l,fileFormatSupportsTransparency:u,setIsExportOptionsDropdownMenuOpen:c,isCancelVisible:d,pivotItemsCount:p}=t;const[f,h]=(0,e.useState)(null),[m,g]=(0,e.useState)(d_.Large),v=(0,I.D)(),y=(0,nb.jI)(v)?"left":"right",{enableUndoRedo:b}=(0,e.useContext)(Wr.u),x=(0,e.useMemo)((()=>s_(v)),[v]),_=`1px solid rgba(0,0,0,${ix(v.palette.black)?.2:.0578})`,C={container:{width:"37.5px",padding:"0px 8px"},label:{float:y,padding:"0px"}},w=(0,e.useMemo)((()=>function(e,t){return e?t>6?c_:u_:l_}(b,p)),[b,p]);(0,e.useLayoutEffect)((()=>{var e;f&&((e=f.clientWidth)>w.widthNeededToShowPivotText?g(d_.Large):e>w.widthNeededToShowZoomPercentage?g(d_.Medium):e>w.widthNeededToShowPivotsOnFirstRow?g(d_.Small):e>=w.widthNeededToShowSaveButtonOnFirstRow?g(d_.ExtraSmall):g(d_.ExtraExtraSmall),null===l||void 0===l||l(f.clientWidth>w.widthNeededToShowPivotText))}),[f,n,l,w]);const[S,k]=(0,e.useState)(null),[T,E]=(0,e.useState)(!1),P=()=>(0,Uy.jsxs)(Uy.Fragment,{children:[(0,Uy.jsx)(Ab,{stackResponseMode:tb.Large,styles:wx(v)}),(0,Uy.jsx)(Ob,{styles:Cx(v)}),m>d_.Small&&(0,Uy.jsx)($b,{styles:C}),(0,Uy.jsx)(Db,{styles:Ex(v)}),(0,Uy.jsx)(Zb,{stackResponseMode:tb.Large,resetButtonStyles:Sx(v),confirmationDialogStyles:x,dialogType:rb.h.largeHeader,dialogIsBlocking:!0}),b&&(0,Uy.jsx)(Px,{styles:kx(v)})]}),A=()=>(0,Uy.jsxs)(Uy.Fragment,{children:[(0,Uy.jsx)("span",{ref:k,children:(0,Uy.jsx)(zx,{localization:r,onSave:i,setHasTeachingTipBeenDismissed:E,showIcons:!1,styles:bx(v),isCopyToClipboardVisible:!0,fileFormatSupportsTransparency:u,setIsExportOptionsDropdownMenuOpen:c})}),d&&(0,Uy.jsx)(Yb,{onCancel:a,styles:vx(v)}),(0,Uy.jsx)(a_,{hasTeachingTipBeenDismissed:T,setHasTeachingTipBeenDismissed:E,teachingTipTarget:S,localization:r,styles:Tx(v)}),null===o||void 0===o?void 0:o.map((e=>{let{key:t,...n}=e;return(0,Uy.jsx)(pb,{...n},t)}))]});return(0,Uy.jsxs)("div",{ref:h,children:[m>=d_.ExtraSmall&&(0,Uy.jsxs)(fb.B,{horizontal:!0,styles:{root:{backgroundColor:v.palette.neutralLighterAlt,marginTop:"17px",marginBottom:m>d_.ExtraSmall?"24px":"12px",overflow:"unset",padding:"0px 16px",height:"44px",justifyContent:"space-between"}},children:[(0,Uy.jsx)(fb.B.Item,{className:mb,styles:{root:{justifyContent:"flex-start !important",border:_,borderRadius:"7px",backgroundColor:v.palette.neutralLight,marginRight:"8px"}},grow:!s,children:P()}),s&&m>d_.ExtraSmall&&(0,Uy.jsx)(fb.B.Item,{grow:!0,disableShrink:!0,className:gb,children:s}),(0,Uy.jsx)(fb.B.Item,{className:vb,styles:{root:{width:"auto",justifyContent:"flex-end",overflow:"hidden","> *":{flexGrow:1,minWidth:0,"> *":{width:"100%"}}}},grow:!s,children:A()})]}),s&&m<=d_.ExtraSmall&&(0,Uy.jsxs)(fb.B,{styles:{root:{backgroundColor:v.palette.neutralLighterAlt,marginTop:"17px",marginBottom:m>d_.ExtraSmall?"24px":"12px",overflow:"unset",padding:"0px 16px",justifyContent:"center"}},children:[m===d_.ExtraExtraSmall&&(0,Uy.jsxs)(Uy.Fragment,{children:[(0,Uy.jsx)(fb.B.Item,{grow:!0,className:vb,styles:{root:{display:"flex",flexFlow:"row",overflow:"hidden","> *":{flexGrow:1,minWidth:0,"> *":{width:"100%"}}}},children:A()}),(0,Uy.jsx)(fb.B.Item,{className:gb,styles:{root:{width:"min-content",justifyContent:"center",border:_,borderRadius:"7px",backgroundColor:v.palette.neutralLight,height:"44px",margin:"16px 0px 8px 0px"}},children:P()})]}),(0,Uy.jsx)(fb.B.Item,{disableShrink:!0,className:gb,styles:{root:{padding:"0px 12px 12px",marginTop:"17px"}},children:s})]})]})}));p_.displayName="EditorCommandBar";var f_={auto:!0,scroll:!0,hidden:!0};function h_(e){var t=getComputedStyle(e);return f_[t.overflow]||f_[t.overflowY]||f_[t.overflowX]}function m_(e,t){if(e){var n=function(e){for(var t=null===e||void 0===e?void 0:e.parentElement;t;){if(h_(t))return t;t=t.parentElement}return null}(e);if(n){var r=e.getBoundingClientRect(),o=n.getBoundingClientRect();if(t&&(0,Cd.uR)(r,o))return;n.scrollTo(e.offsetLeft+r.width/2-o.width/2,e.offsetTop+r.height/2-o.height/2)}}}var g_=n(38452);var v_=e.memo((function(t){var n=t.nextEditorActivity,r=t.waitingForActiveEditorActivityToComplete,o=t.setActiveEditorActivity;return(0,e.useEffect)((function(){r||void 0===n||o(n)}),[n,o,r]),null})),y_={setActiveEditorActivity:Qe.Dx},b_=(0,ge.Ng)((function(e){return{nextEditorActivity:e.uiState.nextEditorActivity,waitingForActiveEditorActivityToComplete:e.uiState.waitingForActiveEditorActivityToComplete}}),y_)(v_),x_=n(60809),__=n(89390),C_=n(35286),w_=function(){return w_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},w_.apply(this,arguments)};function S_(e){return"".concat("pivot-button-").concat(e)}var k_=e.memo((function(t){var n=t.activeEditorActivity,r=t.pivotItems,o=t.styles,i=t.showHeaderText,a=void 0===i||i,s=t.onChange;if(r.length<=0)throw new Error("ControlPivot received empty pivotItems prop.");var l=(0,e.useContext)(ve.b).logWarningEvent,u=(0,e.useContext)(ke.x).strings,c=(0,e.useRef)({}),d=(0,e.useRef)(null),p=r.find((function(e){return e.itemKey===n}))||r[0],f=(0,e.useCallback)((function(e,t){e&&(e.props.itemKey||l({id:"InvalidPivotKey",message:"Missing pivot key on ControlPivot click. Current active pivot is ".concat(n)}),s({pivotKey:e.props.itemKey,inputType:t?(0,Ub.JR)(t):"Keyboard"}))}),[s,l,n]),h=function(t,n,r){var o=(0,I.D)();return(0,e.useCallback)((function(i){var a;if(!i)return null;var s=i.itemCount,l=i.itemIcon,u=i.headerText,c=i.itemKey,d=null===(a=r.find((function(e){return e.itemKey===c})))||void 0===a?void 0:a.customPivotChild,p=(0,Vx.Z)()(t,{theme:o});return e.createElement("span",{ref:function(e){n.current&&i.itemKey&&(n.current[i.itemKey]=e)},className:p.linkContent,title:i.title,"aria-label":i.ariaLabel},void 0!==l&&e.createElement("span",{className:p.icon},e.createElement(g_.l8,{iconName:l})),void 0!==u&&e.createElement("span",{className:p.text}," ",i.headerText),void 0!==s&&e.createElement("span",{className:p.count}," (",s,")"),d)}),[r,t,o,n])}(o,c,r);!function(t,n){(0,e.useEffect)((function(){var e,r;n.current&&m_(null===(r=null===(e=n.current[t])||void 0===e?void 0:e.parentElement)||void 0===r?void 0:r.parentElement,!0)}),[t,n])}(n,c),(0,e.useEffect)((function(){var e=function(e){e.ctrlKey&&e.preventDefault()},t=null===d||void 0===d?void 0:d.current;if(t)return t.addEventListener("keydown",e),function(){t.removeEventListener("keydown",e)}}),[d]),(0,e.useEffect)((function(){p.itemKey!==n&&s({pivotKey:p.itemKey,inputType:""})}),[n,p.itemKey,s]);var m=(0,C_.k)(p.itemKey||"",document.querySelector("[data-test-id='".concat(S_(un.ts),"']")),d.current).stylizerTeachingTip;return e.createElement(e.Fragment,null,e.createElement(b_,null),e.createElement(x_.f,{selectedKey:n,onLinkClick:f,headersOnly:!0,styles:o,ref:d},r.map((function(t){var n=u[t.localizationKey];return e.createElement(__.y,w_({key:t.itemKey},t,{headerText:a?n:"",ariaLabel:t.ariaDescriptionLocalizationKey?u[t.ariaDescriptionLocalizationKey]:"",title:n,onRenderItemLink:h,headerButtonProps:{"data-test-id":"".concat(S_(t.itemKey))}}))}))),m)})),T_=n(86033),E_=(0,ge.Ng)((function(e){return{activeEditorActivity:e.uiState.activeEditorActivity}}),(function(e){return(0,T_.zH)({onChange:function(e){var t=e.inputType,n=e.pivotKey;if((0,un.w1)(n))return(0,Qe.mS)({nextEditorActivity:n,inputType:t})}},e)}))(k_);function P_(e,t,n){return t?{width:e.x/n+"px",height:e.y/n+"px"}:{width:"100%",height:"100%"}}var I_=function(){return I_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},I_.apply(this,arguments)};function A_(t,n,r){var o=(0,e.useRef)(),i=(0,e.useCallback)((function(){if(t){var e=r===window.devicePixelRatio,i=!o.current||!e,a=i?function(e,t){var n=e.getBoundingClientRect();return{x:Math.floor(n.width*t),y:Math.floor(n.height*t)}}(t,r):o.current;a&&n({pixelSize:a,cssSize:P_(a,i,r)})}}),[o,n,r,t]),a=(0,e.useCallback)((function(e){o.current=I_({},e),i()}),[o,i]);return function(t,n){var r=(0,e.useCallback)((function(e){if(t){var r=e.find((function(e){return e.target===t}));if(r&&r.devicePixelContentBoxSize&&r.devicePixelContentBoxSize[0]){var o=r.devicePixelContentBoxSize[0].inlineSize,i=r.devicePixelContentBoxSize[0].blockSize,a=r.contentBoxSize[0].inlineSize;1!==window.devicePixelRatio&&o===a&&(o*=window.devicePixelRatio,i*=window.devicePixelRatio),n({x:o,y:i})}}}),[n,t]);(0,e.useEffect)((function(){try{if(window.ResizeObserver&&t){var e=new ResizeObserver(r);return e.observe(t,{box:"device-pixel-content-box"}),function(){e.disconnect()}}}catch(yt){}}),[t,r])}(t,a),i}var R_=e.memo((function(t){var n=t.setCanvasPixelSize,r=t.setCssToPhysicalPixelRatio,o=t.cssToPhysicalPixelRatio,i=t.canvasSize,a=t.activePivot,s=t.children,l=(0,e.useState)(null),u=l[0],c=l[1],d=o||window.devicePixelRatio||1;(0,e.useLayoutEffect)((function(){r(d)}),[d,r]);var p=A_(u,n,d);return(0,e.useLayoutEffect)((function(){p()}),[i,a,p]),e.createElement("div",{style:{position:"relative",height:"100%",width:"100%"},ref:c},s)}));R_.displayName="SetCanvasSize";var L_=function(){return L_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},L_.apply(this,arguments)},M_={setCanvasPixelSize:He.Oc,setCssToPhysicalPixelRatio:He.xI},B_=(0,ge.Ng)((function(e){return{activePivot:e.uiState.activeEditorActivity}}),M_)((function(t){return e.createElement(R_,L_({},t))})),O_=function(t){return e.createElement(B_,L_({},t))};O_.displayName="SetCanvasSizeConnect",(0,Cu.hN)([{rawString:".ms-Fabric--isFocusVisible .cropUIRectangle_e2713a9a:focus{visibility:visible;outline-width:1px;outline-style:solid;outline-offset:5px}.ms-Fabric--isFocusHidden .cropUIRectangle_e2713a9a{outline:0}.cropUIRectangle_e2713a9a{position:absolute;justify-self:center}"}]);const F_="cropUIRectangle_e2713a9a";var D_=n(42935);(0,Cu.hN)([{rawString:".cropRectCorner_13f8d50d{position:absolute;-ms-touch-action:none;touch-action:none}.cropRectCorner_13f8d50d:focus{outline:0}"}]);const N_="cropRectCorner_13f8d50d";var U_=n(73034),z_=n(66498),j_=n(83601);function V_(t,n,r,o,i,a,s,l,u,c,d,p,f,h,m,g,v,y,b){var x=(0,e.useCallback)((function(e){d&&t&&(e.pointerPhysicalPixelPos=(0,z_.U)(t,e.pointerPhysicalPixelPos,n),d(e))}),[t,d,n]),_=(0,e.useCallback)((function(e){p&&t&&(e.pointerPhysicalPixelPos=(0,z_.U)(t,e.pointerPhysicalPixelPos,n),p(e))}),[t,p,n]),C=(0,e.useCallback)((function(e){f&&t&&(e.pointerPhysicalPixelPos=(0,z_.U)(t,e.pointerPhysicalPixelPos,n),f(e))}),[t,f,n]),w=(0,e.useCallback)((function(e){h&&t&&(e.mousePhysicalPixelPos=(0,z_.U)(t,e.mousePhysicalPixelPos,n),h(e),u({type:"Zoom",zoom:o}))}),[h,t,n,u,o]),S=(0,e.useCallback)((function(e){m&&t&&(e.center=(0,z_.U)(t,e.center,n),m(e))}),[n,t,m]),k=(0,e.useCallback)((function(e){g&&t&&(e.center=(0,z_.U)(t,e.center,n),g(e))}),[n,t,g]),T=(0,e.useCallback)((function(e){v&&t&&(e.center=(0,z_.U)(t,e.center,n),v(e),u({type:"CropImageDimension",cropDimension:$e.J}))}),[n,t,v,u]),E=(0,e.useCallback)((function(e){y&&t&&(e.center=(0,z_.U)(t,e.center,n),y(e))}),[n,t,y]),P=(0,e.useCallback)((function(e,t){if(!e.ctrlKey&&(0,U_.Fu)(e)){e.stopPropagation(),e.preventDefault();var n=(0,U_.vG)(e.key);s({direction:n,handlePosition:r,cropShiftingValue:(0,U_.wC)(t),inputType:"Keyboard"}),function(e,t,n,r){e===Ih.Q.Center?r({type:"CropImageMove",cropTopLeftCornerFromImageOrigin:n}):r({type:"CropImageDimension",cropDimension:t})}(r,i,a,u)}}),[s,r,u,i,a]);(0,e.useEffect)((function(){if(t){var e=function(e){e.stopPropagation(),"focus"===e.type&&((0,U_.bb)()?c({handlePosition:r,isKeyboardFocused:!0}):c({handlePosition:r,isKeyboardFocused:!1}))},n=function(e){"blur"===e.type&&c({handlePosition:Ih.Q.None,isKeyboardFocused:!1})};return t.addEventListener("focus",e),t.addEventListener("blur",n),function(){t.removeEventListener("focus",e),t.addEventListener("blur",n)}}}),[t,r,s,c]),(0,j_.V)({numRepeatsToSwitchToFast:U_.WD,keyboardEventTarget:t,handleKeyboardDown:P,isFastDirectionKey:U_.T8,handleKeyboardUp:l}),(0,Ad.R)({htmlElement:t,cssToPhysicalPixelRatio:n,onPointerDown:x,onPointerMove:_,onPointerUp:C,onUnmount:b}),(0,Ld.O)(n,t,w),(0,Rd.s)(t),(0,rd.y)(n,t,S,k,T,E)}var W_=(0,e.forwardRef)((function(t,n){var r=t.handlePosition,o=t.ariaLabel,i=t.style,a=t.cssToPhysicalPixelRatio,s=t.currentZoom,l=t.cropDimension,u=t.cropTopLeftCornerFromImageOrigin,c=t.shouldShowTooltip,d=t.handleCropRectAdjustment,p=t.handleCropRectAdjustmentKeyUp,f=t.setAriaAnnouncementScenario,h=t.setFocusedCropHandle,m=t.onPointerDown,g=t.onPointerMove,v=t.onPointerUp,y=t.onWheel,b=t.onTouchDown,x=t.onTouchMove,_=t.onTouchUp,C=t.onDoubleTap,w=t.onUnmount,S=(0,e.useContext)(ke.x).strings,k=(0,e.useState)(null),T=k[0],E=k[1];return(0,e.useEffect)((function(){(0,D_.n)(n,T)}),[n,T]),V_(T,a,r,s,l,u,d,p,f,h,m,g,v,y,b,x,_,C,w),e.createElement("div",{ref:E,"data-is-focusable":!0,"aria-label":o,title:c?S.crop_cornerTooltip:void 0,role:"button",className:N_,tabIndex:0,style:i,"data-test-id":"crop-corner-handle-".concat(r)})}));function H_(e,t){var n=t.x.toString(),r=t.y.toString();return(0,Li.J)(e,n,r)}W_.displayName="CropRectCorner";var q_=function(){return q_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},q_.apply(this,arguments)},K_=e.memo((function(t){var n=t.cropUIRectangle,r=t.cssToPhysicalPixelRatio,o=t.cursor,i=t.currentZoom,a=t.cropDimension,s=t.aspectRatio,l=t.cropTopLeftCornerFromImageOrigin,u=t.shouldShowTooltip,c=t.isPointerOverCropHandle,d=t.handleCropRectAdjustment,p=t.handleCropRectAdjustmentKeyUp,f=t.setAriaAnnouncementScenario,h=t.setFocusedCropHandle,m=t.onPointerDown,g=t.onPointerMove,v=t.onPointerUp,y=t.onWheel,b=t.onTouchDown,x=t.onTouchMove,_=t.onTouchUp,C=t.onDoubleTap,w=t.onUnmount,S=(0,e.useContext)(ke.x).strings,k=(0,I.D)(),T=function(t){var n=(0,e.useContext)(ke.x).strings;return(0,e.useMemo)((function(){return H_(n.crop_topLeftCornerAriaLabel,t)}),[n,t])}(l),E=function(t,n){var r=(0,e.useContext)(ke.x).strings;return(0,e.useMemo)((function(){var e={x:t.x+n.width,y:t.y};return H_(r.crop_topRightCornerAriaLabel,e)}),[r,t,n])}(l,a),P=function(t,n){var r=(0,e.useContext)(ke.x).strings;return(0,e.useMemo)((function(){var e={x:t.x,y:t.y+n.height};return H_(r.crop_bottomLeftCornerAriaLabel,e)}),[r,t,n])}(l,a),A=function(t,n){var r=(0,e.useContext)(ke.x).strings;return(0,e.useMemo)((function(){var e={x:t.x+n.width,y:t.y+n.height};return H_(r.crop_bottomRightCornerAriaLabel,e)}),[r,t,n])}(l,a),R=(0,e.useState)(null),L=R[0],M=R[1];V_(L,r,Ih.Q.Center,i,a,l,d,p,f,h,m,g,v,y,b,x,_,C,w);var B={handleCropRectAdjustment:d,handleCropRectAdjustmentKeyUp:p,setAriaAnnouncementScenario:f,setFocusedCropHandle:h,onPointerDown:m,onPointerMove:g,onPointerUp:v,onWheel:y,onUnmount:w,cssToPhysicalPixelRatio:r,currentZoom:i,cropDimension:a,cropTopLeftCornerFromImageOrigin:l,shouldShowTooltip:u},O={cursor:o,width:30,height:30},F=Bi(a.width,a.height,s);return e.createElement(e.Fragment,null,e.createElement("div",{className:F_,style:{width:n.width/r,height:n.height/r,top:n.top/r,marginLeft:n.left/r,marginRight:n.left/r,cursor:o,outlineColor:k.palette.neutralDark},"data-is-focusable":!0,"data-test-id":"cropUIRectangle",ref:M,"aria-label":"".concat(S.crop_rectangleAriaLabel," ; ").concat(F),title:u?c?S.crop_cornerTooltip:S.crop_rectangleTooltip:void 0,role:"img",tabIndex:0}),e.createElement(W_,q_({handlePosition:Ih.Q.TopLeft,ariaLabel:T,style:q_(q_({},O),{top:n.top/r,left:n.left/r})},B)),e.createElement(W_,q_({handlePosition:Ih.Q.TopRight,ariaLabel:E,style:q_(q_({},O),{top:n.top/r,left:(n.left+n.width)/r-30})},B)),e.createElement(W_,q_({handlePosition:Ih.Q.BottomLeft,ariaLabel:P,style:q_(q_({},O),{left:n.left/r,top:(n.top+n.height)/r-30})},B)),e.createElement(W_,q_({handlePosition:Ih.Q.BottomRight,ariaLabel:A,style:q_(q_({},O),{left:(n.left+n.width)/r-30,top:(n.top+n.height)/r-30})},B)))})),G_={handleCropRectAdjustment:He.yd,handleCropRectAdjustmentKeyUp:He.Fh,setAriaAnnouncementScenario:Je.Dc,setFocusedCropHandle:He.w9,onPointerMove:et.Td,onPointerDown:et.my,onPointerUp:et.JI,onWheel:He.tc,onTouchDown:He.Em,onTouchMove:He.Vb,onTouchUp:He.mz,onUnmount:He.P6},Z_=(0,ge.Ng)((function(e){var t=e.transformTools.device.pixelRatio,n=(0,Od.g)(e),r=(0,Ui.j)(e),o=(0,Ri.U9)(e);return{cropUIRectangle:(0,Ri.A1)(e),cssToPhysicalPixelRatio:t,cursor:n,currentZoom:r,cropDimension:o,aspectRatio:Wi(e),cropTopLeftCornerFromImageOrigin:Ni(e),shouldShowTooltip:e.transformTools.cropInteraction.mode===ch.I.none,isPointerOverCropHandle:Nd(e)}}),G_)(K_),X_=n(28425),Y_=function(){return Y_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Y_.apply(this,arguments)},Q_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},J_=e.memo((function(t){var n=t.hasNonCropEdits,r=t.onPointerMove,o=t.setIsViewingOriginal,i=Q_(t,["hasNonCropEdits","onPointerMove","setIsViewingOriginal"]),a=(0,e.useContext)(ke.x).strings,s=(0,e.useState)(null),l=s[0],u=s[1],c=(0,e.useCallback)((function(e){(e.isPrimaryButtonDownOrTouchDown||e.isMiddleButtonDown||e.isRightButtonDown)&&(null===r||void 0===r||r(e))}),[r]),d=(0,e.useMemo)((function(){return[{code:"Space",keyCode:_a.ZG,handler:o,ctrlKey:!1,shiftKey:!1}]}),[o]);xa(l,d);var p=n?a.nonCrop_imageAriaLabelWithEdits:a.nonCrop_imageAriaLabelWithoutEdits;return e.createElement(X_.r,Y_({ref:u,title:n?a.nonCrop_imageTooltip:void 0,"aria-label":p,onPointerMove:c},i))})),$_=function(){return $_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$_.apply(this,arguments)},eC={onPointerMove:et.Td,onPointerDown:et.my,onPointerUp:et.JI,onWheel:He.tc,onTouchDown:He.Em,onTouchMove:He.Vb,onTouchUp:He.mz,onDoubleTap:He.aY,onUnmount:He.P6,setIsViewingOriginal:Qe.dQ,panView:He.fh,setAriaAnnouncementScenario:Je.Dc},tC=(0,ge.Ng)((function(e){return{cssToPhysicalPixelRatio:e.transformTools.device.pixelRatio,cursor:(0,Od.g)(e),hasNonCropEdits:pr($_($_({},Ke.SZ),e)),panViewTopLeftCornerFromCropOrigin:(0,zi.M)(e)}}),eC)(J_),nC={setAriaAnnouncement:Je.f9},rC=(0,ge.Ng)((function(e){return{visible:gg(e)}}),nC)((function(t){var n=t.visible,r=t.gutterSize,o=void 0===r?32:r,i=t.setAriaAnnouncement,a=(0,e.useContext)(ke.x).strings,s={bottom:"".concat(o,"px"),left:"50%",transform:"translateX(-50%)"};return(0,e.useEffect)((function(){n&&i(a.editor_viewingOriginalAriaLive)}),[n,i,a]),e.createElement(Tu,{visible:n,style:s},a.editor_viewingOriginal)}));(0,Cu.hN)([{rawString:".dismissButton_3ff48d4c{margin-top:16px;margin-bottom:8px;border:none}"}]);const oC="dismissButton_3ff48d4c";var iC=(0,e.memo)((function(t){var n=t.styles,r=t.setShowAspectRatioOptions,o=(0,I.D)(),i=(0,e.useContext)(ke.x).strings,a=(0,e.useCallback)((function(){r(!1)}),[r]);return e.createElement(Xb.Y,{className:oC,text:i.footer_done,onClick:a,theme:o,styles:n})}));iC.displayName="DesktopDismissAspectRatioOptionsButton";var aC={setShowAspectRatioOptions:Qe.Jk},sC=(0,ge.Ng)(null,aC)(iC);(0,Cu.hN)([{rawString:".actionsStackContainer_01388a0f{position:absolute;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}"}]);const lC="actionsStackContainer_01388a0f";var uC=(0,e.memo)((function(t){var n=t.children,r=t.styles,o=void 0===r?{}:r;return e.createElement("div",{className:lC,style:o.container},n)})),cC=null;function dC(e,t,n){var r=function(){if(!cC){var e=document.createElement("canvas");cC=e.getContext("2d")}return cC}(),o=0;if(r){r.font=t+"px "+n;var i=r.measureText(e);o=Math.ceil(i.width)}return o}"".concat(18,"px"),"".concat(18,"px");var pC=n(91949);(0,Cu.hN)([{rawString:".tileContainer_51d7657d{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-width:80px;margin-top:8px}.tileContainer_51d7657d .tile_51d7657d{position:relative;background-color:transparent;border-radius:4px;width:100%;height:100%}.tileContainer_51d7657d .tile_51d7657d :active{border-radius:4px}.tileContainer_51d7657d .tileName_51d7657d{font-size:12px;pointer-events:auto}.ms-Fabric--isFocusHidden .tileContainer_51d7657d .tile_51d7657d button{outline:0}.ms-Fabric--isFocusVisible .tileContainer_51d7657d .tile_51d7657d button:focus{outline-color:inherit;outline-width:1px;outline-style:solid}"}]);const fC="tileContainer_51d7657d",hC="tile_51d7657d",mC="tileName_51d7657d";var gC,vC=n(610),yC=n(49516),bC=function(){return bC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bC.apply(this,arguments)},xC=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};!function(e){e[e.BelowTile=0]="BelowTile",e[e.InsideTileBesideIcon=1]="InsideTileBesideIcon",e[e.InsideTileBelowIcon=2]="InsideTileBelowIcon"}(gC||(gC={}));var _C=(0,e.forwardRef)((function(t,n){var r=t.tileKey,o=t.name,i=t.ariaLabel,a=t.ariaSelected,s=t.namePosition,l=void 0===s?gC.BelowTile:s,u=t.iconName,c=t.tileClassNames,d=t.tileStyles,p=t.isHighlighted,f=t.isActive,h=t.isDisabled,m=void 0!==h&&h,g=t.role,v=void 0===g?"option":g,y=t.tabIndex,b=void 0===y?0:y,x=t.onClick,_=t.title,C=t.id,w=(0,e.useCallback)((function(e){x(r,e)}),[r,x]),S=(0,e.useState)(null),k=S[0],T=S[1];(0,e.useLayoutEffect)((function(){k&&(k.tabIndex=b,k.setAttribute("role",v),k.setAttribute("aria-selected",String(a)))}),[k,b,a,v]);var P=(0,e.useMemo)((function(){return e.createElement("span",{className:mC,style:(0,yC.N2)(f,m,d.name),"aria-hidden":"true",onClick:m?void 0:w},o)}),[f,m,o,d.name,w]),I=(0,e.useMemo)((function(){var t={display:"flex",alignItems:"center",cursor:d.background.cursor,width:"100%",height:"100%",justifyContent:"center"};return l===gC.InsideTileBesideIcon?e.createElement("div",{style:t},e.createElement(vC.I,{iconName:u,style:(0,yC.TM)(f,d.icon)}),P):e.createElement("div",{style:bC(bC({},t),{flexDirection:"column"})},e.createElement(vC.I,{iconName:u,style:(0,yC.TM)(f,d.icon)}),l===gC.InsideTileBelowIcon&&P)}),[u,d,P,l,f]);return(0,e.useImperativeHandle)(n,(function(){return{focus:function(){return null===k||void 0===k?void 0:k.focus()}}}),[k]),e.createElement("div",{className:fC,style:d.container},e.createElement(pC.FA,{className:E.A.apply(void 0,xC([hC],c||[],!1)),style:(0,yC._e)(p,f,m,d.background),isFluentStyling:!0,background:I,ariaLabel:i,linkRef:T,onClick:m?void 0:w,title:_,id:C}),l===gC.BelowTile&&P)}));function CC(e,t){return function(n){var r=function(e){return new Map([[De.VL.name,{key:"original",text:e.aspectRatio_original,ariaLabel:e.aspectRatio_originalAriaLabel}],[De.ry.name,{key:"square",text:e.aspectRatio_square,ariaLabel:e.aspectRatio_squareAriaLabel}],[De.qO.name,{key:"freeForm",text:e.aspectRatio_freeform,ariaLabel:e.aspectRatio_freeformAriaLabel}]])}(e),o=r.get(n.name);if(o)return o;if((0,ji.wM)(n)&&n.localizedStrings){var i=n.localizedStrings;return{key:i.label,text:i.label,ariaLabel:i.ariaLabel}}return function(e,t,n,r){var o=(0,Li.Y)(t,r,e.x,e.y);return{key:o,text:o,ariaLabel:(0,Li.Y)(n,r,e.x,e.y)}}(n.ratio,e.aspectRatio_ratioLabelFormatString,e.aspectRatio_ratioAriaLabelFormatString,t)}}function wC(e){return e.iconName}function SC(t,n,r){var o=(0,e.useContext)(ve.b).logFlipEvent,i=(0,e.useContext)(ke.x).strings;return(0,e.useCallback)((function(e){o({axis:n,inputType:(0,Ub.JR)(e)}),t(),r("X"===n?i.flip_horizontalFinishedAriaLive:i.flip_verticalFinishedAriaLive)}),[o,t,n,r,i])}var kC=n(72392),TC=function(t,n,r,o,i){var a=function(t,n,r){var o=(0,e.useContext)(ve.b).logRotateEvent,i=(0,e.useContext)(ke.x).strings;return[(0,e.useCallback)((function(e){o({angle:(0,kC.TT)(n,90),inputType:(0,Ub.JR)(e)}),t(kC.Y5.Clockwise),r(i.rotate_right90FinishedAriaLive)}),[o,t,n,r,i]),(0,e.useCallback)((function(e){o({angle:(0,kC.TT)(n,-90),inputType:(0,Ub.JR)(e)}),t(kC.Y5.CounterClockwise),r(i.rotate_left90FinishedAriaLive)}),[o,t,n,r,i])]}(n,t,i);return{handleRotateCropRectAndImageBy90ClockwiseWithTelemetry:a[0],handleRotateCropRectAndImageBy90CounterClockwiseWithTelemetry:a[1],handleMirrorXWithTelemetry:SC(r,"X",i),handleMirrorYWithTelemetry:SC(o,"Y",i)}};(0,Cu.hN)([{rawString:".rotateAspectFlipBarContainer_6d41357b{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-item-align:center;align-self:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:12px;margin-right:12px;margin-bottom:8px;max-width:700px;width:calc(100% - 24px)}.rotateButtonsContainer_6d41357b{display:-webkit-box;display:-ms-flexbox;display:flex}.aspectRatioButtonContainer_6d41357b{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.aspectRatioButton_6d41357b{background-color:transparent;border:none}.mirrorButtonsContainer_6d41357b{display:-webkit-box;display:-ms-flexbox;display:flex}"}]);const EC="rotateButtonsContainer_6d41357b",PC="aspectRatioButtonContainer_6d41357b",IC="aspectRatioButton_6d41357b",AC="mirrorButtonsContainer_6d41357b";var RC=e.memo((function(t){var n=t.styles,r=t.icons,o=t.rotationAngle,i=t.aspectRatio,a=t.shouldFocusOnAspectRatioButton,s=void 0!==a&&a,l=t.rotateCropAndImageBy90,u=t.handleMirrorXClick,c=t.handleMirrorYClick,d=t.setShowAspectRatioOptions,p=t.setAriaAnnouncement,f=(0,e.useContext)(ke.x),h=f.localizeNumber,m=f.strings,g=(0,e.useRef)(null),v=(0,e.useState)(null),y=v[0],b=v[1],x=(0,e.useState)(null),_=x[0],C=x[1],w=(0,e.useState)(null),S=w[0],k=w[1],T=(0,I.D)(),E=T.fonts.medium.fontFamily,P=TC(o,l,u,c,p),A=P.handleRotateCropRectAndImageBy90ClockwiseWithTelemetry,R=P.handleRotateCropRectAndImageBy90CounterClockwiseWithTelemetry,L=P.handleMirrorXWithTelemetry,M=P.handleMirrorYWithTelemetry,B=(0,e.useMemo)((function(){return CC(m,h)(i)}),[i,m,h]),O=(0,e.useCallback)((function(){d(!0)}),[d]);(0,e.useEffect)((function(){var e;s&&(null===(e=g.current)||void 0===e||e.focus())}),[s]);var F=(0,e.useMemo)((function(){var e=14;if(S&&y&&_&&E){var t=S.clientWidth-(y.clientWidth+_.clientWidth+18+8);e=function(e,t,n,r){if(t<=0)return 0;for(var o=n,i=dC(e,o,r);i>t;)i=dC(e,o-=.5,r);return o}(B.text,t,14,E)}return e}),[S,y,_,E,B.text]),D=n&&n.icon,N=n&&n.iconButton,U=n&&n.aspectRatioButton?n.aspectRatioButton(T,F):N,z=n&&n.container;return e.createElement("div",{style:z,ref:k},e.createElement("div",{className:EC,ref:b},e.createElement(yb.K,{iconProps:{iconName:r.rotate90CounterClockwise,styles:D},title:m.rotate_left90,ariaLabel:m.rotate_left90AriaLabel,onClick:R,styles:N}),e.createElement(yb.K,{iconProps:{iconName:r.rotate90Clockwise,styles:D},title:m.rotate_right90,ariaLabel:m.rotate_right90AriaLabel,onClick:A,styles:N})),e.createElement("div",{className:PC},e.createElement(Xb.Y,{styles:U,className:IC,text:B.text,ariaLabel:B.ariaLabel,iconProps:{iconName:wC(i),styles:D},title:m.aspectRatio_tooltip,onClick:O,"data-test-id":"aspect-ratio-button",componentRef:g})),e.createElement("div",{className:AC,ref:C},e.createElement(yb.K,{iconProps:{iconName:r.flipHorizontally,styles:D},title:m.flip_horizontal,ariaLabel:m.flip_horizontalAriaLabel,onClick:L,styles:N}),e.createElement(yb.K,{iconProps:{iconName:r.flipVertically,styles:D},title:m.flip_vertical,ariaLabel:m.flip_verticalAriaLabel,onClick:M,styles:N})))}));RC.displayName="Rotate90AspectFlipBar";var LC=(0,kn.Mz)([Na.T],(function(e){return(0,Vn.ao)(e)})),MC=(0,kn.Mz)([LC],(function(e){return(0,kC.UN)(e)})),BC={rotateCropAndImageBy90:He._F,handleMirrorXClick:He.Gy,handleMirrorYClick:He.t_,setShowAspectRatioOptions:Qe.Jk,setAriaAnnouncement:Je.f9},OC=(0,ge.Ng)((function(e){return{aspectRatio:e.transformTools.cropInteraction.aspectRatio,rotationAngle:LC(e)}}),BC)(RC);(0,Cu.hN)([{rawString:".RotationBarRoot_0209365f{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-preferred-size:100%;flex-basis:100%;-ms-touch-action:none;touch-action:none;overflow:hidden;cursor:w-resize}.ms-Fabric--isFocusHidden .RotationBarRoot_0209365f{outline:0}.ms-Fabric--isFocusVisible .RotationBarRoot_0209365f:focus{outline:auto}"}]);const FC="RotationBarRoot_0209365f";(0,Cu.hN)([{rawString:".TicksManager_4c2b5b33{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}"}]);const DC="TicksManager_4c2b5b33";var NC=(0,e.memo)((function(t){var n=t.boundingSize,r=t.angle,o=t.styles,i=t.layout,a=t.children,s=o.root,l=o.tickRoot,u=o.zeroTick,c=i.numTicks,d=(u.width?u.width:l.width)+u.strokeWidth,p=2*c*(l.width+l.distanceBetween)+d,f=Math.min(s.maxWidth,n.width-2*s.sidePadding),h=(0,e.useMemo)((function(){var e=d/2+l.distanceBetween+l.width/2,t=l.distanceBetween+l.width;return Math.abs(r)<1?-e*r:-(e+(Math.abs(r)-1)*t)*Math.sign(r)}),[r,l,d]);return e.createElement("div",{className:DC},e.createElement("svg",{width:p,height:s.height,viewBox:"0 0 ".concat(p," ").concat(s.height)},e.createElement("defs",null,e.createElement("linearGradient",{id:"fadeGradient"},e.createElement("stop",{offset:"0",stopColor:"black"}),e.createElement("stop",{offset:i.fadeDistance,stopColor:"white"}),e.createElement("stop",{offset:1-i.fadeDistance,stopColor:"white"}),e.createElement("stop",{offset:"1",stopColor:"black"})),e.createElement("mask",{id:"fade"},e.createElement("rect",{width:f,height:s.height,x:(p-f)/2,fill:"url(#fadeGradient)"})),e.createElement("mask",{id:"colorize"},e.createElement("rect",{width:f,height:s.height,x:(p-f)/2,fill:l.color}),e.createElement("rect",{width:Math.abs(h),height:s.height,x:p/2+d/2-(r>0?-h+d:0),fill:"white"}))),e.createElement("g",{mask:"url(#fade)",fill:l.activeColor,stroke:l.activeColor},e.createElement("g",{mask:"url(#colorize)"},e.createElement("g",{"data-testid":"ticksParent",transform:"translate(".concat(h,",0)")},a)))))}));(0,Cu.hN)([{rawString:".CenterAnchorContainer_23296e0c{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}"}]);const UC="CenterAnchorContainer_23296e0c";var zC=function(){return zC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},zC.apply(this,arguments)},jC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},VC=(0,e.memo)((function(t){var n=t.styles,r=n.centerAnchor,o=r.width,i=r.height,a=r.rx,s=r.ry,l=r.color,u=jC(r,["width","height","rx","ry","color"]);return e.createElement("div",{className:UC},e.createElement("svg",{width:o||n.tickRoot.width,height:n.root.height,viewBox:"0 0 ".concat(o||n.tickRoot.width," ").concat(n.root.height),fill:"none"},e.createElement("rect",zC({key:"centerAnchor"},u,{x:0,y:(n.root.height-i)/2,width:8,height:i,rx:a,ry:s,fill:l}))))})),WC=function(){return WC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},WC.apply(this,arguments)},HC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},qC=(0,e.memo)((function(t){var n=t.styles,r=t.layout,o=n.root,i=n.tickRoot,a=n.majorTick,s=n.minorTick,l=n.zeroTick,u=r.numTicks,c=r.majorTickInterval,d=(l.width?l.width:i.width)+l.strokeWidth,p=(0,e.useCallback)((function(t){var n=l.strokeWidth,r=(l.width,l.height),i=l.rx,a=l.ry,s=HC(l,["strokeWidth","width","height","rx","ry"]);return e.createElement("rect",WC({key:"zeroTick"},s,{x:t+n/2,y:(o.height-r)/2,width:d-n,height:r,rx:i,ry:a,fill:"transparent",strokeWidth:n}))}),[o,l,d]),f=(0,e.useCallback)((function(t,n){var r=a.height,s=a.rx,l=a.ry,u=HC(a,["height","rx","ry"]),c=i.width;return e.createElement("rect",WC({key:n,strokeWidth:0},u,{x:t,y:(o.height-r)/2,width:c,height:r,rx:s,ry:l}))}),[a,o,i]),h=(0,e.useCallback)((function(t,n){var r=HC(s,[]),a=i.width;return e.createElement("circle",WC({key:n,strokeWidth:0},r,{r:a/2,cx:t+2,cy:o.height/2}))}),[s,o,i]);return e.createElement(e.Fragment,null,Array(2*u+1).fill(0).map((function(e,t){var n=t*(i.distanceBetween+i.width);return t>u&&(n+=d-i.width),t===u?p(n):(u-t)%c===0?f(n,t):h(n,t)})))})),KC=n(36766);function GC(t){var n=(0,e.useContext)(ke.x).localizeNumber;return(0,e.useMemo)((function(){return n((0,KC.L)((0,kC.UN)(t),1))}),[t,n])}var ZC=function(){return ZC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ZC.apply(this,arguments)},XC=function(){return XC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},XC.apply(this,arguments)},YC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},QC=e.memo((function(t){var n=t.boundingSize,r=t.angle,o=t.styles,i=t.layout,a=t.cssToPhysicalPixelRatio,s=t.shouldShowTooltip,l=t.handleRotationBarPointerDown,u=t.handleRotationBarPointerMove,c=t.handleRotationBarPointerUp,d=t.handleRotationAdjustmentOnKeyDown,p=t.handleRotationAdjustmentOnKeyUp,f=t.handleCleanupRotationBarPointer,h=t.setIsKeyboardFocused,m=(0,e.useState)(null),g=m[0],v=m[1],y=(0,e.useContext)(ke.x).strings,b=o.root,x=b.sidePadding,_=YC(b,["sidePadding"]),C=GC(r);function w(e){switch(e){case"Slow":return U_.h9;case"Fast":return U_.Yy;case"SuperFast":return U_.uL;default:return 0}}var S=(0,e.useCallback)((function(e,t){var n=(0,U_.vG)(e.key);d({direction:n,sliderShiftingValue:w(t),inputType:"Keyboard"})}),[d]),k=(0,e.useMemo)((function(){return{numRepeatsToSwitchToFast:U_.WD,keyboardEventTarget:g,handleKeyboardDown:S,isFastDirectionKey:U_.$,handleKeyboardUp:p}}),[p,S,g]);!function(t,n,r){var o=(0,e.useState)("allInteractions"),i=o[0],a=o[1],s=(0,e.useCallback)((function(e){var n;a("onlyPointerInteractions"),null===(n=t.onPointerDown)||void 0===n||n.call(t,e)}),[t]),l=(0,e.useCallback)((function(e){var n;a("allInteractions"),null===(n=t.onPointerUp)||void 0===n||n.call(t,e)}),[t]),u=(0,e.useCallback)((function(){var e;a("allInteractions"),null===(e=t.onUnmount)||void 0===e||e.call(t)}),[t]);(0,Ad.R)(ZC(ZC({},t),{onPointerDown:s,onPointerUp:l,onUnmount:u,isPointerInteractionEnabled:"onlyKeyboardInteractions"!==i}));var c=(0,e.useCallback)((function(e,t){e.ctrlKey||"onlyPointerInteractions"!==i&&r(e)&&(e.preventDefault(),e.stopPropagation(),a("onlyKeyboardInteractions"),n.handleKeyboardDown(e,t))}),[i,r,n]),d=(0,e.useCallback)((function(e){var t;"onlyPointerInteractions"!==i&&r(e)&&(e.preventDefault(),e.stopPropagation(),a("allInteractions"),null===(t=n.handleKeyboardUp)||void 0===t||t.call(n,e))}),[i,r,n]);(0,j_.V)(ZC(ZC({},n),{handleKeyboardDown:c,handleKeyboardUp:d}))}((0,e.useMemo)((function(){return{htmlElement:g,cssToPhysicalPixelRatio:a,onPointerDown:l,onPointerMove:u,onPointerUp:c,onUnmount:f}}),[a,f,l,u,c,g]),k,U_.cE);var T=(0,e.useCallback)((function(){h((0,U_.bb)())}),[h]),E=(0,e.useCallback)((function(){h(!1)}),[h]);return e.createElement("div",{className:FC,style:XC(XC({},_),{padding:"0px ".concat(x,"px")}),ref:v,"aria-label":y.rotate_sliderAriaLabel,title:s?y.rotate_sliderTooltip:void 0,tabIndex:0,role:"slider","aria-valuenow":parseInt(C),"aria-valuemin":-45,"aria-valuemax":45,"aria-valuetext":"".concat(C).concat(y.rotate_degree),onFocus:T,onBlur:E},e.createElement(NC,{boundingSize:n,angle:r,styles:o,layout:i},e.createElement(qC,{styles:o,layout:i})),e.createElement(VC,{styles:o}))})),JC=(0,kn.Mz)([$n.mX,$n.Lp],(function(e,t){return{width:e.x/t,height:e.y/t}})),$C={handleRotationBarPointerUp:He.Ew,handleRotationBarPointerMove:He.Yc,handleRotationBarPointerDown:He.nq,handleRotationAdjustmentOnKeyDown:He.Wi,handleRotationAdjustmentOnKeyUp:He.tS,handleCleanupRotationBarPointer:He.jh,setIsKeyboardFocused:He.Yt},ew=(0,ge.Ng)((function(e,t){var n=e.transformTools.device.pixelRatio;return{boundingSize:(null===t||void 0===t?void 0:t.boundingSize)||JC(e),angle:MC(e),cssToPhysicalPixelRatio:n,shouldShowTooltip:!e.transformTools.rotationUi.rotationBarPointer.incrementingIdOfPointerThatIsDown}}),$C)(QC),tw={numTicks:45,majorTickInterval:5,fadeDistance:.1};function nw(e){return{tickRoot:{width:4,distanceBetween:8,color:e.palette.neutralSecondary,activeColor:e.palette.black},minorTick:{},majorTick:{height:12,rx:2,ry:2},zeroTick:{width:6,height:10,rx:4,ry:4,strokeWidth:2},centerAnchor:{width:8,height:24,rx:4,ry:4,color:e.palette.black},root:{maxWidth:700,sidePadding:10,height:32}}}(0,Cu.hN)([{rawString:".RotationAngleDisplayContainer_1f1958fb{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;pointer-events:none}.RotationAngleDisplay_1f1958fb{padding:0 5px;text-align:center;font-size:16px}.RotationAngleDegree_1f1958fb{width:0}"}]);const rw="RotationAngleDisplayContainer_1f1958fb",ow="RotationAngleDisplay_1f1958fb",iw="RotationAngleDegree_1f1958fb";var aw=e.memo((function(t){var n=t.rotationAngle,r=t.styles,o=void 0===r?{}:r,i=(0,e.useContext)(ke.x).strings,a=GC(n);return e.createElement("div",{className:rw,style:o.container,"aria-label":"".concat(a).concat(i.rotate_degree)},e.createElement("span",{className:ow,style:o.angleDisplay},a),e.createElement("span",{className:iw,style:o.angleDegree},i.rotate_degree))}));aw.displayName="RotationAngleDisplay";var sw=(0,ge.Ng)((function(e){return{rotationAngle:LC(e)}}))(aw),lw=(0,e.memo)((function(t){var n=t.styles,r=t.componentStyles,o=t.rotate90AspectFlipBarIcons,i=t.shouldFocusOnAspectRatioButton,a=(0,I.D)();return e.createElement(uC,{styles:{container:null===n||void 0===n?void 0:n.transformToolsContainer}},e.createElement(sw,{styles:r&&r.rotationAngleDisplay}),e.createElement("div",{style:r&&r.rotationBarRoot},e.createElement(ew,{styles:nw(a),layout:tw})),e.createElement(OC,{styles:r&&r.rotate90AspectFlipBar,icons:o,shouldFocusOnAspectRatioButton:i}))}));lw.displayName="TransformToolsActionStack",(0,Cu.hN)([{rawString:".scrollBoxWrapper_01be0245{overflow:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.scrollBoxWrapper_01be0245::-webkit-scrollbar{display:none}.scrollBox_01be0245{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap}"}]);const uw="scrollBoxWrapper_01be0245",cw="scrollBox_01be0245";var dw=function(){return dw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},dw.apply(this,arguments)},pw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},fw=(0,e.forwardRef)((function(t,n){var r=t.direction,o=t.initialScrollLeft,i=void 0===o?0:o,a=t.initialScrollTop,s=void 0===a?0:a,l=t.children,u=t.scrollBoxRef,c=t.scrollBoxStyles,d=pw(t,["direction","initialScrollLeft","initialScrollTop","children","scrollBoxRef","scrollBoxStyles"]),p=(0,e.useState)(null),f=p[0],h=p[1],m=(0,e.useState)(!1),g=m[0],v=m[1],y=(0,e.useRef)(),b=(0,e.useRef)(),x=(0,e.useRef)(),_=(0,e.useRef)(),C=(0,e.useMemo)((function(){return dw(dw({},"vertical"===r?{overflowX:"hidden"}:void 0),"horizontal"===r?{overflowY:"hidden"}:void 0)}),[r]),w=(0,e.useMemo)((function(){return function(e){var t=e.direction;return"vertical"===t?{flexDirection:"column"}:"horizontal"===t?{flexDirection:"row"}:{flexWrap:"wrap"}}({direction:r})}),[r]);(0,e.useEffect)((function(){(0,D_.n)(n,f)}),[n,f]),(0,e.useLayoutEffect)((function(){f&&(f.scrollTop=null!==s&&void 0!==s?s:0,f.scrollLeft=null!==i&&void 0!==i?i:0)}),[i,s,f]),(0,e.useEffect)((function(){if(f){var e=function(e){v(!0),y.current=e.screenX,b.current=f.scrollLeft,x.current=e.screenY,_.current=f.scrollTop},t=function(e){if(e.preventDefault(),e.stopPropagation(),void 0!==y.current&&void 0!==b.current){var t=y.current-e.screenX;f.scrollLeft=b.current+t}if(void 0!==x.current&&void 0!==_.current){var n=x.current-e.screenY;f.scrollTop=_.current+n}},n=function(){g&&void 0!==y.current&&(y.current=void 0,b.current=void 0),g&&void 0!==x&&(x.current=void 0,_.current=void 0),v(!1)};if(!f.ontouchstart)return f.addEventListener("mousedown",e),f.addEventListener("mousemove",t),f.addEventListener("mouseup",n),f.addEventListener("mouseleave",n),function(){f.removeEventListener("mousedown",e),f.removeEventListener("mousemove",t),f.removeEventListener("mouseup",n),f.removeEventListener("mouseleave",n)}}}),[y,g,b,x,_,f]);var S=Array.isArray(l)?l:[null!==l&&void 0!==l?l:null];return e.createElement("div",dw({className:uw,style:C,ref:h},d),e.createElement("div",{className:cw,style:dw(dw({pointerEvents:g?"none":void 0},w),c),ref:u},S.map((function(t,n){return e.createElement("div",{key:"scroll-box-item-".concat(n)},t)}))))}));fw.displayName="ScrollContainer";var hw=function(){return hw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hw.apply(this,arguments)},mw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},gw=function(t){var n=t.children,r=mw(t,["children"]),o=(0,e.useState)(null),i=o[0],a=o[1],s=(0,e.useState)(),l=s[0],u=s[1],c=(0,e.useRef)(!0),d=(0,e.useMemo)((function(){return e.Children.toArray(n).map((function(){return(0,e.createRef)()}))}),[n]);return(0,e.useLayoutEffect)((function(){if(0!==d.length){var e=d[0].current,t=d.slice(-1)[0].current,n=function(e){if(e&&i){var t=e.getBoundingClientRect().width;return(i.clientWidth-t)/2}};u({left:n(e),right:n(t)})}}),[d,i]),(0,e.useLayoutEffect)((function(){var t,r;if(0!==d.length&&l&&void 0!==l.left&&void 0!==l.right){var o=e.Children.toArray(n).findIndex((function(t){return e.isValidElement(t)&&t.props.isActive}));null===(r=null===(t=d[o])||void 0===t?void 0:t.current)||void 0===r||r.scrollIntoView({inline:"center",behavior:c.current?"auto":"smooth"}),c.current=!1}}),[n,d,l]),e.createElement("div",{ref:a,style:{overflow:"hidden"}},e.createElement(fw,hw({},r,{scrollBoxStyles:{paddingLeft:null===l||void 0===l?void 0:l.left,paddingRight:null===l||void 0===l?void 0:l.right}}),e.Children.toArray(n).map((function(t,n){return e.createElement("div",{ref:d[n],key:n},t)}))))};(0,Cu.hN)([{rawString:".scrollBoxContainer_ab2d42b8{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}"}]);const vw="scrollBoxContainer_ab2d42b8";var yw=function(){return yw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yw.apply(this,arguments)},bw={margin:"0px ".concat(32,"px")};function xw(e,t){return{root:yw({position:"absolute",zIndex:3,height:"100%",width:32,i:{color:e.palette.neutralPrimary}},"start"===t?{left:"-".concat(32,"px")}:{right:"-".concat(32,"px")}),rootHovered:{backgroundColor:"transparent",i:{color:e.palette.neutralPrimaryAlt}},rootPressed:{backgroundColor:"transparent",i:{color:e.palette.neutralSecondary}}}}var _w=n(890);var Cw=function(){return Cw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Cw.apply(this,arguments)},ww=function(t){var n=(0,I.D)(),r=(0,e.useRef)(null),o=(0,e.useState)(null),i=o[0],a=o[1],s=(0,e.useState)(null),l=s[0],u=s[1],c=function(t,n,r){var o=(0,e.useState)(!1),i=o[0],a=o[1],s=(0,e.useState)(!1),l=s[0],u=s[1],c=(0,e.useCallback)((function(){if(t&&n){var e=t.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:e.left-r.left,y:e.top-r.top,width:e.width,height:e.height}}}),[t,n]),d=(0,e.useCallback)((function(){var e=c();e&&n&&a(e.x<0&&e.width!==n.clientWidth)}),[n,c]),p=(0,e.useCallback)((function(){var e=c();e&&n&&u(e.x+e.width>n.clientWidth&&e.width!==n.clientWidth)}),[n,c]),f=(0,e.useCallback)((function(){d(),p()}),[d,p]);(0,e.useEffect)((function(){f()}),[t,n,f]);var h=(0,e.useCallback)((function(e){var t=c();n&&t&&r&&(r.scrollTo?r.scrollTo({left:e*n.clientWidth-t.x}):r.scrollLeft=e*n.clientWidth-t.x,f())}),[n,r,f,c]);return(0,_w.w)(n,f),{showPanLeft:i,showPanRight:l,onPanLeftClick:(0,e.useCallback)((function(){return h(-1)}),[h]),onPanRightClick:(0,e.useCallback)((function(){return h(1)}),[h]),onScroll:(0,e.useCallback)((function(){return f()}),[f])}}(l,i,r.current),d=c.showPanLeft,p=c.showPanRight,f=c.onPanLeftClick,h=c.onPanRightClick,m=c.onScroll;return e.createElement("div",{className:vw,style:bw,ref:a},d&&e.createElement(yb.K,{iconProps:{iconName:"ChevronLeft"},styles:xw(n,"start"),onClick:f,tabIndex:-1}),e.createElement(fw,Cw({},t,{direction:"horizontal",scrollBoxRef:u,onScroll:m,ref:r})),p&&e.createElement(yb.K,{iconProps:{iconName:"ChevronRight"},styles:xw(n,"end"),onClick:h,tabIndex:-1}))},Sw=n(57822);var kw,Tw=function(){return Tw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Tw.apply(this,arguments)};!function(e){e[e.Default=0]="Default",e[e.AutoCenterSelected=1]="AutoCenterSelected",e[e.ChevronPanning=2]="ChevronPanning"}(kw||(kw={}));var Ew=function(){return Ew=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ew.apply(this,arguments)},Pw=(0,e.memo)((function(t){var n=t.activeAspectRatio,r=t.aspectRatiosList,o=t.setAspectRatio,i=t.setAriaAnnouncement,a=t.scrollContainerType,s=t.aspectRatioTilesStyles,l=t.tileClassNames,u=t.aspectRatioTileTabIndex,c=(0,e.useContext)(ke.x),d=c.localizeNumber,p=c.strings,f=(0,e.useRef)(new Array(r.length)),h=(0,Sw.K)(r,n),m=h.keyboardFocusedIndex,g=h.setKeyboardFocusedIndex,v=h.onKeyDown,y=function(t,n,r){var o=(0,e.useContext)(ve.b).logAspectRatioEvent,i=(0,e.useContext)(ke.x).strings;return(0,e.useCallback)((function(e,a){o({aspectRatio:e,inputType:(0,Ub.JR)(a)}),t(e),n((0,Li.J)(i.aspectRatio_changedAriaLive,r(e).ariaLabel))}),[o,t,n,i,r])}(o,i,CC(p,d)),b=(0,e.useCallback)((function(e,t,n){y(e,t),g(n)}),[g,y]),x=void 0!==u?u:function(e){return function(t){return e===t?0:-1}}(r[m]),_=function(t,n,r,o,i,a,s,l,u,c,d,p,f,h){return t.map((function(t,m){var g=r(t),v=g.key,y=g.text,b=g.ariaLabel,x=!!a&&a(t);return e.createElement(_C,Tw({key:v,tileKey:v,name:y,iconName:o(t),tileStyles:"function"===typeof n?n(t):n,isHighlighted:!!s&&s(t),onClick:function(e,n){return i(t,n,m)},ariaSelected:x,ref:function(e){u&&u.current&&(u.current[m]=e)},tabIndex:"function"===typeof l?l(t):l,namePosition:"function"===typeof d?d(t):d,tileClassNames:p&&(x?p.activeClassNames:p.inactiveClassNames),ariaLabel:h?h(t):b,title:null!==f&&void 0!==f?f:b},{role:c,isActive:x}))}))}(r,s,CC(p,d),wC,b,function(e){return function(t){return e===t}}(n),void 0,x,f,"option",void 0,l);(0,e.useEffect)((function(){window.requestAnimationFrame((function(){var e=f.current[m];e&&e.focus()}))}),[m,f]);var C={role:"listbox",title:p.aspectRatio_listTitle};switch(a){case kw.AutoCenterSelected:return e.createElement(gw,Ew({},C,{direction:"horizontal"}),_);case kw.ChevronPanning:return e.createElement(ww,Ew({},C,{style:{outline:"none"},onKeyDown:v}),_);case kw.Default:default:return e.createElement(fw,Ew({},C,{direction:"horizontal"}),_)}}));Pw.displayName="AspectRatioActionsBar";var Iw=function(){return Iw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Iw.apply(this,arguments)},Aw={container:{position:"relative",bottom:"8px"}},Rw=(Iw(Iw({},Aw.container),{height:"16px",bottom:"5px"}),{container:{marginBottom:"8px",alignItems:"center"}}),Lw={display:"flex",flexGrow:1,alignSelf:"center",justifyContent:"center",margin:"0px 12px 8px 12px",maxWidth:"700px",width:"calc(100% - 24px)"},Mw=function(){return Mw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Mw.apply(this,arguments)},Bw=(0,e.memo)((function(t){var n=t.visible,o=t.showAspectRatioOptions,i=t.activeAspectRatio,a=t.aspectRatiosList,s=t.tileClassNames,l=t.desktopTransformToolsActionStackStyles,u=t.setAspectRatio,c=t.setAriaAnnouncement,d=(0,I.D)(),p=function(e){return{root:{backgroundColor:"transparent",color:e.palette.neutralPrimary,fill:e.palette.neutralPrimary,width:"fit-content",justifyContent:"center",display:"flex",alignSelf:"center",margin:"0px 4px",span:{fontWeight:400},i:{color:e.palette.neutralPrimary,fill:e.palette.neutralPrimary}},rootHovered:{backgroundColor:e.palette.neutralLight},rootPressed:{backgroundColor:e.palette.neutralQuaternaryAlt},rootDisabled:{backgroundColor:"transparent",color:e.palette.neutralTertiary,i:{color:e.palette.neutralTertiary,fill:e.palette.neutralTertiary}}}}(d),f=(0,e.useState)(!1),h=f[0],m=f[1],g=null===l||void 0===l?void 0:l.getAspectRatioTilesStyles,v=g?g(d):void 0;return(0,e.useEffect)((function(){(0,U_.bb)()&&document.activeElement&&o&&m(!0)}),[o]),n?e.createElement(uC,{styles:Rw},!o&&e.createElement(lw,{componentStyles:{rotationAngleDisplay:Aw,rotationBarRoot:{display:"flex",justifyContent:"center",marginBottom:"16px"},rotate90AspectFlipBar:{iconButton:p,icon:wb,container:Lw}},rotate90AspectFlipBarIcons:{rotate90CounterClockwise:"Rotate90CounterClockwise",rotate90Clockwise:"Rotate90Clockwise",flipHorizontally:"Switch",flipVertically:"Sort"},shouldFocusOnAspectRatioButton:h,styles:l}),o&&e.createElement("div",{style:{width:"fit-content",maxWidth:"100%",display:"flex",flexDirection:"column"}},e.createElement(Pw,Mw({scrollContainerType:kw.ChevronPanning,aspectRatioTilesStyles:Mw(Mw({},(0,yC.qP)(d)),v)},{activeAspectRatio:i,setAspectRatio:u,setAriaAnnouncement:c,tileClassNames:s,aspectRatiosList:a})),e.createElement(sC,{styles:(0,r.TW)(p,null===l||void 0===l?void 0:l.buttonStyles)}))):null})),Ow=n(88741),Fw=(0,kn.Mz)([$n.mX,$n.Lp,$n.dR],(function(e,t,n){return(0,Yy.oR)(e,t,n)})),Dw=(0,kn.Mz)([Fw,$n.PO,$n.ln,$n.L1,$n.sO],(function(e,t,n,r,o){return r&&(o===bs.m.fitCropRectInView||!(0,Ow.qY)(e,t,n))})),Nw={setAspectRatio:He.md,setAriaAnnouncement:Je.f9},Uw=(0,ge.Ng)((function(e){var t=e.transformTools.cropInteraction,n=t.aspectRatio,r=t.aspectRatiosList,o=e.uiState.showAspectRatioOptions;return{visible:Dw(e),showAspectRatioOptions:o,activeAspectRatio:n,aspectRatiosList:r}}),Nw)(Bw),zw=e.memo((function(t){var n=t.aspectRatioDisplay,r=t.position,o=t.opacity,i=(0,e.useContext)(ke.x),a=i.localizeNumber,s=i.strings,l=o>0,u=(0,e.useMemo)((function(){return l?(0,Li.Y)(s.aspectRatio_ratioLabelFormatString,a,n.x,n.y):""}),[n,a,s,l]),c=(0,e.useMemo)((function(){return l?(0,Li.Y)(s.aspectRatio_ratioAriaLabelFormatString,a,n.x,n.y):""}),[n,a,s,l]);return e.createElement(Tu,{style:{top:r.y,left:r.x,transform:"translateX(-50%)",opacity:o},visible:l},e.createElement("span",{"aria-label":c},u))})),jw=n(81603),Vw=(0,kn.Mz)([jw.$],(function(e){return{x:e.left+e.width/2,y:e.top+8}})),Ww=n(39897),Hw=[1,1,1,1,1,0],qw=function(e){if(e.transformTools.cropUiDisplay.areCropOverlaysVisible)return 1;var t=(0,ah.ec)(e.transformTools.animations.dismissCropOverlays,e.transformTools.animations.currentTime,Ww.Mt);return(0,jh.a)(Hw,t)},Kw=(0,kn.Mz)([Vi,$n.ln,qw],(function(e,t,n){var r=(0,Mi.$1)(t);return(0,Mi.NI)(r,e)?n:0})),Gw=(0,ge.Ng)((function(e){return{aspectRatioDisplay:Wi(e),position:Vw(e),opacity:Kw(e)}}),{})(zw),Zw=(0,kn.Mz)([jw.$],(function(e){return{x:e.left+e.width/2,y:e.top+e.height+-36}})),Xw=(0,ge.Ng)((function(e){return{cropWidth:(0,Ri.Ho)(e),cropHeight:(0,Ri.G1)(e),position:Zw(e),opacity:qw(e)}}))(fy),Yw=n(30147);(0,Cu.hN)([{rawString:".sectionHeader_05c5f53c{font-size:16px;font-weight:500;line-height:42px;margin:25px 0 6px 0}.sectionFooter_05c5f53c{height:38px}"}]);const Qw="sectionHeader_05c5f53c",Jw="sectionFooter_05c5f53c";var $w=n(88358),eS=n(32385);function tS(e,t){return void 0===t&&(t=!1),function(n){var r="adjustment_".concat(n),o=t?(0,Li.J)(e.adjustment_sliderTooltip,e[r]):"";return{key:n,text:e[r],ariaLabel:(0,Li.J)(e.adjustment_sliderAriaLabelFormatString,e[r],o)}}}var nS=n(58365),rS=n(56107),oS=n(62254),iS=n.n(oS);var aS=jc.nS;function sS(e,t,n){return Math.round((0,Yc.Cc)(t,n,e))}function lS(e,t,n,r){var o;if(e<-r){var i=(0,Yc.U4)(t,-r,e);o=(0,Yc.Cc)(0,aS,i)}else if(e>r){var a=(0,Yc.U4)(r,n,e);o=(0,Yc.Cc)(aS,1,a)}else o=aS;return o}var uS=jc.nS,cS=e.memo((function(t){var n=t.adjustmentKey,o=t.layout,i=t.onChangeNotify,a=t.onChangedNotify,s=t.normalizedValue,l=t.styles,u=t.hideSliderValueAfterInactivity,c=t.shouldShowTooltip,d=void 0===c||c,p=t.setAriaAnnouncement,f=t.selectedDynamicLayerId,h=jc.Vr[n].configuration,m=h.sliderMinValue,g=h.sliderMaxValue,v=h.sliderStepValue,y=h.sliderDeadZoneOffset,b=(0,jc.C3)(n),x=(0,e.useContext)(ke.x).strings,_=tS(x,d)(n),C=_.text,w=_.ariaLabel,S=(0,Li.J)(x.adjustment_sliderTooltip,C),k=(0,e.useContext)(ve.b).logAdjustmentEvent,T=(0,I.D)(),E=(0,nb.jI)(T),P=(0,e.useState)(!1),A=P[0],R=P[1],L=function(t){var n=(0,e.useContext)(ke.x).strings;return function(e,r){var o=tS(n)(e).ariaLabel;t((0,Li.J)(n.adjustment_sliderChangedAriaLive,o,r))}}(p),M=(0,e.useRef)(null),B=m-y,O=g+y,F=function(t){var n=(0,e.useState)(!0),r=n[0],o=n[1],i=(0,e.useMemo)((function(){return t?new(iS())(t,{recognizers:[[iS().Pan,{direction:iS().DIRECTION_ALL}]],touchAction:"pan-y"}):null}),[t]);return(0,e.useEffect)((function(){if(i&&t){var e=function(){o(!0)},n=function(){o(!1)};return i.on("panleft panright panend",e),i.on("panup pandown",n),t.addEventListener("touchend",e,{passive:!0}),t.addEventListener("touchstart",n,{passive:!0}),function(){i.off("panleft panright panend",e),i.off("panup pandown",n),t.removeEventListener("touchend",e),t.removeEventListener("touchstart",n)}}}),[i,t]),{shouldUpdateSlider:r}}(M.current).shouldUpdateSlider,D=(0,e.useMemo)((function(){return function(e,t,n,r){var o;if(e<aS){var i=(0,Yc.U4)(0,aS,e);o=(0,Yc.Cc)(t,-r,i)}else if(e>aS){var a=(0,Yc.U4)(aS,1,e);o=(0,Yc.Cc)(r,n,a)}else o=0;return o}(s,B,O,y)}),[B,O,s,y]),N=(0,e.useCallback)((function(e){if(F){var t=lS(e,B,O,y);R(!0),i({adjustmentKey:n,adjustmentValue:t,isUndoRedoable:!1,dynamicLayerId:f})}}),[F,B,O,y,i,n,f]);function U(e){var t=lS(e,B,O,y);return String(sS(t,m,g))}(0,e.useEffect)((function(){var e=function(e){if((0,U_.Fu)(e)){var t=(0,U_.vG)(e.key);if(s===uS&&t!==rS.y.None){var r=lS(t===rS.y.Right&&!E||t===rS.y.Up||t===rS.y.Left&&E?y+.1:-y-.1,B,O,y);i({adjustmentKey:n,adjustmentValue:r,isUndoRedoable:!1,dynamicLayerId:f})}}},t=M.current;if(t)return t.addEventListener("keydown",e),function(){t.removeEventListener("keydown",e)}}),[n,s,M,i,O,B,y,E,A,f]);var z={value:D,maxValue:O,minValue:B,valueFormatter:U,label:C,iconName:b,shouldShow:A||!u},j=(0,e.useMemo)((function(){var e;return(0,r.TW)((0,eS.$)(T),null===(e=null===l||void 0===l?void 0:l.getSliderStyles)||void 0===e?void 0:e.call(l,T))}),[l,T]),V=(0,e.useMemo)((function(){var e=null===l||void 0===l?void 0:l.getSliderHeaderStyles;return"function"===typeof e?e(T):e}),[l,T]);return e.createElement(e.Fragment,null,e.createElement(nS.f,{headerProps:z,layout:o,styles:V}),e.createElement("div",{ref:M},e.createElement($w.A,{min:B,max:O,step:v,value:D,showValue:!1,originFromZero:!0,onChanged:function(e,t){var r=lS(t,B,O,y);a({adjustmentKey:n,adjustmentValue:r,isUndoRedoable:!0,dynamicLayerId:f}),k({adjustmentKey:n,value:r,inputType:(0,Ub.xR)(e)}),R(!1),L(n,String(sS(r,m,g)))},onChange:N,styles:j,"aria-label":w,ariaValueText:U,buttonProps:{title:d?S:void 0}})))})),dS=function(){return dS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},dS.apply(this,arguments)},pS=(0,e.memo)((function(t){var n=(0,e.useRef)(void 0),r=(0,e.useRef)(void 0),o=(0,e.useCallback)((function(e){n.current&&e.adjustmentKey!==n.current&&(r.current&&t.setAdjustmentValue(dS(dS({},r.current),{isUndoRedoable:!0})),n.current=void 0,r.current=void 0),n.current=e.adjustmentKey,r.current=e,t.setAdjustmentValue(e)}),[n,r,t]),i=(0,e.useCallback)((function(e){var o,i;(null===(o=r.current)||void 0===o?void 0:o.adjustmentKey)===e.adjustmentKey&&(null===(i=r.current)||void 0===i?void 0:i.adjustmentValue)===e.adjustmentValue?r.current&&t.setAdjustmentValue(dS(dS({},r.current),{isUndoRedoable:!0})):t.setAdjustmentValue(e),n.current=void 0,r.current=void 0}),[r,t]);return e.createElement(e.Fragment,null,t.adjustmentKeys.map((function(n){return e.createElement(cS,{key:n,adjustmentKey:n,layout:"Labeled",styles:t.styles,normalizedValue:t[n],onChangeNotify:o,onChangedNotify:i,setAriaAnnouncement:t.setAriaAnnouncement,selectedDynamicLayerId:t.selectedDynamicLayerId})})))}));function fS(e,t){var n={};return t.forEach((function(t){!function(e,t,n){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}(e,n,t)})),n}var hS=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};var mS=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};var gS=function(){return gS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gS.apply(this,arguments)},vS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},yS=(0,e.memo)((function(t){var n,r,o,i,a,s,l=t.selectedDynamicLayerId,u=vS(t,["selectedDynamicLayerId"]),c=(0,e.useContext)(ke.x).strings,d=gS(gS({},(i=u.adjustments,a=Oe.F,fS(i,Object.values(a)))),{styles:null===(n=u.styles)||void 0===n?void 0:n.adjustmentSlider,setAdjustmentValue:u.setAdjustmentValue,setAriaAnnouncement:u.setAriaAnnouncement,selectedDynamicLayerId:l}),p=function(t){void 0===t&&(t=!1);var n=(0,e.useContext)(Wr.u).enableSharpness;return(0,e.useMemo)((function(){return hS([Oe.F.Saturation,Oe.F.Temperature,Oe.F.Tint],n&&!t?[Oe.F.Sharpness]:[],!0)}),[n,t])}(!!l),f=(void 0===(s=!!l)&&(s=!1),(0,e.useMemo)((function(){return mS([Oe.F.Brightness,Oe.F.Exposure,Oe.F.Contrast,Oe.F.Highlights,Oe.F.Shadows],s?[]:[Oe.F.Vignette],!0)}),[s]));return e.createElement(Yw.e,{size:u.size,styles:u.styles,header:u.header,footer:u.footer},u.children,e.createElement("section",{"aria-label":c.adjustment_lightAriaLandmark},e.createElement("div",{className:Qw,style:null===(r=u.styles)||void 0===r?void 0:r.sectionHeader},c.adjustment_light),e.createElement(pS,gS({},d,{adjustmentKeys:f}))),e.createElement("section",{"aria-label":c.adjustment_colorAriaLandmark},e.createElement("div",{className:Qw,style:null===(o=u.styles)||void 0===o?void 0:o.sectionHeader},c.adjustment_color),e.createElement(pS,gS({},d,{adjustmentKeys:p})),e.createElement("div",{className:Jw})))})),bS=n(7622),xS=(0,kn.Mz)([function(e){return e.colorAdjustments.baseAdjustments},function(e){return e.colorAdjustments.adjustmentsByDynamicLayer},function(e){return e.colorAdjustments.selectedDynamicLayerId}],(function(e,t,n){return(0,bS.I)(e,t,n)})),_S={setAdjustmentValue:qe.bZ,setAriaAnnouncement:Je.f9},CS=(0,ge.Ng)((function(e){var t=e.uiState.numberOfResets;return{adjustments:xS(e),key:t}}),_S)(yS),wS={sliderMinValue:0,sliderMaxValue:100,sliderStepValue:1,sliderValueFormat:function(e){return e.toFixed(0)}};function SS(t){var n=(0,e.useContext)(ke.x).strings;return function(e,r,o){t("Original"!==e?(0,Li.J)(n.filter_changedAriaLiveWithIntensity,r,o):(0,Li.J)(n.filter_changedAriaLive,r))}}var kS=function(){return kS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kS.apply(this,arguments)},TS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function ES(e){return Math.round((0,Yc.Cc)(wS.sliderMinValue,wS.sliderMaxValue,e))}var PS=(0,e.memo)((function(t){var n,o=t.filterLevel,i=t.title,a=t.setFilterLevel,s=t.layout,l=t.headerName,u=t.ariaLabel,c=t.style,d=t.hideSliderValueAfterInactivity,p=t.filterName,f=t.filterAriaLabelLocString,h=t.setAriaAnnouncement,m=TS(t,["filterLevel","title","setFilterLevel","layout","headerName","ariaLabel","style","hideSliderValueAfterInactivity","filterName","filterAriaLabelLocString","setAriaAnnouncement"]),g=(0,I.D)(),v=wS.sliderMinValue,y=wS.sliderMaxValue,b=wS.sliderStepValue,x=wS.sliderValueFormat,_=(0,e.useContext)(ke.x).localizeNumber,C=(0,e.useState)(!1),w=C[0],S=C[1],k=SS(h),T=(0,e.useCallback)((function(e){var t=(0,Yc.U4)(v,y,e);S(!0),a({level:t,isUndoRedoable:!1})}),[v,y,a]),E=(0,e.useMemo)((function(){return ES(o)}),[o]),P=(0,e.useMemo)((function(){var e;return(0,r.TW)((0,eS.$)(g),null===(e=null===c||void 0===c?void 0:c.getSliderStyles)||void 0===e?void 0:e.call(c,g))}),[c,g]),A={value:E,valueFormatter:x,maxValue:y,minValue:v,label:l,shouldShow:w||!d};return e.createElement("div",{className:null===c||void 0===c?void 0:c.containerClassName,style:null===c||void 0===c?void 0:c.container},e.createElement(nS.f,{headerProps:A,layout:s,styles:null===(n=null===c||void 0===c?void 0:c.getSliderHeaderStyles)||void 0===n?void 0:n.call(c,g)}),e.createElement("div",{style:null===c||void 0===c?void 0:c.sliderWrapper},e.createElement($w.A,kS({},m,{min:v,max:y,step:b,value:E,styles:P,showValue:!1,originFromZero:!0,onChange:T,"aria-label":u,ariaValueText:_,onChanged:function(e,t){S(!1);var n=(0,Yc.U4)(v,y,t);a({level:n,isUndoRedoable:!0}),k(p,f,t.toString())},buttonProps:{title:i}}))))})),IS=n(55499);function AS(e,t,n,r){return e===t?"Original"===t.name?n.filter_activeOriginalFilterAriaLabel:(0,Li.J)(n.filter_activeTileAriaLabel,n[e.ariaLabelLocStringKey],ES(r[e.name]).toString()):"Original"===t.name?(0,Li.J)(n.filter_tileAriaLabelWhenOriginalFilterIsSelected,n[e.ariaLabelLocStringKey]):(0,Li.J)(n.filter_tileAriaLabel,n[e.ariaLabelLocStringKey],n[t.ariaLabelLocStringKey],ES(r[t.name]).toString())}var RS=function(){return RS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},RS.apply(this,arguments)};var LS=n(35786);var MS=function(e,t,n,r,o,i){var a=void 0,s=void 0,l=void 0,u=Bp(e);try{u&&(a=u.getLevel(),s=u.getTexture(),l=u.getConfiguration(),function(e,t,n,r,o){if(Pn(r)&&o){var i=t[n[r.lutUrlId]];if(!i||1!==i.parts.length)throw new Error("support is only available for filters from list of default filters");e.setTexture(i.parts[0].texture),e.setConfiguration(r.config),e.setLevel(o)}else e.setLevel(0)}(u,o,i,t,n))}catch(c){r({id:"FilterTextureNotFound",message:"Failed to apply the default filter during offscreen render: ".concat(c," ")})}return function(){u&&l&&(u.setLevel(null!==a&&void 0!==a?a:0),u.setTexture(s),u.setConfiguration(l))}},BS=n(56609),OS=function(){return OS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},OS.apply(this,arguments)},FS=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},DS=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function NS(t,n,r,o,i,a,s){var l=this,u=(0,e.useState)([]),c=u[0],d=u[1],p=(0,e.useContext)(lo.Z),f=p.image,h=p.offscreenRenderer,m=(0,Se.wj)();return(0,e.useEffect)((function(){var e=!1,i=(0,gd.h)(t,(function(t){return FS(l,void 0,void 0,(function(){var i,l,u,c;return DS(this,(function(d){switch(d.label){case 0:return i=void 0,l=(0,so.pk)(f),h&&l?(u=function(e,n){return function(e,t,n,r,o,i,a,s){var l=MS(e,t,n,a,s.lutTextures,s.lutUrlsById),u=(0,Tp.G)(e,o),c=(0,BS.a)(e,i);return function(){l(),u(),c()}}(e,t,1,0,0,!0,m,n)},[4,(0,vd.y)()]):[3,4];case 1:return d.sent(),e?[3,4]:[4,h.getEditedImage(l,OS({},(0,LS.R)((0,Wn.H)(n),(0,Hn.SM)(r),{width:Math.floor(a*o),height:Math.floor(s*o)})),u)];case 2:return c=d.sent(),[4,(0,vd.y)()];case 3:d.sent(),i=null===c||void 0===c?void 0:c.toDataURL(),d.label=4;case 4:return[2,{name:t.name,src:i}]}}))}))})),u=i.promise,c=i.cancel;return FS(l,void 0,void 0,(function(){var t;return DS(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,u];case 1:return t=n.sent(),e||d(t),[3,3];case 2:return n.sent(),d([]),[3,3];case 3:return[2]}}))})),function(){c(),e=!0}}),[t,r,o,m,s,f,n,h,a,i]),c}var US=n(94178),zS=n(630),jS=function(){return jS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},jS.apply(this,arguments)},VS=(0,e.memo)((function(t){var n=t.availableFilters,r=t.activeFilter,o=t.filterLevelsByName,i=t.setActiveFilterAndLevel,a=t.setAriaAnnouncement,s=t.size,l=t.styles,u=t.header,c=t.footer,d=t.imageTransformValues,p=t.cropTransformValues,f=t.cssToPhysicalPixelRatio,h=t.children,m=t.colorAdjustments,g=(0,e.useState)(n.length),v=g[0],y=g[1],b=(0,e.useMemo)((function(){return n.map((function(){return(0,e.createRef)()}))}),[n]),x=(0,e.useRef)(new Array(n.length)),_=SS(a),C=(0,Sw.K)(n,r,v),w=C.keyboardFocusedIndex,S=C.setKeyboardFocusedIndex,k=C.onKeyDown,T=(0,e.useContext)(ke.x).strings,E=T,P=(0,e.useCallback)((function(e){i({activeFilter:r,filterLevel:e.level,isUndoRedoable:e.isUndoRedoable})}),[r,i]),I=(0,e.useCallback)((function(e,t){i({activeFilter:e,filterLevel:o[e.name],isUndoRedoable:!0}),_(e.name,E[e.ariaLabelLocStringKey],ES(o[e.name]).toString()),S(t)}),[i,o,_,E,S]);(0,e.useLayoutEffect)((function(){var e;x.current&&(null===(e=x.current[w])||void 0===e||e.focus())}),[w]);var A=NS(n,d,p,f,m,zS.S,zS.S),R=(0,zb.h)({name:{width:"".concat(zS.S,"px")}},null===l||void 0===l?void 0:l.imageTile),L=function(t,n,r,o,i,a,s,l,u,c,d,p,f){var h=(0,e.useContext)(ke.x).strings,m=(0,e.useCallback)((function(m,g){var v,y=r.find((function(e){return m.name===e.name})),b=void 0!==p?p:(null===l||void 0===l?void 0:l.name)===m.name?0:-1;return e.createElement(IS.w,{tileKey:m.name,image:null!==(v=null===y||void 0===y?void 0:y.src)&&void 0!==v?v:"",iconName:"ActiveFilterCheckmark-Havana",onClick:function(){a(m,g)},isActive:t.name===m.name,isHighlighted:!1,name:h[m.locStringKey],ariaLabel:AS(m,t,h,i),ariaSelected:t.name===m.name,tileSize:o,imageTileStyles:RS(RS({},s),{image:null===s||void 0===s?void 0:s.image,container:null===s||void 0===s?void 0:s.container}),tabIndex:b,onKeyDown:u,tileWrapperRef:n[g],ref:function(e){c&&c.current&&(c.current[g]=e)},role:null!==d&&void 0!==d?d:"listitem",title:f})}),[r,p,null===l||void 0===l?void 0:l.name,t,h,i,s,o,u,n,d,f,a,c]);return m}(r,b,A,zS.S,o,I,R,n[w],k,x,"option"),M=(0,Li.J)(T.filter_sliderTooltip,E[r.ariaLabelLocStringKey]),B=(0,e.useMemo)((function(){return n.map((function(e,t){return{element:L(e,t),name:e.name}}))}),[n,L]),O=e.createElement(PS,{key:r.name,style:null===l||void 0===l?void 0:l.slider,filterLevel:o[r.name],setFilterLevel:P,layout:"Labeled",headerName:E.filter_intensitySliderHeader,ariaLabel:(0,Li.J)(E.filter_intensitySliderAriaLabelFormatString,E[r.ariaLabelLocStringKey],M),title:M,filterName:r.name,filterAriaLabelLocString:E[r.ariaLabelLocStringKey],setAriaAnnouncement:a});return e.createElement(US.Y,{actionsComponent:O,tiles:B,ariaLabel:T.filter_filtersAriaLandmark,title:E.filter_listTitle,shouldShowActionsComponentInRow:function(e){return Pn(r)&&!!e.find((function(e){return e.props.children.props.isActive}))},numOfTilesPerRow:v,setNumOfTilesPerRow:y,header:u,footer:c,size:s,tileRefs:b,styles:jS(jS({},l),{tile:null===l||void 0===l?void 0:l.filterTile})},h)})),WS={setActiveFilterAndLevel:mt,setAriaAnnouncement:Je.f9},HS=(0,ge.Ng)((function(e){var t=e.filters;return{availableFilters:t.availableFilters,activeFilter:t.activeFilter,filterLevelsByName:e.filters.filterLevelsByName,cropTransformValues:e.transformTools.cropInteraction.uvToWorld,imageTransformValues:e.transformTools.image._preciseUvToWorld,cssToPhysicalPixelRatio:e.transformTools.device.pixelRatio,colorAdjustments:e.colorAdjustments}}),WS)(VS);(0,Cu.hN)([{rawString:".autoEnhanceContainer_53a89d71{margin:30px 16px 0 16px}.autoEnhanceButton_53a89d71{width:100%;height:auto;overflow-wrap:break-word;padding:9px 12px;border-radius:2px}"}]);const qS="autoEnhanceContainer_53a89d71",KS="autoEnhanceButton_53a89d71";var GS={root:{height:"48px",border:"none",minHeight:"60px"},rootHovered:{border:"none"},rootPressed:{border:"none"},textContainer:{flexGrow:0},label:{fontSize:"14px",lineHeight:"20px",fontWeight:"400"}};function ZS(e,t){if(t)return GS;var n={root:{color:e.palette.black,backgroundColor:e.palette.neutralQuaternaryAlt},rootHovered:{color:e.palette.black,backgroundColor:e.palette.neutralQuaternaryAlt,opacity:.9},rootPressed:{color:e.palette.neutralSecondary,backgroundColor:e.palette.neutralLighter},rootDisabled:{color:e.palette.neutralTertiary,backgroundColor:e.palette.neutralLighter}};return(0,r.TW)(GS,n)}var XS=(0,e.memo)((function(t){var n,o=t.level,i=t.isAutoEnhanceOn,a=t.styles,s=t.setLevel,l=t.setIsAutoEnhanceOn,u=t.setAriaAnnouncement,c=(0,e.useContext)(ke.x),d=c.strings,p=c.localizeNumber,f=(0,e.useContext)(ve.b).logAutoEnhanceEvent,h=d,m=(0,Li.J)(d.filter_sliderTooltip,d.autoEnhance_name),g=(0,e.useMemo)((function(){var e=wS.sliderMinValue,t=wS.sliderMaxValue;return(0,Yc.Cc)(e,t,o)}),[o]),v=(0,e.useRef)(g);v.current=g;var y=(0,e.useRef)(null),b=(0,e.useCallback)((function(e){l(!i),y.current=e,u(i?h.autoEnhance_removedAriaLive:(0,Li.J)(h.autoEnhance_appliedAriaLive,p(v.current))),f({activity:i?"Deactivate":"Activate",inputType:(0,Ub.JR)(e)})}),[l,i,u,h.autoEnhance_removedAriaLive,h.autoEnhance_appliedAriaLive,p,f]),x=function(t,n){var o=(0,I.D)();return(0,e.useMemo)((function(){var e=ZS(o,!1);return t?(0,r.TW)(ZS(o,!0),null===n||void 0===n?void 0:n.autoEnhanceAppliedButton):(0,r.TW)(e,null===n||void 0===n?void 0:n.autoEnhanceNotAppliedButton)}),[t,o,n])}(i,a),_=function(e){return(0,r.TW)({root:{width:"16px",height:"16px",margin:"0px 8px"}},e)}(null===a||void 0===a?void 0:a.icon);return e.createElement("div",{className:qS,style:null===a||void 0===a?void 0:a.bodyContainer},e.createElement(Wx.j,{className:KS,ariaDescription:i?h.autoEnhance_appliedTooltip:h.autoEnhance_notAppliedTooltip,ariaLabel:h.autoEnhance_name,role:"toggle",text:h.autoEnhance_name,styles:x,iconProps:{iconName:null!==(n=null===a||void 0===a?void 0:a.autoEnhanceOnIconName)&&void 0!==n?n:"AutoEnhanceOn",styles:_},allowDisabledFocus:!0,onClick:b}),i&&e.createElement(PS,{key:"autoEnhance",style:null===a||void 0===a?void 0:a.slider,filterLevel:o,setFilterLevel:s,layout:"Labeled",headerName:h.autoEnhance_intensitySliderHeader,ariaLabel:(0,Li.J)(d.adjustment_sliderAriaLabelFormatString,h.autoEnhance_intensitySliderAriaLabel,m),title:m,filterName:"autoEnhance",filterAriaLabelLocString:d.autoEnhance_name,setAriaAnnouncement:u}))})),YS={setLevel:Et,setIsAutoEnhanceOn:Pt,setAriaAnnouncement:Je.f9},QS=(0,ge.Ng)((function(e){var t=e.autoEnhance;return{level:t.level,isAutoEnhanceOn:t.isAutoEnhanceOn}}),YS)(XS),JS=e.memo((function(t){var n=t.cssPixelMarginByActivity,r=t.activeEditorActivity,o=t.setViewFittingMarginCssPixels;return(0,e.useLayoutEffect)((function(){o({marginCssPixels:n[r]||(0,Yy.aW)(0),shouldAnimate:!0})}),[o,r,n]),null})),$S={setViewFittingMarginCssPixels:He.T_},ek=(0,ge.Ng)((function(e){return{activeEditorActivity:e.uiState.activeEditorActivity}}),$S)(JS);function tk(e,t){return{count:{},icon:{color:e.palette.black,svg:{width:"1em",height:"1em",fill:"currentcolor"},i:{height:"100%",display:"flex",alignItems:"center",paddingRight:t?"8px":"0px"},fontSize:"16px","&:hover":{opacity:.786},"&:active":{opacity:.5442}},link:{height:"40px",lineHeight:"40px",fontWeight:"normal","&:hover":{backgroundColor:"transparent",color:e.palette.black,opacity:.786},"&:active":{backgroundColor:"transparent",color:e.palette.black,opacity:.5442},color:e.palette.black,marginRight:t?"18px":"8px",marginLeft:t?"18px":"8px"},linkContent:{height:"100%",display:"flex"},linkIsSelected:{height:"40px",lineHeight:"40px",fontWeight:"normal",marginRight:t?"18px":"8px",marginLeft:t?"18px":"8px","&:hover":{backgroundColor:"transparent",color:e.palette.black,opacity:.786},"&:active":{backgroundColor:"transparent",color:e.palette.black,opacity:.5442},"&:before":{width:"16px",left:t?"auto":"8px",right:"auto",borderRadius:"999px"},"&:hover::before":{width:"16px",left:t?"auto":"8px",right:"auto",borderRadius:"999px"},color:e.palette.black},root:{"button:hover i":{color:e.palette.black},display:"flex"},text:{marginInlineStart:t?"4px":"0px"},linkInMenu:{},overflowMenuButton:{}}}function nk(e,t){return"".concat(t,"px solid ").concat(e.palette.neutralQuaternary," !important")}function rk(e,t){var n={thumb:{backgroundColor:e.palette.themePrimary+" !important",border:nk(e,4),width:"20px",height:"20px",top:"-8px",backgroundClip:"padding-box",boxShadow:"0 0 0 1px rgba(0, 0, 0, 0.0578)",":hover":{border:nk(e,3)},":active":{border:nk(e,5)}},root:{},titleLabel:{},container:{margin:"0 10px 0 10px"},slideBox:{},line:{},lineContainer:{},activeSection:{backgroundColor:e.palette.themePrimary+" !important"},inactiveSection:{},valueLabel:{},zeroTick:{}};return(0,r.TW)(n,t)}function ok(e){return{body:{padding:"0 24px"},adjustmentSlider:{getSliderStyles:()=>rk(e),getSliderHeaderStyles:()=>({labelValueHeader:{icon:{root:{marginRight:"8px"}}}})}}}function ik(e){return{magicErasePanel:{actionButtons:{primaryButton:kb(e),defaultButton:xx(e)},maskBrushPicker:{slider:rk(e)},callout:{calloutMain:uk(e)}},body:{padding:"0 24px"}}}function ak(e){return{filterTile:{margin:"0 8px"},slider:{getSliderStyles:()=>rk(e),getSliderHeaderStyles:()=>({container:{margin:"0 10px 0 10px"}})},body:{padding:"0 16px"},imageTile:{name:{fontSize:"14px",marginTop:""},container:{width:"93px"}}}}function sk(e){return{sliderStyles:lk(e),textCalloutStyles:{calloutMain:uk(e)}}}function lk(e){return{getSliderStyles:()=>rk(e),getSliderHeaderStyles:()=>({container:{paddingBottom:"2.5px"}})}}function uk(e){const t=ix(e.palette.black)?"rgb(58, 58, 58)":"rgb(255, 255, 255)";return{root:{border:`1px solid ${e.palette.neutralTertiaryAlt}`},beak:{backgroundColor:t},calloutMain:{backgroundColor:`${t}!important`},beakCurtain:{backgroundColor:"none"},container:{}}}var ck=n(25380);function dk(e){const t=ix(e.palette.black),n={backgroundColor:e.palette.themePrimary,color:e.palette.white,border:"none"},o={root:{...n,borderRadius:"4px",margin:"none"},rootDisabled:{color:`rgba(255,255,255,${t?.5302:1})`,backgroundColor:lx(e.palette.black,t?.1581:.2169)},rootHovered:{...n,opacity:.9},rootPressed:{...n,opacity:.8},rootFocused:{selectors:{[`.${ck.Y2} &:focus:after`]:{content:'""',position:"absolute",left:1,top:1,bottom:1,right:1,border:`1px solid ${e.palette.white}`,outline:`1px solid ${e.palette.black} !important`,zIndex:r.nA.FocusStyle}}},icon:{fill:e.palette.white},iconHovered:{fillOpacity:.9},iconPressed:{fillOpacity:.8},iconDisabled:{fillOpacity:t?.5302:1}};return{autoEnhanceOnIconName:"AutoEnhanceOn-Windows",autoEnhanceNotAppliedButton:{root:{border:`1px solid ${lx(e.palette.black,t?.0698:.0578)}`,backgroundColor:`rgba(255,255,255,${t?.0605:.7})`,borderRadius:"4px"},rootHovered:{border:`1px solid ${lx(e.palette.black,t?.0698:.0578)}`,backgroundColor:t?"rgba(255,255,255,0.0837)":"rgba(255,255,255,0.5)",opacity:.9},rootPressed:{color:lx(e.palette.black,t?.786:.6063),backgroundColor:t?"rgba(255,255,255,0.0326)":"rgba(255,255,255,0.3)"},rootFocused:{outline:`1px solid ${e.palette.black}`},icon:{fill:e.palette.black},iconHovered:{fillOpacity:.9},iconPressed:{fillOpacity:t?.786:.6063},iconDisabled:{fillOpacity:t?.1581:.2169}},autoEnhanceAppliedButton:o,spinner:{circle:{borderColor:`${e.palette.themePrimary} rgba(0,0,0,0) rgba(0,0,0,0)`}},slider:{getSliderStyles:()=>rk(e,{container:{margin:"0 1px 0 1px"}})},bodyContainer:{margin:"30px 8px 0 8px"}}}var pk=n(97708),fk=n(97934);(0,Cu.hN)([{rawString:".spinner_1745ec6c{height:100%;width:100%;opacity:.8;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;z-index:200}"}]);const hk="spinner_1745ec6c";var mk=function(){return mk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mk.apply(this,arguments)},gk=(0,e.memo)((function(t){var n=t.loading,r=t.styles,o=t.dataTestId,i=(0,I.D)();return n?e.createElement(pk.y,{className:hk,"data-test-id":o,style:mk({background:i.palette.white},r),size:fk.H.large}):null}));gk.displayName="LoadingSpinner";var vk=n(29074),yk=n(70742),bk=(0,ge.Ng)((function(e){return{loading:!(0,$n.L1)(e)||e.uiState.waitingForActiveEditorActivityToComplete||(0,yk.S)(e),dataTestId:e.uiState.waitingForActiveEditorActivityToComplete?"pivot-switching":"pivot-switched"}}))((function(t){var n=t.loading,r=t.dataTestId,o=t.children,i=(0,e.useState)(!1),a=i[0],s=i[1],l=(0,e.useRef)(new Set),u=a||n,c=(0,e.useCallback)((function(e,t){e?l.current.add(t):l.current.delete(t),s(l.current.size>0)}),[]);return e.createElement(vk.M.Provider,{value:{showLoadingSpinner:c}},u&&e.createElement(gk,{loading:u,dataTestId:r}),o)})),xk=function(){return xk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xk.apply(this,arguments)},_k=e.lazy((function(){return Promise.all([n.e(20),n.e(13)]).then(n.bind(n,10658))})),Ck=function(t){return e.createElement(e.Suspense,{fallback:null},e.createElement(_k,xk({},t)))},wk=n(82208);var Sk=e.lazy((function(){return n.e(17).then(n.bind(n,53101))})),kk=function(){return e.createElement(e.Suspense,{fallback:null},e.createElement(Sk,null))},Tk=e.lazy((function(){return n.e(18).then(n.bind(n,78233))})),Ek=function(t){var n=t.ariaLabel;return e.createElement(e.Suspense,{fallback:null},e.createElement(Tk,{ariaLabel:n}))},Pk=e.lazy((function(){return n.e(19).then(n.bind(n,29214))})),Ik=function(){return e.createElement(e.Suspense,{fallback:null},e.createElement(Pk,null))},Ak=n(86752),Rk=e.lazy((function(){return n.e(6).then(n.bind(n,65172))})),Lk=function(){return e.createElement(e.Suspense,{fallback:null},e.createElement(Rk,{setCursorIsActive:function(){},brushRadiusInImagePixels:20}))},Mk=e.memo((function(t){var n=t.maskInteractionMode,r=t.ariaLabel,o=t.maskingDisabled,i=(0,I.D)();if(o)return e.createElement("div",{tabIndex:0,role:"img",className:Ak.A.nonCropUI,style:{outlineColor:i.palette.neutralDark},"aria-label":r});switch(n){case"none":return null;case"circleBrush":return e.createElement(Ek,{ariaLabel:r});case"selectingRectangle":return e.createElement(Ik,null);case"objectSegmentation":return e.createElement(Lk,null)}})),Bk=(0,ge.Ng)((function(e){return{maskInteractionMode:(0,Ur.IG)(e),maskingDisabled:(0,Ur.Td)(e)}}),{})(Mk),Ok=e.memo((function(t){var n=t.texturePatches,r=t.applyOnPointerUp,o=(0,e.useContext)(ke.x).strings,i=(0,Zf.z)(),a=function(t,n,r){var o=(0,lv.V)("magicErase").id,i=(0,lv.V)("spotFix").id;return(0,e.useMemo)((function(){return(0,Vg.G)(t,"eraseMask")?n?r.magicErase_canvasAriaLabelWithUnappliedBrushedMasksToggleOn:r.magicErase_canvasAriaLabelWithUnappliedBrushedMasksToggleOff:(0,Vg.G)(t,"main",[i,o])?r.magicErase_canvasAriaLabelWithAppliedBrushedMasks:r.magicErase_canvasAriaLabelWithNoPreviousEraseOperation}),[n,o,i,r,t])}(n,r,o);return i?e.createElement(kk,null):e.createElement(Bk,{ariaLabel:a})})),Fk=(0,ge.Ng)((function(e){return{texturePatches:(0,wk.c)(e),applyOnPointerUp:(0,zr.G)(e)}}),{})(Ok);function Dk(e,t,n){return"OriginalBackground"===t?n.background_canvasAriaLabelWhenNoBackgroundOption:n.background_canvasAriaLabelWhenBackgroundOptionApplied}var Nk=e.memo((function(t){t.activeBackgroundUiMode;var n=t.backgroundType,r=(0,e.useContext)(ke.x).strings;return e.createElement(Bk,{ariaLabel:Dk(0,n,r)})})),Uk=(0,ge.Ng)((function(e){var t=e.imageBackground;return{activeBackgroundUiMode:t.activeBackgroundUiMode,backgroundType:t.backgroundType}}),{})(Nk),zk=function(){return zk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},zk.apply(this,arguments)},jk=e.lazy((function(){return Promise.all([n.e(24),n.e(8),n.e(20),n.e(9),n.e(11)]).then(n.bind(n,74912))})),Vk=function(t){return e.createElement(e.Suspense,{fallback:null},e.createElement(jk,zk({},t)))},Wk=function(){return Wk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wk.apply(this,arguments)},Hk=e.lazy((function(){return Promise.all([n.e(24),n.e(8),n.e(23),n.e(12)]).then(n.bind(n,56194))})),qk=function(t){return e.createElement(e.Suspense,{fallback:null},e.createElement(Hk,Wk({},t)))},Kk=n(15022),Gk=n(41153);function Zk(e){return{headerTextGroup:{display:"flex",alignItems:"center",flexDirection:"row",gap:"8px"},headerIcon:{root:{fontSize:"16px",fill:e.palette.black}},headerAIBadge:{transform:"translateY(2px)"},teachingTip:(0,Kk.G)(),labeledToggle:(0,Gk.y)(e),isLightOnToggle:{root:{marginBottom:"0px"},text:{fontWeight:"400",textAlign:"center",wordBreak:"break-word",wordWrap:"break-word",padding:"8px",margin:"0px 8px !important"},pill:{minWidth:"40px"},container:{alignItems:"center"}},slider:{getSliderStyles:function(e){return rk(e)},container:{margin:"0 10px"}}}}var Xk=function(){return Xk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xk.apply(this,arguments)},Yk=(0,Yy.aW)(42),Qk=function(e){var t;return(t={})[un.x8]=Xk(Xk({},Yk),{bottom:162}),t[un.km]=Yk,t[un.Zc]=Yk,t[un.X4]=function(e){switch(e){case"Left":case"Right":return Xk(Xk({},Yk),{left:90,right:90});case"Bottom":return Xk(Xk({},Yk),{bottom:56});case"Inline":return Xk({},Yk);default:throw new to.x(e)}}(e),t[un.VO]=Yk,t[un.Nr]=Yk,t[un.NF]=Yk,t[un.jp]=Yk,t[un.ts]=Yk,t[un.VQ]=Yk,t[un.io]=Yk,t};var Jk=n(16820),$k=n(45245),eT=n(3576);function tT(e){switch(e){case $k.H.error:return eT.H.error;case $k.H.info:return eT.H.info;case $k.H.success:return eT.H.success;case $k.H.warning:return eT.H.warning;default:throw new to.x(e)}}var nT=n(29385);var rT=e.memo((function(t){var n=t.userFacingMessages,r=t.removeUserFacingMessage,o=t.styles,i=(0,I.D)();!function(t,n){var r=(0,e.useRef)(t);r.current=t;var o=(0,e.useCallback)((function(){r.current.forEach((function(e){!0===e.shouldDismissOnAnyClickOrKeyPress&&n(e.id)}))}),[n]);(0,nT.P)(o)}(n,r);var a=(0,e.useMemo)((function(){return n.slice().sort((function(e,t){return t.timeOrder-e.timeOrder}))}),[n]),s=(0,e.useMemo)((function(){return function(e){var t;return e.customStyles||(null===(t=null===o||void 0===o?void 0:o.messageBarStyles)||void 0===t?void 0:t.call(o,{theme:i}))}}),[o,i]),l=(0,e.useMemo)((function(){var t=function(t){return(null===t||void 0===t?void 0:t.renderTitleBlock)?e.createElement("b",{style:{display:"block"}},t.title):e.createElement(e.Fragment,null,e.createElement("b",{style:o.titleStyles},t.title)," ")};return t.displayName="RenderTitleComponent",t}),[o.titleStyles]);return e.createElement("div",{style:o.containerStyles},a.map((function(t){return e.createElement(Jk.n,{key:t.id,messageBarType:tT(t.messageType),messageBarIconProps:t.iconName?{iconName:t.iconName}:void 0,isMultiline:!0,styles:s(t),onDismiss:void 0!==t.dismissButtonAriaLabel?function(){return r(t.id)}:void 0,dismissButtonAriaLabel:t.dismissButtonAriaLabel,"aria-hidden":!1},l(t),t.message)})))})),oT={removeUserFacingMessage:Qe.xl},iT=(0,ge.Ng)((function(e){return{userFacingMessages:e.uiState.userFacingErrorMessages}}),oT)(rT),aT=".".concat(cb._.msButtonIcon),sT={containerStyles:{position:"absolute",left:"50%",bottom:"0px",transform:"translate(-50%, 0)",zIndex:300,maxWidth:"45%",minWidth:"350px"},messageBarStyles:function(e){var t,n=e.theme;return{root:{backgroundColor:n.semanticColors.bodyBackground,color:n.semanticColors.bodyText,borderRadius:"8px",marginBottom:"16px","@media screen and (forced-colors: active) and (prefers-color-scheme: light)":{color:"windowText",backgroundColor:"window"},"@media screen and (forced-colors: active) and (prefers-color-scheme: dark)":{color:"window",backgroundColor:"windowText"}},dismissal:(t={padding:"0px 15px 0px 0px"},t[aT]={color:n.palette.black},t),content:{alignItems:"center",minHeight:"48px"},text:{margin:"0px",padding:"12px 12px 12px 0px",fontSize:"14px"},icon:{fontWeight:"600","@media screen and (forced-colors: active) and (prefers-color-scheme: light)":{color:"windowText"},"@media screen and (forced-colors: active) and (prefers-color-scheme: dark)":{color:"window"}},iconContainer:{fontWeight:"600",margin:"0px 15px"}}}};function lT(t){var n=Ix(t).onCopyToClipboard,r=(0,e.useContext)(qr).notifyPreSaveListeners,o=(0,e.useCallback)((function(e){n&&r(mr.CopyToClipboard).then((function(){n(e,"KeyboardShortcut")})).catch((function(){throw new Error("unable to notify listeners")}))}),[r,n]),i=(0,e.useCallback)((function(e){"KeyC"!==e.code&&e.keyCode!==_a.rC.C||!e.ctrlKey||e.shiftKey||e.altKey||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||(e.preventDefault(),o(e))}),[o]);(0,e.useEffect)((function(){var e=function(e){i&&i(e)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[i])}const uT={notifyOnTelemetry:(e,t)=>{console.log("onTelemetry",e,t)},notifyOnError:(e,t)=>{console.log("onError",e,t)},notifyOnUserSave:e=>{console.log("onUserSave",e)},notifyOnUserClose:()=>{console.log("onUserClose")},notifyOnDebugLog:e=>{console.log("onDebugLog",e)},notifyOnReady:()=>{console.log("onReady")},notifyOnThumbnailLoaded:()=>{console.log("onThumbnailLoaded")},notifyOnFullImageBytesLoaded:()=>{console.log("onFullImageBytesLoaded")},notifyOnEditedImageReady:(e,t)=>{console.log("onEditedImageReady",e,t)},notifyOnF11:()=>{console.log("notifyOnF11")},notifyOnModelInferenceRequested:function(e,t,n,r,o,i,a,s,l,u,c,d,p){console.log("notifyOnModelInferenceRequested",e,t,n,r,o,i,a,s,l,u,c,d,p)},notifyOnRegionForModelReady:function(e,t,n,r,o,i,a,s,l){console.log("notifyOnRegionForModelReady",e,t,n,r,o,i,a,s,l)},notifyOnLoadModelRequested:function(e){console.log("notifyOnLoadModelRequested",e)},notifyOnUserFeedbackRequested:function(){console.log("notifyOnUserFeedbackRequested")},notifyOnMSALogInRequested:function(){console.log("notifyOnMSALogInRequested")},notifyOnMSALogOutRequested:function(){console.log("notifyOnMSALogOutRequested")},notifyOnLinkClicked:function(e){console.log("notifyOnLinkClicked")},notifyOnFaceDetectionRequested:function(e){console.log("notifyOnFaceDetectionRequested",e)},notifyOnFaceDetectionImageReady:function(e,t){console.log("notifyOnFaceDetectionImageReady",e,t)},notifyOnEditorActivityChanged:function(e){console.log("notifyOnEditorActivityChanged "+e)},notifyOnImageCreationExtensionDownloadRequested:function(){console.log("notifyOnImageCreationExtensionDownloadRequested")},notifyOnStylizerPivotTeachingTipDismissRequested:function(){console.log("notifyOnStylizerPivotTeachingTipDismissRequested")},notifyOnModelInferenceCancelled:function(e){console.log("notifyOnModelInferenceCancelRequested "+e)}},cT=(0,e.createContext)({hvcEvents:uT}),dT=()=>(0,e.useContext)(cT);function pT(t){(0,e.useEffect)((()=>{if(window.chrome.webview)return window.chrome.webview.addEventListener("sharedbufferreceived",t),()=>{window.chrome.webview.removeEventListener("sharedbufferreceived",t)}}),[t])}var fT=function(){return fT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fT.apply(this,arguments)},hT=e.lazy((function(){return Promise.all([n.e(24),n.e(14)]).then(n.bind(n,46256))})),mT=function(t){return e.createElement(e.Suspense,{fallback:null},e.createElement(hT,fT({},t)))};function gT(t,n,r,o){var i=(0,e.useCallback)((function(e,t,n){if(!e.ctrlKey&&(0,U_.Fu)(e)&&t){var r=(0,U_.vG)(e.key);(!o||o(r))&&(e.stopPropagation(),e.preventDefault(),t({direction:r,speed:void 0===n?0:(0,U_.wC)(n),keyboardEventType:e.type}))}}),[o]),a=(0,e.useCallback)((function(e,t){i(e,n,t)}),[i,n]),s=(0,e.useCallback)((function(e){i(e,r)}),[i,r]);(0,j_.V)({numRepeatsToSwitchToFast:U_.WD,keyboardEventTarget:t,handleKeyboardDown:a,isFastDirectionKey:U_.T8,handleKeyboardUp:s})}(0,Cu.hN)([{rawString:".ms-Fabric--isFocusVisible .imageSplitter_00ac4884:focus{visibility:visible;outline-width:3px;outline-style:solid;outline-offset:-3px}.ms-Fabric--isFocusHidden .imageSplitter_00ac4884{outline:0}.imageSplitter_00ac4884{position:absolute;width:100%;height:100%;top:0}"}]);const vT="imageSplitter_00ac4884";var yT=function(){return yT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yT.apply(this,arguments)},bT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},xT="ew-resize";function _T(e){return"Left"===e||"Right"===e}var CT=e.memo((function(t){var n=t.onPointerDown,r=t.onPointerMove,o=t.onPointerUp,i=t.onPointerLeave,a=t.onPointerEnter,s=t.viewCropTransform,l=t.canvasPixelSize,u=t.cursor,c=t.cssToPhysicalPixelRatio,d=t.setAriaAnnouncement,p=bT(t,["onPointerDown","onPointerMove","onPointerUp","onPointerLeave","onPointerEnter","viewCropTransform","canvasPixelSize","cursor","cssToPhysicalPixelRatio","setAriaAnnouncement"]),f=(0,e.useContext)($r),h=f.revealPosViewSpace,m=f.resizedImageWithStatus,g=f.setSplitterPosViewSpace,v=(0,e.useContext)(ve.b).logSuperResolutionCompareSplitterMovedEvent,y=(0,e.useContext)(ke.x).strings,b=(0,e.useState)(void 0),x=b[0],_=b[1],C=(0,e.useState)(null),w=C[0],S=C[1],k="loaded"===m.status,T=(0,e.useRef)(k);T.current=k;var E=(0,e.useRef)(s);E.current=s;var P=(0,e.useRef)(h);P.current=h;var I=(0,e.useRef)(c);I.current=c;var A=(0,e.useCallback)((function(e){var t=P.current,n=(0,Hn.SM)(E.current),r=n.top+n.height/2,o=ay(I.current);return Math.abs(e.x-t)<o.lineWidth||Math.abs(e.y-r)<o.handleHeight/2&&Math.abs(e.x-t)<o.handleWidth/2}),[]),R=(0,e.useCallback)((function(e){var t=(0,Dh.q)(e.x,0,l.x),n=(0,Vn.J)(E.current,{x:t,y:0}).x,r=t;return n<0?r=(0,Vn.vo)(E.current,{x:0,y:0}).x:n>1&&(r=(0,Vn.vo)(E.current,{x:1,y:0}).x),g(r),r}),[g,l]),L=(0,e.useRef)(null),M=(0,e.useCallback)((function(e){T.current?null!=L.current?_(xT):e.isMiddleButtonDown||e.isRightButtonDown?_(void 0):A(e.pointerPhysicalPixelPos)?_(xT):_(void 0):_(void 0)}),[A,_]),B=(0,e.useCallback)((function(e){var t=e.pointerPhysicalPixelPos;e.isPrimaryButtonDownOrTouchDown&&T.current&&A(t)?(L.current=P.current,R(t)):null===n||void 0===n||n(e),M(e)}),[n,A,R,M]),O=(0,e.useCallback)((function(e){var t=e.pointerPhysicalPixelPos;null!=L.current?R(t):null===r||void 0===r||r(e),M(e)}),[r,R,M]),F=(0,e.useCallback)((function(e,t,n){e?(v({inputType:t}),d((0,Li.J)(y.resize_splitterMovedAriaLive,Math.round(n).toString()))):d(y.resize_splitterCannotMoveFurtherAriaLive)}),[v,d,y.resize_splitterCannotMoveFurtherAriaLive,y.resize_splitterMovedAriaLive]),D=(0,e.useCallback)((function(e){null!=L.current?(F(P.current!==L.current,e.inputType,P.current),L.current=null,_(void 0)):null===o||void 0===o||o(e)}),[F,o]);gT(w,(0,e.useCallback)((function(e){var t=e.direction,n=e.speed,r=(0,Un.m1)((0,U_.wp)(t),n),o=h+r.x,i=R({x:o,y:0});F(h!==i,"Keyboard",i)}),[h,R,F]),void 0,_T);var N=oy(m.status),U=ay(c).lineWidth;return e.createElement(e.Fragment,null,N&&e.createElement("div",{id:"splitter",className:vT,style:{outlineColor:"white",left:P.current/c-U/2,width:U},ref:S,"data-is-focusable":!0,role:"button",tabIndex:0,"aria-label":y.resize_splitterAriaLabel}),e.createElement(X_.r,yT({onPointerDown:B,onPointerMove:O,onPointerUp:D,onPointerLeave:i,onPointerEnter:a,cursor:x||u,cssToPhysicalPixelRatio:c,"aria-label":y.nonCrop_imagePanAriaLabel},p)))})),wT={onPointerMove:et.Td,onPointerDown:et.my,onPointerUp:et.JI,onPointerEnter:et.Es,onPointerLeave:et.B$,onWheel:He.tc,onTouchDown:He.Em,onTouchMove:He.Vb,onTouchUp:He.mz,onUnmount:He.P6,panView:He.fh,setAriaAnnouncementScenario:Je.Dc,setAriaAnnouncement:Je.f9,requestTexturePatch:et.F6,setPointerMovePixelPos:Ut._S,setCursorIsActive:Ut.Oo,incrementNumberMaskBrushStrokesMadeByUser:Nt.zr};const ST=(0,ge.Ng)((function(e){return{cssToPhysicalPixelRatio:e.transformTools.device.pixelRatio,cursor:(0,Od.g)(e),panViewTopLeftCornerFromCropOrigin:(0,zi.M)(e),viewCropTransform:ju(e),canvasPixelSize:(0,$n.mX)(e)}}),wT)(CT);var kT=n(16344),TT=n(29665),ET=n(44201),PT=n(7761);(0,Cu.hN)([{rawString:".sliderContainer_55f737cf{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:10px}.sliderTitleContainer_55f737cf{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}"}]);const IT="sliderContainer_55f737cf",AT="sliderTitleContainer_55f737cf";(0,Cu.hN)([{rawString:".ticks_5bb42c36{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%;margin-top:-3px}.tick_5bb42c36{width:1px;height:5px}.tick_5bb42c36:first-child{margin-left:4px}.tick_5bb42c36:last-child{margin-right:4px}@media screen and (-ms-high-contrast:active),screen and (forced-colors:active){.ticks_5bb42c36{background-color:window;forced-color-adjust:none}}"}]);const RT="ticks_5bb42c36",LT="tick_5bb42c36";var MT=(0,e.memo)((function(t){var n=t.numTicks,r=(0,I.D)(),o=(0,e.useMemo)((function(){return r.palette.neutralTertiary}),[r]),i=(0,e.useMemo)((function(){return Array.from({length:n},(function(t,n){return e.createElement("div",{key:n,className:LT,style:{backgroundColor:o}})}))}),[n,o]);return e.createElement("div",{className:RT},i)}));MT.displayName="SliderTicks";var BT=function(e){return e+1},OT=function(e){return e-1},FT=function(e){if(0===e.width||0===e.height)return 1;var t=e.width*e.height*4,n=Math.sqrt(4294967295/t),r=Math.floor(n);return(0,Dh.q)(r,BT(0),BT(7))},DT=function(e){return 0===e?0:Math.floor((e-0+1)/1)},NT=n(37010),UT=n(87692),zT=function(){return zT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},zT.apply(this,arguments)},jT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},VT=function(t){var n=t.calloutVisibilityState,r=t.setCalloutVisibilityState,o=(t.children,t.target),i=jT(t,["calloutVisibilityState","setCalloutVisibilityState","children","target"]),a=(0,e.useContext)(ke.x).strings,s=o.current;return(0,UT.U)({enterCondition:"showing"===n&&document.activeElement===s,exitCondition:"showing"===n,reverseEnterCondition:"showing"===n,reverseExitCondition:"showing"===n,elmBeforeEnter:null!==s&&void 0!==s?s:void 0,elmAfterEnter:void 0,elmBeforeExit:void 0,elmAfterExit:null!==s&&void 0!==s?s:void 0}),e.createElement(NT.j,zT({},i,{target:o,calloutVisibilityState:n,setCalloutVisibilityState:r,calloutHeaderText:a.resize_scaleTeachingTipTitle,customCalloutChild:e.createElement(TT.E,null,a.resize_scaleTeachingTipMainText)}))};VT.displayName="UpscaleTeachingTip";var WT="32px",HT=(0,e.memo)((function(t){var n=t.disabled,o=t.resizeFactor,i=t.setResizeFactor,a=t.setResizedImageLoadingStatus,s=t.styles,l=t.inputImageSizeForSuperResolution,u=t.maxSliderValue,c=(0,I.D)(),d=(0,e.useContext)(ke.x).strings,p=(0,e.useContext)($r),f=p.requestResizedImage,h=p.rejectResizedImage,m=(0,e.useContext)(ve.b).logSuperResolutionSliderAdjustEvent,g=(0,e.useRef)(null),v=(0,e.useState)("notShown"),y=v[0],b=v[1],x=(0,e.useCallback)((function(e){b((function(e){return"showing"===e?"alreadyShown":"showing"}))}),[b]),_=(0,e.useCallback)((function(e){i(BT(e)),a("preparing")}),[i,a]),C=(0,Li.J)(d.resize_upscaleSliderResizeFactorLabel,o.toString()),w=0===u,S=n||w,k=(0,e.useMemo)((function(){return(0,r.TW)(s,function(e,t,n){var r=(e?n.palette.themeTertiary:n.palette.themePrimary)+" !important";return{root:{margin:"20px 2px 12px 2px",flexGrow:1},slideBox:{height:"auto",width:"100%",padding:"0 2px"},container:{height:"auto",width:"100%"},thumb:{backgroundColor:t?n.palette.neutralTertiary:r},activeSection:{backgroundColor:r}}}(S,w,c))}),[S,s,w,c]),T=(0,e.useCallback)((function(e){var t=BT(e);return 1===t?d.resize_upscaleSlider1xAriaValueText:(0,Li.J)(d.resize_upscaleSliderAriaValueText,t.toString(),(t*l.width).toString(),(t*l.height).toString())}),[l.height,l.width,d.resize_upscaleSlider1xAriaValueText,d.resize_upscaleSliderAriaValueText]);return e.createElement("div",{className:IT},e.createElement("div",{className:AT},e.createElement("div",{style:{height:WT}},e.createElement(TT.E,{style:{height:WT,display:"inline-block",transform:"translateY(-12%)"}},d.resize_scaleLabel),e.createElement(yb.K,{elementRef:g,iconProps:{iconName:"info"},"aria-label":d.resize_scaleTeachingTipTitle,onClick:x}),e.createElement(VT,{calloutVisibilityState:y,setCalloutVisibilityState:b,target:g})),e.createElement(TT.E,{style:{height:WT,display:"inline-flex",alignItems:"center"}},C)),e.createElement($w.A,{showValue:!1,value:OT(o),min:0,max:u,step:1,snapToStep:!1,onChange:_,onChanged:function(e,t){var n=BT(t);1===n?h():f(n),m({value:n,inputType:(0,Ub.xR)(e),inputImageWidth:l.width,inputImageHeight:l.height})},styles:k,disabled:S,ariaLabel:d.resize_upscaleSliderAriaLabel,ariaValueText:T,buttonProps:{title:d.resize_upscaleSliderTooltip}}),e.createElement(MT,{numTicks:DT(u)}))}));HT.displayName="UpscaleSlider";var qT={setResizeFactor:pn,setResizedImageLoadingStatus:dn},KT=(0,ge.Ng)((function(e){return{resizeFactor:e.resize.resizeFactor}}),qT)(HT),GT=(0,e.memo)((function(t){var n=t.cropSize,r=t.resizeFactor,o=(0,I.D)(),i=(0,e.useMemo)((function(){return o.palette.neutralSecondary}),[o]),a=(0,e.useMemo)((function(){return o.palette.neutralPrimary}),[o]),s=(0,e.useContext)(ke.x).strings,l=hy(n.width,n.height),u=hy(n.width*r,n.height*r);return e.createElement(e.Fragment,null,e.createElement(fb.B,{horizontal:!0,horizontalAlign:"space-between"},e.createElement(TT.E,{style:{color:i}},s.resize_currentImageLabel),e.createElement(TT.E,{style:{color:i}},l.imageDimension)),e.createElement(fb.B,{horizontal:!0,horizontalAlign:"space-between"},e.createElement(TT.E,{style:{color:a}},s.resize_newImageLabel),e.createElement(TT.E,{style:{color:a}},u.imageDimension)))}));GT.displayName="ResizedImageDetails";var ZT=(0,ge.Ng)((function(e){return{cropSize:(0,Ri.U9)(e),resizeFactor:e.resize.resizeFactor}}),{})(GT),XT=n(94925),YT=n(11582),QT=function(){return QT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},QT.apply(this,arguments)},JT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},$T=function(t){var n,r=t.calloutVisibilityState,o=t.setCalloutVisibilityState,i=(t.children,t.target),a=t.onUserFeedbackRequested,s=JT(t,["calloutVisibilityState","setCalloutVisibilityState","children","target","onUserFeedbackRequested"]),l=(0,I.D)(),u=(0,e.useContext)(ke.x).strings,c=(0,YT.l)(l),d=(0,Kk.G)(),p=(0,e.useContext)(xo.G).onLinkClicked,f=(0,e.useState)(null),h=f[0],m=f[1],g=(0,e.useRef)(null),v=i.current;return(0,UT.U)({enterCondition:"showing"===r&&document.activeElement===v,exitCondition:"showing"===r,reverseEnterCondition:"showing"===r,reverseExitCondition:"showing"===r,elmBeforeEnter:null!==v&&void 0!==v?v:void 0,elmAfterEnter:null!==h&&void 0!==h?h:void 0,elmBeforeExit:null!==(n=g.current)&&void 0!==n?n:void 0,elmAfterExit:null!==v&&void 0!==v?v:void 0}),e.createElement(NT.j,QT({},s,{target:i,calloutVisibilityState:r,setCalloutVisibilityState:o,calloutHeaderText:u.resize_teachingTipTitle,customCalloutChild:e.createElement(fb.B,{style:d,tokens:{childrenGap:16}},e.createElement(TT.E,null,u.resize_teachingTipMainText),e.createElement("br",null),e.createElement("p",{style:{margin:0}},e.createElement(XT.N,{href:"javascript:void(0)",styles:c,as:"a",onClick:a,ref:m},u.resize_teachingTipSendFeedbackLink)),e.createElement("br",null),e.createElement("p",{style:{margin:0}},e.createElement(XT.N,{href:"javascript:void(0)",styles:c,as:"a",onClick:function(){return p("https://go.microsoft.com/fwlink/?linkid=2290963")},ref:g},u.resize_learnMoreLink)))}))};$T.displayName="ResizeTeachingTip";var eE=n(85180),tE=function(){var t=(0,I.D)(),n=(0,e.useContext)(ke.x).strings;return e.createElement(Jk.n,{dismissButtonAriaLabel:"Close",messageBarIconProps:{iconName:"WarningSolid"},role:"alert",dismissIconProps:{iconName:"Clear"},styles:(0,eE.o)(t,"warning"),messageBarType:eT.H.warning},n.resize_imageTooBigWarning)},nE=(0,e.memo)((function(t){var n=t.onUserFeedbackRequested,o=t.styles,i=t.setAriaAnnouncement,a=t.inputImageSizeForSuperResolution,s=(0,I.D)(),l=(0,e.useMemo)((function(){return o||function(e){var t=(0,r.TW)(Tb(e),{root:{width:"50%",margin:"20px 0px"}});return{stack:{root:{padding:"16px"}},headerTextGroup:{display:"flex",alignItems:"center",flexDirection:"row",gap:"8px"},headerIcon:{root:{width:"20px",fill:e.palette.black,transform:"translateY(2px)"}},headerAIBadge:{transform:"translateY(2px)"},slider:rk(e,{container:{margin:"0"}}),cancelButton:t}}(s)}),[o,s]),u=(0,e.useContext)(ke.x).strings,c=(0,e.useContext)(ve.b).logNameAndInputTypeEvent,d=(0,e.useContext)($r),p=d.resizedImageWithStatus,f=d.rejectResizedImage,h=d.cancelResizeOperation,m=d.centerSplitter,g=(0,e.useRef)(null),v=OT(FT(a)),y=0===v,b=(0,e.useState)("notShown"),x=b[0],_=b[1],C=(0,e.useCallback)((function(e){_((function(e){return"showing"===e?"alreadyShown":"showing"}))}),[_]),w=(0,e.useCallback)((function(e){f(),c({name:"DiscardSuperResolution",inputType:(0,Ub.JR)(e)}),i((0,Li.J)(u.resize_discardAriaLive,a.width.toString(),a.height.toString()))}),[f,c,i,u.resize_discardAriaLive,a]),S=(0,e.useCallback)((function(e){h(),c({name:"CancelSuperResolution",inputType:(0,Ub.JR)(e)}),i((0,Li.J)(u.resize_cancelAriaLive,a.width.toString(),a.height.toString()))}),[h,c,i,a,u.resize_cancelAriaLive]);(0,e.useEffect)((function(){m()}),[m]),(0,PT.X)(f);var k=(0,e.useMemo)((function(){return e.createElement(e.Fragment,null,e.createElement("div",{style:l.headerTextGroup},e.createElement(vC.I,{iconName:"ResolutionIcon-Havana",styles:l.headerIcon}),e.createElement(TT.E,null,u.pivot_resize),e.createElement("div",{style:l.headerAIBadge},ET.H)),e.createElement("span",null,e.createElement(yb.K,{elementRef:g,iconProps:{iconName:"info"},"aria-label":u.resize_teachingTipTitle,"aria-expanded":"showing"===x,onClick:C})))}),[x,l,u,C]);return e.createElement(kT.U,{header:k},e.createElement($T,{calloutVisibilityState:x,setCalloutVisibilityState:_,target:g,onUserFeedbackRequested:n}),e.createElement(fb.B,{styles:l.stack,tokens:{childrenGap:12}},e.createElement(KT,{disabled:"loading"===p.status,styles:l.slider,inputImageSizeForSuperResolution:a,maxSliderValue:v}),e.createElement(ZT,null),"loading"===p.status&&e.createElement("div",{style:{display:"flex",justifyContent:"flex-end",borderTop:"1px solid ".concat(s.palette.neutralTertiary),marginTop:"20px"}},e.createElement(Xb.Y,{onClick:S,styles:l.cancelButton,ariaLabel:u.resize_cancelButtonAriaLabel},u.resize_cancelButton)),"loaded"===p.status&&e.createElement("div",{style:{display:"flex",justifyContent:"flex-end",borderTop:"1px solid ".concat(s.palette.neutralTertiary),marginTop:"20px"}},e.createElement(Xb.Y,{onClick:w,styles:l.cancelButton,ariaLabel:u.resize_discardButtonAriaLabel},u.resize_discardButton)),y&&e.createElement(e.Fragment,null,e.createElement("br",null),e.createElement(tE,null))))})),rE={setAriaAnnouncement:Je.f9},oE=(0,ge.Ng)((function(e){return{inputImageSizeForSuperResolution:(0,Ri.U9)(e)}}),rE)(nE),iE=(0,e.memo)((function(t){var n=t.isDialogVisible,r=t.onConfirm,o=t.onDismiss,i=t.onCancel,a=t.styles,s=(0,I.D)(),l=(0,e.useMemo)((function(){return(0,zb.h)(s_(s),a)}),[a,s]),u=(0,e.useContext)(ke.x).strings,c={contentTitle:u.resize_applyUpscaleConfirmDialogContentTitle,contentSubText:u.resize_applyUpscaleConfirmDialogContentSubText,closeButtonAriaLabel:u.resize_applyUpscaleConfirmDialogCloseButtonAriaLabel,confirmText:u.resize_applyUpscaleConfirmDialogConfirmText,confirmAriaLabel:u.resize_applyUpscaleConfirmDialogConfirmAriaLabel,cancelText:u.resize_applyUpscaleConfirmDialogCancelText,cancelAriaLabel:u.resize_applyUpscaleConfirmDialogCancelAriaLabel};return e.createElement(jb.K,{isVisible:n,dialogType:rb.h.normal,dialogIsBlocking:!0,dialogStrings:c,styles:l,onConfirm:r,onCancel:i,onDismiss:o})})),aE=(0,e.memo)((function(t){var n=t.activeEditorActivity,r=t.resizeFactor,o=t.resizedImageLoadingStatus,i=t.hasEditsOtherThanResizeAndImageReplacement,a=t.cancelEditorActivityChange,s=t.setShouldWaitForEditorActivityToComplete,l=t.setDoneWaitingForActiveEditorActivityToComplete,u=t.nextEditorActivity,c=t.styles,d=(0,e.useContext)($r),p=d.acceptResizedImage,f=d.rejectResizedImage,h=d.cancelResizeOperation,m=(0,e.useContext)(ve.b),g=m.logNameAndInputTypeEvent,v=m.logSuperResolutionAppliedEvent,y=(0,yl.V)(),b=(0,e.useCallback)((function(){p(),l()}),[p,l]),x=Fn(r,o);(0,e.useEffect)((function(){s(x||"loading"===o)}),[s,x,o]);var _=!!u&&n===un.VQ&&u!==n,C=_&&x&&i,w=_&&x&&!i,S=(0,e.useRef)();return(0,e.useEffect)((function(){_&&"loading"===o&&(h(),l())}),[_,h,l,o]),(0,e.useEffect)((function(){w&&(void 0===S.current||!1===S.current)&&(b(),v({scenario:"auto",isIntentional:!1})),S.current=w}),[w,b,v]),e.createElement(iE,{isDialogVisible:C,onConfirm:function(e){b(),g({name:"SuperResolutionConfirmationDialog_Apply",inputType:(0,Ub.JR)(e)}),v({scenario:"dialog",isIntentional:!0}),y()},onDismiss:function(e){a(),g({name:"SuperResolutionConfirmationDialog_Dismiss",inputType:(0,Ub.JR)(e)}),y()},onCancel:function(e){f(),l(),g({name:"SuperResolutionConfirmationDialog_Discard",inputType:(0,Ub.JR)(e)}),y()},styles:c})})),sE={setShouldWaitForEditorActivityToComplete:Qe.ib,setDoneWaitingForActiveEditorActivityToComplete:Qe.vh,cancelEditorActivityChange:Qe.H_},lE=(0,ge.Ng)((function(e){return{activeEditorActivity:e.uiState.activeEditorActivity,nextEditorActivity:e.uiState.nextEditorActivity,resizeFactor:e.resize.resizeFactor,resizedImageLoadingStatus:e.resize.resizedImageLoadingStatus,hasEditsOtherThanResizeAndImageReplacement:fr(e)}}),sE)(aE),uE=n(11667),cE=(0,e.memo)((function(t){var n=t.resizeImageLoadingStatus,r=t.addUserFacingMessage,o=t.removeUserFacingMessage,i=t.clearUserFacingMessages,a=t.resizedImageDimensions,s=(0,e.useContext)(ke.x).strings;return(0,e.useEffect)((function(){var e=void 0;if("loading"===n){var t=(0,Ic.b)();e=(0,uE.Y)("resizeProcessing",t),r({id:e,title:"",message:s.resize_notificationUpscaleInProgress,messageType:$k.H.info,timeOrder:t})}return function(){e&&o(e)}}),[r,o,n,s]),(0,e.useEffect)((function(){var e=void 0;if("loaded"===n){var t=(0,Ic.b)();e=(0,uE.Y)("resizeSuccess",t),r({id:e,title:"",message:(0,Li.J)(s.resize_notificationUpscaleSuccessfullyCompletedFormatString,a.width.toString(),a.height.toString()),messageType:$k.H.success,timeOrder:t,shouldDismissOnAnyClickOrKeyPress:!0,dismissButtonAriaLabel:s.notification_dismissButtonAriaLabel})}else if("error"===n){t=(0,Ic.b)();e=(0,uE.Y)("resizeFail",t),r({id:e,title:"",message:s.resize_notificationUpscaleFailed,messageType:$k.H.error,timeOrder:t,dismissButtonAriaLabel:s.notification_dismissButtonAriaLabel})}return function(){e&&o(e)}}),[r,o,n,s,a]),(0,PT.X)(i),null}));cE.displayName="ResizeUserMessages";var dE=(0,kn.Mz)([function(e){return e.resize.resizeFactor},Ri.U9],(function(e,t){return{width:Math.floor(t.width*e),height:Math.floor(t.height*e)}})),pE={addUserFacingMessage:Qe.us,removeUserFacingMessage:Qe.xl,clearUserFacingMessages:Qe.vG},fE=(0,ge.Ng)((function(e){return{resizeImageLoadingStatus:ur(e),resizedImageDimensions:dE(e)}}),pE)(cE);(0,Cu.hN)([{rawString:".display_c109052e{position:absolute;z-index:2;cursor:move;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-ms-touch-action:none;touch-action:none}"}]);const hE="display_c109052e";function mE(e,t,n){return void 0===n&&(n=1e-4),Math.abs(e-t)<=n}var gE=function(){return gE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gE.apply(this,arguments)};function vE(e,t,n){var r=(0,z_.U)(e,t,n);return(0,Un.If)(r,{x:-e.clientWidth/2*n,y:-e.clientHeight/2*n})}var yE=e.memo((function(t){var n=t.children,r=t.style,o=void 0===r?{}:r,i=t.cssToPhysicalPixelRatio,a=t.cropRectanglePhysicalPixelArea,s=t.ariaLabel,l=t.onPointerDownInElement,u=t.onPointerMoveInElement,c=t.onPointerUpInElement,d=t.onPointerMovedTelemetry,p=t.onUnmountOfElement,f=t.onKeyboardMove,h=e.useState(null),m=h[0],g=h[1];return function(t,n,r,o,i,a,s,l){var u=e.useRef(null),c=(0,e.useCallback)((function(e){o&&t&&(e.pointerPhysicalPixelPos=vE(t,e.pointerPhysicalPixelPos,n),o(e),u.current=e.pointerPhysicalPixelPos)}),[t,o,n]),d=(0,e.useCallback)((function(e){i&&t&&(e.pointerPhysicalPixelPos=vE(t,e.pointerPhysicalPixelPos,n),i(gE(gE({},e),{imagePhysicalPixelArea:r})))}),[t,i,n,r]),p=(0,e.useCallback)((function(e){if(a&&t){var r=vE(t,e.pointerPhysicalPixelPos,n);e.pointerPhysicalPixelPos=r,a(e),!u.current||mE(u.current.x,r.x)&&mE(u.current.y,r.y)||s(e.inputType),u.current=null}}),[t,a,n,s]);(0,Ad.R)({htmlElement:t,cssToPhysicalPixelRatio:n,onPointerDown:c,onPointerMove:d,onPointerUp:p,enableLostPointerCapture:!1,onUnmount:l}),(0,Rd.s)(t)}(m,i,a,l,u,c,d,p),gT(m,f,f),e.createElement("div",{className:hE,style:o,ref:g,tabIndex:0,role:"button","aria-label":s},n)})),bE=n(13877),xE=function(){return xE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xE.apply(this,arguments)};function _E(e,t,n){return{x:(0,Dh.q)(e.x-t.left,0,t.width)/n,y:(0,Dh.q)(e.y-t.top,0,t.height)/n}}function CE(t,n,r,o,i,a,s,l,u){return(0,e.useCallback)((function(e){if("keydown"===e.keyboardEventType){s(i);var c=(0,Un.m1)((0,U_.wp)(e.direction),e.speed),d={x:t,y:n},p=(0,Un.If)(d,c),f=(0,Un.m1)(p,o);a(xE(xE({},e),{imagePhysicalPixelArea:r,elementPhysicalPixelPos:f}));var h=_E(f,r,o),m=!(0,Un.zN)(h,_E((0,Un.m1)(d,o),r,o));l(Math.round(h.x).toString(),Math.round(h.y).toString(),m)}else"keyup"===e.keyboardEventType&&(s({source:"none"}),u())}),[s,t,n,a,r,o,i,l,u])}var wE=function(){return wE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},wE.apply(this,arguments)},SE={width:56,height:56},kE={position:"absolute",top:"".concat(16,"px"),left:"".concat(15,"px")},TE=e.memo((function(t){var n=t.cropRectanglePhysicalPixelArea,r=t.positionXPhysicalPixels,o=t.positionYPhysicalPixels,i=t.cssToPhysicalPixelRatio,a=t.lightSourceIndex,s=t.directionalLightAngleAround,l=t.lightColor,u=t.isActive,c=t.isArrowVisible,d=t.label,p=t.setMovementSource,f=t.onPointerMoveInElement,h=t.onKeyboardMoveInElement,m=t.setAriaAnnouncement,g=(0,I.D)(),v=(0,e.useContext)(ke.x).strings,y=(0,e.useContext)(ve.b).logRelightOnCanvasElementMoveEvent,b=r/i,x=o/i,_=(0,e.useCallback)((function(e){p(wE(wE({},e),{source:"light",lightSourceIndex:a}))}),[a,p]),C=(0,e.useCallback)((function(e){p({source:"none"})}),[p]),w=(0,e.useCallback)((function(){p({source:"none"})}),[p]),S=(0,e.useMemo)((function(){return{source:"light",lightSourceIndex:a}}),[a]),k=(0,e.useCallback)((function(e,t,n){var r=(a+1).toString();m(n?(0,Li.J)(v.relight_ariaAnnounceMovedLight,r,e,t):(0,Li.J)(v.relight_ariaAnnounceCannotMoveLightFarther,r))}),[a,m,v.relight_ariaAnnounceMovedLight,v.relight_ariaAnnounceCannotMoveLightFarther]),T=(0,e.useCallback)((function(e){y({onCanvasElementType:"Light",lightName:d,inputType:e})}),[d,y]),E=(0,e.useCallback)((function(){y({onCanvasElementType:"Light",lightName:d,inputType:"Keyboard"})}),[d,y]),P=CE(b,x,n,i,S,h,p,k,E),A=e.useState(null),R=A[0],L=A[1],M=(0,e.useMemo)((function(){return(0,bE.N)(l)}),[l]);if(R){var B=360*(1-s);R.style.transform="rotate(".concat(B,"deg) translate(0, -").concat(30,"px)")}var O=(0,e.useMemo)((function(){return e.createElement("div",{style:SE},e.createElement("svg",{width:56,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("circle",{cx:"32",cy:"32",r:"24",fill:M}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 58C46.3594 58 58 46.3594 58 32C58 17.6406 46.3594 6 32 6C17.6406 6 6 17.6406 6 32C6 46.3594 17.6406 58 32 58ZM32 56C45.2548 56 56 45.2548 56 32C56 18.7452 45.2548 8 32 8C18.7452 8 8 18.7452 8 32C8 45.2548 18.7452 56 32 56Z",fill:"black",fillOpacity:"0.42"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M60 32C60 47.464 47.464 60 32 60C16.536 60 4 47.464 4 32C4 16.536 16.536 4 32 4C47.464 4 60 16.536 60 32ZM58 32C58 46.3594 46.3594 58 32 58C17.6406 58 6 46.3594 6 32C6 17.6406 17.6406 6 32 6C46.3594 6 58 17.6406 58 32Z",fill:u?g.palette.themePrimary:"#F9FFF9",fillOpacity:"0.85"}),e.createElement("circle",{cx:"32",cy:"32",r:"14",fill:"#4C4C4C"}),e.createElement("text",{x:"32",y:"32",dy:".1em",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:15,fontWeight:700},d)))}),[M,u,d,g.palette.themePrimary]),F=(0,e.useMemo)((function(){return c?e.createElement("div",{style:kE,ref:L},e.createElement("svg",{width:26,viewBox:"0 0 32 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{filter:"url(#filter0_d_225_9104)"},e.createElement("path",{d:"M7.70147 17.0001C6.1353 17.0001 5.29824 15.1555 6.32958 13.9768L14.3822 4.77376C15.399 3.61173 17.2067 3.61173 18.2235 4.77376L26.2762 13.9768C27.3075 15.1555 26.4705 17.0001 24.9043 17.0001L7.70147 17.0001Z",fill:u?g.palette.themePrimary:"#F9FFF9",stroke:"black",strokeOpacity:"0.0578",strokeWidth:"2.1875",strokeLinejoin:"round"})),e.createElement("defs",null,e.createElement("filter",{id:"filter0_d_225_9104",x:"-2",y:"-1.19995",width:"36.75",height:"26.4",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},e.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),e.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),e.createElement("feOffset",{dy:"2"}),e.createElement("feGaussianBlur",{stdDeviation:"2"}),e.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),e.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.26 0"}),e.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_225_9104"}),e.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_225_9104",result:"shape"}))))):null}),[c,u,L,g.palette.themePrimary]),D=(0,e.useMemo)((function(){return{top:x,left:b}}),[b,x]);return e.createElement(yE,{style:D,cssToPhysicalPixelRatio:i,cropRectanglePhysicalPixelArea:n,onPointerDownInElement:_,onPointerMoveInElement:f,onPointerUpInElement:C,onPointerMovedTelemetry:T,onUnmountOfElement:w,onKeyboardMove:P,ariaLabel:(0,Li.J)(v.relight_lightAriaLabel,(a+1).toString())},O,F)})),EE={source:"lightsTarget"},PE=e.memo((function(t){var n=t.cropRectanglePhysicalPixelArea,r=t.normalizedLightTargetX,o=t.normalizedLightTargetY,i=t.cssToPhysicalPixelRatio,a=t.setMovementSource,s=t.onPointerMoveInElement,l=t.onKeyboardMove,u=t.setAriaAnnouncement,c=(0,e.useContext)(ke.x).strings,d=(0,e.useContext)(ve.b).logRelightOnCanvasElementMoveEvent,p=(0,e.useCallback)((function(e){d({onCanvasElementType:"LightTarget",inputType:e})}),[d]),f=(0,e.useCallback)((function(){d({onCanvasElementType:"LightTarget",inputType:"Keyboard"})}),[d]),h=(0,e.useMemo)((function(){var e=(0,Cd.VP)({x:r,y:o},n);return{left:e.x/i,top:e.y/i}}),[n,i,r,o]),m=(0,e.useCallback)((function(e){a({source:"lightsTarget"})}),[a]),g=(0,e.useCallback)((function(e){a({source:"none"})}),[a]),v=(0,e.useCallback)((function(){a({source:"none"})}),[a]),y=(0,e.useCallback)((function(e,t,n){u(n?(0,Li.J)(c.relight_ariaAnnounceMovedLightTarget,e,t):c.relight_ariaAnnounceCannotMoveLightTargetFarther)}),[u,c.relight_ariaAnnounceCannotMoveLightTargetFarther,c.relight_ariaAnnounceMovedLightTarget]),b=CE(h.left,h.top,n,i,EE,l,a,y,f);return e.createElement(yE,{style:h,cssToPhysicalPixelRatio:i,cropRectanglePhysicalPixelArea:n,onPointerDownInElement:m,onPointerMoveInElement:s,onPointerUpInElement:g,onPointerMovedTelemetry:p,onUnmountOfElement:v,onKeyboardMove:b,ariaLabel:c.relight_lightTargetAriaLabel},e.createElement("svg",{width:"56",viewBox:"0 0 90 90",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("foreignObject",{x:"1.9",y:"1.9",width:"86.2",height:"86.2"},e.createElement("div",{style:{backdropFilter:"blur(0.55px)",clipPath:"url(#bgblur_0_1016_34408_clip_path)",height:"100%",width:"100%"}})),e.createElement("path",{"data-figma-bg-blur-radius":"1.1",d:"M87 45C87 67.8867 67.8867 87 45 87C22.1133 87 3 68.4467 3 45.56C3 22.04 21.48 3 45 3C67.8867 3 87 21.48 87 45Z",fill:"#888888",fillOpacity:"0.4"}),e.createElement("mask",{id:"path-2-outside-1_1016_34408",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"90",height:"90",fill:"black"},e.createElement("rect",{fill:"white",width:"90",height:"90"}),e.createElement("path",{d:"M45 1C69.3005 1 89 20.6995 89 45C89 69.3005 69.3005 89 45 89C20.6995 89 1 69.3005 1 45C1 20.6995 20.6995 1 45 1ZM45 3.75C22.2183 3.75 3.75 22.2183 3.75 45C3.75 67.7817 22.2183 86.25 45 86.25C67.7817 86.25 86.25 67.7817 86.25 45C86.25 22.2183 67.7817 3.75 45 3.75Z"})),e.createElement("path",{d:"M45 1C69.3005 1 89 20.6995 89 45C89 69.3005 69.3005 89 45 89C20.6995 89 1 69.3005 1 45C1 20.6995 20.6995 1 45 1ZM45 3.75C22.2183 3.75 3.75 22.2183 3.75 45C3.75 67.7817 22.2183 86.25 45 86.25C67.7817 86.25 86.25 67.7817 86.25 45C86.25 22.2183 67.7817 3.75 45 3.75Z",fill:"#F9F9F9",fillOpacity:"0.8"}),e.createElement("path",{d:"M45 1V2C68.7482 2 88 21.2518 88 45H89H90C90 20.1472 69.8528 0 45 0V1ZM89 45H88C88 68.7482 68.7482 88 45 88V89V90C69.8528 90 90 69.8528 90 45H89ZM45 89V88C21.2518 88 2 68.7482 2 45H1H0C0 69.8528 20.1472 90 45 90V89ZM1 45H2C2 21.2518 21.2518 2 45 2V1V0C20.1472 0 0 20.1472 0 45H1ZM45 3.75V2.75C21.666 2.75 2.75 21.666 2.75 45H3.75H4.75C4.75 22.7705 22.7705 4.75 45 4.75V3.75ZM3.75 45H2.75C2.75 68.334 21.666 87.25 45 87.25V86.25V85.25C22.7705 85.25 4.75 67.2295 4.75 45H3.75ZM45 86.25V87.25C68.334 87.25 87.25 68.334 87.25 45H86.25H85.25C85.25 67.2295 67.2295 85.25 45 85.25V86.25ZM86.25 45H87.25C87.25 21.666 68.334 2.75 45 2.75V3.75V4.75C67.2295 4.75 85.25 22.7705 85.25 45H86.25Z",fill:"#838383",mask:"url(#path-2-outside-1_1016_34408)"}),e.createElement("foreignObject",{x:"17.9",y:"17.9",width:"54.2",height:"54.2"},e.createElement("div",{style:{backdropFilter:"blur(0.55px)",clipPath:"url(#bgblur_1_1016_34408_clip_path)",height:"100%",width:"100%"}})),e.createElement("g",{"data-figma-bg-blur-radius":"1.1"},e.createElement("circle",{cx:"45",cy:"45",r:"26",fill:"#F9FFF9",fillOpacity:"0.5"}),e.createElement("circle",{cx:"45",cy:"45",r:"25.7708",stroke:"#FDFDFD",strokeOpacity:"0.4",strokeWidth:"0.458333"})),e.createElement("defs",null,e.createElement("clipPath",{id:"bgblur_0_1016_34408_clip_path",transform:"translate(-1.9 -1.9)"},e.createElement("path",{d:"M87 45C87 67.8867 67.8867 87 45 87C22.1133 87 3 68.4467 3 45.56C3 22.04 21.48 3 45 3C67.8867 3 87 21.48 87 45Z"})),e.createElement("clipPath",{id:"bgblur_1_1016_34408_clip_path",transform:"translate(-17.9 -17.9)"},e.createElement("circle",{cx:"45",cy:"45",r:"26"})))))}));function IE(e,t,n,r,o){var i=(0,Cd.VP)(n,r);return(0,Un.Sl)(e,i)<o*t}var AE=e.memo((function(t){var n=t.areLightsVisible,r=t.light,o=t.cropRectanglePhysicalPixelArea,i=t.cssToPhysicalPixelRatio,a=t.normalizedLightTarget,s=t.setMovementSource,l=t.onPointerMoveForLight,u=t.onKeyboardMoveForLight,c=t.setAriaAnnouncement;return n&&r.isVisible?e.createElement(TE,{key:r.key,label:r.label,cropRectanglePhysicalPixelArea:o,positionXPhysicalPixels:r.positionPhysicalPixels.x,positionYPhysicalPixels:r.positionPhysicalPixels.y,cssToPhysicalPixelRatio:i,lightSourceIndex:r.lightSourceIndex,directionalLightAngleAround:r.directionalLightAngleAround,lightColor:r.lightColor,isActive:r.isActive,isArrowVisible:!IE(r.positionPhysicalPixels,i,a,o,60),setMovementSource:s,onPointerMoveInElement:l,onKeyboardMoveInElement:u,setAriaAnnouncement:c}):null})),RE=e.memo((function(t){var n=t.cropRectanglePhysicalPixelArea,r=t.cssToPhysicalPixelRatio,o=t.light0,i=t.light1,a=t.light2,s=t.isLightTargetVisible,l=t.areLightsVisible,u=t.normalizedLightTarget,c=t.setMovementSource,d=t.onPointerMoveForLight,p=t.onKeyboardMoveForLight,f=t.onPointerMoveForLightTarget,h=t.onKeyboardMoveForLightTarget,m=t.setAriaAnnouncement;return e.createElement(e.Fragment,null,s&&e.createElement(PE,{cropRectanglePhysicalPixelArea:n,normalizedLightTargetX:u.x,normalizedLightTargetY:u.y,cssToPhysicalPixelRatio:r,onPointerMoveInElement:f,setMovementSource:c,onKeyboardMove:h,setAriaAnnouncement:m}),e.createElement(AE,{areLightsVisible:l,light:o,cropRectanglePhysicalPixelArea:n,cssToPhysicalPixelRatio:r,normalizedLightTarget:u,setMovementSource:c,onPointerMoveForLight:d,onKeyboardMoveForLight:p,setAriaAnnouncement:m}),e.createElement(AE,{areLightsVisible:l,light:i,cropRectanglePhysicalPixelArea:n,cssToPhysicalPixelRatio:r,normalizedLightTarget:u,setMovementSource:c,onPointerMoveForLight:d,onKeyboardMoveForLight:p,setAriaAnnouncement:m}),e.createElement(AE,{areLightsVisible:l,light:a,cropRectanglePhysicalPixelArea:n,cssToPhysicalPixelRatio:r,normalizedLightTarget:u,setMovementSource:c,onPointerMoveForLight:d,onKeyboardMoveForLight:p,setAriaAnnouncement:m}))})),LE=n(64665);function ME(e,t,n,r,o,i){if("directional"!==t.lightType)throw new Error("Light type is not directional for index ".concat(e));var a=(0,LE.V)(t.directionalLightAngleAround,t.directionalLightAngleInto,n.width*r,n.height*r,o);return{positionPhysicalPixels:{x:n.left*r+a.x,y:n.top*r+a.y},lightSourceIndex:e,directionalLightAngleAround:t.directionalLightAngleAround,lightColor:t.lightColor,isActive:i===e,key:"light-".concat(e),label:t.label,isVisible:t.isOn}}var BE=(0,kn.Mz)([sr.xm,sr.ZR,sr.gm,jw.$,$n.Lp],(function(e,t,n,r,o){return ME(0,e,r,o,t,n)})),OE=(0,kn.Mz)([sr.E0,sr.ZR,sr.gm,jw.$,$n.Lp],(function(e,t,n,r,o){return ME(1,e,r,o,t,n)})),FE=(0,kn.Mz)([sr.xX,sr.ZR,sr.gm,jw.$,$n.Lp],(function(e,t,n,r,o){return ME(2,e,r,o,t,n)})),DE=(0,kn.Mz)([jw.$,$n.Lp],(function(e,t){return{left:e.left*t,top:e.top*t,width:e.width*t,height:e.height*t}})),NE={onPointerMoveForLight:Xt.rx,onPointerMoveForLightTarget:Xt.Oc,setMovementSource:Xt.DK,onKeyboardMoveForLight:Xt.r5,onKeyboardMoveForLightTarget:Xt.iC,setAriaAnnouncement:Je.f9},UE=(0,ge.Ng)((function(e){var t=(0,sr.cC)(e)&&(0,sr.IO)(e)&&(0,sr.My)(e),n=BE(e),r=OE(e),o=FE(e),i=t&&(n.isVisible||r.isVisible||o.isVisible);return{light0:n,light1:r,light2:o,cssToPhysicalPixelRatio:e.transformTools.device.pixelRatio,cropRectanglePhysicalPixelArea:DE(e),normalizedLightTarget:e.relight.normalizedLightTarget,isLightTargetVisible:i,areLightsVisible:t}}),NE)(RE),zE=(0,sb.J9)((function(e,t){return(0,r.TW)({root:[(0,r.gm)(e,{inset:1,highContrastStyle:{outlineOffset:"-4px",outline:"1px solid Window"},borderColor:"transparent"}),{height:24}]},t)})),jE=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,U.C6)(n,t),n.prototype.render=function(){var t=this.props,n=t.styles,r=t.theme;return e.createElement(Xb.Y,(0,U.Cl)({},this.props,{styles:zE(r,n),onRenderDescription:ib.K}))},n=(0,U.Cg)([(0,ab.T)("MessageBarButton",["theme","styles"],!0)],n)}(e.Component),VE=e.memo((function(t){var n,r=t.normalMappingStatus,o=t.setShouldCreateNormalMapIfMissing,i=t.styles,a=t.editorActivity,s=(0,I.D)(),l=(0,e.useContext)(ke.x).strings,u=(0,e.useContext)(ve.b).logRelightRegenerateLightingEvent,c=(0,e.useState)(!0),d=c[0],p=c[1],f=(0,e.useState)(null),h=f[0],m=f[1],g=(0,e.useCallback)((function(){p(!1),u({editorActivity:a,regenerate:"Dismissed"})}),[u,a]),v=(0,e.useCallback)((function(){p(!1),o(!0),u({editorActivity:a,regenerate:"Regenerated"})}),[a,u,o]),y="removed"===r;return(0,e.useEffect)((function(){if(y){var e={id:"regenerateRequiredMessage",title:l.relight_disabledNeedsRegeneratingTitle,message:l.relight_disabledNeedsRegeneratingMessage,messageType:$k.H.warning,iconName:"ImportantBadgeIcon-Havana",dismissButtonAriaLabel:l.notification_dismissButtonAriaLabel,renderTitleBlock:!0,customStyles:void 0,timeOrder:(0,Ic.b)()};m(e),p(!0)}else m(null),p(!1)}),[l.notification_dismissButtonAriaLabel,l.relight_disabledNeedsRegeneratingMessage,l.relight_disabledNeedsRegeneratingTitle,y]),e.createElement(e.Fragment,null,d&&h&&e.createElement("div",{style:i.containerStyles},e.createElement(Jk.n,{dismissButtonAriaLabel:"Close",styles:null===(n=null===i||void 0===i?void 0:i.messageBarStyles)||void 0===n?void 0:n.call(i,{theme:s}),messageBarType:eT.H.warning,isMultiline:!0,onDismiss:g},e.createElement("span",{style:i.titleStyles},h.title),h.message,"\xa0\xa0",e.createElement(jE,{onClick:v,ariaLabel:l.relight_regenerateButtonAriaLabel,title:l.relight_regenerateButtonTooltip,styles:null===i||void 0===i?void 0:i.buttonStyles},l.relight_regenerateButton))))})),WE={setShouldCreateNormalMapIfMissing:Xt.Un},HE=(0,ge.Ng)((function(e){return{normalMappingStatus:e.relight.normalMappingStatus,editorActivity:e.uiState.activeEditorActivity}}),WE)(VE),qE=n(15361),KE=n(21340),GE=n(79648);var ZE=n(68379),XE=n(70144),YE=(0,e.memo)((function(t){var n=t.imageSizeInPixels,r=t.imageIsLoaded,o=t.texturePatchInfos,i=t.allTexturePatchRequests,a=t.removedPendingTexturePatchRequests,s=t.activeOperationUiMode,l=t.requestTexturePatch,u=t.removePendingTexturePatch,c=t.setActiveOperationUiMode,d=t.normalMappingStatus,p=t.setNormalMappingStatus,f=t.addUserFacingMessage,h=t.removeUserFacingMessage,m=t.activeEditorActivity,g=(0,e.useContext)(ke.x).strings,v=(0,Dr.Y)();return(0,KE.Q)(v,n,r,l,o,i,u,a,s,c,p,"normalMap","normalMap",{}),function(){var t=(0,lv.V)("normalMap").id,n=(0,e.useContext)(ke.x).strings,r=(0,e.useCallback)((function(e){var t=(0,Ic.b)();return{id:(0,uE.Y)("normalMapFailed",t),title:"",message:e instanceof RangeError?n.relight_normalMapFailedRangeError:n.relight_normalMapFailed,messageType:$k.H.error,dismissButtonAriaLabel:n.relight_normalMapFailedDismissButtonAriaLabel,timeOrder:t}}),[n]);(0,GE.h)(t,r)}(),(0,XE.l)(s===qE.V.InitializationStarted,"normalMapStartedMessage",g.relight_normalMapProcessing,g.relight_normalMapProcessingDismissButtonAriaLabel,$k.H.info,f,h),(0,XE.l)(s===qE.V.InitializationFinished&&"processed"===d,"normalMapRetrievedMessage",m===un.io?g.relight_normalMapCompleted:g.relight_normalMapRegenerationCompleted,g.relight_normalMapCompletedDismissButtonAriaLabel,$k.H.success,f,h),(0,ZE.T)(s,d,Je.f9,g.relight_ariaAnnounceNormalMapProcessing,g.relight_ariaAnnounceNormalMapSucceeded,g.relight_ariaAnnounceNormalMapFailed),null})),QE={requestTexturePatch:et.F6,removePendingTexturePatch:Mt.F3,addUserFacingMessage:Qe.us,removeUserFacingMessage:Qe.xl,setAriaAnnouncement:Je.f9,setNormalMappingStatus:Xt.e8,setActiveOperationUiMode:Xt.nk},JE=(0,ge.Ng)((function(e){return{texturePatchInfos:e.texturePatch.texturePatchInfos,allTexturePatchRequests:(0,Lr.N)(e),imageSizeInPixels:(0,Ar.E)(e),imageIsLoaded:(0,$n.L1)(e),removedPendingTexturePatchRequests:e.texturePatch.removedPendingTexturePatchRequests,activeOperationUiMode:e.relight.relightUiMode,normalMappingStatus:e.relight.normalMappingStatus,activeEditorActivity:e.uiState.activeEditorActivity}}),QE)(YE),$E=(0,e.memo)((function(t){var n=t.removeTexturePatchesFromLayer,r=t.texturePatchInfos,o=t.mainLayerContentHash,i=(0,e.useRef)(!0),a=(0,e.useContext)(Hr.F).getAlgorithmForRole("normalMap"),s=null===a||void 0===a?void 0:a.getDefaultParams(),l=null===s||void 0===s?void 0:s.serializedParams,u=(0,e.useMemo)((function(){return 0!==r.filter((function(e){return(0,Bn.n)(e.algorithmParameters.layerToPatch,"normalMap")})).length}),[r]);return(0,e.useEffect)((function(){i.current?i.current=!1:u&&n({layer:"normalMap"})}),[n,u,l,o]),null})),eP={removeTexturePatchesFromLayer:et.Hm},tP=(0,ge.Ng)((function(e){return{texturePatchInfos:e.texturePatch.texturePatchInfos,mainLayerContentHash:Xc(e,"main")}}),eP)($E),nP=(0,e.memo)((function(t){var n=t.shouldCreateNormalMapIfMissing,r=t.normalMapWasGenerated;return e.createElement(e.Fragment,null,n&&e.createElement(JE,null),r&&e.createElement(tP,null))})),rP=(0,ge.Ng)((function(e){return{shouldCreateNormalMapIfMissing:e.relight.shouldCreateNormalMapIfMissing,normalMapWasGenerated:(0,sr.G8)(e)}}))(nP),oP=".".concat(cb._.msButtonIcon),iP=function(e){var t,n=e.theme,r=(0,bb.g)(n);return{root:{borderRadius:"4px",backgroundColor:r?"#433519":void 0,color:n.semanticColors.bodyText,padding:"0px 3px","@media screen and (forced-colors: active) and (prefers-color-scheme: light)":{color:"windowText",backgroundColor:"window"},"@media screen and (forced-colors: active) and (prefers-color-scheme: dark)":{color:"window",backgroundColor:"windowText"}},text:{fontSize:"14px",margin:"8px 0px",marginInlineStart:"8px"},content:{alignItems:"center"},icon:{color:r?"#fce100":"#433519","@media screen and (forced-colors: active) and (prefers-color-scheme: light)":{color:"windowText"},"@media screen and (forced-colors: active) and (prefers-color-scheme: dark)":{color:"window"}},dismissal:(t={},t[oP]={color:n.palette.black},t)}};function aP(e,t){var n=(0,bb.g)(e);return{containerStyles:{position:"absolute",left:"50%",top:t,transform:"translate(-50%, 0)",zIndex:300,minWidth:"350px"},messageBarStyles:iP,titleStyles:{marginRight:"5px"},buttonStyles:{root:{height:"30px",padding:"0px 7px",margin:"5px 0px",borderRadius:"4px",color:e.palette.black,backgroundColor:n?"#4e4127":void 0,border:n?"none":void 0},label:{fontWeight:"400",lineHeight:"12px",textAlign:"center",wordBreak:"break-word",wordWrap:"break-word",margin:"0 8px"}}}}const sP={...Qk("Bottom"),[un.x8]:{top:42,left:42,right:42,bottom:162},[un.X4]:{...(0,Yy.aW)(0),bottom:78}};function lP(){}const uP=(t,n)=>{const{componentSize:r,onSave:o,onClose:i,isCancelVisible:a,pivotItems:s,onEditsChanged:l,onUiStateChanged:u,cssToPhysicalPixelRatio:c,actionsStackStyles:d,localization:p,fileFormatSupportsTransparency:f}=t,h=(0,I.D)(),{editOperationsRef:m,editUiStateRef:g,editViewingRef:v}=Ms(n),{image:y,setOffscreenRenderer:b,setImageLayer:x}=(0,e.useContext)(lo.Z),{enableAutoEnhance:_,enableAIRelight:C}=(0,e.useContext)(Wr.u),[w,S]=(0,e.useState)(!1),[k,T]=(0,e.useState)(!1),E=r.width<=1030,P=(0,e.useMemo)((()=>function(e){return{slider:rk(e),primaryButton:kb(e),defaultButton:_x(e),dialog:s_(e),textCallout:{calloutMain:uk(e),calloutDismissButton:kb(e)}}}(h)),[h]),A=(0,e.useMemo)((()=>function(e){return{borderLeft:"none",backgroundColor:lx(e.palette.neutralLighter,.5),borderRadius:"7px",boxSizing:"border-box",width:"390px",overflowY:"auto",position:"relative"}}(h)),[h]),R=function(t,n){const{hvcEvents:r}=dT(),o=(0,e.useRef)();return pT((0,e.useCallback)((async e=>{try{if("imageForFaceDetection"===e.additionalData.type){var t;const o=e.getBuffer(),i=await(null===n||void 0===n||null===(t=n.current)||void 0===t?void 0:t.getEditedImageBytes());i?(new Uint8ClampedArray(o).set(i.bytes),r.notifyOnFaceDetectionImageReady(i.width,i.height)):r.notifyOnError("faceDetectionError","getEditedImageBytes failed")}}catch(o){o instanceof RangeError?r.notifyOnError("outOfMemoryError",`useTriggerAIProcessingIfNeeded failed: ${o}`):r.notifyOnError("faceDetectionError",`onSharedBufferReceived failed: ${o}`)}}),[r,n])),(0,e.useCallback)((async()=>{var e,i;const a=null===(e=t.current)||void 0===e||null===(i=e.getUiState())||void 0===i?void 0:i.activeEditorActivity;if(o.current!==a)if(o.current=a,"Retouch"===a)r.notifyOnLoadModelRequested("MagicErase");else if("Stylizer"===a){var s;r.notifyOnLoadModelRequested("SDSketchToImage"),r.notifyOnLoadModelRequested("MagicErase");const e=await(null===n||void 0===n||null===(s=n.current)||void 0===s?void 0:s.getEdits(!1));if(e){const{width:t,height:n}=e.transforms.cropRectangle;r.notifyOnFaceDetectionRequested(t*n*(0,Ts.x)(js.A.RGBA))}}}),[t,r,n])}(g,n||null),L=function(t){const{hvcEvents:n}=dT(),r=(0,e.useRef)();return(0,e.useCallback)((()=>{var e,o;const i=null===(e=t.current)||void 0===e||null===(o=e.getUiState())||void 0===o?void 0:o.activeEditorActivity;r.current!==i&&(r.current=i,n.notifyOnEditorActivityChanged(i))}),[n,t])}(g);(0,e.useLayoutEffect)((()=>{T(r.width<750)}),[r.width]),lT(o);const M=function(){const{hvcEvents:t}=dT();return(0,e.useCallback)((()=>{t.notifyOnUserFeedbackRequested()}),[t])}(),[B,O]=(0,e.useState)(null),F=(0,Qy.K)(B).height,D=(0,e.useMemo)((()=>`calc(100% - ${F}px)`),[F]),N=null===B||void 0===B?void 0:B.getBoundingClientRect().bottom,U=(0,e.useMemo)((()=>aP(h,k&&N?N+10:10)),[h,N,k]);return(0,Uy.jsxs)("div",{className:Jy,children:[(0,Uy.jsxs)("div",{role:"navigation",style:{backgroundColor:h.palette.neutralLighterAlt},ref:O,children:[s.length>1&&(0,Uy.jsx)(p_,{componentSize:r,localization:p,onSave:o,onClose:i,isCancelVisible:a,setShowPivotControlText:S,fileFormatSupportsTransparency:f,setIsExportOptionsDropdownMenuOpen:lP,pivotItemsCount:s.length,controlPivot:(0,Uy.jsx)(Uy.Fragment,{children:(0,Uy.jsx)(E_,{pivotItems:s,styles:tk(h,w),showHeaderText:w})})}),s.length<=1&&(0,Uy.jsx)(p_,{componentSize:r,localization:p,onSave:o,onClose:i,isCancelVisible:a,setShowPivotControlText:S,fileFormatSupportsTransparency:f,setIsExportOptionsDropdownMenuOpen:lP,pivotItemsCount:s.length})]}),(0,Uy.jsxs)("div",{className:$y,style:{backgroundColor:h.palette.neutralLighterAlt,height:D},children:[(0,Uy.jsxs)("div",{className:eb,role:"main",children:[(0,Uy.jsxs)(bk,{children:[(0,Uy.jsx)(O_,{canvasSize:r,cssToPhysicalPixelRatio:c,children:(0,Uy.jsxs)(zd,{children:[(0,Uy.jsxs)(rc,{match:un.x8,children:[(0,Uy.jsx)(sc,{handleSizeCss:Av.US,handleHitAreaSizeCss:Av.Oc}),(0,Uy.jsx)(Oh,{})]}),(0,Uy.jsx)(cu,{image:y,color:qs.Wf,zIndex:1,setImageLayer:x,disableTexturePatchIndexedDbStorage:!0,children:(0,Uy.jsxs)($d,{children:[(0,Uy.jsx)(zp,{ref:b}),(0,Uy.jsx)(Iv,{})]})}),(0,Uy.jsxs)(rc,{match:un.VO,children:[(0,Uy.jsx)(of,{}),(0,Uy.jsx)(ih,{}),(0,Uy.jsx)(Qf,{}),(0,Uy.jsx)(yy,{})]}),(0,Uy.jsxs)(rc,{match:[un.NF,un.Nr,un.ts],children:[(0,Uy.jsx)(ih,{}),(0,Uy.jsx)(Gf,{}),(0,Uy.jsx)(of,{})]}),(0,Uy.jsxs)(rc,{match:[un.Nr,un.ts],children:[(0,Uy.jsx)(yf,{}),(0,Uy.jsx)(sf,{}),(0,Uy.jsx)(Mv,{}),(0,Uy.jsx)(yy,{})]}),(0,Uy.jsxs)(rc,{match:[un.VQ],children:[(0,Uy.jsx)(zv,{}),(0,Uy.jsx)(yy,{}),(0,Uy.jsx)(Xv,{zIndex:3}),(0,Uy.jsx)(py,{zIndex:4}),(0,Uy.jsx)(gy,{zIndex:4})]}),(0,Uy.jsxs)(rc,{match:un.io,children:[(0,Uy.jsx)(yy,{}),(0,Uy.jsx)(UE,{})]}),(0,Uy.jsx)(oc,{showGapBetweenToolbarAndStylePicker:!0,stylePickerPopUpPositionSource:E?"MarkupToolbarContainer":"SelectedInkBrushButton"}),(0,Uy.jsx)(Kd,{}),(0,Uy.jsx)($c,{})]})}),(0,Uy.jsxs)(rc,{match:[un.km,un.Zc,un.io],children:[(0,Uy.jsx)(tC,{}),(0,Uy.jsx)(rC,{})]}),(0,Uy.jsxs)(rc,{match:un.x8,children:[(0,Uy.jsx)(Z_,{}),(0,Uy.jsx)(Uw,{desktopTransformToolsActionStackStyles:d}),(0,Uy.jsx)(Gw,{}),(0,Uy.jsx)(Xw,{})]}),(0,Uy.jsx)(rc,{match:un.VQ,children:(0,Uy.jsx)(ST,{})}),(0,Uy.jsx)(rc,{match:un.VO,children:(0,Uy.jsx)(Fk,{})}),(0,Uy.jsx)(rc,{match:[un.NF,un.Nr,un.ts],children:(0,Uy.jsx)(Uk,{})})]}),!k&&(0,Uy.jsxs)(Uy.Fragment,{children:[(0,Uy.jsx)(HE,{styles:U}),(0,Uy.jsx)(iT,{styles:sT})]})]}),(0,Uy.jsx)(rc,{match:un.km,children:(0,Uy.jsx)("div",{style:A,children:(0,Uy.jsx)(CS,{styles:ok(h)})})}),(0,Uy.jsx)(rc,{match:un.Zc,children:(0,Uy.jsx)("div",{style:A,children:(0,Uy.jsx)(HS,{styles:ak(h),children:_&&(0,Uy.jsx)(QS,{styles:dk(h)})})})}),(0,Uy.jsx)(rc,{match:un.VO,children:(0,Uy.jsx)("div",{style:A,children:(0,Uy.jsx)(Ck,{styles:ik(h),spotFixControlPanelStyles:sk(h),isCalloutEnabled:!0,onUserFeedbackRequested:M})})}),(0,Uy.jsx)(rc,{match:un.NF,children:(0,Uy.jsx)("div",{style:A,children:(0,Uy.jsx)(Vk,{styles:P})})}),C&&(0,Uy.jsx)(rP,{}),(0,Uy.jsx)(rc,{match:un.io,children:(0,Uy.jsx)("div",{style:A,children:(0,Uy.jsx)(qk,{onUserFeedbackRequested:M,styles:Zk(h)})})}),(0,Uy.jsx)(rc,{match:un.ts,children:(0,Uy.jsx)("div",{style:A,children:(0,Uy.jsx)(mT,{onUserFeedbackRequested:M})})}),(0,Uy.jsxs)(rc,{match:un.VQ,children:[(0,Uy.jsx)("div",{style:A,children:(0,Uy.jsx)(oE,{onUserFeedbackRequested:M})}),(0,Uy.jsx)(fE,{}),(0,Uy.jsx)(lE,{})]})]}),k&&(0,Uy.jsxs)(Uy.Fragment,{children:[(0,Uy.jsx)(HE,{styles:U}),(0,Uy.jsx)(iT,{styles:sT})]}),(0,Uy.jsx)(ns,{ref:m,onEditsChanged:l}),(0,Uy.jsx)(ss,{ref:g,onUiStateChanged:(0,e.useCallback)((()=>{null===u||void 0===u||u(),R(),L()}),[L,u,R])}),(0,Uy.jsx)(ek,{cssPixelMarginByActivity:sP}),(0,Uy.jsx)(ks,{ref:v})]})},cP=(0,e.memo)((0,e.forwardRef)(uP));var dP=n(97576),pP=(0,dP.a)({palette:{themePrimary:"#2899f5",themeLighterAlt:"#02060a",themeLighter:"#092c47",themeLight:"#043862",themeTertiary:"#004c87",themeSecondary:"#007bd4",themeDarkAlt:"#3aa0f3",themeDark:"#6cb8f6",themeDarker:"#82c7ff",neutralLighterAlt:"#1b1a19",neutralLighter:"#252423",neutralLight:"#292827",neutralQuaternaryAlt:"#323130",neutralQuaternary:"#3b3a39",neutralTertiaryAlt:"#484644",neutralTertiary:"#797775",neutralSecondary:"#a19f9d",neutralPrimaryAlt:"#c8c6c4",neutralPrimary:"#f3f2f1",neutralDark:"#faf9f8",black:"#ffffff",white:"#000000"}}),fP=(0,dP.a)({}),hP={flexBasis:"100%",margin:"10px 0px",padding:"0px 16px"},mP=n(39814);function gP(e){return{borderTop:"1px solid ".concat(e.palette.neutralTertiaryAlt),paddingTop:"8px"}}var vP=function(){return vP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vP.apply(this,arguments)};var yP=function(){return yP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yP.apply(this,arguments)};function bP(e,t){switch(t){case"Left":return(0,zb.h)(xP(e),_P);case"Right":return(0,zb.h)(xP(e),wP);case"Bottom":return function(e){return{inkStylePicker:{strokeShapePickerStyles:{container:yP({},gP(e)),iconLabelButton:{root:{marginTop:"8px"}}}}}}(e);case"Inline":return function(e){return{markupToolbarPosition:"Inline",inkStylePicker:{strokeShapePickerStyles:{container:vP(vP({},gP(e)),{borderTop:"unset",justifyContent:"flex-start"}),iconLabelButton:{root:{marginTop:"8px"}}},inkColorPickerStyles:{container:{marginLeft:"unset"},colorPicker:{root:{marginLeft:-8}}},strokePreviewStyles:{margin:"16px 0 0"},containerStyles:{width:"100%",marginTop:16,padding:"0px 16px"},getContentWrapperStyle:function(){return{height:"inherit",display:"inherit",padding:0,boxShadow:"unset"}}},canvasContainer:{background:"inherit",transform:"inherit",bottom:"inherit",left:"inherit",position:"inherit"}}}(e);default:throw new to.x(t)}}function xP(e){return{inkStylePicker:{inkColorPickerStyles:{container:{marginLeft:"-8px",marginRight:"-8px"}},containerStyles:{width:"176px"},getContentWrapperStyle:SP,strokeShapePickerStyles:{container:yP(yP({},gP(e)),{justifyContent:"flex-start",columnGap:"8px"}),iconLabelButton:{root:{marginTop:"8px"}}}},canvasContainer:{top:"50%",bottom:"inherit",transform:"translateY(-50%)"},container:{padding:"8px 0",borderRadius:"8px"},inkToolsContainer:{flexDirection:"column",width:"56px"}}}var _P={markupToolbarPosition:"Left",canvasContainer:{left:"0",right:"inherit",marginLeft:"24px",marginRight:"inherit"},markupToolbarButton:{root:{transform:"rotate(90deg)"}}},CP={root:{left:mP.$7}},wP={markupToolbarPosition:"Right",canvasContainer:{left:"inherit",right:"0",marginLeft:"inherit",marginRight:"24px"},markupToolbarButton:{root:{transform:"rotate(270deg)"}},markupToolbarArrowIconStyle:{singleArrow:CP,doubleArrow:CP}};function SP(e,t){return void 0===t&&(t=!1),{minHeight:"260px",height:e?"auto":t?"280px":"320px",padding:"0px 10px"}}var kP=(0,e.memo)((function(t){var n=t.onSave,o=t.styles,i=t.onRenderSaveMenu,a=t.isCopyToClipboardVisible,s=void 0!==a&&a,l=(0,e.useContext)(ke.x).strings,u=(0,I.D)(),c=(0,e.useContext)(qr).notifyPreSaveListeners,d=Ix(n),p=d.onSaveOriginal,f=d.onSaveAsCopy,h=d.onCopyToClipboard,m=(0,e.useMemo)((function(){return(0,r.TW)(function(e){return{root:xb(xb({},Cb(e)),{margin:"0px 4px"}),rootDisabled:{backgroundColor:e.palette.neutralQuaternaryAlt,color:e.palette.neutralTertiary},rootHovered:Cb(e),rootPressed:Cb(e),rootExpanded:Cb(e)}}(u),o)}),[u,o]),g=(0,e.useContext)(vr),v=!g.has(mr.SaveAsOriginal),y=!g.has(mr.SaveAs),b=!g.has(mr.CopyToClipboard),x=(0,e.useCallback)((function(e){c(mr.SaveAsOriginal).then((function(){p(e)})).catch((function(){throw new Error("unable to notify listeners")}))}),[c,p]),_=(0,e.useCallback)((function(e){c(mr.SaveAs).then((function(){f(e)})).catch((function(){throw new Error("unable to notify listeners")}))}),[c,f]),C=(0,e.useCallback)((function(e){h&&c(mr.CopyToClipboard).then((function(){h(e,"ContextMenu")})).catch((function(){throw new Error("unable to notify listeners")}))}),[c,h]),w=[{key:mr.SaveAsOriginal,text:l.toolbar_imageSave,ariaLabel:l.toolbar_imageSaveAriaLabel,title:l.toolbar_imageSaveTooltip,iconProps:{iconName:"Save"},onClick:x,disabled:v},{key:mr.SaveAs,text:l.toolbar_imageSaveAsCopy,ariaLabel:l.toolbar_imageSaveAsCopyAriaLabel,title:l.toolbar_imageSaveAsCopyTooltip,iconProps:{iconName:"SaveAs"},onClick:_,disabled:y}];s&&w.push({key:mr.CopyToClipboard,text:l.toolbar_imageCopyToClipboard,ariaLabel:l.toolbar_imageCopyToClipboardAriaLabel,title:l.toolbar_imageCopyToClipboardTooltip,iconProps:{iconName:"Copy"},onClick:C,disabled:b});var S={items:w};return i?i({onSave:n,saveMenuItems:w,enabledSaveTypes:g,primaryButtonStyles:m}):e.createElement(Wx.j,{text:l.toolbar_imageSaveMenu,title:l.toolbar_imageSaveMenuTooltip,styles:m,menuTriggerKeyCode:Ax.c.down,"data-test-id":"save_menu",menuProps:S,disabled:v&&y,allowDisabledFocus:!0})})),TP=function(){return TP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},TP.apply(this,arguments)};var EP=function(){return EP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},EP.apply(this,arguments)},PP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},IP=e.memo((function(t){var n=t.componentSize,r=t.customItems,o=t.onSave,i=t.onRenderSaveMenu,a=t.onCancel,s=t.controlPivot,l=t.resetButtonStyles,u=t.confirmationDialogStyles,c=t.isCopyToClipboardVisible,d=void 0!==c&&c,p=(0,e.useState)(null),f=p[0],h=p[1],m=(0,e.useState)(tb.Large),g=m[0],v=m[1],y=(0,I.D)(),b=(0,nb.jI)(y),x=(0,e.useContext)(Wr.u).enableUndoRedo;return(0,e.useLayoutEffect)((function(){f&&(f.clientWidth>1024?v(tb.Large):f.clientWidth>894?v(tb.Medium):v(tb.Small))}),[f,n]),e.createElement("div",{ref:h},e.createElement(fb.B,{className:hb,horizontal:!0,styles:{root:{backgroundColor:y.palette.neutralLighter,borderBottom:"".concat(y.palette.neutralQuaternary," solid 1px")}}},e.createElement(fb.B.Item,{className:mb,grow:!s},e.createElement(kP,{onSave:o,onRenderSaveMenu:i,isCopyToClipboardVisible:d}),e.createElement(Db,{styles:{padding:b?"0 16px 0 8px":"0 8px 0 16px",color:y.palette.neutralTertiary}}),e.createElement(Zb,{stackResponseMode:g,resetButtonStyles:l,confirmationDialogStyles:u}),x&&e.createElement(Px,null),null===r||void 0===r?void 0:r.map((function(t){var n,r,o=t.key,i=t.iconProps,a=PP(t,["key","iconProps"]);return e.createElement(pb,EP({key:o},a,{iconProps:(n=_b(y),r=i,TP(TP({},r),{styles:TP(TP({},n),null===r||void 0===r?void 0:r.styles)}))}))}))),s&&e.createElement(fb.B.Item,{grow:!0,disableShrink:!0,className:gb},s),e.createElement(fb.B.Item,{className:vb,grow:!s},e.createElement($b,{styles:{container:{width:"auto",padding:"0px 4px"}}}),e.createElement(Ab,{stackResponseMode:g}),e.createElement(Yb,{onCancel:a,iconProps:{iconName:"cancel"}}))))}));function AP(e){return{count:{},icon:{color:e.palette.themePrimary,svg:{width:"1em",height:"1em",fill:"currentcolor"},i:{height:"100%",display:"flex",alignItems:"center"},fontSize:"16px"},link:{height:"34px",lineHeight:"34px","&:hover":{backgroundColor:e.palette.neutralLight},"&:active":{backgroundColor:e.palette.neutralQuaternaryAlt}},linkContent:{height:"100%",display:"flex"},linkIsSelected:{height:"34px",lineHeight:"34px","&:hover":{backgroundColor:e.palette.neutralLight},color:e.palette.neutralPrimary},root:{"button:hover i":{color:e.palette.themeDarkAlt},display:"flex"},text:{marginInlineStart:"4px"},linkInMenu:{},overflowMenuButton:{}}}IP.displayName="EditorCommandBar",(0,Cu.hN)([{rawString:".right_pane_15995deb{width:390px;overflow-y:auto;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.right_pane_15995deb::-webkit-scrollbar{display:none}"}]);const RP="right_pane_15995deb";var LP=function(){return LP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},LP.apply(this,arguments)},MP=(0,e.memo)((function(t){var n=t.theme,r=t.styles,o=t.className,i=t.children,a=(0,nb.jI)(n),s="".concat(n.palette.neutralQuaternary," 1px solid"),l={backgroundColor:n.palette.neutralLighterAlt,borderLeft:a?void 0:s,borderRight:a?s:void 0},u=LP(LP({},l),r);return e.createElement("div",{className:RP+" ".concat(o),style:u},i)}));(0,Cu.hN)([{rawString:".sectionHeader_24eccdd1{font-size:16px;font-weight:500;line-height:42px;margin:25px 0 6px 0}.mainSection_24eccdd1{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:8px}.eraserSection_24eccdd1{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.textSection_24eccdd1{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:8px 16px}"}]);const BP="sectionHeader_24eccdd1",OP="mainSection_24eccdd1",FP="eraserSection_24eccdd1",DP="textSection_24eccdd1";var NP=n(84473),UP=n(72247),zP={body:{display:"flex",flexDirection:"column"},container:{width:"100%"}},jP={display:"flex"};function VP(e){return{root:{border:"none",backgroundColor:e.semanticColors.primaryButtonTextDisabled,borderRadius:3,height:40},rootHovered:{backgroundColor:e.semanticColors.primaryButtonTextDisabled},textContainer:{flexGrow:"unset"},icon:{marginRight:32}}}var WP={addMarkupContent:vt.FS},HP=(0,ge.Ng)((function(e){return{imageViewTransform:(0,Ks.h)(e)}}),WP)((function(t){var n=t.addMarkupContent,r=t.imageViewTransform,o=(0,e.useContext)(gn.O_).localizationStrings,i=(0,I.D)();return e.createElement(Xb.Y,{ariaLabel:"",text:"Add text",styles:VP(i),iconProps:{iconName:"InsertTextBox"},onClick:function(){n({text:o.markup_textboxDefaultContent,contentType:Lu.A.TextContent,invertedPhysicalImageTransformDuringContentSerialization:(0,Vn.eE)(r),initialPosition:{positionType:"CenteredOnCanvas"}})}})})),qP=n(44012);function KP(e,t,n,r){var o,i,a=Object.keys(t);if(0===a.length)return null;var s=+a[0],l=t[+s].selectionStart,u=(null===(i=null===(o=null===e||void 0===e?void 0:e[s])||void 0===o?void 0:o[l])||void 0===i?void 0:i[n])||r,c=a.every((function(o){var i,a,c,d,p=t[+o],f=p.selectionStart,h=p.selectionEnd;f===h&&(u=(null===(a=null===(i=null===e||void 0===e?void 0:e[s])||void 0===i?void 0:i[l-1])||void 0===a?void 0:a[n])||r);for(var m=f;m<h;m++){if(((null===(d=null===(c=null===e||void 0===e?void 0:e[+o])||void 0===c?void 0:c[m])||void 0===d?void 0:d[n])||r)!==u)return!1}return!0}));return c?u:null}var GP=n(97497),ZP=function(e){return{root:{height:40,backgroundColor:e.semanticColors.primaryButtonTextDisabled,"&::after":{border:"none"}},container:{lineHeight:32},input:{backgroundColor:e.semanticColors.primaryButtonTextDisabled}}},XP=function(e){return{rootPressed:{backgroundColor:e.semanticColors.primaryButtonTextDisabled},rootHovered:{backgroundColor:e.semanticColors.primaryButtonTextDisabled}}},YP={root:{margin:0},container:{alignItems:"baseline"}};var QP=function(){return QP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},QP.apply(this,arguments)},JP=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},$P=[12,24,36,48,60,72,84];function eI(e){return{key:e,text:"".concat(e)}}var tI=function(t){var n=t.fontSize,o=void 0===n?48:n,i=t.onChange,a=t.disabled,s=t.text,l=(0,I.D)(),u=(0,e.useContext)(gn.O_).localizationStrings,c=(0,e.useMemo)((function(){return $P.map((function(e){return eI(e)}))}),[]),d=(0,e.useState)(void 0),p=d[0],f=d[1],h=(0,e.useState)(c),m=h[0],g=h[1],v=(0,e.useRef)(null),y=(0,r.Zq)(function(e){return{color:e.semanticColors.errorText,fontSize:e.fonts.small.fontSize}}(l)),b=(0,e.useCallback)((function(e,t){p||(f(void 0),(null===t||void 0===t?void 0:t.text)&&(null===i||void 0===i||i(+t.text)))}),[i,p]),x=(0,e.useCallback)((function(e){e&&((0,ep.F)(+e)?f(+e<1||+e>1e3?(0,Li.J)(u.markup_textBoxInvalidInputRangeErrorMessage,1..toString(),1e3.toString()):void 0):f(u.markup_textBoxInvalidInputTypeErrorMessage))}),[u]);(0,e.useEffect)((function(){var e=eI(o);if(!m.find((function(t){return t.key===e.key}))){var t=QP(QP({},e),{styles:{root:{display:"none"}}});g(JP(JP([],c,!0),[t],!1))}}),[o,m,g,c]),(0,e.useEffect)((function(){var e,t,n=null===(e=null===v||void 0===v?void 0:v.current)||void 0===e?void 0:e._autofill.current;function r(e){"Enter"===e.key&&b(void 0,eI(+((null===n||void 0===n?void 0:n.value)||48)))}return null===(t=null===n||void 0===n?void 0:n.inputElement)||void 0===t||t.addEventListener("keydown",r),function(){var e;null===(e=null===n||void 0===n?void 0:n.inputElement)||void 0===e||e.removeEventListener("keydown",r)}}),[v,b,o]);var _=(0,e.useCallback)((function(e){x(null===e||void 0===e?void 0:e.text)}),[x]);return e.createElement(e.Fragment,null,e.createElement(qP.X,{label:"Size",iconName:"FontSize"}),e.createElement(GP.a,{styles:ZP(l),disabled:a,allowFreeform:!0,autoComplete:"off",selectedKey:o,options:m,caretDownButtonStyles:XP(l),dropdownWidth:100,onChange:b,componentRef:v,onInputValueChange:x,text:a?"":s,onPendingValueChanged:_}),p&&e.createElement("div",{className:y},p))},nI=n(59338),rI=n(6572),oI=n(78499),iI=n(69977),aI={root:{width:"100%"},focusedContainer:{marginLeft:"-6px"},tableCell:{padding:0}};function sI(e){return{padding:0,opacity:e?"0.3":"unset"}}var lI=function(){return lI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lI.apply(this,arguments)},uI=function(t){var n=t.selectedId,o=t.disabled,i=(0,I.D)(),a=function(t){var a=t.id===n&&!o,s=(0,iI.Kc)(i),l=s.colorCellSVG,u=s.colorCellSVGCircle,c=s.colorCellSize,d=s.colorCellSVGRadius,p=s.colorCellSelected;return e.createElement("svg",{className:(0,r.Zq)(l,a&&p),width:c,height:c,viewBox:"0 0 ".concat(c," ").concat(c),fill:t.color},e.createElement("circle",{className:(0,r.Zq)(u),cx:"50%",cy:"50%",r:d}))};return e.createElement(rI.G,lI({},t,{onRenderColorCell:function(t,n){var i=null===n||void 0===n?void 0:n(t);return i?e.createElement(oI.D,lI({},i.props,{onRenderItem:a,className:(0,r.Zq)(sI(o))})):null},styles:aI}))},cI=function(t){var n=t.onTextColorChange,r=t.onBackgroundColorChange,o=t.disabled,i=t.colors,a=t.textColorId,s=t.backgroundColorId,l=t.defaultBackgroundColorId,u=void 0!==s,c=(0,e.useMemo)((function(){var e;return null===(e=i.find((function(e){return e.id===l})))||void 0===e?void 0:e.color}),[i,l]);return e.createElement(e.Fragment,null,e.createElement(qP.X,{label:"Color",iconName:"CircleFill"}),e.createElement(uI,{disabled:o,selectedId:a,columnCount:8,colorCells:i,onChange:function(e,t,r){return n(r)}}),e.createElement(qP.X,{label:"Background color",iconName:"BackgroundColor"},e.createElement(nI.l,{disabled:o,styles:YP,onText:"On",offText:"Off",checked:u,onChange:function(){r(u?"transparent":c)}})),u&&e.createElement(uI,{disabled:o,selectedId:s,columnCount:8,colorCells:i,onChange:function(e,t,n){return r(n)}}))},dI=n(3936),pI=n(76755);function fI(e,t){return{title:{color:e.palette.neutralDark,lineHeight:40,height:40,border:"unset",backgroundColor:t?e.semanticColors.disabledBackground:e.semanticColors.primaryButtonTextDisabled},caretDownWrapper:{lineHeight:40,height:40}}}var hI=function(){return hI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hI.apply(this,arguments)},mI=function(t){var n=(0,I.D)();return e.createElement(pI.m,hI({},t,{styles:fI(n,t.disabled)}))},gI=function(){return gI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gI.apply(this,arguments)},vI={addMarkupContent:vt.FS,updateTextContent:$u.L,setMarkupTextStyleAttributes:vt.eM},yI=(0,ge.Ng)((function(e){return{activeTextContent:e.markup.markupContentItems.find((function(t){return t.id===e.markup.activeMarkupContentId&&t.contentType===Lu.A.TextContent})),markupTextSelection:e.markup.markupTextSelection}}),vI)((function(t){var n=t.activeTextContent,r=t.updateTextContent,o=t.markupTextSelection,i=t.setMarkupTextStyleAttributes;var a=(0,e.useContext)(gn.O_).localizationStrings,s=(0,e.useMemo)((function(){return(0,fu.MS)(a)}),[a]),l=(0,e.useMemo)((function(){var e,t;return KP(null===(e=null===n||void 0===n?void 0:n.drawingAttributes)||void 0===e?void 0:e.styles,o||{},"fontSize",null===(t=null===n||void 0===n?void 0:n.drawingAttributes)||void 0===t?void 0:t.fontSize)||void 0}),[n,o]),u=(0,e.useMemo)((function(){var e;return null===(e=s.find((function(e){var t;return e.color===(null===(t=null===n||void 0===n?void 0:n.drawingAttributes)||void 0===t?void 0:t.backgroundColor)})))||void 0===e?void 0:e.id}),[n,s]),c=(0,e.useMemo)((function(){var e,t,r,i=KP(null===(e=null===n||void 0===n?void 0:n.drawingAttributes)||void 0===e?void 0:e.styles,o||{},"fill",null===(t=null===n||void 0===n?void 0:n.drawingAttributes)||void 0===t?void 0:t.fill);return null===(r=s.find((function(e){return e.color===i})))||void 0===r?void 0:r.id}),[n,s,o]),d=(0,e.useMemo)((function(){var e,t;return KP(null===(e=null===n||void 0===n?void 0:n.drawingAttributes)||void 0===e?void 0:e.styles,o||{},"fontFamily",null===(t=null===n||void 0===n?void 0:n.drawingAttributes)||void 0===t?void 0:t.fontFamily)}),[n,o]),p=(0,e.useMemo)((function(){return(s.findIndex((function(e){return e.color===dI.Rs}))+1).toString()}),[s]),f=(0,e.useMemo)((function(){return(s.findIndex((function(e){return e.color===dI.a9}))+1).toString()}),[s]);return e.createElement("div",null,e.createElement(qP.X,{label:"Font style",iconName:"Font"}),e.createElement(mI,{options:[{key:"Times New Roman",text:"Times New Roman"},{key:"arial",text:"arial"}],disabled:!n,selectedKey:d,placeholder:null===d&&n?"Mixed":void 0,onChange:function(e,t){var n;return i({fontFamily:null===(n=null===t||void 0===t?void 0:t.key)||void 0===n?void 0:n.toString()})}}),e.createElement(tI,{fontSize:l,disabled:!n,onChange:function(e){return i({fontSize:e})},text:void 0===l&&n?"Mixed":void 0}),e.createElement(cI,{disabled:!n,colors:s,textColorId:c,backgroundColorId:u,onTextColorChange:function(e){return i({fill:e})},defaultColorId:f,defaultBackgroundColorId:p,onBackgroundColorChange:function(e){return function(e,t){var o;(null===n||void 0===n?void 0:n.drawingAttributes)&&r(gI(gI({},n),{drawingAttributes:gI(gI({},null===n||void 0===n?void 0:n.drawingAttributes),(o={},o[e]=t,o))}))}("backgroundColor",e)}}))})),bI=(0,e.memo)((function(t){var n=t.showGapBetweenToolbarAndStylePicker,o=void 0!==n&&n,i=t.dialogType,a=t.stylePickerPopUpPositionSource,s=t.styles,l=t.inkBrushes,u=t.activeInkBrushId,c=t.inkBrush,d=t.setInkBrush,p=t.setStrokeShapeTipVisibilityState,f=t.colorPickerMaxColumnCount,h=t.shouldHideArrowOptions,m=void 0!==h&&h,g=t.strokeShapeTipVisibilityState,v=t.setInkBrushVisibility,y=t.activeMarkupToolType,b=t.clearAllMarkupContent,x=t.enableClearAllMarkup,_=t.setAriaAnnouncement,C=t.isStrokeShapePickerHeaderVisible,w=void 0!==C&&C,S=t.isColorHeaderVisible,k=void 0!==S&&S,T=t.isInkThicknessSliderHeaderHidden,E=void 0!==T&&T,P=t.isMarkupHeaderHidden,A=void 0!==P&&P,R=(0,Zp.B)("buttonGridCell"),L=(0,e.useContext)(gn.O_),M=L.localizationStrings,B=L.inkConfigurations,O=L.markupToolbarStyles,F=L.markupToolsConfigurations,D=(0,I.D)(),N=(0,e.useMemo)((function(){return(0,zb.h)(function(e){return{markupToolbarTools:{toolbarIcon:{"&:hover":{backgroundColor:"unset"}}},markupToolbarButton:{root:{width:"calc(100% - 32px)",margin:"16px",backgroundColor:e.palette.neutralLight,color:e.palette.white,border:"none"},textContainer:{flexGrow:"unset"},flexContainer:{flexDirection:"row-reverse"},rootHovered:{backgroundColor:e.palette.neutralTertiaryAlt}}}}(D),null===O||void 0===O?void 0:O.clearAllMarkup)}),[null===O||void 0===O?void 0:O.clearAllMarkup,D]),U=B[l[u].inkType];return(0,e.useEffect)((function(){Object.entries(l).filter((function(e){return"pen2"===e[0]})).forEach((function(e){var t=e[0];return v({inkBrushId:t,isInkBrushVisible:!1})}))}),[l,v]),e.createElement(Yw.e,{styles:s},!A&&e.createElement("section",{"aria-label":""},e.createElement("div",{className:BP,style:null===s||void 0===s?void 0:s.sectionHeader},M.markup_panelLabel)),e.createElement("section",null,e.createElement(Du,{showGapBetweenToolbarAndStylePicker:o,showStylePickerInFullWidth:!0,dialogType:i,stylePickerPopUpPositionSource:a})),(0,hu.B)(y)&&e.createElement("section",{"aria-label":"",className:OP},e.createElement(NP.e,{colorPickerGridCellButtonIdPrefix:R,doNotContainColorPickerWithinFocusZone:!0,colorOptions:(0,fu.MS)(M),colorPickerMaxColumnCount:f,inkConfiguration:U,inkBrush:c,inkBrushIdForInkStyleChange:u,setInkBrush:d,key:u,shouldHideArrowOptions:m,isStrokeShapeCalloutVisible:!0,strokeShapeTipVisibilityState:g,setStrokeShapeTipVisibilityState:p,styles:null===O||void 0===O?void 0:O.inkStylePicker,inkThicknessSliderHeaderIcon:"BullseyeTarget",strokePreviewShape:"Line",isColorHeaderVisible:k,isStrokeShapePickerHeaderVisible:w,isInkThicknessSliderHeaderHidden:E})),y===Qu.j9&&e.createElement("section",{"aria-label":"",className:(0,r.Zq)(OP,FP),style:{backgroundColor:D.palette.neutralLight}},e.createElement(UP.M,{styles:N,enableClearAllMarkup:x,clearAllMarkupContent:b,setAriaAnnouncement:_,confirmationDialogType:rb.h.normal,getIcon:F.clearAllMarkup.getIcon,showTooltip:!1,text:"Clear All Markup"})),y===Qu.Qm&&e.createElement("section",{"aria-label":"",className:(0,r.Zq)(OP,DP),style:{backgroundColor:D.palette.neutralLight}},e.createElement(HP,null),e.createElement(yI,null)))})),xI={setStrokeShapeTipVisibilityState:Qe.Ao,setInkBrush:Qe.Xc,setInkBrushVisibility:Qe.b4,clearAllMarkupContent:vt.YG,setAriaAnnouncement:Je.f9},_I=(0,ge.Ng)((function(e){return{inkBrush:e.uiState.markupUiState.inkBrushes[e.uiState.markupUiState.activeInkBrushId],inkBrushes:e.uiState.markupUiState.inkBrushes,activeInkBrushId:e.uiState.markupUiState.activeInkBrushId,strokeShapeTipVisibilityState:e.uiState.markupUiState.strokeShapeTipVisibilityState,activeMarkupToolType:e.uiState.markupUiState.activeMarkupToolType,enableClearAllMarkup:e.markup.markupContentItems.length>0}}),xI)(bI),CI=function(){return CI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},CI.apply(this,arguments)},wI=e.lazy((function(){return Promise.all([n.e(24),n.e(8),n.e(20),n.e(23),n.e(9),n.e(7)]).then(n.bind(n,87591))})),SI=function(t){return e.createElement(e.Suspense,{fallback:null},e.createElement(wI,CI({},t)))},kI=function(){return kI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kI.apply(this,arguments)},TI=e.lazy((function(){return n.e(15).then(n.bind(n,22263))})),EI=function(t){return e.createElement(e.Suspense,{fallback:null},e.createElement(TI,kI({},t)))},PI=function(){return PI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},PI.apply(this,arguments)};function II(e){var t={flexGrow:1,overflowY:"auto",paddingLeft:"16px",paddingRight:"16px",selectors:{":focus-visible":{outlineColor:e.palette.black}}};return(0,r.l8)({previewRegion:PI({},t)})}var AI=e.memo((function(t){return e.createElement(Bk,{ariaLabel:""})})),RI=e.lazy((function(){return n.e(10).then(n.bind(n,8430))})),LI=function(){return e.createElement(e.Suspense,{fallback:null},e.createElement(RI,null))},MI=function(){return MI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},MI.apply(this,arguments)},BI=(0,e.memo)((function(t){var n,r=t.componentSize,o=t.onSave,i=t.onClose,a=t.pivotItems,s=t.cssToPhysicalPixelRatio,l=t.layout,u=t.hideCanvas,c=t.customCommandBarButtons,d=t.onRenderSaveMenu,p=t.actionsStackStyles,f=t.isCopyToClipboardVisible,h=t.canvasContainerPortalNodeRef,m=(0,I.D)(),g=(0,e.useContext)(Wr.u),v=g.enableAutoEnhance,y=g.enableAIRelight,b=(0,e.useContext)(gn.O_),x=b.markupToolbarStyles,_=(0,b.getMarkupToolbarPosition)(x),C="Inline"===_,w=null===(n=null===x||void 0===x?void 0:x.clearAllMarkup)||void 0===n?void 0:n.confirmationDialog,S=(0,e.useMemo)((function(){return Qk(_)}),[_]),k=(0,e.useState)(null),T=k[0],E=k[1],P=(0,e.useState)(!0),A=P[0],R=P[1],L=(0,e.useState)(!1),M=L[0],B=L[1],O=(0,Qy.K)(T);(0,e.useLayoutEffect)((function(){R(!(O.width<813)),B(O.width<750)}),[O]);var F=(0,e.useState)(null),D=F[0],N=F[1],U=null===D||void 0===D?void 0:D.getBoundingClientRect().top;lT(o);var z=(0,e.useMemo)((function(){return aP(m,M&&U?U+10:10)}),[m,U,M]);return e.createElement("div",{className:Jy,ref:E},e.createElement("div",{role:"banner"},a.length>1&&e.createElement(IP,{componentSize:r,onSave:o,onRenderSaveMenu:d,onCancel:i,controlPivot:e.createElement(E_,{pivotItems:a,styles:AP(m),showHeaderText:A}),confirmationDialogStyles:w,customItems:c,isCopyToClipboardVisible:f}),a.length<=1&&e.createElement(IP,{componentSize:r,onSave:o,onRenderSaveMenu:d,onCancel:i,confirmationDialogStyles:w,isCopyToClipboardVisible:f})),e.createElement("div",{className:$y,ref:N},e.createElement("div",{className:eb,role:"main","data-test-id":"canvas-container"},e.createElement(bk,null,!u&&e.createElement(O_,{canvasSize:r,cssToPhysicalPixelRatio:s},h.current&&e.createElement(Ey,MI({node:h.current},l.getCanvasContainerProps(m))),e.createElement(rc,{match:un.jp},e.createElement(LI,null))),e.createElement(rc,{match:[un.Nr,un.ts]},e.createElement(AI,null)),e.createElement(rc,{match:un.NF},e.createElement(Uk,null)),e.createElement(rc,{match:un.VO},e.createElement(Fk,null)),e.createElement(rc,{match:[un.km,un.Zc,un.io]},e.createElement(tC,null),e.createElement(rC,null)),e.createElement(rc,{match:un.x8},e.createElement(Z_,null),e.createElement(Uw,{desktopTransformToolsActionStackStyles:p}),e.createElement(Gw,null),e.createElement(Xw,null)),e.createElement(rc,{match:un.VQ},e.createElement(ST,null)),e.createElement(rc,{match:un.io},e.createElement(UE,null))),!M&&e.createElement(e.Fragment,null,e.createElement(HE,{styles:z}),e.createElement(iT,{styles:sT}))),e.createElement(rc,{match:un.km},e.createElement(MP,{theme:m},e.createElement(CS,{styles:{adjustmentSlider:{getSliderHeaderStyles:function(){return{container:{paddingBottom:"2.5px"}}},getSliderStyles:function(){return{container:{marginBottom:"17.5px"}}}}}}))),e.createElement(rc,{match:un.Zc},e.createElement(MP,{theme:m},e.createElement(HS,{styles:l.getFilterActionsPaneStyles()},v&&e.createElement(QS,null)))),e.createElement(rc,{match:un.X4},C&&e.createElement(MP,{theme:m,styles:jP},e.createElement(_I,{styles:zP,isColorHeaderVisible:!0,isStrokeShapePickerHeaderVisible:!0}))),e.createElement(rc,{match:un.VO},e.createElement(MP,{theme:m},e.createElement(Ck,{spotFixControlPanelStyles:{sliderStyles:{getSliderHeaderStyles:function(){return{container:{paddingBottom:"2.5px"}}}}},isCalloutEnabled:!0}))),e.createElement(rc,{match:un.NF},e.createElement(MP,{theme:m},e.createElement(Vk,null))),y&&e.createElement(rP,null),e.createElement(rc,{match:un.io},e.createElement(MP,{theme:m},e.createElement(qk,{styles:Zk(m)}))),e.createElement(rc,{match:un.Nr},e.createElement(MP,{theme:m},e.createElement(SI,{styles:{adjustmentSlider:{getSliderHeaderStyles:function(){return{container:{paddingBottom:"2.5px"}}},getSliderStyles:function(){return{container:{marginBottom:"17.5px"}}}}}}))),e.createElement(rc,{match:un.ts},e.createElement(MP,{theme:m},e.createElement(mT,null))),e.createElement(rc,{match:un.VQ},e.createElement(MP,{theme:m},e.createElement(oE,null)),e.createElement(fE,null),e.createElement(lE,null)),e.createElement(rc,{match:un.jp},e.createElement(MP,{theme:m},e.createElement(EI,{styles:II(m)}))),M&&e.createElement(e.Fragment,null,e.createElement(HE,{styles:z}),e.createElement(iT,{styles:sT}))),e.createElement(ek,{cssPixelMarginByActivity:S}))})),OI=function(){return OI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},OI.apply(this,arguments)},FI={reactNode:function(t){var n=OI(OI({},t),{hideCanvas:this.hideCanvas});return e.createElement(BI,OI({},n))},getCanvasContainerProps:function(e,t){return{markupProps:{showGapBetweenToolbarAndStylePicker:!0,stylePickerPopUpPositionSource:"Bottom"===t?"SelectedInkBrushButton":"MarkupToolbarContainer"}}},getTheme:function(e,t){return OI(OI({},e?pP:fP),{rtl:t})},getFilterActionsPaneStyles:function(){return{filterTile:{margin:"0 8px"},slider:{container:hP}}},getMarkupToolbarStyles:function(e,t,n,r){return void 0===t&&(t="Bottom"),void 0===n&&(n=!1),void 0===r&&(r=!1),bP(e,t)}};const DI={[un.x8]:{top:42,left:42,right:42,bottom:162},[un.X4]:{...(0,Yy.aW)(0),bottom:78}},NI=(t,n)=>{const{componentSize:r,onSave:o,onClose:i,onEditsChanged:a,onUiStateChanged:s,cssToPhysicalPixelRatio:l}=t,u=(0,I.D)(),{editOperationsRef:c,editUiStateRef:d,editViewingRef:p}=Ms(n),{image:f,setOffscreenRenderer:h,setImageLayer:m}=(0,e.useContext)(lo.Z),g=(0,e.useContext)(ke.x).strings,{onSaveOriginal:v}=Ix(o);return(0,Uy.jsxs)("div",{className:Jy,children:[(0,Uy.jsxs)("div",{className:$y,style:{backgroundColor:u.palette.neutralLighterAlt,height:"100%"},children:[(0,Uy.jsx)("div",{className:eb,role:"main",children:(0,Uy.jsxs)(bk,{children:[(0,Uy.jsx)(O_,{canvasSize:r,cssToPhysicalPixelRatio:l,children:(0,Uy.jsxs)(zd,{children:[(0,Uy.jsxs)(rc,{match:un.x8,children:[(0,Uy.jsx)(sc,{handleSizeCss:Av.US,handleHitAreaSizeCss:Av.Oc}),(0,Uy.jsx)(Oh,{})]}),(0,Uy.jsx)(cu,{image:f,color:qs.Wf,zIndex:1,setImageLayer:m,disableTexturePatchIndexedDbStorage:!0,children:(0,Uy.jsxs)($d,{children:[(0,Uy.jsx)(zp,{ref:h}),(0,Uy.jsx)(Iv,{})]})})]})}),(0,Uy.jsxs)(rc,{match:un.x8,children:[(0,Uy.jsx)(Z_,{}),(0,Uy.jsx)(Gw,{}),(0,Uy.jsx)(Xw,{})]})]})}),(0,Uy.jsx)(uC,{styles:{container:{marginBottom:"50px",alignItems:"center",position:"absolute",bottom:0,display:"flex",flexDirection:"column",width:"100%",flexGrow:1,alignSelf:"center",justifyContent:"center"}},children:(0,Uy.jsxs)("div",{style:{display:"flex",flexGrow:1,alignSelf:"center",justifyContent:"center",maxWidth:"1280px",width:"100%"},children:[(0,Uy.jsx)(Wx.j,{text:g.toolbar_done,ariaLabel:g.toolbar_doneAriaLabel,title:g.toolbar_doneTooltip,styles:yx(u),onClick:v}),(0,Uy.jsx)(Yb,{onCancel:i,styles:gx(u)})]})})]}),(0,Uy.jsx)(ns,{ref:c,onEditsChanged:a}),(0,Uy.jsx)(ss,{ref:d,onUiStateChanged:s}),(0,Uy.jsx)(ek,{cssPixelMarginByActivity:DI}),(0,Uy.jsx)(ks,{ref:p})]})},UI=(0,e.memo)((0,e.forwardRef)(NI));Zy||(Ii(),(0,r.K1)({icons:{"Crop-Windows":zy,"Adjustments-Windows":jy,"Filters-Windows":Vy,"Markup-Windows":Wy,"Retouch-Windows":Hy,"AutoEnhanceOn-Windows":qy,"BackgroundBlur-Windows":Ky,"AttentionBadge-Windows":Gy}}),Zy=!0);const zI=function(t,n){let{image:r,componentSize:o,onSave:i,onMSALogin:a,onMSALogout:s,onLinkClicked:l,localization:u,telemetryCallback:c,onError:d,onClose:p,isCancelVisible:f,onEditsChanged:h,onUiStateChanged:m,onDismissHostError:g,onDownloadImageCreationExtension:v,onStylizerPivotTeachingTipDismissed:y,setStylizerPivotTeachingTipState:b,defaultEdits:x,initialEdits:_,initialUiState:C,serializedState:w,layout:S=FI,enableAdjustments:k,enableFilters:T,enableSharpness:E,enableAutoEnhance:P,enableUndoRedo:A,enabledRetouchModes:R,cssToPhysicalPixelRatio:L,onDecideEnabledSaveTypes:M,sessionFullImageSize:B,showControlPivot:O,children:F,experimental_enableInPaintingDevUi:D,enableBackground:N,texturePatchAlgorithmOverrides:U,fileFormatSupportsTransparency:z,enableAIBadges:j,enableStylizer:V,enableAIRelight:W,enableAIRelightDevUI:H,enableResize:q,experimental_enableStylizerDevUi:K,isOnline:G,msaStatus:Z,hostError:X,doesImageContainFaces:Y,imageCreationExtensionState:Q,stylizerPivotTeachingTipState:J,onRequestResizedImage:$,onCancelResizeOperation:ee}=t;(0,e.useEffect)((()=>{performance.mark(me.Editor)}),[]);const te=(0,I.D)(),ne=ix(te.palette.black),{enableMarkup:re}=(0,e.useContext)(gn.O_),oe=(0,e.useMemo)((()=>function(e,t,n,r,o,i,a,s,l,u,c){let d=[{itemIcon:"Crop-Windows",itemKey:un.x8,localizationKey:"pivot_crop",ariaDescriptionLocalizationKey:"pivot_cropAriaDescription"}];return e&&d.push({itemIcon:"Adjustments-Windows",itemKey:un.km,localizationKey:"pivot_adjustment",ariaDescriptionLocalizationKey:"pivot_adjustmentAriaDescription"}),t&&d.push({itemIcon:"Filters-Windows",itemKey:un.Zc,localizationKey:"pivot_filter",ariaDescriptionLocalizationKey:"pivot_filterAriaDescription"}),n&&d.push({itemIcon:"Markup-Windows",itemKey:un.X4,localizationKey:"pivot_markup",ariaDescriptionLocalizationKey:"pivot_markupAriaDescription"}),r&&d.push({itemIcon:a?"SparklyEraseIcon-Havana":"Retouch-Windows",itemKey:un.VO,localizationKey:a?"pivot_erase":"pivot_retouch",customPivotChild:s&&a?Xy:void 0,ariaDescriptionLocalizationKey:"pivot_retouchAriaDescription"}),i&&d.push({itemIcon:"BackgroundBlur-Windows",itemKey:un.NF,localizationKey:"pivot_background",customPivotChild:s?Xy:void 0,ariaDescriptionLocalizationKey:"pivot_backgroundAriaDescription"}),o&&d.push({itemIcon:"Retouch-Windows",itemKey:un.Nr,localizationKey:"pivot_inpaint"}),l&&d.push({itemIcon:"VideoPersonSparkle-Havana",itemKey:un.ts,customPivotChild:Xy,localizationKey:"pivot_stylizer",ariaDescriptionLocalizationKey:"pivot_stylizerAriaDescription"}),u&&d.push({itemIcon:"ResolutionIcon-Havana",itemKey:un.VQ,localizationKey:"pivot_resize",customPivotChild:Xy,ariaDescriptionLocalizationKey:"pivot_resizeAriaDescription"}),c&&d.push({itemIcon:"Lightbulb",itemKey:un.io,localizationKey:"pivot_relight",customPivotChild:Xy,ariaDescriptionLocalizationKey:"pivot_relightAriaDescription"}),d}(k,T,re,R&&R.length>0,!!D,!!N,null===R||void 0===R?void 0:R.includes(Ht.I.MagicErase),j,V,q,W)),[k,T,re,R,D,N,j,V,q,W]),[ie,ae]=(0,e.useState)(!1),se=(0,e.useCallback)((()=>{ae(!0)}),[ae]),le=(0,e.useCallback)((()=>{ae(!1)}),[ae]),ue=te.palette.neutralLighterAlt,ce={layout:S,componentSize:o,onSave:i,onClose:p,pivotItems:oe,onEditsChanged:h,onUiStateChanged:m,cssToPhysicalPixelRatio:L,isEditorFocused:ie,canvasContainerPortalNodeRef:(0,e.useRef)(Py())},de=(0,e.useMemo)((()=>({spotFix:(null===U||void 0===U?void 0:U.spotFix)||zs.spotFix,magicErase:(null===U||void 0===U?void 0:U.magicErase)||zs.magicErase,backgroundSegmentation:(null===U||void 0===U?void 0:U.backgroundSegmentation)||zs.backgroundSegmentation,stylizer:(null===U||void 0===U?void 0:U.stylizer)||zs.stylizer,objectSegmentation:(null===U||void 0===U?void 0:U.objectSegmentation)||zs.objectSegmentation,normalMap:(null===U||void 0===U?void 0:U.normalMap)||zs.normalMap})),[U]),pe=(0,e.useCallback)(((e,t)=>{if(!n||!Dy(n))throw new Error("imageEditorMethodsRef is not initialized");var r;null===(r=n.current)||void 0===r||r.replaceImageAndResetEdits(e,{editType:"SuperResolution",resizeFactor:t})}),[n]);return(0,Uy.jsx)("div",{onFocus:se,onBlur:le,className:ne?"dark":"light",style:{width:o.width,height:o.height,backgroundColor:ue,touchAction:"none"},children:(0,Uy.jsx)(Ki,{enableAdjustments:k,enableSharpness:E,enableFilters:T,enableAutoEnhance:P,enableMarkup:re,enableUndoRedo:A,enabledRetouchModes:R,experimental_enableInPaintingDevUi:D,enableBackground:N,enableStylizer:V,enableAIRelight:W,enableAIRelightDevUI:H,experimental_enableStylizerDevUi:K,enableResize:q,children:(0,Uy.jsx)(Ry,{isOnline:!!G,msaStatus:Z,hostError:X,onDismissHostError:g,onMSALogin:a,onMSALogout:s,children:(0,Uy.jsx)(My,{doesImageContainFaces:Y,imageCreationExtensionState:Q,stylizerPivotTeachingTipState:J,setStylizerPivotTeachingTipState:b,onStylizerPivotTeachingTipDismissed:y,onDownloadImageCreationExtension:v,children:(0,Uy.jsxs)(Co,{image:r,localization:u,telemetryCallback:c,onComponentError:d,defaultEdits:x,initialEdits:_,initialUiState:C,serializedState:w,sessionFullImageSize:B,onDecideEnabledSaveTypes:M,texturePatchAlgorithmsByRole:de,onRequestResizedImage:$,onAcceptResizedImage:pe,onCancelResizeOperation:ee,onLinkClicked:l,children:[(0,Uy.jsxs)(la,{children:[(0,Uy.jsx)(Da,{}),(0,Uy.jsx)(Ca,{htmlElementForKeyboardControl:document.body}),(0,Uy.jsx)(va,{}),(0,Uy.jsx)(da,{}),(0,Uy.jsx)(pa,{}),(0,Uy.jsx)(fa,{}),(0,Uy.jsx)(ga,{}),(0,Uy.jsx)(wa,{}),(0,Uy.jsx)(Ws,{}),(0,Uy.jsx)(By,{}),(0,Uy.jsx)(ya,{}),(0,Uy.jsx)(Oy,{}),O?(0,Uy.jsx)(cP,{ref:n,localization:u,fileFormatSupportsTransparency:z,isCancelVisible:f,...ce}):(0,Uy.jsx)(UI,{ref:n,...ce}),F]}),(0,Uy.jsx)(Xi,{}),(0,Uy.jsx)(qi,{})]})})})})})},jI=(0,e.forwardRef)(zI);jI.displayName="ImageEditor";var VI=(0,e.createContext)({fabricCanvas:null,setFabricCanvas:function(e){}}),WI=(0,e.createContext)({fabric:null,loadFabric:function(){}}),HI=!1;var qI=function(t){var n=t.children,r=function(){var t=(0,e.useState)(null),n=t[0],r=t[1],o=(0,e.useRef)(null),i=(0,e.useContext)(WI).fabric,a=(0,e.useCallback)((function(e){var t;if(i)if(e){var n=new i.Canvas(e,{enableRetinaScaling:!1,stopContextMenu:!0,enablePointerEvents:!0,selection:HI});o.current=n,n.renderOnAddRemove=!1,r(n);var a=n.getElement().parentElement;a&&(a.style.position="absolute")}else null===(t=o.current)||void 0===t||t.dispose(),o.current=null,r(null)}),[i]);return[n,a]}(),o=r[0],i=r[1];return e.createElement(VI.Provider,{value:{fabricCanvas:o,setFabricCanvas:i}},n)};var KI=(0,e.createContext)({wetInkCanvas:void 0,setWetInkCanvas:function(e){}}),GI=function(t){var n=t.children,r=(0,e.useState)(),o=r[0],i=r[1];return e.createElement(KI.Provider,{value:{wetInkCanvas:o,setWetInkCanvas:i}},n)};function ZI(e,t,n){var r=(0,Hn.SM)(n);t.clipPath=new e.Rect(r)}var XI=n(32489),YI=n(54469);function QI(e){return 5===e.button||32===(32&e.buttons)}const JI=function(e){return e.util.createClass(e.PencilBrush,{color:"rgb(255, 255, 255)",opacity:0,width:32,initialize:function(e,t,n,r,o,i){this.canvas=e,this.width=t,this._points=[],this.bounds=n,this.removeMarkupContent=r,this.onPointerEvent=o,i&&(this.canvas.upperCanvasEl.setPointerCapture(i),this.canvas.upperCanvasEl.dispatchEvent(new Event("pointerdown")))},_render:function(){},_finalizeAndAddPath:function(){this._resetShadow(),this.canvas.clearContext(this.canvas.contextTop),this.canvas.requestRenderAll(),this.previousPoint=null},getIdsAtBrushLocation:function(t){var n=[],r=this.width/2,o=this.canvas.getObjects(),i=function(e,t,n){void 0===n&&(n=Math.asin(1.5/t));for(var r=[],o=0;o<2*Math.PI;o+=n)r.push({x:e.x+t*Math.cos(o),y:e.y+t*Math.sin(o)});return r}(t,r),a=new e.Circle({radius:r,top:t.y-r,left:t.x-r,fill:"rgba(255,0,255,0)"});a.setCoords();for(var s=0,l=o;s<l.length;s++){var u=l[s];u&&u.visible&&((u.isContainedWithinObject(a)||u.intersectsWithObject(a)&&this.objectCollidesWithPoints(u,i))&&n.push(u.id))}return n},objectCollidesWithPoints:function(e,t){for(var n=0,r=t;n<r.length;n++){var o=r[n];if(!this.canvas.isTargetTransparent(e,o.x,o.y))return!0}return!1},getPointsToEraseBetween:function(e,t){var n=(0,Cd.pN)(e,this.bounds),r=(0,Cd.pN)(t,this.bounds);if(n){if(r)return[t,e];var o=(0,XI.i)(e,t,this.bounds);if(o)return[o,e]}else if(r){var i=(0,XI.i)(t,e,this.bounds);if(i)return[t,i]}},erase:function(e){var t=this;if((0,Cd.pN)(e,this.bounds)&&this.eraseIdsFromCanvas(this.getIdsAtBrushLocation(e)),this.previousPoint){var n=this.getPointsToEraseBetween(e,this.previousPoint);if(n){window.requestAnimationFrame((function(){t.eraseIdsFromCanvas(t.getIdsBetweenPoints(n[0],n[1]))}))}}},getIdsBetweenPoints:function(t,n){var r=[],o=Math.hypot(n.x-t.x,n.y-t.y);if(o>this.width){var i=Math.atan2(n.y-t.y,n.x-t.x),a=(0,Un.hF)((0,Un.Bp)(n,t)),s={x:-1*a.y*this.width/2,y:a.x*this.width/2},l=new e.Rect({width:o,height:this.width,left:t.x-s.x,top:t.y-s.y,angle:180*i/Math.PI,fill:"rgba(255,255,0,0)"});l.setCoords();for(var u=[],c=0,d=this.canvas.getObjects();c<d.length;c++){if((m=d[c])&&m.id&&m.visible){if(m.isContainedWithinObject(l)){r.push(m.id);continue}if(m.intersectsWithObject(l)){u.push(m);continue}}}if(u.length>0)for(var p=function(e,t,n,r){void 0===r&&(r=1);for(var o=[],i=(0,Un.jR)((0,Un.Bp)(e,t)),a=(0,Un.hF)((0,Un.Bp)(t,e)),s=-1*a.y*n/2,l=a.x*n/2,u=0;u<i;u+=r)o.push({x:e.x+u*a.x+s,y:e.y+u*a.y+l}),o.push({x:e.x+u*a.x-s,y:e.y+u*a.y-l});return o}(t,n,this.width),f=0,h=u;f<h.length;f++){var m;(m=h[f]).id&&this.objectCollidesWithPoints(m,p)&&r.push(m.id)}}return r},eraseIdsFromCanvas:function(e){e.length>0&&this.removeMarkupContent(e)},onMouseDown:function(e,t){this.onPointerEvent(t.e),this.canvas._isMainEvent(t.e)&&(this.previousPoint=e,this.erase(e))},onMouseMove:function(e,t){if(this.onPointerEvent(t.e),this.canvas._isMainEvent(t.e)&&(!this.limitedToCanvasSize||!this._isOutSideCanvas(e))){var n=t.e;if(!(0,YI.$F)(n)&&!QI(t.e))return this._finalizeAndAddPath(),void(this.canvas._isCurrentlyDrawing=!1);this._captureDrawingPath(e)&&this._points.length>1&&(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this._render()):this.erase(e),this.previousPoint=e)}},onMouseUp:function(e){return this.onPointerEvent(e.e),!this.canvas._isMainEvent(e.e)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}})};function $I(t,n,r,o,i,a,s,l,u){var c=(0,e.useContext)(VI).fabricCanvas,d=(0,e.useContext)(WI).fabric,p=(0,e.useContext)(gn.O_).localizationStrings,f=(0,e.useRef)(t),h=(0,e.useRef)(l);(0,e.useEffect)((function(){f.current=t,h.current=l}),[t,l]),(0,e.useEffect)((function(){if(l!==t&&c&&d){c.isDrawingMode=function(e){switch(e){case Qu.j9:case Qu.iw:case Qu.Gu:return!0;case Qu.Qm:default:return!1}}(f.current);var e=(0,Hn.SM)(n);t===Qu.j9&&(c.freeDrawingBrush=new(JI(d))(c,32,e,r,(function(e){QI(e)&&"pointerup"===e.type&&(null===s||void 0===s||s(void 0),h.current&&o(h.current))}),u),c.freeDrawingCursor="inherit",c.defaultCursor="inherit")}}),[n,c,t,r,d,l,o,s,u,p,a,i])}function eA(e,t){return(0,Vn.ZG)((0,Vn.eE)(t),(0,Vn.Es)((0,Vn.Qt)(e.calcTransformMatrix())))}function tA(e,t,n){var r=e.util.qrDecompose(n),o=new e.Point(r.translateX,r.translateY);t.flipX=!1,t.flipY=!1,t.set(r),t.setPositionByOrigin(o,"center","center"),t.setCoords()}function nA(e,t,n){if(t.id){var r=(0,Vn.II)((0,Vn.ZG)(n,t.fabricToViewTransform));t.updateFabricToViewTransform=function(){t.fabricToViewTransform=eA(t,n)},tA(e,t,r)}}var rA=function(){return rA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},rA.apply(this,arguments)};function oA(e,t,n,r,o){r&&t.getObjects().forEach((function(t){nA(e,t,r)})),n&&t.setDimensions({width:n.x,height:n.y},{backstoreOnly:!0}),o?ZI(e,t,o):r&&ZI(e,t,r),t.renderAll()}function iA(e,t){for(var n=0,r=e.getObjects();n<r.length;n++){var o=r[n];if(o&&o.id&&t.has(o.id)&&(t.delete(o.id),e.remove(o)),t.size<1)break}e.requestRenderAll()}function aA(e,t,n,r){var o=function(e,t,n,r){var o=(0,Vn.ZG)(t,n),i=e.util.multiplyTransformMatrices((0,Vn.II)(o),r);return i}(e,t,n,r.calcTransformMatrix());tA(e,r,o),r.fabricToViewTransform=eA(r,t)}function sA(e,t){t.add(e),t.requestRenderAll()}var lA="MARKUP_HIGHLIGHTER_CURSOR",uA=function(){return uA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},uA.apply(this,arguments)},cA="MARKUP_PEN_CURSOR";function dA(e,t,n){switch(n.inkType){case hu.p.Highlighter:return function(e,t,n){var r=Math.min(.1*n.thicknessInCssPixels,1),o=n.thicknessInCssPixels/2,i=n.thicknessInCssPixels,a=new e.Rect({left:t.x-o/2,top:t.y-i/2,width:o,height:i,fill:n.htmlColor,stroke:"white",strokeWidth:r}),s=new e.Group([a]);return s.id=(0,eo.b)(),s.name=lA,s}(e,t,n);case hu.p.Pen:return function(e,t,n){var r=new e.Group,o=qu(n.thicknessInCssPixels),i=Hu(o),a=o+i,s=2*a,l=new e.Circle({radius:o,left:t.x-a+1,top:t.y-a+1,fill:n.htmlColor,stroke:"white",strokeWidth:i});if(r.addWithUpdate(l),l.left&&l.top){var u={stroke:"white",fill:"black",left:l.left+s,top:l.top+a,strokeLineCap:"round",strokeLineJoin:"round"};if(n.strokeShape.arrowMode===Wu.x.SingleArrow){var c=new e.Path(Ku,uA({},u));r.add(c)}if(n.strokeShape.arrowMode===Wu.x.DoubleArrow){var d=new e.Path(Gu,uA({},u));r.add(d)}}return r.id=(0,eo.b)(),r.name=cA,r}(e,t,n);default:throw new to.x(n.inkType)}}function pA(e){var t=new Set;return e.forEach((function(e){if(!e.id)throw new Error("there is no id for : ".concat(e));t.add(e.id)})),t}var fA=function(){return fA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fA.apply(this,arguments)};function hA(e,t,n){switch(t.inkType){case hu.p.Highlighter:return function(e,t,n){if(n.startPoint&&n.endPoint){var r=new e.Group,o=t.thicknessInCssPixels/2,i=new e.Polygon(function(e,t,n){var r,o=e,i=t,a=n/2,s=o.x-i.x,l=o.y-i.y;return i.y>o.y&&(o=(r=[i,o])[0],i=r[1]),s>0&&l<0||s<0&&l>=0?[{x:i.x-a,y:i.y-n},{x:i.x+a,y:i.y-n},{x:i.x+a,y:i.y+n},{x:o.x+a,y:o.y+n},{x:o.x-a,y:o.y+n},{x:o.x-a,y:o.y-n}]:[{x:i.x-a,y:i.y-n},{x:i.x+a,y:i.y-n},{x:o.x+a,y:o.y-n},{x:o.x+a,y:o.y+n},{x:o.x-a,y:o.y+n},{x:i.x-a,y:i.y+n}]}(n.startPoint,n.endPoint,o),{fill:t.htmlColor,opacity:.5});return r.addWithUpdate(i),r.id=(0,eo.b)(),r}}(e,t,n);case hu.p.Pen:return function(e,t,n){if(n.startPoint&&n.endPoint){var r=t.thicknessInCssPixels,o=n.startPoint,i=n.endPoint,a=r/2,s=(0,Un.Sl)(o,i),l=(0,Un.rp)(o,i);if(void 0!==l){var u={originX:"center",originY:"center",opacity:1,fill:t.htmlColor,strokeWidth:0,radius:a,angle:90+l},c=new e.Circle(fA(fA({},u),{left:o.x,top:o.y})),d=new e.Rect({left:o.x,top:o.y,width:r,height:s,fill:t.htmlColor,angle:l,originX:"center",strokeWidth:0,opacity:1}),p=new e.Circle(fA(fA({},u),{left:i.x,top:i.y,startAngle:270,endAngle:90})),f=new e.Group([c,d,p]);return f.id=(0,eo.b)(),f}}}(e,t,n);default:throw new to.x(t.inkType)}}function mA(e,t){var n=function(e,t){var n=e.getObjects().filter((function(e){return e.name===t}));if(n.length>0)return n[0]}(e,function(e){switch(e){case hu.p.Highlighter:return lA;case hu.p.Pen:return cA;default:throw new to.x(e)}}(t.inkType));n&&e.bringToFront(n)}var gA=function(){return gA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gA.apply(this,arguments)};var vA=function(){return vA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vA.apply(this,arguments)};var yA=function(){return yA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yA.apply(this,arguments)},bA=(0,e.memo)((function(t){var n=t.cropViewTransform,r=t.imageViewTransform,o=t.width,i=t.height,a=t.cssWidth,s=t.cssHeight,l=t.styles,u=t.activeMarkupToolType,c=t.previousActiveMarkupToolType,d=t.markupContentItems,p=t.pointerIdToCaptureWhenEraserBrushIsCreated,f=t.setActiveMarkupToolType,h=t.removeMarkupContent,m=t.convertToFabricContent,g=t.setPointerIdToCaptureWhenEraserBrushIsCreated,v=t.cursorScreenPos,y=t.activeInkBrush,b=t.isKeyboardInputActive,x=t.linePreviewCoords,_=t.cssToPhysicalPixelRatio,C=t.addMarkupContent,w=t.updateMarkupContent,S=t.activeMarkupContentId,k=t.setActiveMarkupContentId,T=t.setMarkupTextSelection,E=t.markupTextStyleAttributes,P=t.setMarkupTextStyleAttributes,I=(0,e.useContext)(VI).setFabricCanvas;return function(){var t=(0,e.useContext)(WI).loadFabric;(0,e.useLayoutEffect)((function(){t()}),[t])}(),function(){var t=(0,e.useContext)(VI).fabricCanvas,n=(0,e.useContext)(gn.O_).setWetCanvasIsReady;(0,e.useEffect)((function(){return t&&n(!0),function(){n(!1)}}),[t,n])}(),function(t,n,r,o,i){var a=(0,e.useContext)(VI).fabricCanvas,s=(0,e.useContext)(WI).fabric;(0,e.useLayoutEffect)((function(){(null===a||void 0===a?void 0:a.getContext())&&(null===a||void 0===a||a.setDimensions({width:t,height:n},{backstoreOnly:!0}),null===a||void 0===a||a.setDimensions({width:r,height:o},{cssOnly:!0}),null===a||void 0===a||a.renderAll())}),[t,n,r,o,a]),(0,e.useEffect)((function(){s&&(null===a||void 0===a?void 0:a.getContext())&&(ZI(s,a,i),a.renderAll())}),[i,s,a])}(o,i,a,s,n),$I(u,n,h,f,r,_,g,c,p),function(t,n){var r=(0,e.useContext)(VI).fabricCanvas,o=(0,e.useRef)(null),i=(0,e.useContext)(WI).fabric;(0,e.useLayoutEffect)((function(){o.current=new Set}),[r]),(0,e.useLayoutEffect)((function(){if((null===r||void 0===r?void 0:r.getContext())&&o.current&&i){for(var e=[],a=new Set(o.current),s=0,l=t;s<l.length;s++){var u=l[s];a.delete(u.id),o.current.has(u.id)||(e.push(u),o.current.add(u.id))}for(var c=0,d=Array.from(a);c<d.length;c++){var p=d[c];o.current.delete(p)}!function(e,t,n,r){var o=function(e){e.forEach((function(e){t.add(e)})),t.requestRenderAll()};r?o(n.map(r)):e.util.enlivenObjects(n,o,"fabric")}(i,r,e,n),iA(r,a)}}),[n,i,r,t])}(d,m),function(t){var n=(0,e.useContext)(VI).fabricCanvas,r=(0,e.useContext)(WI).fabric;(0,e.useLayoutEffect)((function(){n&&r&&n.getObjects().forEach((function(e){nA(r,e,t)}))}),[r,n,t])}(r),function(t,n){var r=(0,e.useContext)(VI).fabricCanvas,o=(0,e.useContext)(gn.O_).setCanvasMethods,i=(0,e.useContext)(WI).fabric,a=(0,e.useRef)(r);r&&(a.current=r);var s=(0,e.useRef)(void 0);(0,e.useEffect)((function(){return o((function(e){return rA(rA({},e),{getHTMLCanvas:function(e,t){if(a.current&&i){var n=a.current.getElement();if(a.current.discardActiveObject(),n)return(e||t)&&(s.current={x:a.current.getWidth(),y:a.current.getHeight()},oA(i,a.current,e,t),n=a.current.getElement()),n}return null}})})),function(){a.current=null}}),[i,o]),(0,e.useEffect)((function(){return o((function(e){return rA(rA({},e),{restoreHTMLCanvas:function(){a.current&&i&&a.current.getElement()&&oA(i,a.current,s.current,t,n)}})})),function(){a.current=null}}),[n,i,t,o])}(r,n),function(t,n,r,o,i){var a=(0,e.useContext)(VI).fabricCanvas,s=(0,e.useContext)(WI).fabric;(0,e.useEffect)((function(){if((null===a||void 0===a?void 0:a.getContext())&&s&&r){var e=dA(s,t,n);return e?(aA(s,i,(0,Vn.ZG)((0,Vn.eE)(i),(0,Vn.U3)(o)),e),sA(e,a),function(){iA(a,pA([e]))}):void 0}}),[n,o,t,s,a,i,r])}(v,y,b,_,r),function(t,n,r,o,i){var a=(0,e.useContext)(VI).fabricCanvas,s=(0,e.useContext)(WI).fabric;(0,e.useEffect)((function(){if((null===a||void 0===a?void 0:a.getContext())&&s&&t){var e=hA(s,n,r);return e?(aA(s,i,(0,Vn.ZG)((0,Vn.eE)(i),(0,Vn.U3)(o)),e),sA(e,a),function(){iA(a,pA([e]))}):void 0}}),[n,o,s,a,i,t,r])}(b,y,x,_,r),function(t){var n=(0,e.useContext)(VI).fabricCanvas;(0,e.useEffect)((function(){if(null===n||void 0===n?void 0:n.getContext()){var e=function(){mA(n,t)};return n.on("object:added",e),function(){n.off("object:added",e)}}}),[t,n])}(y),function(t){var n=(0,e.useContext)(VI).fabricCanvas,r=(0,e.useContext)(WI).fabric;(0,e.useEffect)((function(){if(n&&r){var e=new Map(n.getObjects("textbox").map((function(e){return[e.id,e]}))),o=new Map(t.filter((function(e){return e.id&&e.contentType===Lu.A.TextContent})).map((function(e){return[e.id,e]})));null===e||void 0===e||e.forEach((function(e){var t=o.get(e.id),r=null===t||void 0===t?void 0:t.drawingAttributes,i=e.toObject();r&&!(0,Me.v)(r,i,5)&&(e.set(r),n.requestRenderAll())}))}}),[t,r,n])}(d),function(t){var n=(0,e.useContext)(VI).fabricCanvas;(0,e.useEffect)((function(){var e=function(e){var n,r;if("textbox"===(null===(r=null===(n=e.selected)||void 0===n?void 0:n[0])||void 0===r?void 0:r.type)){var o=e.selected[0]._unwrappedTextLines.reduce((function(e,t,n){var r;return gA(gA({},e),((r={})[n]={selectionStart:0,selectionEnd:t.length},r))}),{});t(o)}else t(void 0)},r=function(e){var n=e.target;if("textbox"===(null===n||void 0===n?void 0:n.type)){var r=n,o=r.selectionStart,i=r.selectionEnd;if(void 0===o||void 0===i)return void t(void 0);for(var a={},s=o;s<=i;s++){var l=n.get2DCursorLocation(s,!0),u=l.lineIndex,c=l.charIndex;void 0===a[u]&&(a[u]={selectionStart:c,selectionEnd:c}),a[u].selectionEnd=c}t(a)}else t(void 0)};return null===n||void 0===n||n.on("text:selection:changed",r),null===n||void 0===n||n.on("selection:updated",e),null===n||void 0===n||n.on("selection:cleared",e),null===n||void 0===n||n.on("selection:created",e),function(){null===n||void 0===n||n.off("text:selection:changed",r),null===n||void 0===n||n.off("selection:updated",e),null===n||void 0===n||n.off("selection:cleared",e),null===n||void 0===n||n.off("selection:created",e)}}),[n,t])}(T),function(t){var n=(0,e.useContext)(VI).fabricCanvas;(0,e.useEffect)((function(){var e=function(){var e;t(null===(e=null===n||void 0===n?void 0:n.getActiveObject())||void 0===e?void 0:e.id)};return null===n||void 0===n||n.on("selection:created",e),null===n||void 0===n||n.on("selection:updated",e),null===n||void 0===n||n.on("selection:cleared",e),function(){null===n||void 0===n||n.off("selection:created",e),null===n||void 0===n||n.off("selection:updated",e),null===n||void 0===n||n.off("selection:cleared",e)}}),[n,t])}(k),function(t,n,r){var o=(0,e.useContext)(VI).fabricCanvas,i=(0,e.useContext)(gn.O_).localizationStrings,a=(0,e.useRef)(!1);(0,e.useEffect)((function(){if(o&&r===Qu.Qm){o.defaultCursor="Text";var e=function(e){if(e.target||a.current)a.current=!1;else if(e.absolutePointer){var r=e.absolutePointer,o=r.x,s=r.y;t({text:i.markup_textboxDefaultContent,contentType:Lu.A.TextContent,invertedPhysicalImageTransformDuringContentSerialization:(0,Vn.eE)(n),initialPosition:{positionType:"AtLocation",left:o,top:s}})}},s=function(){a.current=!0};return o.on("selection:cleared",s),o.on("mouse:up",e),function(){o.off("mouse:up",e),o.off("selection:cleared",s)}}}),[o,t,n,i,r])}(C,r,u),function(t){var n=(0,e.useContext)(VI).fabricCanvas;(0,e.useEffect)((function(){var e=function(e){"textbox"===e.type&&void 0!==e.id&&t([e.id])},r=function(t){t.target&&"text"in t.target&&!t.target.text&&e(t.target)};function o(t){var r=null===n||void 0===n?void 0:n.getActiveObject();"Delete"===t.key&&r&&"isEditing"in r&&!r.isEditing&&e(r)}return null===n||void 0===n||n.on("before:selection:cleared",r),document.addEventListener("keydown",o),function(){null===n||void 0===n||n.off("before:selection:cleared",r),document.removeEventListener("keydown",o)}}),[n,t])}(h),function(t){var n=(0,e.useContext)(VI).fabricCanvas;(0,e.useEffect)((function(){function e(){var e;"textbox"===(null===(e=null===n||void 0===n?void 0:n.getActiveObject())||void 0===e?void 0:e.type)&&(null===n||void 0===n||n.discardActiveObject(),null===n||void 0===n||n.requestRenderAll())}function r(t){"Escape"===t.key&&e()}if("Text"===t)return document.addEventListener("keydown",r),function(){document.removeEventListener("keydown",r)};e()}),[n,t])}(u),function(t,n,r,o,i){var a=(0,e.useContext)(VI).fabricCanvas,s=(0,e.useContext)(WI).fabric;(0,e.useEffect)((function(){if(s){var e=null===a||void 0===a?void 0:a.getObjects("textbox").find((function(e){return e.id===i}));if(e instanceof s.Textbox){var l=e.styles,u=t.find((function(t){return t.id===e.id&&t.contentType===Lu.A.TextContent}));if(u&&(Object.isExtensible(l)||e.set("styles",JSON.parse(JSON.stringify(l))),o&&u.drawingAttributes)){Object.entries(o).forEach((function(t){var n,r,o,i=t[0],a=t[1];e.isEditing&&e.selectionStart!==e.selectionEnd?e.setSelectionStyles(((n={})[i]=a,n)):e.setSelectionStyles(((r={})[i]=a,r),0,null===(o=e.text)||void 0===o?void 0:o.length)}));var c=e.styles;n(vA(vA({},u),{drawingAttributes:vA(vA({},u.drawingAttributes),{styles:c})})),null===r||void 0===r||r(void 0)}null===a||void 0===a||a.requestRenderAll()}}}),[a,o,t,n,r,s,i])}(d,w,P,E,S),e.createElement("canvas",{ref:I,style:yA({},l)})}));function xA(e,t){e.output=t}function _A(e,t,n){xA(e,t),xA(t,n)}function CA(e,t,n,r){xA(e,t),_A(t,n,r)}function wA(e,t,n,r,o){_A(e,t,n),_A(n,r,o)}const SA=.5;function kA(e){return{x:e.offsetX,y:e.offsetY,pressure:e.pressure,tiltX:e.tiltX,tiltY:e.tiltY,timestamp:e.timeStamp}}function TA(e){return{x:e.offsetX,y:e.offsetY,pressure:SA,tiltX:e.tiltX,tiltY:e.tiltY,timestamp:e.timeStamp}}class EA{onPointerDown(e){this.output.beginStroke(TA(e))}onPointerMove(e){this.output.addPoint(TA(e))}onPointerUp(e){this.output.endStroke(TA(e))}}function PA(e){let t=e.offsetX,n=e.offsetY;const r=e.currentTarget;if(null!==r){const o=r.getBoundingClientRect();t=e.clientX-o.left,n=e.clientY-o.top}return{x:t,y:n}}class IA{onPointerDown(e){this.output.beginStroke(function(e){const t=PA(e);return{x:t.x,y:t.y,pressure:SA,tiltX:e.tiltX,tiltY:e.tiltY,timestamp:e.timeStamp}}(e))}onPointerMove(e){this.output.addPoint(TA(e))}onPointerUp(e){this.output.endStroke(TA(e))}}class AA{onPointerDown(e){this.output.beginStroke(kA(e))}onPointerMove(e){this.output.addPoint(kA(e))}onPointerUp(e){this.output.endStroke(kA(e))}}class RA{onPointerDown(e){this.output.beginStroke(function(e){const t=PA(e);return{x:t.x,y:t.y,pressure:e.pressure,tiltX:e.tiltX,tiltY:e.tiltY,timestamp:e.timeStamp}}(e))}onPointerMove(e){this.output.addPoint(kA(e))}onPointerUp(e){this.output.endStroke(kA(e))}}function LA(){return!(-1!==navigator.userAgent.indexOf("Firefox"))}function MA(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return LA()?e?new RA:new AA:e?new IA:new EA}class BA{beginStroke(e){this.lastPoint=e,this.output.beginStroke(e)}addPoint(e){this.lastPoint=e,this.output.addPoint(e)}endStroke(e){this.lastPoint=e,this.output.endStroke(e)}}class OA{beginStroke(e){this.output.beginStroke(e),this.point=e}addPoint(e){this.point.x===e.x&&this.point.y===e.y||(this.output.addPoint(e),this.point=e)}endStroke(e){this.output.endStroke(e)}}class FA{beginStroke(e){this.out1={x:e.x,y:e.y},this.out2=this.out1,this.output.beginStroke(e)}addPoint(e){this.output.addPoint(this.filter(e))}endStroke(e){this.output.endStroke(this.filter(e))}filter(e){const t={x:zA(e.x,this.out1.x,this.out2.x),y:zA(e.y,this.out1.y,this.out2.y)};return this.out2=this.out1,this.out1=t,{x:t.x,y:t.y,pressure:e.pressure,tiltX:e.tiltX,tiltY:e.tiltY,timestamp:e.timestamp}}}const DA=1.33,NA=-.5,UA=1-DA-NA;function zA(e,t,n){return UA*e+DA*t+NA*n}class jA{constructor(){this.lastPressure=SA}beginStroke(e){this.output.beginStroke(e),this.lastPressure=e.pressure}addPoint(e){this.output.addPoint(e),this.lastPressure=e.pressure}endStroke(e){this.output.endStroke(0===e.pressure?{x:e.x,y:e.y,pressure:this.lastPressure,tiltX:e.tiltX,tiltY:e.tiltY,timestamp:e.timestamp}:e)}}class VA{constructor(e){this.deduper=new OA,this.endStrokePressure=new jA,this.jitter=new FA,e?(this.preJitterLastPointExtractor=new BA,CA(this.deduper,this.endStrokePressure,this.preJitterLastPointExtractor,this.jitter)):_A(this.deduper,this.endStrokePressure,this.jitter)}beginStroke(e){xA(this.jitter,this.output),this.deduper.beginStroke(e)}addPoint(e){this.deduper.addPoint(e)}endStroke(e){this.deduper.endStroke(e)}}function WA(e,t,n,r){const o=(e+t)/2,i=(t+n)/2,a=(n+r)/2,s=(o+i)/2,l=(i+a)/2;return[e,o,s,(s+l)/2,l,a,r]}function HA(e,t,n,r){return[(n-e)/6+t,(t-r)/6+n]}class qA{constructor(){this.began=!1}beginStroke(e){this.output.beginStroke(e),this.cp=[e,e,e,e],this.began=!0}addPoint(e){const[t,n]=this.push(e);this.began?this.began=!1:this.output.addSegment(t,n,this.cp[2])}endStroke(e){this.addPoint(e);const[t,n]=this.push(e);this.output.endStroke(t,n,this.cp[2])}push(e){return this.cp.shift(),this.cp.push(e),function(e,t,n,r){const[o,i]=HA(e.x,t.x,n.x,r.x),[a,s]=HA(e.y,t.y,n.y,r.y),[l,u]=KA(t.pressure,n.pressure),[c,d]=KA(t.tiltX,n.tiltX),[p,f]=KA(t.tiltY,n.tiltY),[h,m]=KA(t.timestamp,n.timestamp);return[{x:o,y:a,pressure:l,tiltX:c,tiltY:p,timestamp:h},{x:i,y:s,pressure:u,tiltX:d,tiltY:f,timestamp:m}]}(this.cp[0],this.cp[1],this.cp[2],this.cp[3])}}function KA(e,t){const n=(t-e)/3;return[e+n,t-n]}class GA{constructor(){this.deduperJitterTransform=new VA(!1),this.fitter=new qA,xA(this.deduperJitterTransform,this.fitter)}beginStroke(e){xA(this.fitter,this.output),this.deduperJitterTransform.beginStroke(e)}addPoint(e){this.deduperJitterTransform.addPoint(e)}endStroke(e){this.deduperJitterTransform.endStroke(e)}}function ZA(e,t){return e.x*t.x+e.y*t.y}function XA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function YA(e,t){const n=XA(e,t);return ZA(n,n)}class QA{constructor(e){this.flatness=e*e}beginStroke(e){this.output.beginStroke(e),this.beginPoint=e}addSegment(e,t,n){JA(this.beginPoint,e,t,n,this.flatness,this.output),this.output.addPoint(n),this.beginPoint=n}endStroke(e,t,n){JA(this.beginPoint,e,t,n,this.flatness,this.output),this.output.endStroke(n)}}function JA(e,t,n,r,o,i){const[a,s,l,u,c,d,p]=function(e,t,n,r){const[o,i,a,s,l,u,c]=WA(e.x,t.x,n.x,r.x),[d,p,f,h,m,g,v]=WA(e.y,t.y,n.y,r.y),[y,b,x,_,C,w,S]=WA(e.pressure,t.pressure,n.pressure,r.pressure),[k,T,E,P,I,A,R]=WA(e.tiltX,t.tiltX,n.tiltX,r.tiltX),[L,M,B,O,F,D,N]=WA(e.tiltY,t.tiltY,n.tiltY,r.tiltY),[U,z,j,V,W,H,q]=WA(e.timestamp,t.timestamp,n.timestamp,r.timestamp);return[{x:o,y:d,pressure:y,tiltX:k,tiltY:L,timestamp:U},{x:i,y:p,pressure:b,tiltX:T,tiltY:M,timestamp:z},{x:a,y:f,pressure:x,tiltX:E,tiltY:B,timestamp:j},{x:s,y:h,pressure:_,tiltX:P,tiltY:O,timestamp:V},{x:l,y:m,pressure:C,tiltX:I,tiltY:F,timestamp:W},{x:u,y:g,pressure:w,tiltX:A,tiltY:D,timestamp:H},{x:c,y:v,pressure:S,tiltX:R,tiltY:N,timestamp:q}]}(e,t,n,r);(function(e,t,n){const r=YA(t,e);if(0===r)return YA(n,e);const o=(n.x-t.x)*(t.y-e.y)-(t.x-e.x)*(n.y-t.y);return o*o/r})(a,p,u)<=o||(JA(a,s,l,u,o,i),i.addPoint(u),JA(u,c,d,p,o,i))}class $A{constructor(e){this.bezierStrokePath=new GA,this.flattener=new QA(e),xA(this.bezierStrokePath,this.flattener)}beginStroke(e){xA(this.flattener,this.output),this.bezierStrokePath.beginStroke(e)}addPoint(e){this.bezierStrokePath.addPoint(e)}endStroke(e){this.bezierStrokePath.endStroke(e)}}class eR{constructor(e){this.pointerToStroke=MA(),this.strokeSmoothener=new $A(e),xA(this.pointerToStroke,this.strokeSmoothener)}onPointerDown(e){xA(this.strokeSmoothener,this.output),this.pointerToStroke.onPointerDown(e)}onPointerMove(e){this.pointerToStroke.onPointerMove(e)}onPointerUp(e){this.pointerToStroke.onPointerUp(e)}}class tR{constructor(e){this.onPointerDown=e=>{this.output.onPointerDown(e)},this.onTouchStart=e=>{this.output.onTouchStart(e)},this.element=e}activate(){this.element.addEventListener("pointerdown",this.onPointerDown,!0),this.element.addEventListener("touchstart",this.onTouchStart,!0)}deactivate(){this.element.removeEventListener("pointerdown",this.onPointerDown,!0),this.element.removeEventListener("touchstart",this.onTouchStart,!0)}}class nR{constructor(){this.active=!1}onMouseDown(e){this.output.onMouseDown(e),this.active=!0}onMouseMove(e){this.active&&this.output.onMouseMove(e)}onMouseUp(e){this.active=!1,this.output.onMouseUp(e)}}class rR{constructor(e){this.onMouseDown=e=>{this.output.onMouseDown(e)},this.onMouseMove=e=>{this.output.onMouseMove(e)},this.onMouseUp=e=>{this.output.onMouseUp(e)},this.element=e}activate(){this.element.addEventListener("mousedown",this.onMouseDown),this.element.addEventListener("mousemove",this.onMouseMove),this.element.addEventListener("mouseup",this.onMouseUp)}deactivate(){this.element.removeEventListener("mousedown",this.onMouseDown),this.element.removeEventListener("mousemove",this.onMouseMove),this.element.removeEventListener("mouseup",this.onMouseUp)}}function oR(e){e.preventDefault()}function iR(e){e.preventDefault(),e.stopPropagation()}class aR{onMouseDown(e){this.output.onMouseDown(e),iR(e)}onMouseMove(e){this.output.onMouseMove(e),iR(e)}onMouseUp(e){this.output.onMouseUp(e),iR(e)}}class sR{constructor(e){_A(this.head=new rR(e),new aR,this.tail=new nR)}activate(){this.head.activate()}deactivate(){this.head.deactivate()}set output(e){this.tail.output=e}}function lR(e){return{offsetX:e.offsetX,offsetY:e.offsetY,pressure:.5,tiltX:0,tiltY:0,timeStamp:e.timeStamp,pointerType:"mouse"}}class uR{onMouseDown(e){this.output.onPointerDown(lR(e))}onMouseMove(e){this.output.onPointerMove(lR(e))}onMouseUp(e){this.output.onPointerUp(lR(e))}}class cR{constructor(e){this.element=e}onPointerDown(e){try{this.element.setPointerCapture(e.pointerId)}finally{this.output.onPointerDown(e)}}onPointerMove(e){this.output.onPointerMove(e)}onPointerUp(e){this.output.onPointerUp(e)}}class dR{constructor(e){this.onPointerDown=e=>{this.output.onPointerDown(e)},this.onPointerMove=e=>{this.output.onPointerMove(e)},this.onPointerUp=e=>{this.output.onPointerUp(e)},this.element=e}activate(){this.element.addEventListener("pointerdown",this.onPointerDown),this.element.addEventListener("pointermove",this.onPointerMove),this.element.addEventListener("pointerup",this.onPointerUp)}deactivate(){this.element.removeEventListener("pointerdown",this.onPointerDown),this.element.removeEventListener("pointermove",this.onPointerMove),this.element.removeEventListener("pointerup",this.onPointerUp)}}class pR{constructor(e){this.element=e}activate(){this.element.addEventListener("touchmove",oR)}deactivate(){this.element.removeEventListener("touchmove",oR)}}class fR{onPointerDown(e){this.output.onPointerDown(e),iR(e)}onPointerMove(e){this.output.onPointerMove(e),iR(e)}onPointerUp(e){this.output.onPointerUp(e),iR(e)}}var hR=function(){function e(e,t){this.activePointerId=void 0,this.setMarkupCursorScreenPosition=e,this.setIsKeyboardInputActive=t}return e.prototype.onPointerDown=function(e){void 0===this.activePointerId&&(this.activePointerId=e.pointerId,this.output.onPointerDown(e))},e.prototype.onPointerMove=function(e){this.setIsKeyboardInputActive(!1),this.setMarkupCursorScreenPosition({x:e.offsetX,y:e.offsetY}),this.activePointerId===e.pointerId&&this.output.onPointerMove(e)},e.prototype.onPointerUp=function(e){this.activePointerId===e.pointerId&&(this.output.onPointerUp(e),this.activePointerId=void 0)},e}();class mR{onPointerDown(e){this.output.onPointerDown(e)}onPointerMove(e){(function(e){if("getCoalescedEvents"in e){const t=e.getCoalescedEvents();if(t.length>=1)return t}return[e]})(e).forEach((e=>{this.output.onPointerMove(e)}))}onPointerUp(e){this.output.onPointerUp(e)}}var gR=function(){function e(e,t,n){wA(this.head=new dR(e),new cR(e),new fR,new hR(t,n),this.tail=new mR),this.preventDefaultOnTouchMove=new pR(e)}return e.prototype.activate=function(){var e;this.head.activate(),null===(e=this.preventDefaultOnTouchMove)||void 0===e||e.activate()},e.prototype.deactivate=function(){var e;this.head.deactivate(),null===(e=this.preventDefaultOnTouchMove)||void 0===e||e.deactivate()},Object.defineProperty(e.prototype,"output",{set:function(e){this.tail.output=e},enumerable:!1,configurable:!0}),e}();class vR{constructor(){this.wasPenDown=!1}onPointerDown(e){this.wasPenDown=function(e){return"pen"===e.pointerType}(e)}onTouchStart(e){this.wasPenDown&&iR(e)}}class yR{constructor(){this.activeIdentifier=-1}onTouchStart(e,t){-1===this.activeIdentifier&&(this.activeIdentifier=t.identifier,this.output.onTouchStart(e,t))}onTouchMove(e,t){this.activeIdentifier===t.identifier&&this.output.onTouchMove(e,t)}onTouchEnd(e,t){this.activeIdentifier===t.identifier&&(this.output.onTouchEnd(e,t),this.activeIdentifier=-1)}}class bR{onTouchStart(e){for(let t=0;t<e.changedTouches.length;t+=1)this.output.onTouchStart(e,e.changedTouches[t])}onTouchMove(e){for(let t=0;t<e.changedTouches.length;t+=1)this.output.onTouchMove(e,e.changedTouches[t])}onTouchEnd(e){for(let t=0;t<e.changedTouches.length;t+=1)this.output.onTouchEnd(e,e.changedTouches[t])}}class xR{constructor(e){this.onTouchStart=e=>{this.output.onTouchStart(e)},this.onTouchMove=e=>{this.output.onTouchMove(e)},this.onTouchEnd=e=>{this.output.onTouchEnd(e)},this.element=e}activate(){this.element.addEventListener("touchstart",this.onTouchStart),this.element.addEventListener("touchmove",this.onTouchMove),this.element.addEventListener("touchend",this.onTouchEnd)}deactivate(){this.element.removeEventListener("touchstart",this.onTouchStart),this.element.removeEventListener("touchmove",this.onTouchMove),this.element.removeEventListener("touchend",this.onTouchEnd)}}class _R{onTouchStart(e){this.output.onTouchStart(e),iR(e)}onTouchMove(e){this.output.onTouchMove(e),iR(e)}onTouchEnd(e){this.output.onTouchEnd(e),iR(e)}}class CR{constructor(e){CA(this.head=new xR(e),new _R,new bR,this.tail=new yR)}activate(){this.head.activate()}deactivate(){this.head.deactivate()}set output(e){this.tail.output=e}}function wR(e){return 180*e/Math.PI}function SR(e,t){const n=t.target.getBoundingClientRect();return{offsetX:t.clientX-n.left,offsetY:t.clientY-n.top,pressure:t.force,tiltX:wR(Math.atan(Math.cos(t.azimuthAngle)/Math.tan(t.altitudeAngle))),tiltY:wR(Math.atan(Math.sin(t.azimuthAngle)/Math.tan(t.altitudeAngle))),timeStamp:e.timeStamp,pointerType:"touch"}}class kR{onTouchStart(e,t){this.output.onPointerDown(SR(e,t))}onTouchMove(e,t){this.output.onPointerMove(SR(e,t))}onTouchEnd(e,t){this.output.onPointerUp(SR(e,t))}}const TR={type:0},ER={width:4,height:4,color:{r:0,g:0,b:0,a:1},effect:TR,tip:"ellipse",rasterOperation:"copy"};function PR(e){return{width:e.width,height:e.height,color:e.color,effect:e.effect,tip:e.tip,rasterOperation:e.rasterOperation}}class IR{constructor(e){this.attributes=PR(void 0!==e?e:ER)}setWidth(e){return this.attributes.width=e,this}setHeight(e){return this.attributes.height=e,this}setColor(e){return this.attributes.color=e,this}setEffect(e){return this.attributes.effect=e,this}setTip(e){return this.attributes.tip=e,this}setRasterOperation(e){return this.attributes.rasterOperation=e,this}build(){return PR(this.attributes)}}class AR{constructor(){this.offsetX=0,this.offsetY=0}setDrawingAttributes(e){this.output.setDrawingAttributes(1===e.effect.type?new IR(e).setEffect({type:1,pattern:e.effect.pattern,offsetX:this.offsetX,offsetY:this.offsetY}).build():e)}beginStroke(e){this.output.beginStroke(e),this.begin=e}addPoint(e){this.output.addPoint(e)}endStroke(e){this.output.endStroke(e);const t=e.x-this.begin.x,n=e.y-this.begin.y,r=t>0?48:-48;this.offsetX+=t+r,this.offsetY+=n+r,this.offsetX%=540,this.offsetY%=540}}class RR{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ER;this.offset=new AR,this.setDrawingAttributes(e)}setDrawingAttributes(e){this.attributes=e}getDrawingAttributes(){return this.attributes}beginStroke(e){xA(this.offset,this.output),this.out=1===this.attributes.effect.type?this.offset:this.output,this.out.setDrawingAttributes(this.attributes),this.out.beginStroke(e)}addPoint(e){this.out.addPoint(e)}endStroke(e){this.out.endStroke(e)}}function LR(e){return 5===e.button||32===(32&e.buttons)}var MR=n(88105);function BR(e){return function(e){var t=0===e.pressure,n="mouse"===e.pointerType||""===e.pointerType;return t&&n}(e)?function(e,t){return new PointerEvent(e.type,{pressure:t,clientX:e.offsetX,clientY:e.offsetY,altKey:e.altKey,bubbles:e.bubbles,button:e.button,buttons:e.buttons,cancelable:e.cancelable,composed:e.composed,ctrlKey:e.ctrlKey,detail:e.detail,height:e.height,isPrimary:e.isPrimary,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,pointerId:e.pointerId,pointerType:e.pointerType,relatedTarget:e.relatedTarget,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey,tangentialPressure:e.tangentialPressure,tiltX:e.tiltX,tiltY:e.tiltY,twist:e.twist,width:e.width})}(e,.5):e}var OR=function(){function e(e,t,n,r,o,i){this.wetCanvas=e,this.wetInkDryer=t,this.inkRenderer=n,this.activeInkBrush=r,this.wetStrokeCollector=o,this.onPointerEvent=i,this.ignoreStroke=!1,this.drawingBounds=Cd.qs,this.makeStrokeStraightTimer=void 0}return e.prototype.getShouldIgnoreStrokeOnPointerDown=function(e){if(!(0,YI.V$)(e))return!0;var t={x:e.offsetX,y:e.offsetY};return!(0,Cd.pN)(t,this.drawingBounds)},e.prototype.forceInkRendererToLineMode=function(e){this.inkRenderer.setIncrementalRender(!e&&function(e){switch(e.inkType){case hu.p.Highlighter:return!1;case hu.p.Pen:return e.strokeShape.lineMode!==MR.y.StraightLine;default:throw new to.x(e.inkType)}}(this.activeInkBrush)),this.inkRenderer.setIsLineMode(e||this.activeInkBrush.strokeShape.lineMode===MR.y.StraightLine)},e.prototype.onPointerDown=function(e){var t,n=BR(e);if(null===(t=this.onPointerEvent)||void 0===t||t.call(this,n),(LR(n)||function(e){return 2===e.button||2===(2&e.buttons)}(n))&&this.wetInkDryer.dryAllStrokes(),this.ignoreStroke=this.getShouldIgnoreStrokeOnPointerDown(n),!this.ignoreStroke){try{this.wetCanvas.setPointerCapture(n.pointerId)}catch(r){}this.forceInkRendererToLineMode(n.shiftKey),this.output.onPointerDown(n)}},e.prototype.onPointerMove=function(e){var t,n=this,r={x:e.offsetX,y:e.offsetY};this.prevPointerMovePos&&!(0,Un.zN)(r,this.prevPointerMovePos)&&(this.makeStrokeStraightTimer&&window.clearTimeout(this.makeStrokeStraightTimer),this.makeStrokeStraightTimer=window.setTimeout((function(){n.wetStrokeCollector.makeCurrentStrokeStraight(),n.forceInkRendererToLineMode(!0)}),1e3)),this.prevPointerMovePos=r;var o=BR(e);null===(t=this.onPointerEvent)||void 0===t||t.call(this,o),this.ignoreStroke||(this.forceInkRendererToLineMode(o.shiftKey||this.inkRenderer.getIsLineMode()),this.output.onPointerMove(o))},e.prototype.onPointerUp=function(e){var t;this.makeStrokeStraightTimer&&window.clearTimeout(this.makeStrokeStraightTimer);var n=BR(e);if(null===(t=this.onPointerEvent)||void 0===t||t.call(this,n),this.ignoreStroke)this.ignoreStroke=!1;else{this.forceInkRendererToLineMode(n.shiftKey),this.output.onPointerUp(n);try{this.wetCanvas.releasePointerCapture(n.pointerId)}catch(r){}}},e.prototype.setDrawingBounds=function(e){this.drawingBounds=e},e}();var FR=function(){function e(e){var t=this;this.onPointerOut=function(e){t.output.onPointerOut(e)},this.element=e}return e.prototype.activate=function(){this.element.addEventListener("pointerout",this.onPointerOut)},e.prototype.deactivate=function(){this.element.removeEventListener("pointerout",this.onPointerOut)},e}(),DR=function(){function e(){}return e.prototype.onPointerDown=function(e){this.output.onPointerDown(e),this.lastStrokeInProgressEvent=e},e.prototype.onPointerMove=function(e){this.output.onPointerMove(e),this.lastStrokeInProgressEvent=e},e.prototype.onPointerUp=function(e){this.output.onPointerUp(e),this.lastStrokeInProgressEvent=void 0},e.prototype.getLastStrokeInProgressEvent=function(){return this.lastStrokeInProgressEvent},e}(),NR=function(){function e(e,t,n){void 0===t&&(t=250),void 0===n&&(n=5),this.onLongPressPointerEvent=e,this.longPressMinimalDurationMs=t,this.longPressMaxDistanceCssPixels=n}return e.prototype.onPointerDown=function(e){this.resetLongPress(),this.pointerDownEventData=e,this.longPressTimerId=this.startLongPressTimer(),this.output.onPointerDown(e)},e.prototype.onPointerMove=function(e){this.pointerDownEventData&&!(0,Un.Nz)({x:e.x,y:e.y},{x:this.pointerDownEventData.x,y:this.pointerDownEventData.y},this.longPressMaxDistanceCssPixels)&&this.resetLongPress(),this.output.onPointerMove(e)},e.prototype.onPointerUp=function(e){this.pointerDownEventData&&this.resetLongPress(),this.output.onPointerUp(e)},e.prototype.resetLongPress=function(){this.pointerDownEventData=void 0,this.longPressTimerId&&(clearTimeout(this.longPressTimerId),this.longPressTimerId=void 0)},e.prototype.startLongPressTimer=function(){var e=this;return window.setTimeout((function(){e.pointerDownEventData&&e.onLongPressPointerEvent(e.pointerDownEventData)}),this.longPressMinimalDurationMs)},e}(),UR=function(){function e(){}return e.prototype.onPointerDown=function(e){this.output.onPointerDown(e)},e.prototype.onPointerMove=function(e){this.output.onPointerMove(e)},e.prototype.onPointerUp=function(e){this.output.onPointerUp(e)},e}(),zR=function(){function e(e,t,n,r,o,i,a,s,l,u,c,d,p,f,h){if(i?_A(this.drawer=new eR(a),this.injector=new RR,n):CA(this.drawer=MA(),new OA,this.injector=new RR,n),void 0!==window.PointerEvent){var m=new gR(e,u,c),g=new OR(o,r,s,l,n,d),v=new DR;wA(this.input=m,this.pointerEventTransform=g,v,p?new NR(p,f,h):new UR,this.drawer),xA(this.inputPointerUpOnPointerOut=new FR(e),function(e,t){return{onPointerOut:function(n){var r=t.getLastStrokeInProgressEvent();r&&e.head.onPointerUp(r)}}}(m,v))}else if(void 0!==window.TouchEvent){var y=new CR(e);_A(y,new kR,this.drawer),this.input=y}else{var b=new sR(e);_A(b,new uR,this.drawer),this.input=b}xA(this.preventTouchStartOnStylusDown=new tR(t),new vR)}return e.prototype.activate=function(){var e;this.input.activate(),null===(e=this.inputPointerUpOnPointerOut)||void 0===e||e.activate(),this.activateStylus()},e.prototype.deactivate=function(){var e;this.deactivateStylus(),null===(e=this.inputPointerUpOnPointerOut)||void 0===e||e.deactivate(),this.input.deactivate()},e.prototype.activateStylus=function(){this.preventTouchStartOnStylusDown.activate()},e.prototype.deactivateStylus=function(){this.preventTouchStartOnStylusDown.deactivate()},e.prototype.setDrawingAttributes=function(e){this.injector.setDrawingAttributes(e)},e.prototype.setDrawingBounds=function(e){var t;null===(t=this.pointerEventTransform)||void 0===t||t.setDrawingBounds(e)},e}();class jR{constructor(e){this.isLoopActive=!1,this.animationCallback=()=>{this.delegate(),this.isLoopActive&&window.requestAnimationFrame(this.animationCallback)},this.delegate=e}onStrokeBegin(){this.isLoopActive=!0,window.requestAnimationFrame(this.animationCallback)}onStrokeEnd(){this.isLoopActive=!1}}function VR(e){throw e}class WR{constructor(e){this.context=e}beginPath(){this.context.beginPath()}arc(e,t,n,r,o,i){this.context.arc(e,t,n,r,o,i)}circularArc(e,t,n,r,o,i,a,s,l){let u=Math.atan2(t-r,e-n),c=Math.atan2(a-r,i-n);u=u<0?2*Math.PI+u:u,c=c<0?2*Math.PI+c:c,this.arc(n,r,o,u,c,l)}lineTo(e,t){this.context.lineTo(e,t)}moveTo(e,t){this.context.moveTo(e,t)}closePath(){this.context.closePath()}}class HR{toCSSColor(e){return function(e){return`rgba(${e.r},${e.g},${e.b},${e.a})`}(e)}}const qR=1e-6;function KR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qR;return e<-t||t<e}function GR(e,t){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qR;return-t<=e&&e<=t}(e-t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:qR)}function ZR(e){return 1.5*e+.25}class XR{constructor(e,t,n){this.incomingTangent1={x:Number.NaN,y:Number.NaN},this.incomingTangent2={x:Number.NaN,y:Number.NaN},this.outgoingTangent1={x:Number.NaN,y:Number.NaN},this.outgoingTangent2={x:Number.NaN,y:Number.NaN},this.center={x:e,y:t},this.radius=n}}class YR{constructor(e,t){this.stroke=[],this.builder=e,this.tipRadius=t.width/2}beginStroke(e){this.builder.beginPath(),this.stroke=[],this.addPoint(e)}addPoint(e){const t=new XR(e.x,e.y,this.tipRadius*ZR(e.pressure));this.stroke.push(t)}endStroke(e){this.addPoint(e),function(e){for(let t=1;t<e.length;t++){const n=e[t-1],r=e[t],o=n.center.x,i=n.center.y,a=n.radius,s=r.center.x,l=r.center.y,u=r.radius,c=o-s,d=i-l,p=Math.sqrt(c*c+d*d),f=Math.abs(u-a);if(f>p)continue;const h=1/p,m=f*h;let g=Math.sqrt(1-m*m),v=c*h,y=d*h;a>u&&(g=-g,v=-v,y=-y);const b=v*m,x=y*m,_=v*g,C=y*g,w=b+C,S=x-_,k=b-C,T=x+_;n.outgoingTangent1.x=o+a*w,n.outgoingTangent1.y=i+a*S,n.outgoingTangent2.x=o+a*k,n.outgoingTangent2.y=i+a*T,r.incomingTangent1.x=s+u*w,r.incomingTangent1.y=l+u*S,r.incomingTangent2.x=s+u*k,r.incomingTangent2.y=l+u*T}}(this.stroke),function(e,t){let n=0;for(let r=0;r<t.length;r++)(r===t.length-1||isNaN(t[r].outgoingTangent1.x))&&(QR(e,t,n,r),n=r+1)}(this.builder,this.stroke),this.builder.closePath()}}function QR(e,t,n,r){if(n===r){const r=t[n];return e.moveTo(r.center.x-r.radius,r.center.y),e.circularArc(r.center.x-r.radius,r.center.y,r.center.x,r.center.y,r.radius,r.center.x+r.radius,r.center.y,!1,!0),void e.circularArc(r.center.x+r.radius,r.center.y,r.center.x,r.center.y,r.radius,r.center.x-r.radius,r.center.y,!1,!0)}let o=t[n];e.moveTo(o.outgoingTangent1.x,o.outgoingTangent1.y);let i,a=o;o=t[n+1];for(let u=n+1;u<r;u++){i=t[u+1];const n=JR(a.outgoingTangent1,o.incomingTangent1,o.outgoingTangent1,i.incomingTangent1);void 0!==n?e.lineTo(n.x,n.y):(e.lineTo(o.incomingTangent1.x,o.incomingTangent1.y),e.circularArc(o.incomingTangent1.x,o.incomingTangent1.y,o.center.x,o.center.y,o.radius,o.outgoingTangent1.x,o.outgoingTangent1.y,!1,!0)),a=o,o=i}const s=o.radius>t[r-1].radius;e.lineTo(o.incomingTangent1.x,o.incomingTangent1.y),e.circularArc(o.incomingTangent1.x,o.incomingTangent1.y,o.center.x,o.center.y,o.radius,o.incomingTangent2.x,o.incomingTangent2.y,s,!0),a=o,o=t[r-1];for(let u=r-1;u>n;u--){i=t[u-1];const n=JR(a.incomingTangent2,o.outgoingTangent2,o.incomingTangent2,i.outgoingTangent2);void 0!==n?e.lineTo(n.x,n.y):(e.lineTo(o.outgoingTangent2.x,o.outgoingTangent2.y),e.circularArc(o.outgoingTangent2.x,o.outgoingTangent2.y,o.center.x,o.center.y,o.radius,o.incomingTangent2.x,o.incomingTangent2.y,!1,!0)),a=o,o=i}const l=o.radius>t[n+1].radius;e.lineTo(o.outgoingTangent2.x,o.outgoingTangent2.y),e.circularArc(o.outgoingTangent2.x,o.outgoingTangent2.y,o.center.x,o.center.y,o.radius,o.outgoingTangent1.x,o.outgoingTangent1.y,l,!0)}function JR(e,t,n,r){if((r.x-n.x)*(t.y-e.y)-(t.x-e.x)*(r.y-n.y)>0)return;const o=t.y-e.y,i=e.x-t.x,a=o*e.x+i*e.y,s=r.y-n.y,l=n.x-r.x,u=s*n.x+l*n.y,c=o*l-s*i;if(KR(c)){const d=1/c,p=(l*a-i*u)*d,f=(o*u-s*a)*d;if($R(p,f,e,t)&&$R(p,f,n,r))return{x:p,y:f}}}function $R(e,t,n,r){return(Math.min(n.x,r.x)<e||GR(Math.min(n.x,r.x),e))&&(Math.max(n.x,r.x)>e||GR(Math.max(n.x,r.x),e))&&(Math.min(n.y,r.y)<t||GR(Math.min(n.y,r.y),t))&&(Math.max(n.y,r.y)>t||GR(Math.max(n.y,r.y),t))}const eL=2*Math.PI;function tL(e,t,n){e.arc(t.x,t.y,n,0,eL)}function nL(e,t,n,r){const o=t.x-n,i=t.x+n,a=t.y-r,s=t.y+r;e.moveTo(o,a),e.lineTo(i,a),e.lineTo(i,s),e.lineTo(o,s),e.lineTo(o,a)}function rL(e,t){e.moveTo(t.p1.x,t.p1.y),e.lineTo(t.p2.x,t.p2.y),e.lineTo(t.p3.x,t.p3.y),e.lineTo(t.p4.x,t.p4.y),e.lineTo(t.p1.x,t.p1.y)}class oL{constructor(e,t){this.quad={p1:{x:0,y:0},p2:{x:0,y:0},p3:{x:0,y:0},p4:{x:0,y:0}},this.builder=e,this.tipRadius=t.width/2}beginStroke(e){this.builder.beginPath(),this.updateRadius(e),tL(this.builder,e,this.radius),this.lastPoint=e}addPoint(e){this.updateRadius(e),function(e,t,n,r,o){const i=n.x-e.x,a=n.y-e.y,s=Math.sqrt(i*i+a*a);if(s<=Math.abs(r-t))return!1;const l=i/s,u=-a/s,c=(r-t)/s,d=Math.sqrt(1-c*c),p=u*d+l*c,f=l*d-u*c,h=u*d-l*c,m=l*d+u*c;return o.p1.x=e.x-p*t,o.p1.y=e.y-f*t,o.p2.x=n.x-p*r,o.p2.y=n.y-f*r,o.p3.x=n.x+h*r,o.p3.y=n.y+m*r,o.p4.x=e.x+h*t,o.p4.y=e.y+m*t,!0}(e,this.radius,this.lastPoint,this.lastRadius,this.quad)&&(rL(this.builder,this.quad),tL(this.builder,e,this.radius)),this.lastPoint=e}endStroke(e){this.addPoint(e),this.builder.closePath()}updateRadius(e){this.lastRadius=this.radius,this.radius=this.tipRadius*ZR(e.pressure)}}class iL{constructor(e){this.builder=e}beginStroke(e){this.builder.beginPath(),this.builder.moveTo(e.x,e.y)}addPoint(e){this.builder.lineTo(e.x,e.y)}endStroke(e){this.addPoint(e)}}function aL(e,t,n,r,o,i,a){const s=e.x-t,l=e.y-n,u=e.x+t,c=e.y+n,d=r.x-o,p=r.y-i,f=r.x+o,h=r.y+i;if(d>=s&&p>=l&&f<=u&&h<=c||s>=d&&l>=p&&u<=f&&c<=h)return!1;const m=r.x-e.x>0?1:-1,g=r.y-e.y>0?1:-1;return a.p1.x=e.x-g*t,a.p1.y=e.y+m*n,a.p2.x=e.x+g*t,a.p2.y=e.y-m*n,a.p3.x=r.x+g*o,a.p3.y=r.y-m*i,a.p4.x=r.x-g*o,a.p4.y=r.y+m*i,!0}class sL{constructor(e,t,n,r){this.center={x:e,y:t},this.halfWidth=n,this.halfHeight=r}}class lL{constructor(e,t){this.stroke=[],this.quads=[],this.builder=e,this.tipWidth=t.width/2,this.tipHeight=t.height/2}beginStroke(e){this.builder.beginPath(),this.stroke=[],this.quads=[],this.addPoint(e)}addPoint(e){const t=ZR(e.pressure),n=new sL(e.x,e.y,this.tipWidth*t,this.tipHeight*t),r=this.stroke.length;r>0&&function(e,t,n){const r={p1:{x:0,y:0},p2:{x:0,y:0},p3:{x:0,y:0},p4:{x:0,y:0}};aL(e.center,e.halfWidth,e.halfHeight,t.center,t.halfWidth,t.halfHeight,r)&&n.push(r)}(this.stroke[r-1],n,this.quads),this.stroke.push(n)}endStroke(e){this.addPoint(e),function(e,t,n){if(uL(e,t[0]),0===n.length)return;e.moveTo(n[0].p1.x,n[0].p1.y);for(let r=0;r<n.length;r++)e.lineTo(n[r].p2.x,n[r].p2.y),e.lineTo(n[r].p3.x,n[r].p3.y);for(let r=n.length-1;r>=0;r--)e.lineTo(n[r].p4.x,n[r].p4.y),e.lineTo(n[r].p1.x,n[r].p1.y);t.length>2&&uL(e,t[t.length-2]);uL(e,t[t.length-1])}(this.builder,this.stroke,this.quads),this.builder.closePath()}}function uL(e,t){nL(e,t.center,t.halfWidth,t.halfHeight)}class cL{constructor(e,t){this.quad={p1:{x:0,y:0},p2:{x:0,y:0},p3:{x:0,y:0},p4:{x:0,y:0}},this.builder=e,this.tipHalfWidth=t.width/2,this.tipHalfHeight=t.height/2}beginStroke(e){this.builder.beginPath(),this.updateSize(e),nL(this.builder,e,this.halfWidth,this.halfHeight),this.lastPoint=e}addPoint(e){this.updateSize(e),aL(e,this.halfWidth,this.halfHeight,this.lastPoint,this.lastHalfWidth,this.lastHalfHeight,this.quad)&&(rL(this.builder,this.quad),nL(this.builder,e,this.halfWidth,this.halfHeight)),this.lastPoint=e}endStroke(e){this.addPoint(e),this.builder.closePath()}updateSize(e){this.lastHalfWidth=this.halfWidth,this.lastHalfHeight=this.halfHeight;const t=ZR(e.pressure);this.halfWidth=this.tipHalfWidth*t,this.halfHeight=this.tipHalfHeight*t}}function dL(e,t,n,r,o){e.lineWidth=t.height;const i=function(e,t,n,r,o){if(1===t.effect.type){const r=t.effect,i=n.toCanvasImageSource(r);if(void 0!==i){const n=e.createPattern(i,"repeat");if(null!==n){const i=.5;return e.scale(i,i),e.lineWidth=t.width/i,e.translate(o.x-r.offsetX,o.y-r.offsetY),n}}}return r.toCSSColor(t.color,t)}(e,t,n,r,o);switch(e.strokeStyle=i,e.fillStyle=i,t.tip){case"ellipse":e.lineCap="round",e.lineJoin="round";break;case"rectangle":e.lineCap="butt",e.lineJoin="miter";break;default:VR(t.tip)}switch(t.rasterOperation){case"copy":e.globalCompositeOperation="source-over";break;case"mask":e.globalCompositeOperation="darken";break;case"clear":e.globalCompositeOperation="destination-out";break;default:VR(t.rasterOperation)}}class pL{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new HR;this.renderMode=0,this.context=e,this.canvasPathBuilder=new WR(e),this.effectResolver=t,this.colorResolver=n}setDrawingAttributes(e){this.attributes=e}beginStroke(e){this.pathBuilder=this.makeNewPathBuilder(),this.pathBuilder.beginStroke(e),this.beginPoint=e}addPoint(e){this.pathBuilder.addPoint(e)}endStroke(e){this.pathBuilder.endStroke(e),this.context.save(),dL(this.context,this.attributes,this.effectResolver,this.colorResolver,this.beginPoint),2===this.renderMode?this.context.stroke():this.context.fill(),this.context.restore()}makeNewPathBuilder(){switch(this.renderMode){case 0:return"ellipse"===this.attributes.tip?new oL(this.canvasPathBuilder,this.attributes):new cL(this.canvasPathBuilder,this.attributes);case 1:return"ellipse"===this.attributes.tip?new YR(this.canvasPathBuilder,this.attributes):new lL(this.canvasPathBuilder,this.attributes);case 2:return new iL(this.canvasPathBuilder);default:VR(this.renderMode)}}}class fL{toCanvasImageSource(){}toSVGImageElement(){}}const hL={alpha:!0,desynchronized:!1};function mL(e,t){const n=e.getContext("2d",t);if(null===n)throw new Error("Could not get 2D context from canvas.");return n}function gL(e){return mL(e,hL)}var vL=function(){function e(e,t){var n,r=this;this.strokeBeginEndListener={onStrokeBegin:function(){r.renderLoop.onStrokeBegin()},onStrokeEnd:function(){r.renderLoop.onStrokeEnd()}},this.isIncrementalRender=!0,this.render=function(){r.isIncrementalRender||r.clear(),r.store.streamWetStroke(r.wetRenderer,r.isIncrementalRender)},this.store=t,this.wetCanvasContext=gL(e),this.wetRenderer=(n=this.wetCanvasContext,new pL(n,new fL)),this.renderLoop=new jR(this.render)}return e.prototype.clear=function(){var e;(e=this.wetCanvasContext).save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},e.prototype.setIncrementalRender=function(e){this.isIncrementalRender=e},e.prototype.onStrokeBegin=function(){this.strokeBeginEndListener.onStrokeBegin()},e.prototype.onStrokeEnd=function(){this.strokeBeginEndListener.onStrokeEnd()},e.prototype.setIsLineMode=function(e){this.store.setIsLineMode(e)},e.prototype.getIsLineMode=function(){return this.store.getIsLineMode()},e}();function yL(){}class bL{constructor(){this.baseId=0}generate(){return this.baseId+=1}setBaseId(e){this.baseId=e}}class xL{constructor(){this.id=0,this.drawingAttributes=ER,this.points=[]}streamChannels(e){this.points.forEach((t=>{e.addPoint(t),e.addPressure(function(e){return e.pressure}(t)),e.addTilt(t),e.addTimestamp(function(e){return e.timestamp}(t))}))}streamPoints(e){this.points.forEach((t=>{e.add(t)}))}streamPath(e){_L(this,e,0)}stream(e){CL(this,e,0)}add(e){this.points.push(e)}}function _L(e,t,n){if(n+2>e.points.length)return n;t.beginStroke(e.points[n]);for(let r=n+1;r<e.points.length-1;r+=1)t.addPoint(e.points[r]);return t.endStroke(e.points[e.points.length-1]),e.points.length-1}function CL(e,t,n){return t.setDrawingAttributes(1===e.drawingAttributes.effect.type?new IR(e.drawingAttributes).setEffect({type:1,pattern:e.drawingAttributes.effect.pattern,offsetX:e.drawingAttributes.effect.offsetX+e.points[n].x-e.points[0].x,offsetY:e.drawingAttributes.effect.offsetY+e.points[n].y-e.points[0].y}).build():e.drawingAttributes),_L(e,t,n)}class wL{constructor(e){this.idGenerator=new bL,this.currentStroke=new xL,this.isLineMode=!1,this.inputStrokes=[],this.newPointsIndex=0,this.noop={add:yL},this.output=this.noop,this.beginEndSink=e}setDrawingAttributes(e){this.currentStroke.drawingAttributes=e}beginStroke(e){this.newPointsIndex=0,this.currentStroke.id=this.idGenerator.generate(),this.beginEndSink.onStrokeBegin(),this.output=this.currentStroke,this.output.add(this.isLineMode?this.getConstantPressurePoint(e):e)}addPoint(e){this.isLineMode&&1===this.currentStroke.points.length?this.output.add(this.getConstantPressurePoint(e)):this.isLineMode&&this.currentStroke.points.length>1?this.currentStroke.points[this.currentStroke.points.length-1]=this.getConstantPressurePoint(e):this.output.add(e)}endStroke(e){this.output!==this.noop&&(this.isLineMode&&this.currentStroke.points.length>1?this.currentStroke.points[this.currentStroke.points.length-1]=this.getConstantPressurePoint(e):this.output.add(e),this.inputStrokes.push([this.currentStroke,this.newPointsIndex]),this.cancel())}makeCurrentStrokeStraight(){const e=this.currentStroke.points.length;e>=2&&(this.linePressure=this.getAveragePressureAcrossStroke(this.currentStroke),0===this.linePressure&&(this.linePressure=SA),this.currentStroke.points.splice(1,e-2),this.currentStroke.points[0]=this.getConstantPressurePoint(this.currentStroke.points[0]),this.currentStroke.points[1]=this.getConstantPressurePoint(this.currentStroke.points[1]))}cancel(){this.output!==this.noop&&(this.output=this.noop,this.linePressure=void 0,this.currentStroke=new xL,this.beginEndSink.onStrokeEnd())}streamCollectedStrokes(e){this.inputStrokes.forEach((t=>{e.add(t[0]),t[1]=t[0].points.length-1}))}streamCollectedStrokesNewPoints(e){this.inputStrokes.forEach((t=>{t[1]=CL(t[0],e,t[1])}))}resetCollectedStrokes(){this.inputStrokes=[]}streamCurrentStroke(e){this.newPointsIndex=CL(this.currentStroke,e,0)}streamCurrentStrokeNewPoints(e){this.newPointsIndex=CL(this.currentStroke,e,this.newPointsIndex)}getAveragePressureAcrossStroke(e){let t=0;for(let n=0;n<e.points.length;n+=1)t+=e.points[n].pressure;return 0===t||0===e.points.length?0:t/e.points.length}getConstantPressurePoint(e){return void 0===this.linePressure&&(this.linePressure=0===e.pressure?SA:e.pressure),{x:e.x,y:e.y,pressure:this.linePressure,tiltX:e.tiltX,tiltY:e.tiltY,timestamp:e.timestamp}}}var SL=function(){function e(){var e=this;this.collectedWetStrokesSink=null,this.wetStrokeCollector=new wL({onStrokeBegin:function(){e.wetInkDryer.onStrokeBegin()},onStrokeEnd:function(){e.wetInkDryer.onStrokeEnd()}})}return e.prototype.streamWetStroke=function(e,t){t?(this.wetStrokeCollector.streamCurrentStrokeNewPoints(e),this.wetStrokeCollector.streamCollectedStrokesNewPoints(e)):(this.wetStrokeCollector.streamCurrentStroke(e),this.wetStrokeCollector.streamCollectedStrokes({add:function(t){t.stream(e)}}))},e.prototype.setCollectedWetStrokesSink=function(e){this.collectedWetStrokesSink=e},e.prototype.clearCollectedWetStrokesSink=function(){this.collectedWetStrokesSink=null},e.prototype.setInkDryer=function(e){this.wetInkDryer=e,this.initializeDryStrokesCallback()},e.prototype.initializeDryStrokesCallback=function(){var e=this;this.wetInkDryer.setTask((function(){e.wetStrokeCollector.streamCollectedStrokes({add:function(t){var n;null===(n=e.collectedWetStrokesSink)||void 0===n||n.add(t)}}),e.wetStrokeCollector.resetCollectedStrokes()}))},e.prototype.dryAllStrokes=function(){this.wetInkDryer.dryAllStrokes()},e.prototype.getWetStrokeCollector=function(){return this.wetStrokeCollector},e.prototype.setIsLineMode=function(e){this.wetStrokeCollector.isLineMode=e},e.prototype.getIsLineMode=function(){return this.wetStrokeCollector.isLineMode},e}(),kL=function(){function e(e,t){var n=this;this.task=function(){},this.executeTask=function(){n.task(),n.renderer.clear(),n.resetPendingTask()},this.renderer=e,this.idleTimeToDryInkInMs=t}return e.prototype.setTask=function(e){this.task=e},e.prototype.onStrokeBegin=function(){this.renderer.onStrokeBegin(),void 0!==this.timeoutTask&&this.resetPendingTask()},e.prototype.onStrokeEnd=function(){this.renderer.onStrokeEnd(),this.timeoutTask=window.setTimeout(this.executeTask,this.idleTimeToDryInkInMs)},e.prototype.dryAllStrokes=function(){this.executeTask(),this.resetPendingTask()},e.prototype.resetPendingTask=function(){window.clearTimeout(this.timeoutTask)},e}();function TL(e,t){var n=(0,_u.n)(e);if(!n)throw new Error("A valid color must be provided: ".concat(e));return{r:n.r,g:n.g,b:n.b,a:t}}function EL(e){var t=new IR,n=e.inkType,r=e.htmlColor,o=e.thicknessInCssPixels;switch(n){case hu.p.Highlighter:var i=TL(r,.5);t.setTip("rectangle").setWidth(o/2).setHeight(o).setColor(i).setRasterOperation("copy");break;case hu.p.Pen:i=TL(r,1);t.setTip("ellipse").setWidth(o).setHeight(o).setColor(i).setRasterOperation("copy");break;default:throw new to.x(n)}return t.build()}function PL(e){var t=gL(e),n=e.width/(e.clientWidth||1),r=e.height/(e.clientHeight||1);t.setTransform(1,0,0,1,0,0),t.scale(n,r)}var IL=function(){function e(e,t,n,r,o,i,a,s,l,u,c,d){this.wetCanvas=e,PL(e),this.store=new SL,this.renderer=new vL(this.wetCanvas,this.store);var p=new kL(this.renderer,r);this.store.setInkDryer(p),this.pipeline=new zR(this.wetCanvas,t,this.store.getWetStrokeCollector(),p,this.wetCanvas,o,i,this.renderer,n,a,s,l,u,c,d)}return e.prototype.startPipeline=function(){this.pipeline.activate(),this.enableCanvasPointerEvents()},e.prototype.stopPipeline=function(){this.disableCanvasPointerEvents(),this.renderer.clear(),this.pipeline.deactivate()},e.prototype.enableCanvasPointerEvents=function(){this.wetCanvas.style.pointerEvents="auto"},e.prototype.disableCanvasPointerEvents=function(){this.wetCanvas.style.pointerEvents="none"},e.prototype.updateInkAttributes=function(e){var t=EL(e);this.pipeline.setDrawingAttributes(t)},e.prototype.setCollectedWetStrokesSink=function(e){this.store.setCollectedWetStrokesSink(e)},e.prototype.clearCollectedWetStrokesSink=function(){this.store.clearCollectedWetStrokesSink()},e.prototype.onCanvasDimensionsUpdated=function(e){PL(e)},e.prototype.dryAllStrokes=function(){this.store.dryAllStrokes()},e.prototype.setDrawingBounds=function(e){this.pipeline.setDrawingBounds(e)},e.prototype.getLineMode=function(){return this.store.getIsLineMode()?MR.y.StraightLine:MR.y.FreeHand},e}();function AL(t,n,r,o){var i=(0,e.useCallback)((function(){if(t){var e=(null===n||void 0===n?void 0:n.clientWidth)||0,i=(null===n||void 0===n?void 0:n.clientHeight)||0;t.style.width="".concat(e,"px"),t.style.height="".concat(i,"px"),function(e,t){if(e){e.restore(),e.save(),e.beginPath();var n=(0,Vn.bi)(t),r=n[0],o=n[1],i=n[2],a=n[3];e.moveTo(r.x,r.y),e.lineTo(o.x,o.y),e.lineTo(i.x,i.y),e.lineTo(a.x,a.y),e.clip()}}(t.getContext("2d"),o),null===r||void 0===r||r.onCanvasDimensionsUpdated(t)}}),[t,o,n,r]);(0,_w.w)(n,i)}function RL(e,t){return{x:t.x,y:t.y,pressure:SA,tiltX:0,tiltY:0,timestamp:e.timeStamp}}var LL=function(){return LL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},LL.apply(this,arguments)};var ML=function(){return ML=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ML.apply(this,arguments)},BL=(0,e.memo)((function(t){var n=t.cropViewTransform,r=t.cssToPhysicalPixelRatio,o=t.imageViewTransform,i=t.width,a=t.height,s=t.cssWidth,l=t.cssHeight,u=t.styles,c=t.setActiveMarkupToolType,d=t.activeMarkupToolType,p=t.previousActiveMarkupToolType,f=t.setPointerIdToCaptureWhenEraserBrushIsCreated,h=t.activeInkBrush,m=t.setStrokeShapeTipVisibilityState,g=t.setMarkupCursorScreenPosition,v=t.moveMarkupCursorScreenPositionBy,y=t.addMarkupContent,b=t.cursorScreenPos,x=t.setIsKeyboardInputActive,_=t.setShowInkStylePicker,C=t.linePreviewCoords,w=t.setLinePreviewCoords,S=t.isEditorFocused,k=t.isKeyboardInputActive,T=t.onLongPressAtStrokeStartPointerEvent,E=t.longPressMinimalDurationMs,P=t.longPressMaxDistanceCssPixels,I=t.onPointerEvent,A=(0,e.useContext)(KI),R=A.wetInkCanvas,L=A.setWetInkCanvas,M=(0,e.useRef)(),B=(0,e.useState)(null),O=B[0],F=B[1],D=(0,e.useState)(null),N=D[0],U=D[1];return(0,Rd.s)(N),(0,e.useEffect)((function(){if(N&&O){var e=function(e,t,n,r,o,i,a,s,l){return new IL(e,t,n,0,!0,.5,r,o,i,a,s,l)}(N,O,h,g,x,(function(e){"pointerdown"===e.type&&(m("alreadyShown"),LR(e)&&(f(e.pointerId),c(Qu.j9))),null===I||void 0===I||I(e)}),T,E,P);e.startPipeline(),L(e)}return function(){var e;null===(e=M.current)||void 0===e||e.stopPipeline(),L(void 0)}}),[h,N,c,g,f,m,x,L,O,T,E,P,I,p,d]),M.current=R,AL(N,O,R,n),function(t,n,r){(0,e.useEffect)((function(){var e=(0,Hn.SM)((0,Vn.ZG)((0,Vn.U3)(1/r),n));null===t||void 0===t||t.setDrawingBounds(e)}),[n,r,t])}(R,n,r),function(t,n,r){(0,e.useEffect)((function(){r&&n||t({})}),[t,r,n])}(w,k,S),function(t,n,r,o,i,a,s,l,u){var c=(0,e.useState)(!1),d=c[0],p=c[1],f=(0,e.useContext)(gn.O_).enableMarkupKeyboarding,h=(0,e.useCallback)((function(e){var t,r=null!==(t=l.startPoint)&&void 0!==t?t:{x:n.x,y:n.y},o=(0,Un.If)(n,LL({x:0,y:0},e));u({startPoint:r,endPoint:o})}),[n,u,l.startPoint]),m=(0,e.useCallback)((function(e){if(e&&l.startPoint&&l.endPoint){var t=new xL,n=RL(e,l.startPoint);t.points.push(n);var r=RL(e,l.endPoint);return t.points.push(r),t}}),[l]),g=(0,e.useCallback)((function(e){var t=m(e);t&&r({points:t.points,drawingAttributes:EL(a),arrowMode:a.strokeShape.arrowMode||Wu.x.NoArrow,contentType:Lu.A.InkContent,invertedPhysicalImageTransformDuringContentSerialization:(0,Vn.ZG)((0,Vn.eE)(o),(0,Vn.U3)(i))}),u({})}),[a,r,u,m,i,o]),v=(0,e.useMemo)((function(){return[{code:"KeyD",keyCode:_a.rC.D,handler:function(e,n){e?(s(!1),t({x:1}),d&&h({x:1})):d&&g(n)},ctrlKey:!1,shiftKey:!1},{code:"KeyA",keyCode:_a.rC.A,handler:function(e,n){e?(s(!1),t({x:-1}),d&&h({x:-1})):d&&g(n)},ctrlKey:!1,shiftKey:!1},{code:"KeyS",keyCode:_a.rC.S,handler:function(e,n){e?(s(!1),t({y:1}),d&&h({y:1})):d&&g(n)},ctrlKey:!1,shiftKey:!1},{code:"KeyW",keyCode:_a.rC.W,handler:function(e,n){e?(s(!1),t({y:-1}),d&&h({y:-1})):d&&g(n)},ctrlKey:!1,shiftKey:!1},{code:"ArrowRight",keyCode:_a.rC.ArrowRight,handler:function(e,n){e?(s(!1),t({x:1}),d&&h({x:1})):d&&g(n)},ctrlKey:!0,shiftKey:!1},{code:"ArrowLeft",keyCode:_a.rC.ArrowLeft,handler:function(e,n){e?(s(!1),t({x:-1}),d&&h({x:-1})):d&&g(n)},ctrlKey:!0,shiftKey:!1},{code:"ArrowDown",keyCode:_a.rC.ArrowDown,handler:function(e,n){e?(s(!1),t({y:1}),d&&h({y:1})):d&&g(n)},ctrlKey:!0,shiftKey:!1},{code:"ArrowUp",keyCode:_a.rC.ArrowUp,handler:function(e,n){e?(s(!1),t({y:-1}),d&&h({y:-1})):d&&g(n)},ctrlKey:!0,shiftKey:!1},{code:"KeyD",keyCode:_a.rC.D,handler:function(e){e&&(s(!1),t({x:1}),h({x:1}))},ctrlKey:!1,shiftKey:!0},{code:"KeyA",keyCode:_a.rC.A,handler:function(e){e&&(s(!1),t({x:-1}),h({x:-1}))},ctrlKey:!1,shiftKey:!0},{code:"KeyS",keyCode:_a.rC.S,handler:function(e){e&&(s(!1),t({y:1}),h({y:1}))},ctrlKey:!1,shiftKey:!0},{code:"KeyW",keyCode:_a.rC.W,handler:function(e){e&&(s(!1),t({y:-1}),h({y:-1}))},ctrlKey:!1,shiftKey:!0},{code:"ArrowRight",keyCode:_a.rC.ArrowRight,handler:function(e){e&&(s(!1),t({x:1}),h({x:1}))},ctrlKey:!0,shiftKey:!0},{code:"ArrowLeft",keyCode:_a.rC.ArrowLeft,handler:function(e){e&&(s(!1),t({x:-1}),h({x:-1}))},ctrlKey:!0,shiftKey:!0},{code:"ArrowDown",keyCode:_a.rC.ArrowDown,handler:function(e){e&&(s(!1),t({y:1}),h({y:1}))},ctrlKey:!0,shiftKey:!0},{code:"ArrowUp",keyCode:_a.rC.ArrowUp,handler:function(e){e&&(s(!1),t({y:-1}),h({y:-1}))},ctrlKey:!0,shiftKey:!0},{code:"ShiftLeft",keyCode:_a.rC.Shift,handler:function(e,t){e||g(t)},ctrlKey:!1,shiftKey:!1},{code:"ShiftLeft",keyCode:_a.rC.Shift,handler:function(e,t){e||g(t)},ctrlKey:!0,shiftKey:!1},{code:"Space",keyCode:_a.ZG,handler:function(e){p(e)},ctrlKey:!1,shiftKey:!1},{code:"Space",keyCode:_a.ZG,handler:function(e){p(e)},ctrlKey:!0,shiftKey:!1}]}),[s,t,h,g,d]);xa(window,f?v:[],!0)}(v,b,y,o,r,h,_,C,w),e.createElement("div",{ref:F,style:{width:s,height:l,position:"absolute",top:0,left:0}},e.createElement("canvas",{ref:U,width:i,height:a,style:ML({touchAction:"none",pointerEvents:"none",position:"absolute",top:0,left:0},u)}))})),OL=function(){return OL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},OL.apply(this,arguments)};var FL=function(){return FL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},FL.apply(this,arguments)};function DL(e,t){if((null===e||void 0===e?void 0:e.contentType)===Lu.A.TextContent){if(t&&"text"in t&&"string"===typeof t.text&&"styles"in t){var n=function(e){return(0,Vn.ZG)(e.fabricToViewTransform,(0,Vn.eE)((0,Vn.Es)((0,Vn.Qt)(e.calcTransformMatrix()))))}(t);return FL(FL({},e),{text:t.text,drawingAttributes:FL(FL({},t.toObject()),{styles:t.styles}),invertedPhysicalImageTransformDuringContentSerialization:n})}throw new Error("Fabric Textbox not found")}throw new Error("Unhandled Fabric Object type:"+(null===t||void 0===t?void 0:t.type))}var NL,UL=function(){return UL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},UL.apply(this,arguments)},zL=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},jL={bottomLeft:"bl",bottomRight:"br",middleBottom:"mb",middleLeft:"ml",middleRight:"mr",middleTop:"mt",topLeft:"tl",topRight:"tr",rotationHandle:"mtr"};function VL(e,t){var n=e.textLines.length-1,r=e._measureWord([" "],0,0);return e.textLines.reduce((function(n,r,o){return n+e._measureWord(t.util.string.graphemeSplit(r),o,n+r.length)}),0)+n*r}function WL(e,t,n,r){var o=new(function(e){return e.util.createClass(e.Textbox,{initialize:function(e,t){var n=this;this.callSuper("initialize",e,t),this.dashedBorderBackgroundCssColor=null===t||void 0===t?void 0:t.dashedBorderBackgroundCssColor,this.hoverBorderCssColor=null===t||void 0===t?void 0:t.hoverBorderCssColor;var r=null===t||void 0===t?void 0:t.controlsVisibility;r&&Object.entries(jL).forEach((function(e){var t,o=e[0],i=e[1],a=null===(t=r[o])||void 0===t||t;n.setControlVisible(i,a)})),this.addMouseListeners(),this.addEditingListeners()},getBorderScaleFactor:function(){return void 0===this.borderScaleFactor?1:this.borderScaleFactor},drawBorders:function(e,t){return this.borderDashArray&&this.dashedBorderBackgroundCssColor&&this.renderDashedBorderBackgroundColor(e),this.callSuper("drawBorders",e,t)},addMouseListeners:function(){var e=this;this.on("mouseover",(function(){var t,n;(null===(n=null===(t=e.canvas)||void 0===t?void 0:t.getActiveObject())||void 0===n?void 0:n.id)!==e.id&&e.drawHoverBorders()})),this.on("mousedown",(function(){var t;null===(t=e.canvas)||void 0===t||t.requestRenderAll()})),this.on("mouseout",(function(){var t;null===(t=e.canvas)||void 0===t||t.requestRenderAll()})),this.on("selected",(function(){e.hoverCursor="text"})),this.on("deselected",(function(){e.hoverCursor=void 0}))},addEditingListeners:function(){var e=this;this.on("editing:entered",(function(){e.hasControls=!0}))},drawControls:function(e){var t=this.getBorderScaleFactor(),n=e.arc;e.arc=function(r,o,i,a,s,l){e.lineWidth=t,n.call(e,r,o,i,a,s,l)};var r=this.callSuper("drawControls",e);return e.arc=n,r},toObject:function(e){return this.callSuper("toObject",zL(["hoverBorderCssColor","borderColor","editingBorderColor","dashedBorderBackgroundCssColor","borderScaleFactor","borderDashArray","cornerStyle","cornerColor","cornerStrokeColor","transparentCorners","controlsVisibility","width"],e||[],!0))},fire:function(e,t){return(null===t||void 0===t?void 0:t.target)?this.callSuper("fire",e,t):this.callSuper("fire",e,UL(UL({},t),{target:this}))},renderDashedBorderBackgroundColor:function(e){var t=this.getBorderScaleFactor(),n=this.getScaledWidth()+t,r=this.getScaledHeight()+t;e.save(),e.strokeStyle=this.dashedBorderBackgroundCssColor||"#000",e.strokeRect(-.5*n,-.5*r,n,r),e.restore()},drawHoverBorders:function(){var e,t=null===(e=this.canvas)||void 0===e?void 0:e.getContext();if(t){var n=this.getBoundingRect(),r=n.left,o=n.top,i=n.width,a=n.height;t.save(),t.strokeStyle=this.hoverBorderCssColor||"#000",t.lineWidth=3,t.beginPath(),t.rect(r,o,i,a),t.stroke(),t.restore()}}})}(e))(t.text,function(e){return e.drawingAttributes?OL(OL({},e.drawingAttributes),{id:e.id}):{fill:dI.a9,borderColor:"#000",editingBorderColor:"#000",dashedBorderBackgroundCssColor:"#fff",borderScaleFactor:2,borderDashArray:[5,5],cornerStyle:"circle",transparentCorners:!1,cornerColor:"#fff",cornerStrokeColor:"#000",hasControls:!0,controlsVisibility:{middleBottom:!1,middleTop:!1},fontSize:36,hoverBorderCssColor:"#0fb7ff",id:e.id}}(t));return["changed","modified"].forEach((function(e){o.on(e,(function(e){var r,o;null===(o=null===(r=e.target)||void 0===r?void 0:r.updateFabricToViewTransform)||void 0===o||o.call(r),n(DL(t,e.target))}))})),o.on("added",(function(o){var i,a=o.target,s=null===a||void 0===a?void 0:a.canvas,l=t.initialPosition.positionType;if(s){if(s.setActiveObject(a),!t.drawingAttributes){switch(l){case"CenteredOnCanvas":s.centerObject(a);break;case"AtLocation":a.setPositionByOrigin(new e.Point(t.initialPosition.left||0,t.initialPosition.top||0),"left","top"),a.setCoords();break;default:throw new Error("Unexpected creationType:"+l)}a.set({width:VL(a,e)}),a.enterEditing(),a.selectAll(),null===(i=a.hiddenTextarea)||void 0===i||i.focus()}aA(e,r,t.invertedPhysicalImageTransformDuringContentSerialization,a),a.updateFabricToViewTransform=function(){a.fabricToViewTransform=eA(a,r)},n(DL(t,a),!1)}})),o.on("removed",(function(){o.off()})),o}class HL{constructor(e,t,n){this.arrowLength=e*Math.cos(t/2),this.arrowWidth=e*Math.sin(t/2),this.directionThreshold=n}getArrowhead(e){const t=this.getDirection();if(null===t)return null;const n=Math.sqrt(ZA(t,t)),r={x:t.x/n,y:t.y/n},o=-r.y,i=r.x,a=Object.assign(Object.assign({},e),{pressure:this.getPressure()});return{vertex:a,left:{x:a.x-this.arrowLength*r.x+this.arrowWidth*o,y:a.y-this.arrowLength*r.y+this.arrowWidth*i,pressure:a.pressure,tiltX:a.tiltX,tiltY:a.tiltY,timestamp:a.timestamp},right:{x:a.x-this.arrowLength*r.x-this.arrowWidth*o,y:a.y-this.arrowLength*r.y-this.arrowWidth*i,pressure:a.pressure,tiltX:a.tiltX,tiltY:a.tiltY,timestamp:a.timestamp}}}}class qL extends HL{constructor(e,t,n){super(e,t,n),this.candidatePoints=[]}addPoint(e){if(0===this.candidatePoints.length)this.candidatePoints.push(e);else{for(;this.candidatePoints.length>0&&Math.sqrt(YA(this.candidatePoints[0],e))>this.directionThreshold;)this.nearestPointFartherThanThreshold=this.candidatePoints[0],this.candidatePoints.shift();this.candidatePoints.push(e)}}getDirection(){return void 0===this.nearestPointFartherThanThreshold?null:XA(this.candidatePoints[this.candidatePoints.length-1],this.nearestPointFartherThanThreshold)}getPressure(){return Math.max(...Array.from(this.candidatePoints).map((e=>e.pressure)),this.nearestPointFartherThanThreshold.pressure)}}class KL extends HL{constructor(e,t,n){super(e,t,n),this.pressure=SA,this.nextPoints=[]}addPoint(e){0===this.nextPoints.length?(this.nextPoints.push(e),this.pressure=e.pressure):1===this.nextPoints.length&&(this.pressure=Math.max(this.pressure,e.pressure),Math.sqrt(YA(this.nextPoints[0],e))>this.directionThreshold&&this.nextPoints.push(e))}getDirection(){return this.nextPoints.length<=1?null:XA(this.nextPoints[0],this.nextPoints[1])}getPressure(){return this.pressure}}class GL extends HL{constructor(){super(...arguments),this.initialPoint=null,this.psudoStartPoint=null,this.psudoEndPoint=null}addPoint(e){null!==this.initialPoint&&null!==this.psudoEndPoint&&null!==this.psudoStartPoint||(this.initialPoint=this.psudoStartPoint=this.psudoEndPoint=e),((e.x-this.initialPoint.x)*(this.psudoEndPoint.x-this.psudoStartPoint.x)<0||(e.y-this.initialPoint.y)*(this.psudoEndPoint.y-this.psudoStartPoint.y)<0)&&([this.psudoStartPoint,this.psudoEndPoint]=[this.psudoEndPoint,this.psudoStartPoint]),(Math.abs(e.x-this.initialPoint.x)>Math.abs(this.psudoEndPoint.x-this.initialPoint.x)||Math.abs(e.y-this.initialPoint.y)>Math.abs(this.psudoEndPoint.y-this.initialPoint.y))&&(this.psudoEndPoint=e)}getDirection(){return null===this.initialPoint||null===this.psudoEndPoint||null===this.psudoStartPoint||Math.sqrt(YA(this.psudoEndPoint,this.psudoStartPoint))<this.directionThreshold?null:XA(this.psudoEndPoint,this.psudoStartPoint)}getStartPoint(){return this.psudoStartPoint}getEndPoint(){return this.psudoEndPoint}}class ZL extends GL{getArrowhead(){const e=this.getStartPoint();return e?super.getArrowhead(e):null}getPressure(){var e,t;return null!==(t=null===(e=this.getStartPoint())||void 0===e?void 0:e.pressure)&&void 0!==t?t:SA}getDirection(){const e=super.getDirection();return e?(n=-1,{x:(t=e).x*n,y:t.y*n}):null;var t,n}}class XL extends GL{getArrowhead(e){const t=this.getEndPoint();return t?super.getArrowhead(t):null}getPressure(){var e,t;return null!==(t=null===(e=this.getEndPoint())||void 0===e?void 0:e.pressure)&&void 0!==t?t:SA}}class YL{constructor(e,t,n,r,o){this.strokeLengthThreshold=n,this.isStraightLine=o,this.startArrowAdder=new KL(e,t,r),this.startArrowAdderForStraightLine=new ZL(e,t,r),this.endArrowAdder=o?new XL(e,t,r):new qL(e,t,r),this.pendingPoints=[],this.strokeLength=0}beginStroke(e){this.prevPoint=e,this.endArrowAdder.addPoint(e),this.isStraightLine?this.startArrowAdderForStraightLine.addPoint(e):this.startArrowAdder.addPoint(e),this.pendingPoints.push(e)}addPoint(e){this.strokeLength+=Math.sqrt(YA(e,this.prevPoint)),this.isStraightLine?this.startArrowAdderForStraightLine.addPoint(e):this.startArrowAdder.addPoint(e),null!==this.startArrowAdder.getDirection()&&this.strokeLength>this.strokeLengthThreshold?this.validateAndAddStartArrowhead(!this.isStraightLine):this.pendingPoints.push(e),this.endArrowAdder.addPoint(e),0===this.pendingPoints.length&&this.output.addPoint(e),this.prevPoint=e}endStroke(e){if(this.strokeLength+=Math.sqrt(YA(e,this.prevPoint)),this.isStraightLine?(this.startArrowAdderForStraightLine.addPoint(e),this.addStartArrowheadForStraightLine(this.strokeLength>this.strokeLengthThreshold)):(this.startArrowAdder.addPoint(e),this.validateAndAddStartArrowhead(this.strokeLength>this.strokeLengthThreshold)),this.endArrowAdder.addPoint(e),this.strokeLength>this.strokeLengthThreshold){const t=this.endArrowAdder.getArrowhead(e);null!==t&&(this.output.addPoint(t.vertex),this.output.addPoint(t.left),this.output.addPoint(t.vertex),this.output.addPoint(t.right),this.output.addPoint(t.vertex))}this.output.endStroke(e)}validateAndAddStartArrowhead(e){0!==this.pendingPoints.length&&(this.pendingPoints.forEach(((t,n)=>{if(0===n){this.output.beginStroke(t);const n=this.startArrowAdder.getArrowhead(t);null!==n&&e&&(this.output.addPoint(n.vertex),this.output.addPoint(n.left),this.output.addPoint(n.vertex),this.output.addPoint(n.right),this.output.addPoint(n.vertex))}else this.output.addPoint(t)})),this.pendingPoints=[])}addStartArrowheadForStraightLine(e){this.pendingPoints.forEach((e=>{this.output.addPoint(e)})),this.pendingPoints=[];const t=this.startArrowAdderForStraightLine.getArrowhead();null!==t&&e&&(this.output.addPoint(t.vertex),this.output.addPoint(t.left),this.output.addPoint(t.vertex),this.output.addPoint(t.right),this.output.addPoint(t.vertex))}}class QL{constructor(e,t,n,r,o){this.strokeLengthThreshold=n,this.endArrowAdder=o?new XL(e,t,r):new qL(e,t,r),this.strokeLength=0}beginStroke(e){this.prevPoint=e,this.endArrowAdder.addPoint(e),this.output.beginStroke(e)}addPoint(e){this.strokeLength+=Math.sqrt(YA(e,this.prevPoint)),this.endArrowAdder.addPoint(e),this.prevPoint=e,this.output.addPoint(e)}endStroke(e){if(this.strokeLength+=Math.sqrt(YA(e,this.prevPoint)),this.endArrowAdder.addPoint(e),this.strokeLength>this.strokeLengthThreshold){const t=this.endArrowAdder.getArrowhead(e);null!==t&&(this.output.addPoint(t.vertex),this.output.addPoint(t.left),this.output.addPoint(t.vertex),this.output.addPoint(t.right),this.output.addPoint(t.vertex))}this.output.endStroke(e)}}!function(e){e[e.NoArrow=0]="NoArrow",e[e.InkSingleArrow=1]="InkSingleArrow",e[e.InkDoubleArrow=2]="InkDoubleArrow"}(NL||(NL={}));const JL=3*Math.sqrt(2),$L=Math.PI/2;class eM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.path="",this.precision=e,this.format=0===e?tM:e=>{return t=e,n=this.precision,`${parseFloat(t.toFixed(n))}`;var t,n}}beginPath(){this.path=""}arc(e,t,n){const r=this.format(n),o=this.format(t),i=this.format(e-n),a=this.format(e+n);this.path+=`M${i},${o}`,this.path+=`A${r},${r} 0 0,1 ${a},${o}`,this.path+=`A${r},${r} 0 0,1 ${i},${o}`}circularArc(e,t,n,r,o,i,a,s,l){this.path+=`A${this.format(o)},${this.format(o)} 0 ${s?1:0} ${l?0:1} ${this.format(i)},${this.format(a)}`}lineTo(e,t){this.path+=`L${this.format(e)},${this.format(t)}`}moveTo(e,t){this.path+=`M${this.format(e)},${this.format(t)}`}closePath(){}getPath(){return this.path}}function tM(e){return`${Math.round(e)}`}var nM=function(){return nM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},nM.apply(this,arguments)};function rM(e,t,n){for(var r=Number.POSITIVE_INFINITY,o=e,i=0,a=t;i<a.length;i++){var s=a[i];if(s!==e){var l=YA(s,e);l<r&&(r=l,o=nM(nM({},e),{x:s.x,y:s.y}))}}return r<n?o:e}var oM=function(){function e(e,t,n,r){void 0===r&&(r=1),this.attributes=e,this.svgPathBuilder=new eM(r),this.snappingPoints=this.getMarkupContentStartAndEndPoints(t),this.lineMode=n}return e.prototype.beginStroke=function(e){this.output="ellipse"===this.attributes.tip?new YR(this.svgPathBuilder,this.attributes):new cL(this.svgPathBuilder,this.attributes),this.output.beginStroke(this.lineMode===MR.y.StraightLine?rM(e,this.snappingPoints,25):e)},e.prototype.addPoint=function(e){this.output.addPoint(e)},e.prototype.endStroke=function(e){this.output.endStroke(this.lineMode===MR.y.StraightLine?rM(e,this.snappingPoints,25):e)},e.prototype.getSvgAttributes=function(){var e=new HR;return{path:this.svgPathBuilder.getPath(),fill:e.toCSSColor(this.attributes.color)}},e.prototype.getMarkupContentStartAndEndPoints=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n];if(o.contentType===Lu.A.InkContent){var i=o.points;t.push(i[0]),t.push(i[i.length-1])}}return t},e}();var iM=function(){return iM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},iM.apply(this,arguments)};function aM(e,t,n){var r=e.points,o=e.drawingAttributes,i=e.arrowMode,a=iM(iM({},o),{effect:TR}),s=function(e,t){var n=new xL;return n.points=e,n.drawingAttributes=t,n}(r,a),l=o.width,u=new oM(a,t,n);if(i===Wu.x.NoArrow)s.streamPath(u);else{var c=function(e,t,n){var r,o,i,a,s;const l=t*(null!==(r=null===n||void 0===n?void 0:n.arrowSize)&&void 0!==r?r:JL),u=null!==(o=null===n||void 0===n?void 0:n.arrowAngle)&&void 0!==o?o:$L,c=null!==(i=null===n||void 0===n?void 0:n.directionThreshold)&&void 0!==i?i:5,d=null!==(a=null===n||void 0===n?void 0:n.strokeLengthThreshold)&&void 0!==a?a:25,p=null!==(s=null===n||void 0===n?void 0:n.isStraightLine)&&void 0!==s&&s;if(u<0||u>=Math.PI)return null;switch(e){case NL.InkSingleArrow:return new QL(l,u,d,c,p);case NL.InkDoubleArrow:return new YL(l,u,d,c,p);case NL.NoArrow:default:return null}}(function(e){switch(e){case Wu.x.NoArrow:return NL.NoArrow;case Wu.x.SingleArrow:return NL.InkSingleArrow;case Wu.x.DoubleArrow:return NL.InkDoubleArrow;default:throw new to.x(e)}}(i),l,{strokeLengthThreshold:0});if(null===c)throw new Error("Arrow head transformer should not be null");xA(c,u),s.streamPath(c)}return u.getSvgAttributes()}var sM=function(){return sM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},sM.apply(this,arguments)};function lM(e,t,n,r,o){var i=aM(t,r,o),a=function(e,t,n){var r=t.path;return new e.Path(r,sM({},n))}(e,i,{selectable:HI,hoverCursor:"default",fill:i.fill,id:t.id});return aA(e,n,t.invertedPhysicalImageTransformDuringContentSerialization,a),a}var uM=function(e,t,n,r,o,i){switch(t.contentType){case Lu.A.InkContent:return lM(e,t,r,o,i);case Lu.A.TextContent:return WL(e,t,n,r);default:throw new Error("To be implemented for ".concat(t.contentType))}},cM=function(){return cM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cM.apply(this,arguments)},dM=(0,e.memo)((function(t){var n=(0,e.useContext)(WI).fabric,r=(0,e.useContext)(KI).wetInkCanvas,o=null===r||void 0===r?void 0:r.getLineMode(),i=(0,e.useContext)(gn.O_),a=i.showWetCanvas,s=i.enableMarkupKeyboarding,l=(0,e.useMemo)((function(){if(n)return function(e,t,n,r,o){return void 0===o&&(o=MR.y.FreeHand),function(i){return uM(e,i,r,t,n,o)}}(n,t.imageViewTransform,t.markupContentItems,t.updateMarkupContent,o)}),[n,t.imageViewTransform,t.markupContentItems,o,t.updateMarkupContent]),u=(0,e.useState)(void 0),c=u[0],d=u[1],p=s&&(0,hu.B)(t.activeMarkupToolType)&&t.isKeyboardInputActive;return e.createElement("div",{style:{cursor:p?"none":t.cursor,display:t.hidden?"none":void 0}},e.createElement(bA,cM({},t,{convertToFabricContent:l,pointerIdToCaptureWhenEraserBrushIsCreated:c,setPointerIdToCaptureWhenEraserBrushIsCreated:d})),a&&e.createElement(BL,cM({},t,{setPointerIdToCaptureWhenEraserBrushIsCreated:d})))}));var pM=(0,e.memo)((function(t){var n=t.inkBrush;return function(t,n){(0,e.useLayoutEffect)((function(){t&&t.updateInkAttributes(n)}),[t,n])}((0,e.useContext)(KI).wetInkCanvas,n),null})),fM=function(){return fM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fM.apply(this,arguments)},hM=(0,e.memo)((function(t){var n=t.imageViewTransform,r=t.cssToPhysicalPixelRatio,o=t.addInkContent,i=t.inkBrush,a=t.shouldOmitInkContent,s=(0,e.useContext)(KI).wetInkCanvas,l=(0,e.useContext)(WI).fabric;return function(t,n){(0,e.useEffect)((function(){return t&&t.setCollectedWetStrokesSink({add:function(e){n(e)}}),function(){null===t||void 0===t||t.clearCollectedWetStrokesSink()}}),[t,n])}(s,(0,e.useCallback)((function(e){if(l){var t=e;(!a||!a(t))&&o(fM(fM({},t),{arrowMode:i.strokeShape.arrowMode||Wu.x.NoArrow,contentType:Lu.A.InkContent,invertedPhysicalImageTransformDuringContentSerialization:(0,Vn.ZG)((0,Vn.eE)(n),(0,Vn.U3)(r))}))}}),[o,r,l,n,i.strokeShape,a])),e.createElement(pM,fM({},t))})),mM={Pen:{cssThicknesses:[1,2,4,6,8,12],minSliderValue:1},Highlighter:{cssThicknesses:[8,12,16,24,28,32],minSliderValue:1}},gM=function(t){var r=t.children,o=(0,e.useState)(null),i=o[0],a=o[1],s=(0,Se.wj)(),l=(0,e.useCallback)((function(){Promise.all([n.e(16),n.e(4)]).then(n.t.bind(n,24774,23)).then((function(e){a(e.default.fabric)})).catch((function(e){return s({id:"CodeSplitFailed",message:"Failed to load Fabric package"})}))}),[s]);return e.createElement(WI.Provider,{value:{fabric:i,loadFabric:l}},r)};function vM(){return Promise.all([n.e(16),n.e(4)]).then(n.t.bind(n,24774,23))}var yM={markup_markupToolbarPenTooltip:"",markup_markupToolbarPenAriaLabel:"",markup_markupToolbarPenAriaDescription:"",markup_markupToolbarEraserTooltip:"",markup_markupToolbarEraserAriaLabel:"",markup_markupToolbarEraserAriaDescription:"",markup_markupToolbarHighlighterTooltip:"",markup_markupToolbarHighlighterAriaLabel:"",markup_markupToolbarHighlighterAriaDescription:"",markup_markupToolbarClearAllMarkupTooltip:"",markup_markupToolbarClearAllMarkupAriaLabel:"",markup_markupToolbarThickness:"",markup_clearAllMarkupDialogCloseButtonAriaLabel:"",markup_clearAllMarkupDialogTitle:"",markup_clearAllMarkupDialogSubText:"",markup_clearAllMarkupDialogConfirmButtonText:"",markup_clearAllMarkupDialogConfirmButtonAriaLabel:"",markup_clearAllMarkupDialogCancelButtonText:"",markup_clearAllMarkupDialogCancelButtonAriaLabel:"",markup_markupToolbarBrushFormatString:"",markup_markupToolbarBrushFormatWithArrowModeString:"",markup_markupToolbarTooltipChangeInkProperties:"",markup_inkThicknessSliderHeaderLabel:"",markup_inkThicknessSliderAriaLabel:"",markup_addedInkStrokeAriaLive:"",markup_removedInkStrokesAriaLive:"",markup_clearedAllMarkupAriaLive:"",markup_inkPenThicknessSliderAriaLabel:"",markup_inkHighlighterThicknessSliderAriaLabel:"",markup_inkThicknessSliderTitle:"",markup_markupToolbarAriaLandmark:"",markup_colorDarkYellow:"",markup_colorLightOrange:"",markup_colorOrange:"",markup_colorRed:"",markup_colorDarkPurple:"",markup_colorPurple:"",markup_colorMagenta:"",markup_colorDarkRed:"",markup_colorLightBlue:"",markup_colorBlue:"",markup_colorDarkBlue:"",markup_colorLightGreen:"",markup_colorGreen:"",markup_colorLightGray:"",markup_colorGray:"",markup_colorBlack:"",markup_colorTableAriaLabel:"",markup_noArrowButtonText:"",markup_straightNoArrowButtonTooltip:"",markup_straightNoArrowButtonAriaLabel:"",markup_singleArrowButtonText:"",markup_straightSingleArrowButtonTooltip:"",markup_straightSingleArrowButtonAriaLabel:"",markup_doubleArrowButtonText:"",markup_straightDoubleArrowButtonTooltip:"",markup_straightDoubleArrowButtonAriaLabel:"",markup_freehandNoArrowButtonTooltip:"",markup_freehandNoArrowButtonAriaLabel:"",markup_freehandSingleArrowButtonTooltip:"",markup_freehandSingleArrowButtonAriaLabel:"",markup_freehandDoubleArrowButtonTooltip:"",markup_freehandDoubleArrowButtonAriaLabel:"",markup_markupToolbarNoArrowTip:"",markup_markupToolbarSingleArrowTip:"",markup_markupToolbarDoubleArrowTip:"",markup_strokeShapeCalloutHeaderText:"",markup_strokeShapeCalloutMainText:"",markup_strokeShapeToastText:"",markup_freehandLine:"",markup_straightLine:"",markup_textboxDefaultContent:"",markup_textBoxInvalidInputTypeErrorMessage:"",markup_textBoxInvalidInputRangeErrorMessage:"",markup_panelLabel:""};function bM(e){var t;return null!==(t=null===e||void 0===e?void 0:e.markupToolbarPosition)&&void 0!==t?t:"Bottom"}var xM=function(t){var n=t.enableMarkup,r=void 0===n||n,o=t.inkConfigurations,i=void 0===o?mM:o,a=t.localizationStrings,s=void 0===a?yM:a,l=t.getMarkupToolbarPosition,u=void 0===l?bM:l,c=t.initialMarkupToolsConfigurations,d=void 0===c?vn.s:c,p=t.markupToolbarStyles,f=void 0===p?void 0:p,h=t.enableArrowhead,m=void 0!==h&&h,g=t.enableStraightLineMarkup,v=void 0!==g&&g,y=t.onClearAllMarkupConfirmationDialog,b=void 0===y?void 0:y,x=t.isStrokeShapeCalloutEnabled,_=void 0===x?v:x,C=t.enableMarkupKeyboarding,w=void 0!==C&&C,S=t.children,k=(0,e.useState)(gn.OU),T=k[0],E=k[1],P=(0,e.useState)(!1),I=P[0],A=P[1],R=(0,e.useState)(!0),L=R[0],M=R[1],B=xn(d);return e.createElement(gn.O_.Provider,{value:{enableMarkup:r,Canvas:dM,canvasMethods:T,setCanvasMethods:E,InkCanvasInteraction:hM,inkConfigurations:i,getMarkupToolbarPosition:u,localizationStrings:s,scriptsToLoadJSBundles:[vM],markupToolsConfigurations:B,markupToolbarStyles:f,enableArrowhead:m,enableStraightLineMarkup:v,showWetCanvas:L,setShowWetCanvas:M,wetCanvasIsReady:I,setWetCanvasIsReady:A,onClearAllMarkupConfirmationDialog:b,isStrokeShapeCalloutEnabled:_,enableMarkupKeyboarding:w}},e.createElement(GI,null,e.createElement(gM,null,e.createElement(qI,null,S))))};const _M={Digit0:"Reset",NumpadAdd:"ZoomIn",NumpadSubtract:"ZoomOut",Equal:"ZoomIn",Minus:"ZoomOut"};function CM(e){e.ctrlKey&&e.preventDefault()}const wM=(0,e.memo)((function(e){let{inkBrushColor:t,isActive:n}=e;const r=(0,I.D)();return(0,Uy.jsxs)("div",{style:{display:"grid",gridColumn:"1 1",gridTemplateRows:"16.5px 18px 16.5px",position:"fixed"},children:[(0,Uy.jsx)("div",{style:{textAlign:"center",alignItems:"center",alignContent:"center"},children:(0,Uy.jsx)(g_.l8,{iconName:"ChevronUp",className:"toolBrushChevron",style:{color:r.palette.themePrimary,visibility:n?"initial":"hidden"}})}),(0,Uy.jsx)("div",{children:(0,Uy.jsx)(g_.l8,{iconName:"InkingTool",className:"toolBrushInking"})}),(0,Uy.jsx)("div",{style:{display:"flex"},children:(0,Uy.jsx)("svg",{height:"2",width:"16",children:(0,Uy.jsx)("line",{x1:"0",y1:"0",x2:"16",y2:"0",style:{stroke:t,strokeWidth:4}})})})]})})),SM=(0,e.memo)((function(e){let{inkBrushColor:t,isActive:n}=e;const r=(0,I.D)();return(0,Uy.jsxs)("div",{style:{display:"grid",gridColumn:"1 1",gridTemplateRows:"16.5px 18px 16.5px",position:"fixed"},children:[(0,Uy.jsx)("div",{style:{textAlign:"center",alignItems:"center",alignContent:"center"},children:(0,Uy.jsx)(g_.l8,{iconName:"ChevronUp",className:"toolBrushChevron",style:{color:r.palette.themePrimary,visibility:n?"initial":"hidden"}})}),(0,Uy.jsx)("div",{children:(0,Uy.jsx)(g_.l8,{iconName:"Highlight",className:"toolBrushInking"})}),(0,Uy.jsx)("div",{style:{display:"flex"},children:(0,Uy.jsx)("svg",{height:"2",width:"16",children:(0,Uy.jsx)("line",{x1:"0",y1:"0",x2:"16",y2:"0",style:{stroke:t,strokeWidth:4}})})})]})})),kM=(0,e.memo)((function(e){let{isActive:t}=e;return(0,Uy.jsx)("div",{style:{position:"fixed"},children:(0,Uy.jsx)("table",{style:{borderSpacing:"0"},children:(0,Uy.jsx)("tbody",{children:(0,Uy.jsx)("tr",{children:(0,Uy.jsx)("td",{style:{paddingTop:"4px"},children:(0,Uy.jsx)(g_.l8,{iconName:"EraseTool",className:"toolBrushInking"})})})})})})})),TM=(0,e.memo)((function(e){let{enabled:t}=e;const n=(0,I.D)(),o={fill:n.palette.neutralTertiary},i={fill:n.palette.black},a=(0,r.Zq)(t?i:o);return(0,Uy.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 2048 2048",style:{transform:"rotate(180deg)"},children:(0,Uy.jsx)("g",{className:a,children:(0,Uy.jsx)("path",{d:"M128 448V320q0-39 15-74t41-61 62-42 74-15h128q26 0 45 19t19 45q0 26-19 45t-45 19H320q-21 0-34 7t-20 21-9 31-2 37q0 16 1 32t1 32q0 20-2 37t-9 30-20 21-34 8q-26 0-45-19t-19-45zm704-192q-26 0-45-19t-19-45q0-26 19-45t45-19h256q26 0 45 19t19 45q0 26-19 45t-45 19H832zm576-64q0-26 19-45t45-19h128q39 0 74 15t61 41 42 62 15 74v128q0 26-19 45t-45 19q-26 0-45-19t-19-45V320q0-21-7-34t-21-19-31-9-37-3q-16 0-32 1t-32 1q-20 0-37-2t-30-9-21-20-8-34zM990 2048q-38 0-73-14t-62-42l-314-314q-26-26-41-62t-15-74q0-38 15-73t41-62l801-801q27-27 62-41t74-15q80 0 136 56l314 313q56 56 56 136 0 38-14 73t-42 63l-729 729h273q26 0 45 19t19 45q0 26-19 45t-45 19H990zm866-993q0-26-19-45l-314-314q-19-19-45-19t-45 19l-495 495 404 404 495-495q19-19 19-45zm-1728 33V832q0-26 19-45t45-19q26 0 45 19t19 45v256q0 26-19 45t-45 19q-26 0-45-19t-19-45zm863 833q26 0 45-19l216-216-404-404-216 215q-19 19-19 45 0 27 19 46l314 314q19 19 45 19zm-671-129q-39 0-74-15t-61-41-42-62-15-74v-128q0-26 19-45t45-19q26 0 45 19t19 45v128q0 21 7 34t21 20 31 9 37 2q16 0 32-1t32-1q19 0 36 2t31 9 21 20 8 34q0 26-19 45t-45 19H320z"})})})})),EM={activeInkBrushId:"pen1",brushes:[{inkBrushId:"pen1",getIcon:t=>e.createElement(wM,{inkBrushColor:null===t||void 0===t?void 0:t.inkBrushColor,isActive:null===t||void 0===t?void 0:t.isActive})},{inkBrushId:"pen2",getIcon:t=>e.createElement(wM,{inkBrushColor:null===t||void 0===t?void 0:t.inkBrushColor,isActive:null===t||void 0===t?void 0:t.isActive})},{inkBrushId:"highlighter",getIcon:t=>e.createElement(SM,{inkBrushColor:null===t||void 0===t?void 0:t.inkBrushColor,isActive:null===t||void 0===t?void 0:t.isActive})}],eraser:{getIcon:t=>e.createElement(kM,{isActive:null===t||void 0===t?void 0:t.isActive})},text:{getIcon:()=>e.createElement(vC.I,{iconName:"InsertTextBox"})},clearAllMarkup:{getIcon:t=>e.createElement(TM,{enabled:null===t||void 0===t?void 0:t.enabled})}};function PM(e,t){return e.isDarkMode?(0,dP.a)({palette:{themePrimary:nx(e.UIColors.Accent),themeDark:rx(e.UIColors.Accent,.8),themeLighter:"#092c47",themeDarkAlt:"#3aa0f3",neutralLighterAlt:nx(e.UIColors.EditorBackground),neutralLighter:"#2E2E2E",neutralLight:"#1F1F1F",neutralQuaternaryAlt:"#323130",neutralQuaternary:"#3b3a39",neutralTertiaryAlt:"#484644",neutralTertiary:"#797775",neutralSecondary:"#a19f9d",neutralPrimaryAlt:"#c8c6c4",neutralPrimary:"#f3f2f1",neutralDark:"#faf9f8",black:"#FFFFFF",white:"#000000"},rtl:t}):(0,dP.a)({palette:{themePrimary:nx(e.UIColors.Accent),themeDark:rx(e.UIColors.Accent,.8),black:"#000000",white:"#FFFFFF",neutralLighterAlt:nx(e.UIColors.EditorBackground),neutralLight:"#D5D5D5",neutralLighter:"#E4E4E4"},rtl:t})}function IM(){return e=$,(chrome.webview?chrome.webview.hostObjects.sync[e]:window[e])||uT;var e}function AM(e){e="WebView:"+e;IM().notifyOnDebugLog(e)}const RM="WINDOWS_STYLIZER_ALGORITHM_ID";const LM=e=>{let{children:t,imageMetadata:n}=e;return(0,Uy.jsx)(Rx.Provider,{value:{imageMetadata:n},children:t})};function MM(e){return 0===e?Ga.Lf:e}function BM(t){const{hvcEvents:n}=dT(),r=(0,e.useCallback)(((e,n,r,o,i,a)=>{t((t=>({...t,main:{id:window.performance.now().toString(),width:e,height:n,bytes:new Uint8ClampedArray(i),format:0===o?js.A.RGB:js.A.RGBA,orientation:MM(r)},sourceImageKind:a})))}),[t]);pT((0,e.useCallback)((e=>{if("fullImage"===e.additionalData.type||"thumbnailImage"===e.additionalData.type){const{width:t,height:o,orientation:i,format:a}=e.additionalData.payload;if(t&&o&&i&&a){let s=e.getBuffer();const l=function(e){let t;if("thumbnailImage"===e)t="Thumbnail";else{if("fullImage"!==e)throw new Error(`Invalid payload type: ${e}`);t="FullSize"}return t}(e.additionalData.type);r(t,o,i,a,s,l),setTimeout((()=>{"thumbnailImage"===e.additionalData.type?n.notifyOnThumbnailLoaded():"fullImage"===e.additionalData.type&&n.notifyOnFullImageBytesLoaded()}))}}}),[n,r]))}const OM={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8"};const FM={1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8};function DM(t){const{hvcEvents:n}=dT();return(0,e.useCallback)((e=>{if(AM("getEditsAsExifOrientation called"),t.current){const o=FM[e];if(o){const e=t.current.getEditsAsExifOrientation(o);var r;if(void 0!==e)return null!==(r=function(e){return OM[e]}(e))&&void 0!==r?r:"-1"}else n.notifyOnError("invalidExifValue","invalid starting exif orientation value")}return"-1"}),[n,t])}var NM=n(51315),UM=n(39124);var zM=n(87474),jM=n(3300),VM=n(31425),WM=n(1837),HM=n(24106),qM=n(53094),KM=n(47671);async function GM(e,t,n,r,o,i){let a=e=>{},s=e=>{};const l=new Promise(((e,t)=>{a=e,s=t})),u=async l=>{if(l.additionalData.type===o){const{width:o,height:c,orientation:d}=l.additionalData.payload;if(o&&c&&d)try{let o=l.getBuffer();const s=i(o),u=(0,KM.l)({...e,outputPixelBytes:s},t,r,n);a([u])}catch(u){s(u)}else s(new Error(`Missing required payload properties width: ${o}, height: ${c}, orientation: ${d}`))}};window.chrome.webview.addEventListener("sharedbufferreceived",u);try{const e=await l;return window.chrome.webview.removeEventListener("sharedbufferreceived",u),e}catch(c){if(window.chrome.webview.removeEventListener("sharedbufferreceived",u),c instanceof RangeError)throw c;throw new Error(`Shared buffer fetch failed for event type: ${o}`)}}var ZM=n(25317),XM=n(25166);var YM=n(95208);const QM={};const JM="NORMAL_ESTIMATION_ALGORITHM",$M={id:JM,texturePatchProcessorFunction:(0,YM.D)((async function(e,t,n,r,o,i,a){const s=(0,HM.$)(WM.g,n,r,i,a),{sampleRectInImage:l,sourceLayer:u}=s;if((0,qM.V)(u))throw new Error("unexpected dynamic layer id");const c=(0,XM.f)(u,r,i.getTextureBytes,l),d=IM(),p=js.A.RGBA,f=c.bytes.length*(0,Ts.x)(p)/(0,Ts.x)(c.format);if(d.notifyOnModelInferenceRequested("NormalMap",f,l.top,l.left,l.width,l.height,"",0,"all",u,0,0,!1),!c)throw new Error("source bytes not defined");const h=await GM(s,r,i,c,"NormalMapResult",(e=>(0,VM.O)({bytes:new Uint8ClampedArray(e),format:p},p)));return(0,ZM.Z)(h,n)}),(function(e){return{}})),getDefaultParams:()=>({algorithmId:JM,serializedParams:(0,jM.b)(QM),layerToPatch:"normalMap",sourceLayer:"main"})};var eB=n(9729);function tB(e,t){return sS(t,e.sliderMinValue,e.sliderMaxValue).toString()}function nB(e,t,n,r,o){if(e===t)return;const i=tB(r,e);o.push({editType:n,value:i})}function rB(e){switch(e){case un.km:return"Adjustments";case un.Zc:return"Filters";case un.X4:return"Markup";case un.VO:return"Retouch";case un.NF:return"Background";case un.ts:return"RestyleImage";case un.VQ:return"SuperResolution";case un.io:return"Relight";case un.x8:default:return"CropRotate"}}function oB(t,n,r){const{hvcEvents:o}=dT();return(0,e.useCallback)((async e=>{if("Error"===e.name)return void o.notifyOnError("ScriptError",e.message);let i=()=>[];if(t.current){const e=n.current||await t.current.getEdits(!1);e&&(i=()=>function(e,t){let n=[];const{transforms:r,adjustments:o,filters:i,autoEnhance:a,texturePatch:s,markup:l,relight:u,imageWasReplaced:c}=e,{activeFilter:d,filterLevel:p}=i,{level:f}=a,{aspectRatio:h}=r,m=e.imageBackground.backgroundType;if(!An(i,Rn(it))&&p&&d){const e=tB(wS,p);n.push({editType:d.name,value:e})}if(!Ln(a,_t)&&f){const e=tB(wS,f);n.push({editType:"autoEnhance",value:e})}if(o){const{brightness:e,contrast:t,exposure:r,highlights:i,saturation:a,shadows:s,temperature:l,tint:u,vignette:c,sharpness:d}=o.baseAdjustments,{brightness:p,contrast:f,exposure:h,highlights:m,saturation:g,shadows:v,temperature:y,tint:b,vignette:x,sharpness:_}=Be.$O.baseAdjustments,{Brightness:C,Contrast:w,Exposure:S,Highlights:k,Saturation:T,Shadows:E,Temperature:P,Tint:I,Vignette:A,Sharpness:R}=Oe.F;nB(e,p,C,NM._,n),nB(t,f,w,NM._,n),nB(r,h,S,NM._,n),nB(i,m,k,NM._,n),nB(a,g,T,NM._,n),nB(s,v,E,NM._,n),nB(l,y,P,NM._,n),nB(u,b,I,NM._,n),nB(c,x,A,NM._,n),nB(d,_,R,NM._,n)}if(l){const{markupContentItems:e}=l,t=(null===e||void 0===e?void 0:e.filter((e=>e.contentType===Lu.A.InkContent)).length)||0,r=(null===e||void 0===e?void 0:e.filter((e=>e.contentType===Lu.A.TextContent)).length)||0;n.push({editType:"markupStrokeCount",value:String(t)}),n.push({editType:"markupTextCount",value:String(r)})}const g="None";if(h.name!==g&&n.push({editType:"aspectRatio",value:h.name}),s.texturePatchInfos.length>0){const e=s.texturePatchInfos.filter((e=>e.algorithmParameters.algorithmId===UM.j)).length,r=s.removedTexturePatchInfos.filter((e=>e.algorithmParameters.algorithmId===UM.j)).length;if((e>0||r>0)&&(n.push({editType:"spotFixPatches",value:String(e)}),n.push({editType:"spotFixRemovedPatches",value:String(r)})),"OriginalBackground"!==m){const e=s.texturePatchInfos.filter((e=>e.algorithmParameters.algorithmId===zM.f)).length;"BlurredBackground"===m&&n.push({editType:"backgroundBlur",value:"1"}),"TransparentBackground"===m&&n.push({editType:"backgroundRemove",value:"1"}),"ColorRGBABackground"===m&&n.push({editType:"backgroundReplace",value:"1"}),n.push({editType:"backgroundMaskEditedByUser",value:e>0?"true":"false"})}let o=0,i=0;for(const n of s.texturePatchInfos){var v,y;n.algorithmParameters.algorithmId===(null===(v=t.magicErase)||void 0===v?void 0:v.id)&&o++,n.algorithmParameters.algorithmId===(null===(y=t.stylizer)||void 0===y?void 0:y.id)&&i++}if(n.push({editType:"generativeErase",value:String(o)}),n.push({editType:"stylizer",value:String(i)}),0!==s.texturePatchInfos.filter((e=>e.algorithmParameters.algorithmId===JM)).length&&!Dn(u)&&null!==u.presetIndex&&u.presetIndex<=eB.Qq.length){const e=eB.Qq[u.presetIndex].nameForTelemetry,t=function(e,t){return e.lightSources.every(((e,n)=>{const r=t.lightSources[n];return e.lightType===r.lightType&&e.lightColor===r.lightColor&&e.lightIntensity===r.lightIntensity&&e.lightSoftness===r.lightSoftness&&e.directionalLightAngleAround===r.directionalLightAngleAround&&e.directionalLightAngleInto===r.directionalLightAngleInto}))}(u,eB.Qq[u.presetIndex])?{isPresetLightsModified:!1,presetName:e,globalIntensity:u.globalIntensity}:{isPresetLightsModified:!0,presetName:e,globalIntensity:u.globalIntensity,normalizedLightTarget:u.normalizedLightTarget,lightSources:u.lightSources.map((e=>({lightType:e.lightType,lightColor:e.lightColor,label:e.label,isOn:e.isOn,lightIntensity:e.lightIntensity,lightSoftness:e.lightSoftness,directionalLightAngleAround:e.directionalLightAngleAround,directionalLightAngleInto:e.directionalLightAngleInto})))};n.push({editType:"relight",value:JSON.stringify(t)})}}return c.imageWasReplaced&&"SuperResolution"===c.cumulativeTelemetry.editType&&n.push({editType:"superResolution",value:String(c.cumulativeTelemetry.value)}),n}(e,r)),n.current=void 0}const a=function(e,t){switch(e.name){case"PageLoadTime":return[{name:"EditPageLoadTime",component:e.component,pageLoadTimeMs:e.pageLoadTimeMs}];case"EditorActivityChange":return[{name:"EditActivityChanged",editorActivityName:rB(e.editorActivityName),loadTimeInMs:e.loadTimeInMs,inputType:e.inputType}];case"Crop":return[{name:"EditSetCropArea",inputType:e.inputType}];case"Rotate":return[{name:"EditCropRotate",inputType:e.inputType}];case"Flip":return[{name:"EditCropFlip",inputType:e.inputType}];case"AspectRatio":return[{name:"EditCropAspectRatio",orientation:e.aspectRatio.name,selectedProportionName:e.name,inputType:e.inputType}];case"EditReset":return[{name:"EditReset",inputType:e.inputType}];case"Cancel":return[{name:"NavigatedBack",inputType:e.inputType,editState:t()}];case"Save":return[{name:"EditorComplete",command:e.saveType===mr.SaveAs?"SaveAsCopy":"SaveAsOriginal",inputType:e.inputType,editState:t()}];case"CopyToClipboard":return[{name:"CopyToClipboard",entryPoint:e.entryPoint,editState:t()}];case"SessionStatistics":return[{name:"EditSessionStatistics",imageSize:e.imageSize,minFrameRate:e.minFrameRate,avgFrameRate:e.avgFrameRate}];case"MaxTextureSize":return[{name:"EditMaxTextureSize",value:e.value}];case"InkBrushUpdate":return[{name:"EditInkBrushUpdate",thicknessInCssPixels:e.thicknessInCssPixels,color:e.color,inkType:e.inkType,lineMode:e.lineMode,arrowMode:e.arrowMode}];case"MarkupToolSelect":return[{name:"EditMarkupToolSelect",activeMarkupToolType:e.activeMarkupToolType}];case"ClearAllMarkup":return[{name:"EditClearAllMarkup",numberOfMarkupRemoved:e.numberOfMarkupRemoved}];case"UndoRedo":return[{name:"EditUndoRedo",undoRedoItemId:e.undoRedoItemId,actionType:e.actionType,currentStackSize:e.currentStackSize,telemetryId:e.telemetryId}];case"TexturePatchApplied":return e.type===zM.f?[]:[{name:"EditTexturePatchApplied",type:e.type,maskType:e.maskType,timeConsumedInMs:e.timeConsumedInMs,maskHeight:e.maskHeight,maskWidth:e.maskWidth}];case"TexturePatchRunningLong":return[{name:"EditTexturePatchRunningLong",timeOut:e.timeOut}];case"TexturePatchCreationError":return[{name:"EditTexturePatchCreationError",errorMessage:e.errorMessage,algorithmId:e.algorithmId,maskType:e.maskType}];case"SpotFixBrushSizeSliderAdjust":case"BackgroundBlurIntensitySliderAdjust":return[{name:e.name,value:e.value}];case"BackgroundOptionSelected":const n=[];return"Original"!==e.type&&n.push({name:e.name,type:e.type,isUserInitiated:e.isIntentional}),n;case"MaskBrushSliderAdjust":return[{name:e.name,value:e.value,type:e.type,tool:e.tool}];case"BrushModeChanged":return[{name:e.name,action:e.action,tool:e.tool}];case"ResetBackground":return[{name:e.name}];case"ColorReplaceSelection":return[{name:e.name,type:e.type}];case"BackgroundBrushToolToggle":case"AutoApplyToggle":case"RelightLightLocationToggle":return[{name:e.name,action:e.action}];case"AutoEnhance":return[{name:e.name,inputType:e.inputType,activity:e.activity}];case"MagicEraseApply":case"MagicEraseClear":case"CancelSuperResolution":case"DiscardSuperResolution":case"SuperResolutionConfirmationDialog_Apply":case"SuperResolutionConfirmationDialog_Discard":case"SuperResolutionConfirmationDialog_Dismiss":case"SuperResolutionCompareSplitterMoved":return[{name:e.name,inputType:e.inputType}];case"StylizerPromptExecuted":return[{name:e.name,inputType:e.inputType,suggestionType:e.suggestionType,isFirstRestyle:e.isFirstRestyle,creativityLevel:e.creativityLevel,isBackgroundOnly:e.isBackgroundOnly,isForegroundOnly:e.isForegroundOnly}];case"SuperResolutionSliderAdjust":return[{name:e.name,value:e.value,inputType:e.inputType,inputImageWidth:e.inputImageWidth,inputImageHeight:e.inputImageHeight}];case"SuperResolutionComplete":const r={name:e.name,result:e.result,timeConsumedInMs:e.timeConsumedInMs};return e.errorCode&&(r.errorCode=e.errorCode),[r];case"SuperResolutionApplied":return[{name:e.name,scenario:e.scenario}];case"RelightPresetChanged":return[{name:e.name,presetName:e.presetName,inputType:e.inputType,isUserInitiated:e.isIntentional}];case"RelightIntensitySliderAdjust":return[{name:e.name,value:e.value,presetName:e.presetName,inputType:e.inputType}];case"RelightBrightnessSliderAdjust":case"RelightSoftnessSliderAdjust":return[{name:e.name,value:e.value,presetName:e.presetName,lightName:e.lightName,inputType:e.inputType}];case"RelightOnCanvasElementMoved":{const t={name:e.name,onCanvasElementType:e.onCanvasElementType,lightName:e.lightName,inputType:e.inputType};return e.lightName&&(t.lightName=e.lightName),[t]}case"RelightRegenerateLighting":return[{name:e.name,editorActivity:e.editorActivity,regenerate:e.regenerate}]}return[]}(e,i);a.forEach((t=>{o.notifyOnTelemetry(function(e,t){let n=e.name;return t&&(n="CommandExecuted"),"EditorComplete"!==e.name&&"NavigatedBack"!==e.name||(n="EditorComplete"),n}(t,e.isIntentional),JSON.stringify(t))}))}),[o,t,n,r])}var iB=n(36058);function aB(e,t,n,r,o){const i=new Uint8ClampedArray(e),a="MagicErase"===n,s=a?r.getImageRegionLayerBytes("eraseMask",o):null;if(t.width!==o.width||t.height!==o.height){const n=new Uint8ClampedArray(e);for(let e=0;e<o.height;e++)for(let r=0;r<o.width;r++){const o=e*t.width*4+4*r;n[o]=t.bytes[o],n[o+1]=t.bytes[o+1],n[o+2]=t.bytes[o+2],n[o+3]=a&&s?255-s.bytes[e*s.width+r]:t.bytes[o+3]}i.set(n)}else a&&function(e,t,n){if(e.format!==js.A.RGBA)throw new Error("imageBytes must be in RGBA format");if(!t||t.format!==js.A.A)throw new Error("maskBytes must exist and be in Alpha format");if(e.width!==t.width||e.height!==t.height)throw new Error("imageBytes and maskBytes must have matching widths and heights");const r=(0,iB.O)(e.format),o=(0,Ts.x)(e.format);for(let i=0;i<t.bytes.length;i++)e.bytes[i*o+r]=n?255-t.bytes[i]:t.bytes[i]}(t,s,!0),i.set(t.bytes);return i}function sB(t){const{hvcEvents:n}=dT();pT((0,e.useCallback)((async e=>{if("regionForModel"!==e.additionalData.type)return;if(!t.current)return void n.notifyOnError("regionForModelError","onSharedBufferReceived failed: imageEditorRef.current is empty");const{top:r,left:o,width:i,height:a,modelName:s,textPrompt:l,creativity:u,sourceLayer:c,segmentationScope:d,steps:p,superResolutionScale:f,shouldSkipPromptModeration:h}=e.additionalData,m=e.getBuffer();let g=null;try{g="SuperResolution"===s?await t.current.getEditedImageBytes():await t.current.getImageRegionLayerBytes(c,{top:r,left:o,width:i,height:a}),g?("SuperResolution"===s?function(e,t,n,r,o){if(n!==t.width||r!==t.height)return void o.notifyOnError("updateSharedArrayForSuperResolutionError",`width or height mismatch. Expected width: ${n} ImageBytesWidth: ${t.width} Expected height: ${r} ImageBytesHeight: ${t.height}`);new Uint8ClampedArray(e).set(t.bytes)}(m,g,i,a,n):aB(m,g,s,t.current,{top:r,left:o,width:i,height:a}),n.notifyOnRegionForModelReady(s,i,a,l,u,d,p,f,h)):n.notifyOnError("regionForModelError","onSharedBufferReceived failed: imageEditorRef.current.getImageLayerBytes(sourceLayer) or getEditedImageBytes() is empty")}catch(v){v instanceof RangeError?n.notifyOnError("outOfMemoryError",`useOnRequestRegionForModel onSharedBufferReceived failed: ${v}`):n.notifyOnError("regionForModelError",`onSharedBufferReceived failed: ${v}`)}}),[n,t]))}var lB=n(41646);function uB(e){if("object"!==typeof e||null==e)throw new Error("Error validating Segmentation algorithm parameters");if(!("shouldInvertSegmentation"in e))throw new Error("shouldInvertSegmentation missing in Segmentation algorithm parameters");return{shouldInvertSegmentation:!e.shouldInvertSegmentation}}var cB=n(29382);async function dB(e,t,n,r,o,i,a){const s=(0,HM.$)(WM.g,n,r,i,a),{sampleRectInImage:l,sourceLayer:u,layerToPatch:c}=s;if((0,qM.V)(u))throw new Error("unexpected dynamic layer id");const{originalPixelBytes:d}=(0,cB.D)(u,c,r,i.getTextureBytes,l),p=IM(),f=d.bytes.length*(0,Ts.x)(js.A.RGBA)/(0,Ts.x)(d.format);if(p.notifyOnModelInferenceRequested("BackgroundSegmentation",f,l.top,l.left,l.width,l.height,"",0,"all",u,0,0,!1),!d)throw new Error("original bytes not defined");const h=await GM(s,r,i,d,"BackgroundSegmentationResult",(t=>{const n=(0,VM.O)({bytes:new Uint8ClampedArray(t),format:js.A.RGBA},js.A.A);return e.shouldInvertSegmentation&&function(e){const t=(0,iB.O)(e.format),n=(0,Ts.x)(e.format);for(let r=t;r<e.bytes.length;r+=n)e.bytes[r]=255-e.bytes[r]}(n),n}));return(0,ZM.Z)(h,n)}const pB="WindowsBackgroundSegmentationAlgorithm",fB={sourceLayer:"main",shouldInvertSegmentation:!1},hB={id:pB,texturePatchProcessorFunction:(e,t,n,r,o,i,a)=>dB((0,lB.q)(e,uB),0,n,r,0,i,a),getDefaultParams:()=>({algorithmId:pB,serializedParams:(0,jM.b)(fB),layerToPatch:"backgroundMask",sourceLayer:"main"})};var mB=n(56381);var gB=n(83285),vB=n(96631),yB=n(24510),bB=n(91594);function xB(e,t){return Math.max(e.width,e.height)<=t}function _B(e,t,n,r,o){return e&&xB(t,n)&&function(e,t,n){return t.filter((e=>(0,Bn.n)(e.algorithmParameters.layerToPatch,n))).length<=4&&Math.abs(e.width-e.height)<=5}(t,r,o)}function CB(e,t,n,r,o,i){return function(e,t,n){return e&&xB(t,n)}(e,t,n)||_B(r,t,n,o,i)}async function wB(e,t,n,r,o,i,a,s,l,u){if(t.maskType!==qf.D.FromLayer||!(0,bB.b)(t.layerToUseAsMask))throw new Error("unsupported mask type");const{layerToUseAsMask:c}=t,d=(0,gB.y)(a,c);if(void 0===d)throw new Error("Mask bounds rect is undefined when processing MagicErase texture patch request");if(CB(s,d,l,u,a,c)){return{...await(0,yB.t)(e,t,n,r,o,i,a),algorithmId:"spotFixInGenErase"}}const p=function(e,t){const{bytes:n,format:r}=e,o=(0,Ts.x)(r);let i=0;for(let a=(0,iB.O)(r);a<n.length;a+=o)n[a]!==t&&i++;return i}((0,XM.f)(c,r,i.getTextureBytes,d),0),f=(0,HM.$)(function(e,t,n,r,o,i){return(a,s)=>{let l={...s};const u=s.width,c=s.height,d=t/e,p=u/c,f=Math.round(Math.sqrt(d*p)),h=Math.round(f/p);let m=Math.max(f,u+n),g=Math.max(h,c+n);if(m<r&&g<o)return(0,mB.Y)(l,a,r,o);const v=m/g,y=Math.abs(Math.log(v));return i<y&&(m<g?m=Math.round(g/Math.exp(i)):g<m&&(g=Math.round(m/Math.exp(i)))),l=(0,mB.Y)(l,a,m,g),l}}(.5,p,10,256,256,.8),n,r,i,a,d),{sampleRectInImage:h,sourceLayer:m,layerToPatch:g,maskPixelBytes:v}=f;if((0,qM.V)(m))throw new Error("unexpected dynamic layer id");const{originalPixelBytes:y}=(0,cB.D)(m,g,r,i.getTextureBytes,h),b=IM(),x=y.bytes.length;if(b.notifyOnModelInferenceRequested("MagicErase",x,h.top,h.left,h.width,h.height,"",0,"all",m,0,0,!1),!y)throw new Error("original bytes not defined");const _=await GM(f,r,i,y,"MagicEraseResult",(e=>{const t=(0,VM.O)({bytes:new Uint8ClampedArray(e),format:js.A.RGBA},y.format),n=(0,iB.O)(t.format);return(0,vB.m)(t,y,v,"none",(e=>{t.bytes[e+n]=y.bytes[e+n]})),t}));return(0,ZM.Z)(_,n)}const SB="WindowsMagicEraseAlgorithm",kB={sourceLayer:"main"};function TB(e,t,n){return{id:SB,texturePatchProcessorFunction:function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return wB(...o,e,t,n)},getDefaultParams:()=>({algorithmId:SB,serializedParams:(0,jM.b)(kB),layerToPatch:"main",sourceLayer:"main"})}}!function(e){function t(){var t=this||self;t.globalThis=t,delete e.prototype._T_}"object"!==typeof globalThis&&(this?t():(e.defineProperty(e.prototype,"_T_",{configurable:!0,get:t}),_T_))}(Object);n(55853);var EB=n(81927),PB=n(18047);const IB=-1!==window.location.href.indexOf("http://localhost");function AB(e,t){const n=new Uint8ClampedArray(e*t*4);let r=0;for(let o=0;o<t;o++)for(let t=0;t<e;t++)n[r++]=t%255,n[r++]=o%255,n[r++]=0,n[r++]=255;return n}var RB=n(14717),LB=n(42619),MB=n.n(LB);const BB={prompt:"",creativity:.3,shouldSkipPromptModeration:!1,segmentationScope:"all"},OB={id:RM,texturePatchProcessorFunction:async function(e,t,n,r,o,i,a){const{layerToPatch:s}=n.algorithmParameters,l=(0,HM.$)(WM.g,n,r,i,a),{maskPixelBytes:u,sourceLayer:c,sampleRectInImage:d}=l;if((0,qM.V)(c))throw new Error("unexpected dynamic layer id");const{originalPixelBytes:p}=(0,cB.D)(c,s,r,i.getTextureBytes,d),f=(0,RB.U)(JSON.parse(e.serializedParams)),h=IM(),m=p.bytes.length,g=(0,Yc.Cc)(.06,.9,f.creativity),v=MB()(`${f.prompt}${f.enableHiddenPrompt?f.hiddenPrompt:""}`).replace(/\n/g,"");if(h.notifyOnModelInferenceRequested("SDSketchToImage",m,d.top,d.left,d.width,d.height,v,g,f.segmentationScope,c,f.steps,0,f.shouldSkipPromptModeration),!p)throw new Error("original bytes not defined");const y=await GM(l,r,i,p,"SDSketchToImageResult",(e=>{const t=(0,VM.O)({bytes:new Uint8ClampedArray(e),format:js.A.RGBA},p.format),n=(0,iB.O)(t.format);return(0,vB.m)(t,p,u,void 0,(e=>{t.bytes[e+n]=p.bytes[e+n]})),t}));return(0,ZM.Z)(y,n)},getDefaultParams:()=>({algorithmId:RM,serializedParams:(0,jM.b)(BB),layerToPatch:"main",sourceLayer:"original"}),canExecuteWithParams:e=>{try{if(""!==(0,RB.U)(JSON.parse(e.serializedParams)).prompt)return!0}catch(t){}return!1}};!function(e,t){var n,r;void 0===e&&(e=(null===(n=null===T||void 0===T?void 0:T.FabricConfig)||void 0===n?void 0:n.iconBaseUrl)||(null===(r=null===T||void 0===T?void 0:T.FabricConfig)||void 0===r?void 0:r.fontBaseUrl)||k),[o,i,a,s,l,u,c,d,p,f,h,m,g,v,y,b,x,_,C].forEach((function(n){return n(e,t)})),w()}("./fonts/");const FB=t=>{var n;let{windowsTheme:r,fullImageSize:o,initialPivot:i,enableSave:a,rtl:s,showControlPivot:l,enableBackground:u,enableSpotFix:c,enableMagicErase:d,useSpotFixWhenGenerativeEraseAreaIsSmall:p,generativeEraseAreaIsSmallMaxPixels:f,useSpotFixOnClickInGenerativeErase:h,fileFormatSupportsTransparency:m,enableAIBadges:g,isOnline:v,msaStatus:y,enableStylizer:b,enableStylizerDebugUI:x,imageCreationExtensionState:_,stylizerPivotTeachingTipState:C,initialBackgroundTypeToApply:w,isCancelVisible:S,enableResize:k,enableRelight:T,enableAIRelightDevUI:E}=t;const P=(0,e.useRef)(null),[I,A]=(0,e.useState)({...(0,vo.W)(),sourceImageKind:"NoImage"}),[R,L]=(0,e.useState)("false"),M=(0,e.useMemo)((()=>({...Qe.yp,activeEditorActivity:i,initialBackgroundTypeToApply:w})),[i,w]),B=(0,e.useMemo)((()=>({backgroundSegmentation:hB,magicErase:TB(p,f,h),stylizer:OB,normalMap:$M})),[p,f,h]),O=(0,e.useRef)(void 0),F=function(){var t=(0,e.useState)({width:window.innerWidth,height:window.innerHeight}),n=t[0],r=t[1],o=(0,e.useCallback)((function(){r({width:window.innerWidth,height:window.innerHeight})}),[]);return(0,e.useEffect)((function(){return window.addEventListener("resize",o),function(){window.removeEventListener("resize",o)}}),[o]),n}(),D=function(){const{hvcEvents:t}=dT();return(0,e.useEffect)((()=>(window.onerror=function(e,t,n,r,o){AM(`${e}, ${t}, ${n}, ${r}, ${o}`)},()=>{window.onerror=null})),[]),(0,e.useCallback)((e=>{t.notifyOnError(e.id.toString(),e.message)}),[t])}(),N=function(){const{hvcEvents:t}=dT();return(0,e.useCallback)((()=>{t.notifyOnUserClose()}),[t])}(),U=DM(P),z=function(t){return(0,e.useCallback)((()=>(AM("imageHasEdits called"),t.current&&t.current.hasEdits()?"true":"false")),[t])}(P),j=oB(P,O,B),{fluentTheme:V,setThemesJson:W}=function(t,n){const[r,o]=(0,e.useState)(null),{hvcEvents:i}=dT();return{fluentTheme:(0,e.useMemo)((()=>{if(r){i.notifyOnDebugLog("received themes json: "),i.notifyOnDebugLog(r);const e=PM(JSON.parse(r),n);return i.notifyOnDebugLog(JSON.stringify(e)),e}return PM(t,n)}),[t,i,n,r]),setThemesJson:o}}(r,s),{onSave:H,onDecideEnabledSaveTypes:q}=function(t,n,r){const{hvcEvents:o}=dT(),i=(0,e.useCallback)((async e=>{if(t.current){let r=0;switch(e){case mr.SaveAsOriginal:r=0;break;case mr.SaveAs:r=1;break;case mr.CopyToClipboard:r=2}const i=await t.current.getEdits(!1),a="TransparentBackground"===(null===i||void 0===i?void 0:i.imageBackground.backgroundType);if(n.current=i,i){const{width:e,height:t}=i.transforms.cropRectangle;let n=e,s=t;On(i.resize)&&(n=Math.floor(i.resize.resizeFactor*e),s=Math.floor(i.resize.resizeFactor*t));let l=!1;const u=null===i||void 0===i?void 0:i.texturePatch.texturePatchInfos;null!==u&&void 0!==u&&u.length&&u.length>0&&(l=u.some((e=>e.algorithmParameters.algorithmId===RM))),o.notifyOnUserSave(r,n*s*(0,Ts.x)(js.A.RGBA),a,l)}}}),[o,t,n]);return pT((0,e.useCallback)((async e=>{try{if("editedImage"===e.additionalData.type){const n=e.getBuffer();if(t.current){const r=e.additionalData.enableTransparency?qs.Wf:qs.Xn,i=await t.current.getEditedImageBytes(void 0,r);i&&(new Uint8ClampedArray(n).set(i.bytes),o.notifyOnEditedImageReady(i.width,i.height))}else o.notifyOnError("saveError","getEditedImageBytes failed")}}catch(n){n instanceof RangeError?o.notifyOnError("outOfMemoryError",`onSave onSharedBufferReceived failed: ${n}`):o.notifyOnError("saveError",`onSave onSharedBufferReceived failed: ${n}`)}}),[o,t])),{onSave:i,onDecideEnabledSaveTypes:(0,e.useCallback)(((e,t,n,o)=>{const i=new Set;return o||n&&(i.add(mr.SaveAs),i.add(mr.CopyToClipboard),r&&t&&i.add(mr.SaveAsOriginal)),i}),[r])}}(P,O,a),{setFeatureTogglesJson:K}=function(){const[t,n]=(0,e.useState)(null),{hvcEvents:r}=dT();return(0,e.useEffect)((()=>{t&&r.notifyOnDebugLog("received feature toggles json : NOT IMPLEMENTED YET")})),{setFeatureTogglesJson:n}}(),{windowsLocalization:G,setLocalizationJson:Z}=function(){const[t,n]=(0,e.useState)(null),{hvcEvents:r}=dT();return{windowsLocalization:(0,e.useMemo)((()=>{if(t)try{return JSON.parse(t)}catch(e){e instanceof Error&&r.notifyOnDebugLog("exception parsing json"+e.toString())}}),[t,r]),setLocalizationJson:n}}(),[X,Y]=(0,e.useState)({}),[Q,$]=(0,e.useState)(v),[me,ge]=(0,e.useState)(y),[ve,ye]=(0,e.useState)(void 0),[be,xe]=(0,e.useState)(null!==(n=_)&&void 0!==n?n:"Unavailable"),[_e,Ce]=(0,e.useState)(),[we,Se]=(0,e.useState)(C||"alreadyShown"),ke=e.useCallback((()=>{_e&&Ce({..._e,dismissed:!0})}),[_e,Ce]),Te=(0,e.useMemo)((()=>{var e=[];return d&&e.push(Ht.I.MagicErase),c&&e.push(Ht.I.SpotFix),e}),[d,c]),Ee=(0,e.useMemo)((()=>({setLocalizationJson:Z,setThemesJson:W,setFeatureTogglesJson:K,setImageMetadata:e=>{const t=JSON.parse(e);Y({...X,...t})},imageHasEdits:z,getEditsAsExifOrientation:U,setLoadingAndDisableHVC:L,addUserFacingMessage:e=>{try{var t;null===(t=P.current)||void 0===t||t.addUserFacingMessage(function(e){if(!e||"object"!=typeof e)throw new Error("validateUserFacingMessage: params was not a valid object.");if(!("id"in e))throw new Error("validateUserFacingMessage: params was not a valid UserFacingMessage; missing id property.");if("string"!==typeof e.id)throw new Error("validateUserFacingMessage: params was not a valid UserFacingMessage; id property was not of type string.");if(!("title"in e))throw new Error("validateUserFacingMessage: params was not a valid UserFacingMessage; missing title property.");if("string"!==typeof e.title)throw new Error("validateUserFacingMessage: params was not a valid UserFacingMessage; title property was not of type string.");if(!("message"in e))throw new Error("validateUserFacingMessage: params was not a valid UserFacingMessage; missing message property.");if("string"!==typeof e.message)throw new Error("validateUserFacingMessage: params was not a valid UserFacingMessage; message property was not of type string.");if(!("messageType"in e))throw new Error("validateUserFacingMessage: params was not a valid UserFacingMessage; missing messageType property.");if("number"!==typeof e.messageType)throw new Error("validateUserFacingMessage: params was not a valid UserFacingMessage; messageType property was not of type string.");if("dismissButtonAriaLabel"in e&&"string"!==typeof e.dismissButtonAriaLabel)throw new Error("validateUserFacingMessage: params was not a valid UserFacingMessage; dismissButtonAriaLabel optional property was present but not of type string.");if("shouldDismissOnAnyClickOrKeyPress"in e&&"boolean"!==typeof e.shouldDismissOnAnyClickOrKeyPress)throw new Error("validateUserFacingMessage: params was not a valid UserFacingMessage; shouldDismissOnAnyClickOrKeyPress optional property was present but not of type string.");if(!("timeOrder"in e))throw new Error("validateUserFacingMessage: params was not a valid UserFacingMessage; missing timeOrder property.");if("number"!==typeof e.timeOrder)throw new Error("validateUserFacingMessage: params was not a valid UserFacingMessage; timeOrder property was not of type number.");const{id:t,title:n,message:r,messageType:o,timeOrder:i}=e;return{...e,id:t,title:n,message:r,messageType:o,timeOrder:i}}({...JSON.parse(e),timeOrder:(0,Ic.b)()}))}catch(n){D({id:"InvalidInput",message:"message"in n&&"string"===typeof n.message?n.message:""})}},setNetworkStatus:e=>{const t="true"===e.toLocaleLowerCase();$(t)},setMSAStatus:e=>{["SignedIn","SignedInBlocked","SignedInBanned","SignedOut","Loading"].includes(e)&&ge(e)},setHostError:e=>{const t=JSON.parse(e);t.timestamp=new Date,t.dismissed=!1,Ce(t)},setImageHasFaces:e=>{ye("true"===e.toLocaleLowerCase())},setImageCreationExtensionState:e=>{switch(e){case"Installed":xe("Installed");break;case"Installing":xe("Installing");break;case"Initialized":xe("Initialized");break;case"Error":xe("Error");break;default:xe("Unavailable")}},setStylizerPivotTeachingTipDismissed:e=>{Se("true"===e?"alreadyShown":"showing")}})),[D,Z,W,K,X,z,U,L,$,ge,Ce]);BM(A),sB(P),function(t){(0,e.useEffect)((()=>{he(ee,t.setLocalizationJson),he(te,t.setThemesJson),he(ne,t.setFeatureTogglesJson),he(re,t.setImageMetadata),he(oe,t.imageHasEdits),he(ie,t.getEditsAsExifOrientation),he(ae,t.setLoadingAndDisableHVC),he(se,t.addUserFacingMessage),he(le,t.setNetworkStatus),he(ue,t.setMSAStatus),he(ce,t.setHostError),he(de,t.setImageHasFaces),he(pe,t.setImageCreationExtensionState),he(fe,t.setStylizerPivotTeachingTipDismissed)}),[t])}(Ee),function(){const{hvcEvents:t}=dT();(0,e.useEffect)((()=>{t.notifyOnReady()}),[t])}(),function(){const{hvcEvents:t}=dT();(0,e.useEffect)((()=>{const e=e=>{"F11"===e.key&&t.notifyOnF11()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[t])}(),function(t,n){const r=(0,e.useCallback)((e=>{e.ctrlKey&&_M[e.code]&&(t(_M[e.code]),!1!==n&&e.preventDefault())}),[t,n]);(0,e.useEffect)((()=>(window.addEventListener("keydown",r,{passive:!1}),window.addEventListener("wheel",CM,{passive:!1}),()=>{window.removeEventListener("keydown",r),window.removeEventListener("wheel",CM)})),[t,n,r])}((e=>{var t,n;switch(e){case"ZoomIn":null===(t=P.current)||void 0===t||t.zoomIn();break;case"ZoomOut":null===(n=P.current)||void 0===n||n.zoomOut()}})),function(t,n){(0,e.useEffect)((()=>{IB&&(n((e=>({...e,main:{id:window.performance.now().toString(),width:1024,height:1024,bytes:AB(1024,1024),format:js.A.RGBA,orientation:1},sourceImageKind:"FullSize"}))),t(JSON.stringify({strings:{...EB.b,...PB.b,...Mx},locales:"en-US"})))}),[n,t])}(Z,A);const Pe=(0,e.useMemo)((()=>function(e){var t;const n=ix(e.palette.black),r=null!==(t=e.rtl)&&void 0!==t&&t,o=function(e){return`0px 8px 16px rgba(0,0,0,${e?.26:.14}),0 0 0 1px rgba(0, 0, 0, 0.0578)`}(n);return{canvasContainer:{bottom:"18px",left:"50%"},container:{borderRadius:"8px",backgroundColor:e.palette.neutralLighterAlt,paddingLeft:"2px",paddingRight:"2px",boxShadow:o},markupToolbarButton:{rootPressed:{opacity:n?.786:.6063}},markupToolbarTools:{activeToolbarIcon:{backgroundColor:n?ux:cx},toolbarIcon:{"&:hover":{backgroundColor:n?ux:cx},"&:active":{backgroundColor:n?dx:px}},toolbarTooltip:{boxShadow:o}},contextualMenuCallout:{root:{borderRadius:"8px",boxShadow:o}},inkStylePicker:{containerStyles:{minWidth:"336px",width:"auto",backgroundColor:e.palette.neutralLight},getContentWrapperStyle:()=>({minHeight:"158px",padding:"6px 16px",display:"grid",gridRowGap:"6px"}),strokeShapePickerStyles:{container:{borderTop:`1px solid ${e.palette.neutralTertiaryAlt}`,paddingTop:"8px",columnGap:"0px"},iconLabelButton:{root:{margin:"0px 6px !important"}}},strokeShapeCalloutStyles:{calloutMain:uk(e)},sliderStyles:{getSliderStyles:()=>rk(e,{thumb:{top:"-8px"},valueLabel:{marginRight:"0",textAlign:r?"left":"right"},container:{margin:"0px"}})},inkColorPickerStyles:{colorPickerGridCellStyles:{colorCellSVGCircle:{stroke:e.palette.black},colorCellSVG:{},colorCellSelected:{border:"2px solid "+e.palette.black+" !important"}}}},clearAllMarkup:{markupToolbarButton:{rootPressed:{opacity:n?.786:.6063}},markupToolbarTools:{activeToolbarIcon:{backgroundColor:n?ux:cx},toolbarIcon:{"&:hover":{backgroundColor:n?ux:cx},"&:active":{backgroundColor:n?dx:px}},toolbarTooltip:{boxShadow:o}},confirmationDialog:{cancelButton:vx(e),confirmButton:kb(e),dialog:{main:{borderRadius:"8px",border:"1px solid rgba(117,117,117,0.4)"}}}}}}(V)),[V]),{hvcEvents:Ie}=dT(),Ae=(0,e.useCallback)((()=>{Ie.notifyOnMSALogInRequested()}),[Ie]),Re=(0,e.useCallback)((()=>{Ie.notifyOnMSALogOutRequested()}),[Ie]),Le=(0,e.useCallback)((e=>{Ie.notifyOnLinkClicked(e)}),[Ie]),Me=(0,e.useCallback)((()=>{Ie.notifyOnImageCreationExtensionDownloadRequested()}),[Ie]),Be=(0,e.useCallback)((()=>{Se("alreadyShown"),Ie.notifyOnStylizerPivotTeachingTipDismissRequested()}),[Ie,Se]),Oe=(0,e.useRef)(null),Fe=(0,e.useCallback)((e=>{Oe.current&&(Oe.current({image:null,status:"error"},e),Oe.current=null)}),[]),[De,Ne]=function(t){const[n,r]=(0,e.useState)();return pT((0,e.useCallback)((async e=>{if("SuperResolutionResult"===e.additionalData.type){const{width:n,height:o,orientation:i,errorCode:a}=e.additionalData.payload;if(n&&o&&i){const t=e.getBuffer(),n={bytes:new Uint8ClampedArray(t),format:js.A.RGBA};r(n)}else t(a||"UnknownError")}}),[t])),[n,(0,e.useCallback)((()=>{r(void 0)}),[])]}(Fe),[Ue,ze]=(0,e.useState)({width:0,height:0}),je=(0,e.useCallback)((()=>{Oe.current&&(Ie.notifyOnModelInferenceCancelled("SuperResolution"),Oe.current({image:null,status:"none"},void 0))}),[Ie]),Ve=(0,e.useCallback)((async(e,t,n)=>{const r=P.current;if(!r)return void n(e,{image:null,status:"error"},"imageEditorRef.current is null");const o=await r.getEdits(!1);if(!o)return void n(e,{image:null,status:"error"},"imageEdits is undefined");const i=o.transforms.cropRectangle,a=i.width,s=i.height,l=Math.round(a*t),u=Math.round(s*t);ze({width:l,height:u});const c=IM();c.notifyOnDebugLog(`SuperRes: super res size: ${l}x${u} super res bytes: ${l*u*4}  original area: ${a}x${s} resizeFactor: ${t}`);const d=a*s*4;c.notifyOnModelInferenceRequested("SuperResolution",d,i.top,i.left,i.width,i.height,"",0,"","main",0,t,!1),((e,t,n)=>{Oe.current=(r,o)=>{const i=null===r.image?{image:null,status:r.status}:{image:r.image,status:r.status,resizeFactor:t};n(e,i,o)}})(e,t,n)}),[]),We=(0,e.useCallback)((()=>{Oe.current=null,Ne()}),[Ne]);return(0,e.useEffect)((()=>{if(De&&Oe.current){const e=Ue.width*Ue.height*4;if(De.bytes.length===e){const e={...De,width:Ue.width,height:Ue.height,id:"resizedImage"+(0,eo.b)()},t=(0,so.c7)(e,"Resized");Oe.current({image:t,status:"loaded"},void 0)}else Ie.notifyOnError("Incorrect size",`Incorrect size of buffer for super resolution result expected: ${e} actual: ${De.bytes.length}`),Oe.current({image:null,status:"error"},`Incorrect buffer size: Expected: ${e} Actual: ${De.bytes.length}`);We(),Ie.notifyOnDebugLog(`SuperRes: Received data and cleared image. Actual bytes length: ${De.bytes.length}`)}}),[De,Ue,Ie,We]),(0,e.useEffect)((()=>{var e;document.title=null!==(e=null===G||void 0===G?void 0:G.strings.editor_title)&&void 0!==e?e:"Image Editor"}),[G]),(0,Uy.jsx)(LM,{imageMetadata:X,children:(0,Uy.jsx)(J,{theme:V,ref:null,children:(0,Uy.jsxs)(xM,{localizationStrings:null===G||void 0===G?void 0:G.strings,initialMarkupToolsConfigurations:EM,markupToolbarStyles:Pe,enableArrowhead:!0,enableStraightLineMarkup:!0,isStrokeShapeCalloutEnabled:!0,children:[(0,Uy.jsx)(gk,{loading:"true"===R}),(0,Uy.jsx)(jI,{ref:P,componentSize:F,image:I,onSave:H,onError:D,onClose:N,isCancelVisible:S,onMSALogin:Ae,onMSALogout:Re,onLinkClicked:Le,onDismissHostError:ke,onDownloadImageCreationExtension:Me,onStylizerPivotTeachingTipDismissed:Be,setStylizerPivotTeachingTipState:Se,enableAdjustments:!0,enableSharpness:!0,enableFilters:!0,enableAutoEnhance:!0,enableUndoRedo:!0,enableBackground:u,enabledRetouchModes:Te,enableStylizer:b,experimental_enableStylizerDevUi:x,layout:FI,localization:G,telemetryCallback:j,sessionFullImageSize:o,initialUiState:M,onDecideEnabledSaveTypes:q,showControlPivot:l,texturePatchAlgorithmOverrides:B,fileFormatSupportsTransparency:m,enableAIBadges:g,isOnline:Q,msaStatus:me,hostError:_e,doesImageContainFaces:ve,imageCreationExtensionState:be,stylizerPivotTeachingTipState:we,enableResize:k,enableAIRelight:T,enableAIRelightDevUI:E,onRequestResizedImage:Ve,onCancelResizeOperation:je})]})})})};function DB(e){let t;if(e){t=JSON.parse(e),t.isHighContrast&&(t.isDarkMode=function(e){const t=(0,tx.eM)(e,ax);return(0,tx.eM)(sx,e)>t}(ox(t.UIColors.EditorBackground)))}else{if(!IB)throw new Error("Error: no themeJson param in url");t={isDarkMode:!1,isHighContrast:!1,UIColors:{Accent:[96,205,255],EditorBackground:[243,243,243]}}}return t}function NB(e){if(e){return JSON.parse(e)}}const UB=e=>{let{children:t,hvcEvents:n}=e;return(0,Uy.jsx)(cT.Provider,{value:{hvcEvents:n},children:t})};AM("application start: root render, url params: "+window.location.search),document.addEventListener("contextmenu",(e=>{const t=e.target;t&&(t.matches("textarea")||t.matches("input"))?e.stopPropagation():e.preventDefault()}));const zB=function(e){const t=e.get("themeJson"),n=e.get("fullImageSize"),r=e.get("initialPivot")||un.x8,o="false"!==e.get("enableSave"),i="true"===e.get("rtl"),a="true"===e.get("showControlPivot"),s="true"===e.get("enableBackgroundBlur"),l="true"===e.get("enableSpotFix"),u="true"===e.get("enableMagicErase"),c="true"===e.get("fileFormatSupportsTransparency"),d="true"===e.get("enableAIBadges"),p="true"===e.get("isOnline"),f=e.get("msaStatus"),h="true"===e.get("enableStylizer"),m="true"===e.get("enableStylizerDebugUI"),g=e.get("imageCreationExtensionState"),v="true"===e.get("stylizerPivotTeachingTipDismissed"),y="true"===e.get("useSpotFixWhenGenerativeEraseAreaIsSmall"),b=parseInt(e.get("generativeEraseAreaIsSmallMaxPixels")||"0"),x="true"===e.get("useSpotFixOnClickInGenerativeErase"),_=e.get("initialNativeBackgroundType")||void 0,C=_?function(e){switch(e){case"None":return;case"Blur":return"BlurredBackground";case"Remove":return"TransparentBackground";case"Replace":return"ColorRGBABackground"}}(_):void 0,w="true"===e.get("isCancelVisible"),S="true"===e.get("enableResize"),k="true"===e.get("enableRelight"),T="true"===e.get("enableAIRelightDevUI");return{windowsTheme:DB(t),fullImageSize:NB(n),initialPivot:r,enableSave:o,rtl:i,showControlPivot:!!IB||a,enableBackground:s,enableSpotFix:l,enableMagicErase:u,useSpotFixWhenGenerativeEraseAreaIsSmall:y,generativeEraseAreaIsSmallMaxPixels:b,useSpotFixOnClickInGenerativeErase:x,fileFormatSupportsTransparency:c,enableAIBadges:d,isOnline:p,msaStatus:f,enableStylizer:h,enableStylizerDebugUI:m,imageCreationExtensionState:null!==g&&void 0!==g?g:"Unavailable",stylizerPivotTeachingTipState:v?"alreadyShown":"showing",initialBackgroundTypeToApply:C,isCancelVisible:w,enableResize:S,enableRelight:k,enableAIRelightDevUI:T}}(new URLSearchParams(window.location.search));t.render((0,Uy.jsx)(e.StrictMode,{children:(0,Uy.jsx)(UB,{hvcEvents:IM(),children:(0,Uy.jsx)(FB,{...zB})})}),document.getElementById("root"))})()})();                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              body,html{background:#0000}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;margin:0;-webkit-user-select:none;user-select:none}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}.App{text-align:center}.App-logo{height:40vmin;pointer-events:none}@media (prefers-reduced-motion:no-preference){.App-logo{animation:App-logo-spin 20s linear infinite}}.App-header{align-items:center;background-color:#282c34;color:#fff;display:flex;flex-direction:column;font-size:calc(10px + 2vmin);justify-content:center;min-height:100vh}.App-link{color:#61dafb}@keyframes App-logo-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}::-webkit-scrollbar{width:12px}::-webkit-scrollbar-button:single-button{display:block;height:12px;width:12px}::-webkit-scrollbar-button:vertical:end,::-webkit-scrollbar-button:vertical:start{background-position:50%;background-repeat:no-repeat;background-size:10px;border-color:#0000}::-webkit-scrollbar-button:vertical:start{border-radius:6px 6px 0 0}::-webkit-scrollbar-button:vertical:end{border-radius:0 0 6px 6px}::-webkit-scrollbar-thumb{background-clip:padding-box;border-radius:6px}.dark ::-webkit-scrollbar-track{background-color:#2d2d2d}.dark ::-webkit-scrollbar-thumb{background-color:#cdcdcd;border:3px solid #2d2d2d}.dark ::-webkit-scrollbar-button{background-color:#2d2d2d}.dark ::-webkit-scrollbar-button:vertical:start{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2048 2048' fill='%23CDCDCD'%3E%3Cpath d='M285 1536q-33 0-61-13t-50-35-34-51-12-62q0-60 39-105l692-809q32-37 74-57t91-20q99 0 165 77l692 809q39 45 39 105 0 33-12 62t-33 51-50 35-62 13H285z'/%3E%3C/svg%3E")}.dark ::-webkit-scrollbar-button:vertical:end{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2048 2048' fill='%23CDCDCD'%3E%3Cpath d='M128 673q0-33 12-62t33-51 50-35 62-13h1478q33 0 61 13t50 35 34 51 12 62q0 60-39 105l-692 809q-32 37-74 57t-91 20q-49 0-91-20t-74-57L167 778q-39-45-39-105z'/%3E%3C/svg%3E")}.light ::-webkit-scrollbar-track{background-color:#f9f9f9}.light ::-webkit-scrollbar-thumb{background-color:#8a8a8a;border:3px solid #f9f9f9}.light ::-webkit-scrollbar-button{background-color:#f9f9f9}.light ::-webkit-scrollbar-button:vertical:start{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2048 2048' fill='%238A8A8A'%3E%3Cpath d='M285 1536q-33 0-61-13t-50-35-34-51-12-62q0-60 39-105l692-809q32-37 74-57t91-20q99 0 165 77l692 809q39 45 39 105 0 33-12 62t-33 51-50 35-62 13H285z'/%3E%3C/svg%3E")}.light ::-webkit-scrollbar-button:vertical:end{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2048 2048' fill='%238A8A8A'%3E%3Cpath d='M128 673q0-33 12-62t33-51 50-35 62-13h1478q33 0 61 13t50 35 34 51 12 62q0 60-39 105l-692 809q-32 37-74 57t-91 20q-49 0-91-20t-74-57L167 778q-39-45-39-105z'/%3E%3C/svg%3E")}.toolBrushChevron{font-size:8px!important}.toolBrushInking{transform:rotate(180deg)}.ms-Icon{font-size:16px}.ms-Callout-main{background-color:initial}.ms-Callout-main::-webkit-scrollbar{display:none!important;width:0!important}.ms-Callout{margin-top:6px}.ms-ContextualMenu-icon{width:0}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  DZ k   	             H   new Gover/footer.htmlUT m.hththux     PK   Zj6
  '             H  new Gover/buyerdash.htmlUT r[hhththux     PK   ZI.              C  new Gover/decor.htmlUT Pqhththux     PK   ZD  ,             R@  new Gover/freeplan.htmlUT &phththux     PK   ZBK8  n             M  new Gover/freeversion.htmlUT Tqhththux     PK     .Z                       A  new Gover/img/UT u+hththux     PK   Z)	v X(              new Gover/img/house.jpegUT q+hththux     PK   .ZG               C new Gover/img/client.jpgUT u+hththux     PK   NZ  [             G new Gover/index.htmlUT hehththux     PK     yZ                       AX new Gover/Js/UT b%3hththux     PK   ZreSu                new Gover/Js/phonescript.jsUT I,hththux     PK   nLZAQ  Z              new Gover/Js/Team.jsUT .hththux     PK   PZ9@   `             g	 new Gover/Js/singleblog.jsUT b.hththux     PK   RlZP~3               |
 new Gover/Js/patner.jsUT /hththux     PK   pZXI                new Gover/Js/review.jsUT /!/hththux     PK   iZ=f                  new Gover/Js/button.jsUT q,hththux     PK   ~Z5kI  
              new Gover/Js/popularcard.jsUT 	-hththux     PK   cZp  M             < new Gover/Js/backup.jsUT {+hththux     PK   Z_1                new Gover/Js/slider.jsUT vx+hththux     PK   bxZD  CN  "            new Gover/Js/seller_addproperty.jsUT #3hththux     PK   {Z.+  |             2 new Gover/Js/registration.jsUT 9)3hththux     PK   yZI#               9 new Gover/Js/seller.jsUT h%3hththux     PK   zZv7   G             ] new Gover/Js/dark.jsUT C&3hththux     PK   Zs  4             ^ new Gover/Js/script.jsUT ,hththux     PK   }Zd^&  ;             d new Gover/landforrent.htmlUT ?'lhththux     PK   	Zd^&  ;              new Gover/landforsale.htmlUT b&lhththux     PK   mZ6                new Gover/mutipleblog.htmlUT -hththux     PK   -yZF8               Z new Gover/Plana.htmlUT shththux     PK   ZS;                new Gover/planb.htmlUT lhththux     PK   nZoF?  <            :- new Gover/planc.htmlUT (lhththux     PK   ZS''               l new Gover/propertyforrent.htmlUT 0lhththux     PK   Z[-  *            ! new Gover/propertyforsale.htmlUT Rqhththux     PK   Z  j.             w new Gover/sellernew.htmlUT (%phththux     PK   Z	3(  s              new Gover/shortlet.htmlUT ):lhththux     PK   XQZ@=  R,              new Gover/singleblog.htmlUT .hththux     PK     GwZ                       A new Gover/styles/UT !3hththux     PK   )Z@               m new Gover/styles/nav.cssUT kehththux     PK   sSZrC                new Gover/styles/about.cssUT 
.hththux     PK   JJZ               - new Gover/styles/blog.cssUT .hththux     PK   KZiq                new Gover/styles/team.cssUT .hththux     PK   MZz  v	             [ new Gover/styles/footer.cssUT 3.hththux     PK   NZf    #           r new Gover/styles/multiplesingle.cssUT .hththux     PK   9QZtk7                new Gover/styles/single.cssUT .hththux     PK   ;zZ@>M5  I  $           L$ new Gover/styles/estatecategory.htmlUT &3hththux     PK   rZ9G               Z new Gover/styles/patner.cssUT $/hththux     PK   bZIm~'   ,              A^ new Gover/styles/later.htmlUT %f,hththux     PK   iZ                ^ new Gover/styles/button.cssUT q,hththux     PK   bZ7,S               G` new Gover/styles/user.htmlUT -f,hththux     PK   ,gZY7  S             f new Gover/styles/oddnav.cssUT $n,hththux     PK   iZy   	             l new Gover/styles/whatsapp.cssUT r,hththux     PK   -HZ{<  N              m new Gover/styles/popularcard.cssUT .hththux     PK   yqZ!J               ~t new Gover/styles/review.cssUT "/hththux     PK   6ZEN   %             y new Gover/styles/code.cssUT )+hththux     PK   ZZk  A             z new Gover/styles/slider.cssUT *y+hththux     PK   %|Zob8    !           } new Gover/styles/registration.cssUT &*3hththux     PK   YwZjIa  =              new Gover/styles/seller.cssUT "3hththux     PK   Zz:
  !'              new Gover/styles/style.cssUT hehththux     PK   5Zx$  B4             new Gover/viewproperty.htmlUT 7Ahhththux     PK   RZ"  L0             j new Gover/mutiplesingle.htmlUT .hththux     PK   7Z[Ff()  w              new Gover/building.htmlUT KUqhththux     PK   Zc  3!  7            new Gover/<div id="accountinfo" class="category-it.htmlUT Vqhththux     PK    > >      